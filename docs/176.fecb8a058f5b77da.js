"use strict";(self.webpackChunkangular_tyqoon_client=self.webpackChunkangular_tyqoon_client||[]).push([[176],{85898:(G,S,c)=>{c.d(S,{b:()=>at});var s=c(15861),b=c(77579),d=c(82722),m=c(59468),p=c(49808),f=c(24837),C=c(95133),N=c(54463),t=c(36895),L=c(44466),h=c(59809),M=c(5565),Q=c(18110),_=c(94650),B=c(35482),x=c(94830),Z=c(56889),A=c(23284),k=c(90147);function $(u,T){if(1&u&&_._UZ(0,"app-product-card",5),2&u){const g=T.$implicit,v=_.oxw().ngLet,F=_.oxw().ngLet;_.Q6J("product",g)("isBiddingMode",!!v)("isLogin",!!F)}}function gt(u,T){1&u&&_._UZ(0,"app-product-card-skeleton",7)}const _t=function(){return[]};function ut(u,T){if(1&u&&(_.ynx(0),_.YNc(1,gt,1,0,"app-product-card-skeleton",6),_.BQk()),2&u){const g=_.oxw(3);_.xp6(1),_.Q6J("ngForOf",_.DdM(2,_t).constructor(g.pageSize).fill(1))("ngForTrackBy",g.trackByFn2)}}function mt(u,T){if(1&u&&(_.TgZ(0,"div",2),_.YNc(1,$,1,3,"app-product-card",3),_.YNc(2,ut,2,3,"ng-container",4),_.qZA()),2&u){const g=_.oxw(2);_.xp6(1),_.Q6J("ngForOf",g.products)("ngForTrackBy",g.trackByFn),_.xp6(1),_.Q6J("ngIf",g.isLoading)}}function ft(u,T){if(1&u&&(_.TgZ(0,"div"),_.YNc(1,mt,3,3,"div",1),_.ALo(2,"async"),_.qZA()),2&u){const g=_.oxw();_.xp6(1),_.Q6J("ngLet",_.lcZ(2,1,g.biddingService.isBiddingMode$))}}let at=(()=>{class u extends M.V{constructor(g,v,F,W){super(),this.productService=g,this.userService=v,this.biddingService=F,this.cdr=W,this.pageSize=20,this.offsetScroll=2e3,this.additionalParams={},this.isSSR=!1,this.biddingProductsSortOrder=0,this.throttleScroll=new b.x,this.page=-1,this.isLoading=!1,this.total=0,this.products=[],this.isBiddingMode=!1}ngOnInit(){console.log(8787878,this.biddingProductsSortOrder),!this.isSSR&&f.Z.isServer?this.isLoading=!0:this.biddingService.isBiddingMode$.pipe((0,d.R)(this.destroyStream$)).subscribe(g=>{this.isBiddingMode=g,this.refreshProducts()})}ngAfterViewInit(){var g=this;return(0,s.Z)(function*(){f.Z.isServer||g.scrollContainer&&(g.scrollElement=yield g.scrollContainer.getScrollElement(),g.scrollContainer.ionScroll.pipe((0,d.R)(g.destroyStream$)).subscribe(v=>{g.scrollElement.scrollHeight-v.detail.scrollTop<g.offsetScroll&&g.throttleScroll.next(1)}),g.throttleScroll.pipe((0,m.p)(300),(0,d.R)(g.destroyStream$)).subscribe(()=>{g.fetchData()}))})()}ngOnChanges(g){}refreshProducts(){this.page=-1,this.total=0,this.products=[],this.fetchData()}fetchData(){var g=this;return(0,s.Z)(function*(){if(!g.isLoading&&(-1===g.page||g.products.length<g.total)){g.isLoading=!0,g.page++,g.cdr.markForCheck();const v=g.isBiddingMode?yield(0,p.n)(g.biddingService.getProductsWithPoolInfo({page:g.page,rows:g.pageSize,sortType:g.biddingProductsSortOrder,isRecommended:!0,...g.additionalParams})):yield(0,p.n)(g.productService.getProductsByMetaParamsV2({page:g.page,rows:g.pageSize,traceId:g.userService.traceId,isRecommended:!0,...g.additionalParams}));console.log(v),v.rows=(0,Q.DI)(v.rows||[]),g.products=[...g.products,...v.rows||[]],g.total=v.total,g.isLoading=!1,g.cdr.markForCheck()}})()}clear(){this.page=-1,this.isLoading=!1,this.total=0,this.products=[]}trackByFn(g,v){return v.id}trackByFn2(g){return g}}return u.\u0275fac=function(g){return new(g||u)(_.Y36(B.s),_.Y36(x.K),_.Y36(Z.g),_.Y36(_.sBO))},u.\u0275cmp=_.Xpm({type:u,selectors:[["app-products-infinite-scroll"]],inputs:{pageSize:"pageSize",scrollContainer:"scrollContainer",offsetScroll:"offsetScroll",additionalParams:"additionalParams",isSSR:"isSSR",biddingProductsSortOrder:"biddingProductsSortOrder"},standalone:!0,features:[_.qOj,_.TTD,_.jDz],decls:2,vars:3,consts:[[4,"ngLet"],["class","grid grid-cols-2 xs:grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-x-2 gap-y-6",4,"ngLet"],[1,"grid","grid-cols-2","xs:grid-cols-3","sm:grid-cols-4","md:grid-cols-5","lg:grid-cols-6","gap-x-2","gap-y-6"],["class","block",3,"product","isBiddingMode","isLogin",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"block",3,"product","isBiddingMode","isLogin"],["class","block",4,"ngFor","ngForOf","ngForTrackBy"],[1,"block"]],template:function(g,v){1&g&&(_.YNc(0,ft,3,3,"div",0),_.ALo(1,"async")),2&g&&_.Q6J("ngLet",_.lcZ(1,1,v.userService.userInfo$))},dependencies:[N.aw,t.ez,t.sg,t.O5,t.Ov,C.Pc,L.m,A.Y,k.h,h.I],changeDetection:0}),u})()},20176:(G,S,c)=>{c.r(S),c.d(S,{ProductDetailModule:()=>Ea});var s=c(36895),b=c(7507),d=c(95133),m=c(54463),p=c(44466),f=c(15861),C=c(68879),N=c(94464),t=c(94650),L=c(63225),h=c(99485);function M(n,r){if(1&n&&t._UZ(0,"img",9),2&n){const e=t.oxw().$implicit;t.Q6J("src",e,t.LSH)}}function Q(n,r){1&n&&t.YNc(0,M,1,1,"ng-template",8)}function _(n,r){if(1&n&&(t.TgZ(0,"button",1),t._uU(1," \u2715 "),t.qZA(),t.TgZ(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"swiper",4,5),t.YNc(6,Q,1,0,null,6),t.qZA(),t._UZ(7,"div",7),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("config",e.slideOpts),t.xp6(2),t.Q6J("ngForOf",e.images)}}C.ZP.use([C.W_,C.pt,C.N1,C.tl,C.LW,C.LG,N.L$]);let B=(()=>{class n{constructor(e){this.platformId=e,this.images=[],this.initialSlide=0,this.isOpenChange=new t.vpe,this.navigation={prevEl:".lightbox-prev-btn",nextEl:".lightbox-next-btn"},this.slideOpts={slidesPerView:"auto",speed:400,navigation:this.navigation},this.activeIndex=0}ngOnInit(){this.slideOpts.initialSlide=this.initialSlide}onClick(e){const o=document.querySelectorAll(".lightbox-next-btn, .lightbox-prev-btn, .lightbox-image");for(let i=0;i<o.length;i++)if(!o[i]||o[i].contains(e.target))return;this.modal.dismiss()}handleKeyboardEvent(e){if(this.isOpen)switch(e.key){case"ArrowLeft":this.swiper?.swiperRef.slidePrev();break;case"ArrowRight":this.swiper?.swiperRef.slideNext()}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Lbi))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-images-lightbox"]],viewQuery:function(e,o){if(1&e&&(t.Gf(d.ki,5),t.Gf(h.nF,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.modal=i.first),t.iGM(i=t.CRH())&&(o.swiper=i.first)}},hostBindings:function(e,o){1&e&&t.NdJ("click",function(a){return o.onClick(a)},!1,t.evT)("keydown",function(a){return o.handleKeyboardEvent(a)},!1,t.evT)},inputs:{productDetail:"productDetail",images:"images",initialSlide:"initialSlide",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},decls:2,vars:1,consts:[[3,"isOpen","didDismiss"],[1,"absolute","top-0","right-0","text-5xl","z-10","mt-2","mr-2","text-primary"],[1,"light-box-modal","flex","items-center"],[1,"swiper-button-prev","lightbox-prev-btn","mr-2","flex-shrink-0"],[1,"big-swiper","flex-1","overflow-hidden",3,"config"],["swiper",""],[4,"ngFor","ngForOf"],[1,"swiper-button-next","lightbox-next-btn","ml-2","flex-shrink-0"],["swiperSlide",""],[1,"lightbox-image",3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-modal",0),t.NdJ("didDismiss",function(){return o.isOpenChange.emit(!1)}),t.YNc(1,_,8,2,"ng-template"),t.qZA()),2&e&&t.Q6J("isOpen",o.isOpen)},dependencies:[s.sg,d.ki,h.nF,h.YC],styles:["ion-modal[_ngcontent-%COMP%]{--backdrop-opacity: .8;--height: 100%}.light-box-modal[_ngcontent-%COMP%]{height:100%}swiper[_ngcontent-%COMP%]{height:100%;width:100vw}swiper[_ngcontent-%COMP%]     .swiper-wrapper{align-items:center}swiper[_ngcontent-%COMP%]     .swiper-slide{height:600px;max-height:90vh}.swiper-button-next.lightbox-next-btn[_ngcontent-%COMP%], .swiper-button-prev.lightbox-prev-btn[_ngcontent-%COMP%]{pointer-events:auto;--swiper-navigation-color: #ff7e18;background-image:none!important;width:calc(var(--swiper-navigation-size) / 44 * 27);height:var(--swiper-navigation-size);margin-top:0!important;transform:translateY(-50%)}@media (min-width: 1024px){.swiper-button-next.lightbox-next-btn[_ngcontent-%COMP%], .swiper-button-prev.lightbox-prev-btn[_ngcontent-%COMP%]{--swiper-navigation-size: 70px}}.swiper-button-next.lightbox-next-btn.swiper-button-disabled[_ngcontent-%COMP%], .swiper-button-prev.lightbox-prev-btn.swiper-button-disabled[_ngcontent-%COMP%]{opacity:0}.swiper-button-prev.lightbox-prev-btn[_ngcontent-%COMP%]{padding:80px 80px 80px 20px;left:0}@media (min-width: 768px){.swiper-button-prev.lightbox-prev-btn[_ngcontent-%COMP%]{padding-left:80px}}@media (min-width: 1280px){.swiper-button-prev.lightbox-prev-btn[_ngcontent-%COMP%]{transform:translate(100%,-50%)}}@media (min-width: 1440px){.swiper-button-prev.lightbox-prev-btn[_ngcontent-%COMP%]{transform:translate(15vw,-50%)}}.swiper-button-next.lightbox-next-btn[_ngcontent-%COMP%]{padding:80px 20px 80px 80px;right:0}@media (min-width: 768px){.swiper-button-next.lightbox-next-btn[_ngcontent-%COMP%]{padding-right:80px}}@media (min-width: 1280px){.swiper-button-next.lightbox-next-btn[_ngcontent-%COMP%]{transform:translate(-100%,-50%)}}@media (min-width: 1440px){.swiper-button-next.lightbox-next-btn[_ngcontent-%COMP%]{transform:translate(calc(0px - 15vw),-50%)}}"]}),n})();const x=["largeSwiper"],Z=["smallSwiper"];function A(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",12),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,a=t.oxw();return t.KtG(a.handleImageClick(i))}),t.TgZ(1,"div",13),t._UZ(2,"img",14),t.qZA()()}if(2&n){const e=t.oxw(),o=e.$implicit,i=e.index,a=t.oxw();t.xp6(2),t.Q6J("src",o.source,t.LSH)("alt",a.productDetail.name+" "+i)}}function k(n,r){1&n&&t.YNc(0,A,3,2,"ng-template",11)}const $=function(n){return{active:n}};function gt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",15),t.NdJ("mouseenter",function(){t.CHM(e);const i=t.oxw().index,a=t.oxw();return t.KtG(a.handleSelect(i))})("click",function(){t.CHM(e);const i=t.oxw().index,a=t.oxw();return t.KtG(a.handleImageClick(i))}),t._UZ(1,"img",16),t.qZA()}if(2&n){const e=t.oxw(),o=e.index,i=e.$implicit,a=t.oxw();t.Q6J("ngClass",t.VKq(3,$,a.activeIndex===o)),t.xp6(1),t.Q6J("src",i.source,t.LSH)("alt",a.productDetail.name+" "+o)}}function _t(n,r){1&n&&t.YNc(0,gt,2,5,"ng-template",11)}function ut(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-images-lightbox",18),t.NdJ("isOpenChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openLightbox=i)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("isOpen",e.openLightbox)("images",e.images)("initialSlide",e.lighboxSlideNumber)}}function mt(n,r){if(1&n&&(t.ynx(0),t.YNc(1,ut,1,3,"app-product-images-lightbox",17),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.openLightbox)}}const ft=function(n){return{"glowing-active":n}};C.ZP.use([C.W_,C.pt,C.N1,C.tl,C.LW,C.LG,N.L$]);let at=(()=>{class n{constructor(){this.lighboxSlideNumber=0,this.openLightbox=!1,this.navigation={prevEl:".custom-prev-btn",nextEl:".custom-next-btn"},this.slideOpts={slidesPerView:"auto",speed:400},this.smallSwiperOpts={slidesPerView:"auto",speed:400,spaceBetween:10,navigation:this.navigation,autoplay:{delay:2e3,disableOnInteraction:!1,pauseOnMouseEnter:!0}},this.activeIndex=0}handleSelect(e){this.largeSwiper?.swiperRef.slideTo(e),this.smallSpwiper?.swiperRef.slideTo(e),this.activeIndex=e}handleSlideChange(e){var o=this;return(0,f.Z)(function*(){o.activeIndex=e[0].activeIndex||0,o.smallSpwiper?.swiperRef.slideTo(o.activeIndex)})()}handleImageClick(e){var o=this;return(0,f.Z)(function*(){o.lighboxSlideNumber=e,o.openLightbox=!0})()}get images(){return this.productDetail.productImages.map(e=>e.source)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-detail-images"]],viewQuery:function(e,o){if(1&e&&(t.Gf(x,5),t.Gf(Z,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.largeSwiper=i.first),t.iGM(i=t.CRH())&&(o.smallSpwiper=i.first)}},inputs:{productDetail:"productDetail",glowing:"glowing"},decls:13,vars:7,consts:[[1,"glowing-container",3,"ngClass"],[1,"glowing-content","large-swiper","border","border-[#dddddd]","rounded-2xl","overflow-hidden",3,"config","activeIndexChange"],["largeSwiper",""],[4,"ngFor","ngForOf"],[1,"flex","justify-center"],[1,"flex","items-center","mt-3","max-w-7/12","max-w-full"],[1,"swiper-button-prev","custom-prev-btn","mr-2","flex-shrink-0"],[1,"small-swiper","flex-1","overflow-hidden",3,"config"],["smallSwiper",""],[1,"swiper-button-next","custom-next-btn","ml-2","flex-shrink-0"],[4,"isBrowser"],["swiperSlide",""],[1,"image-wrapper","relative","cursor-pointer",3,"click"],[1,"absolute","inset-0"],[1,"object-cover","object-center","!w-full","!h-full",3,"src","alt"],[1,"preview-wrapper","overflow-hidden","cursor-pointer",3,"ngClass","mouseenter","click"],[1,"object-contain","object-center","!w-full","!h-full",3,"src","alt"],[3,"isOpen","images","initialSlide","isOpenChange",4,"ngIf"],[3,"isOpen","images","initialSlide","isOpenChange"]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"swiper",1,2),t.NdJ("activeIndexChange",function(a){return o.handleSlideChange(a)}),t.YNc(4,k,1,0,null,3),t.qZA()(),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"div",6),t.TgZ(8,"swiper",7,8),t.YNc(10,_t,1,0,null,3),t.qZA(),t._UZ(11,"div",9),t.qZA()()(),t.YNc(12,mt,2,1,"ng-container",10)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(5,ft,o.glowing)),t.xp6(1),t.Q6J("config",o.slideOpts),t.xp6(2),t.Q6J("ngForOf",o.productDetail.productImages),t.xp6(4),t.Q6J("config",o.smallSwiperOpts),t.xp6(2),t.Q6J("ngForOf",o.productDetail.productImages))},dependencies:[s.mk,s.sg,s.O5,L.E,h.nF,h.YC,B],styles:['.large-swiper[_ngcontent-%COMP%]     .swiper-slide{width:100%!important;height:auto}.large-swiper[_ngcontent-%COMP%]     .swiper-wrapper{align-items:center}.large-swiper[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{width:100%;padding-top:100%}.small-swiper[_ngcontent-%COMP%]{height:40px}.small-swiper[_ngcontent-%COMP%]     .swiper-slide{width:auto!important}.preview-wrapper[_ngcontent-%COMP%]{width:40px;height:40px}.preview-wrapper.active[_ngcontent-%COMP%]{border-radius:.375rem;border-width:2px;--tw-border-opacity: 1;border-color:rgb(255 126 24 / var(--tw-border-opacity))}.custom-next-btn[_ngcontent-%COMP%], .custom-prev-btn[_ngcontent-%COMP%]{position:static;--swiper-navigation-color: #999;--swiper-pagination-color: #999;--swiper-navigation-size: 24px;margin-top:0;background-image:none!important;width:calc(var(--swiper-navigation-size) / 44 * 27);height:var(--swiper-navigation-size)}.glowing-container[_ngcontent-%COMP%]{position:relative;border-radius:1rem}.glowing-container.glowing-active[_ngcontent-%COMP%]{padding:2px;box-shadow:0 0 8px 3px #ffd80099;margin:2px}@media (min-width: 768px){.glowing-container.glowing-active[_ngcontent-%COMP%]{margin:3px}}.glowing-container.glowing-active[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;z-index:1;border-radius:inherit;border-radius:1rem;background:linear-gradient(to top,#f68104,#ffd800)}'],changeDetection:0}),n})();var u=c(82722),T=c(49808),g=c(24499),v=c(24837),F=(()=>{return(n=F||(F={}))[n.ShopScoreTypeByAll=0]="ShopScoreTypeByAll",n[n.ShopScoreTypeByNice=1]="ShopScoreTypeByNice",n[n.ShopScoreTypeByAverage=2]="ShopScoreTypeByAverage",n[n.ShopScoreTypeByBad=3]="ShopScoreTypeByBad",F;var n})(),W=c(85898),se=c(6104),ct=c(35482),Ot=c(80164),J=c(56889),E=c(94830),yt=c(10118);const le=["popover"],de=["mobileSticky"],pe=["stickyReview"];function ge(n,r){1&n&&t._UZ(0,"img",54)}function _e(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",56),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t._UZ(1,"app-heart-animated",57),t.qZA()}if(2&n){const e=r.isDisabled,o=t.oxw(5);t.Q6J("disabled",e),t.xp6(1),t.Q6J("active",o.isFavorite)}}function ue(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-favorite",55),t.NdJ("isBelongChange",function(i){t.CHM(e);const a=t.oxw(4);return t.KtG(a.handleFavoriteChange(i))}),t.YNc(1,_e,2,2,"ng-template"),t.qZA()}if(2&n){const e=t.oxw(4);t.Q6J("product",e.productDetail)("skuId",null==e.selectedSku?null:e.selectedSku.id)}}function me(n,r){if(1&n&&(t.TgZ(0,"div",48,49)(2,"div",9),t._UZ(3,"app-product-detail-images",50),t.YNc(4,ge,1,0,"img",51),t.qZA(),t.TgZ(5,"div",52),t.YNc(6,ue,2,2,"app-product-favorite",53),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(3),t.Q6J("glowing",e.productDetail.isSpecialSale)("productDetail",e.productDetail),t.xp6(1),t.Q6J("ngIf",e.productDetail.isSpecialSale),t.xp6(2),t.Q6J("ngIf",e.productDetail)}}function fe(n,r){if(1&n&&(t.TgZ(0,"span",101),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij("",null==e.selectedSku?null:e.selectedSku.exchangePoint," \u79ef\u5206 + ")}}function he(n,r){if(1&n&&(t.TgZ(0,"span",101),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij("",null==e.selectedSku?null:e.selectedSku.exchangePoint," \u79ef\u5206 + ")}}function xe(n,r){1&n&&t._UZ(0,"ion-spinner",105)}function be(n,r){if(1&n&&(t.TgZ(0,"span",113),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"currency"),t.qZA()),2&n){const e=t.oxw(6);t.xp6(1),t.hij(" ",e.areaCanBuy?"\u542b\u8fd0\u8d39\uff08 "+t.lcZ(3,3,e.shippingFee)+"\uff09":t.lcZ(2,1,"product-page-not-available-buy"),"")}}function ve(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",114),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(6);return t.KtG(i.isOpenChangeAddressModal=!0)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"product-page-switch-address")," "))}function Pe(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",115),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(6);return t.KtG(i.isOpenEditAddressModal=!0)}),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()}2&n&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"checkout-shipping-add-btn"),"",t.lcZ(3,4,"order-details-address")," "))}const we=function(n){return{"text-red-500":n}};function Ce(n,r){if(1&n&&(t.TgZ(0,"div",106)(1,"div",107),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",108)(5,"div",109),t._uU(6),t.qZA()(),t.YNc(7,be,4,5,"span",110),t.qZA(),t.YNc(8,ve,3,3,"div",111),t.YNc(9,Pe,4,6,"ng-template",null,112,t.W1O)),2&n){const e=t.MAs(10);t.oxw();const o=t.MAs(3),i=t.oxw(4);t.xp6(1),t.Q6J("ngClass",t.VKq(8,we,!o)),t.xp6(1),t.hij(" ",t.lcZ(3,6,"product-page-delivery-to"),": "),t.xp6(4),t.Oqu(null==i.selectedReceiver?null:i.selectedReceiver.areaName),t.xp6(1),t.Q6J("ngIf",i.selectedReceiver),t.xp6(1),t.Q6J("ngIf",i.selectedReceiver)("ngIfElse",e)}}function Te(n,r){if(1&n&&(t.TgZ(0,"div",102),t.YNc(1,xe,1,0,"ion-spinner",103),t.YNc(2,Ce,11,10,"ng-template",null,104,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.oxw(4);t.xp6(1),t.Q6J("ngIf",!o.areaCanBuy)("ngIfElse",e)}}function Oe(n,r){if(1&n&&(t.TgZ(0,"div",116),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"product-place-of-origin"),"\uff1a",e.productDetail.productArea," ")}}const ye=function(n){return{"!border-primary text-primary":n}};function Me(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",121),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw().$implicit,P=t.oxw(4);return t.KtG(P.specificationChange(a.id,l.name))}),t._uU(1),t.qZA()}if(2&n){const e=r.$implicit,o=t.oxw().$implicit,i=t.oxw(4);t.Q6J("ngClass",t.VKq(2,ye,i.specificationMap["specification-"+o.name]==e.id)),t.xp6(1),t.hij(" ",e.value," ")}}const Mt=function(n){return{"w-full":n}};function Ze(n,r){if(1&n&&(t.TgZ(0,"div",117)(1,"div",118),t._uU(2),t.qZA(),t.TgZ(3,"div",119)(4,"div",72),t.YNc(5,Me,2,4,"div",120),t.qZA()()()),2&n){const e=r.$implicit;t.Q6J("ngClass",t.VKq(3,Mt,r.index>0)),t.xp6(2),t.hij(" ",e.name,": "),t.xp6(3),t.Q6J("ngForOf",e.entries)}}function Ae(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",122),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t._UZ(1,"app-cart-icon",123),t.TgZ(2,"span",124),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"translate"),t.qZA()()}if(2&n){const e=r.isOnCart,o=r.isLoading,i=t.oxw(4);t.Q6J("targetSelector","#product-toolbar .badge-cart-mobile")("flyProduct",i.productDetail)("disabled",o||!i.canBuy),t.xp6(3),t.Oqu(i.canBuy?t.lcZ(5,6,e?"shop-product-page-in-the-cart":"shop-product-page-add"):t.lcZ(4,4,i.areaCanBuy?"shop-product-page-sku-stock-out":"product-page-not-available-buy"))}}function ke(n,r){}function Ie(n,r){}const Se=function(n){return{"product-info-disabled":n}};function Le(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",58)(1,"div",59)(2,"div",60)(3,"h1",61),t._uU(4),t.TgZ(5,"app-copy-icon",62),t.NdJ("copied",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.copied())}),t.qZA()(),t.TgZ(6,"div",63)(7,"app-order-rating",64),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.scrollToScoreSection())}),t.qZA(),t.TgZ(8,"div",65),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.scrollToScoreSection())}),t._uU(9),t.qZA(),t.TgZ(10,"div",66),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.scrollToScoreSection())}),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"div",67)(14,"div",68),t.GkF(15,11),t.TgZ(16,"div",69),t._uU(17),t.ALo(18,"currency"),t.qZA()()()(),t.TgZ(19,"div",70),t.GkF(20,11),t.qZA(),t._UZ(21,"div",71),t.TgZ(22,"div",72)(23,"div",73)(24,"div",74),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"div",75),t._uU(28),t.ALo(29,"currency"),t.qZA(),t.TgZ(30,"div",76),t._uU(31),t.ALo(32,"translate"),t.TgZ(33,"div",77),t._uU(34," ? "),t.qZA()(),t.TgZ(35,"div",78),t.YNc(36,fe,2,1,"span",79),t.TgZ(37,"div",80)(38,"strong",81),t._uU(39),t.ALo(40,"currency"),t.qZA(),t._UZ(41,"img",82),t.qZA()(),t.TgZ(42,"div",83),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"div",74),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"div",84),t.YNc(49,he,2,1,"span",79),t.TgZ(50,"div",80)(51,"strong",85),t._uU(52),t.ALo(53,"currency"),t.qZA()()()()(),t._UZ(54,"div",86),t.YNc(55,Te,4,2,"div",87),t.YNc(56,Oe,3,4,"div",88),t.TgZ(57,"div",89)(58,"div",90),t.GkF(59,11),t.qZA(),t.YNc(60,Ze,6,5,"div",91),t.qZA(),t.TgZ(61,"div",92)(62,"app-add-to-cart",93),t.YNc(63,Ae,6,8,"ng-template"),t.qZA()(),t.TgZ(64,"div",94),t.YNc(65,ke,0,0,"ng-template",11),t.qZA(),t.TgZ(66,"div",95)(67,"div",96),t._uU(68),t.ALo(69,"translate"),t.qZA(),t.TgZ(70,"div",97)(71,"ion-input",98),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.quantity=i)})("ionBlur",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.setQuantity(i))}),t.qZA()(),t._UZ(72,"div",99),t.TgZ(73,"div",100),t.YNc(74,Ie,0,0,"ng-template",11),t.qZA()()()}if(2&n){t.oxw(2);const e=t.MAs(53),o=t.MAs(57),i=t.MAs(45),a=t.MAs(49),l=t.oxw();t.xp6(4),t.hij(" ",l.productDetail.name," "),t.xp6(1),t.s9C("appCopying",l.productDetail.name),t.xp6(2),t.Q6J("stopEvent",!0)("rating",l.getReviewTotal.averageScore),t.xp6(2),t.hij("(",l.getReviewTotal.total,")"),t.xp6(2),t.AsE("",t.lcZ(12,33,"reviews-number-label"),": ",l.getReviewTotal.total,""),t.xp6(4),t.Q6J("ngTemplateOutlet",e),t.xp6(2),t.hij(" ",t.lcZ(18,35,null==l.selectedSku?null:l.selectedSku.price)," "),t.xp6(3),t.Q6J("ngTemplateOutlet",o),t.xp6(3),t.Q6J("ngClass",t.VKq(53,Se,l.stockCount<=0)),t.xp6(2),t.hij(" ",t.lcZ(26,37,"item-price-from-retailers"),": "),t.xp6(3),t.hij(" ",t.lcZ(29,39,null==l.selectedSku?null:l.selectedSku.price)," "),t.xp6(3),t.hij(" ",t.lcZ(32,41,"tqc-discount")," "),t.xp6(5),t.Q6J("ngIf",null==l.selectedSku?null:l.selectedSku.exchangePoint),t.xp6(3),t.hij("-",t.lcZ(40,43,null==l.selectedSku?null:l.selectedSku.cashBack)," "),t.xp6(4),t.hij(" ",t.lcZ(44,45,"actual-price-you-pay"),": "),t.xp6(3),t.hij(" ",t.lcZ(47,47,"actual-price-you-pay"),": "),t.xp6(3),t.Q6J("ngIf",null==l.selectedSku?null:l.selectedSku.exchangePoint),t.xp6(3),t.hij(" ",t.lcZ(53,49,l.actualPrice)," "),t.xp6(3),t.Q6J("ngIf",l.isLogin),t.xp6(1),t.Q6J("ngIf",l.productDetail.productArea),t.xp6(3),t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Q6J("ngForOf",l.specificationItems),t.xp6(2),t.Q6J("sku",l.selectedSku)("quantity",l.realQuantity),t.xp6(3),t.Q6J("ngTemplateOutlet",a),t.xp6(3),t.hij(" ",t.lcZ(69,51,"add-to-cart-qty"),"\uff1a "),t.xp6(3),t.Q6J("ngModel",l.quantity)("min",1)("max",l.stockCount)("disabled",l.stockCount<=0),t.xp6(3),t.Q6J("ngTemplateOutlet",a)}}function De(n,r){if(1&n&&(t.TgZ(0,"div",22),t.YNc(1,me,7,4,"div",46),t.YNc(2,Le,75,55,"div",47),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.productDetail),t.xp6(1),t.Q6J("ngIf",e.productDetail)}}function Be(n,r){1&n&&(t.TgZ(0,"div",130),t._UZ(1,"div",131),t.TgZ(2,"div",132),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"div",133),t.qZA()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"product-detail-point-type-review")))}function Ee(n,r){if(1&n&&(t.TgZ(0,"ion-row",134)(1,"ion-col",135)(2,"h5",136),t._uU(3,"\u8bc4\u5206"),t.qZA(),t.TgZ(4,"div",137),t._uU(5),t.ALo(6,"number"),t.qZA(),t._UZ(7,"app-order-rating",138),t.qZA(),t.TgZ(8,"ion-col",139)(9,"div",140),t._uU(10),t.ALo(11,"translate"),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(5),t.Oqu(t.xi3(6,5,e.getReviewTotal.averageScore,"1.1-1")),t.xp6(2),t.Q6J("stopEvent",!0)("rating",e.getReviewTotal.averageScore),t.xp6(3),t.AsE("",t.lcZ(11,8,"reviews-number-label"),"\uff1a",e.getReviewTotal.total,"")}}function Je(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-review-item",143),t.NdJ("onImageClick",function(i){t.CHM(e);const a=t.oxw(4);return t.KtG(a.handleReviewImageClick(i))}),t.qZA()}if(2&n){const e=r.$implicit;t.Q6J("review",e)("storeName",e.storeName)}}function Ue(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",144)(1,"app-pagination",145),t.NdJ("onPageClick",function(i){t.CHM(e);const a=t.oxw(4);return t.KtG(a.loadAftersalesByPage(i))}),t.qZA()()}if(2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("curPage",e.currentReviewPage)("numOfPages",e.reviewTotalPages)}}function qe(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Je,1,2,"app-product-review-item",141),t.YNc(2,Ue,2,2,"div",142),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.reviewList),t.xp6(1),t.Q6J("ngIf",e.reviewTotalPages>1)}}function Ne(n,r){if(1&n&&(t.TgZ(0,"div",125),t._UZ(1,"app-product-images-description",126),t.YNc(2,Be,6,3,"div",127),t.YNc(3,Ee,12,10,"ion-row",128),t.YNc(4,qe,3,2,"ng-container",129),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("productDetail",e.productDetail),t.xp6(1),t.Q6J("ngIf",e.reviewList.length>0),t.xp6(1),t.Q6J("ngIf",e.productDetail&&e.reviewList.length>0),t.xp6(1),t.Q6J("ngIf",e.reviewList.length>0)}}const Qe=function(n,r){return{categoryId:n,brandId:r}};function Fe(n,r){if(1&n&&t._UZ(0,"app-products-infinite-scroll",146),2&n){t.oxw();const e=t.MAs(2),o=t.oxw();t.Q6J("additionalParams",t.WLB(3,Qe,o.productDetail.productCategoryId,o.productDetail.brandId))("scrollContainer",e)("pageSize",10)}}function Ye(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-share-modal",147),t.NdJ("isOpenChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openShareModal=i)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("isOpen",e.openShareModal)}}function je(n,r){if(1&n&&(t.TgZ(0,"ion-select-option",150),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,"add-to-cart-qty")+": "+e," ")}}function Re(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-select",148),t.NdJ("ionChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.handleSelectQuantity(i))}),t.ALo(1,"translate"),t.YNc(2,je,3,4,"ion-select-option",149),t.ALo(3,"slice"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("value",e.quantity)("placeholder",t.lcZ(1,4,"add-to-cart-qty"))("disabled",!e.canBuy),t.xp6(2),t.Q6J("ngForOf",t.Dn7(3,6,e.stockCountList,0,99))}}function He(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",162),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t._UZ(1,"app-cart-icon",123),t.TgZ(2,"span",163),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"translate"),t.qZA()()}if(2&n){const e=r.isOnCart,o=r.isLoading,i=t.oxw(3);t.Q6J("targetSelector","#product-toolbar .badge-cart-desktop")("flyProduct",i.productDetail)("disabled",o||!i.canBuy),t.xp6(3),t.Oqu(i.canBuy?t.lcZ(5,6,e?"shop-product-page-in-the-cart":"shop-product-page-add"):t.lcZ(4,4,i.areaCanBuy?"shop-product-page-sku-stock-out":"product-page-not-available-buy"))}}function Ke(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",164),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t._UZ(1,"app-heart-animated",57),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()}if(2&n){const e=r.isDisabled,o=t.oxw(4);t.Q6J("disabled",e),t.xp6(1),t.Q6J("active",o.isFavorite),t.xp6(2),t.Oqu(t.lcZ(4,3,o.isFavorite?"shop-product-page-in-the-wishlist":"shop-product-page-add-to-wishlist"))}}function Ge(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-favorite",55),t.NdJ("isBelongChange",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.handleFavoriteChange(i))}),t.YNc(1,Ke,5,5,"ng-template"),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("product",e.productDetail)("skuId",null==e.selectedSku?null:e.selectedSku.id)}}function ze(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",151,152),t.NdJ("click",function(){t.CHM(e),t.oxw();const i=t.MAs(2);return t.KtG(i.scrollToTop(300))}),t.TgZ(2,"div",153)(3,"div",154),t._UZ(4,"img",155),t.qZA(),t.TgZ(5,"div",156)(6,"div",157),t._uU(7),t.qZA()()(),t._UZ(8,"div",158),t.qZA(),t.TgZ(9,"strong",159),t._uU(10),t.ALo(11,"currency"),t.qZA(),t.TgZ(12,"div",160),t._uU(13),t.ALo(14,"currency"),t.qZA(),t.GkF(15,11),t.TgZ(16,"div",161)(17,"app-add-to-cart",93),t.YNc(18,He,6,8,"ng-template"),t.qZA()(),t.TgZ(19,"div",161),t.YNc(20,Ge,2,2,"app-product-favorite",53),t.qZA(),t.TgZ(21,"div"),t.GkF(22,11),t.qZA()}if(2&n){t.oxw();const e=t.MAs(45),o=t.MAs(53),i=t.oxw();t.xp6(4),t.Q6J("src",null==i.productDetail?null:i.productDetail.productImages[0].source,t.LSH),t.xp6(3),t.hij(" ",null==i.productDetail?null:i.productDetail.name," "),t.xp6(3),t.Oqu(t.lcZ(11,9,null==i.selectedSku?null:i.selectedSku.price)),t.xp6(3),t.hij(" ",t.lcZ(14,11,i.actualPrice)," "),t.xp6(2),t.Q6J("ngTemplateOutlet",e),t.xp6(2),t.Q6J("sku",i.selectedSku)("quantity",i.realQuantity),t.xp6(3),t.Q6J("ngIf",i.productDetail),t.xp6(2),t.Q6J("ngTemplateOutlet",o)}}function $e(n,r){if(1&n&&t._UZ(0,"img",171),2&n){const e=t.oxw(5);t.Q6J("src",e.brand.logo,t.LSH)("alt",e.brand.name)}}const We=function(n){return{brandId:n}};function Ve(n,r){if(1&n&&(t.TgZ(0,"a",168),t.YNc(1,$e,1,2,"img",169),t.TgZ(2,"div",170),t._uU(3),t.qZA()()),2&n){const e=t.oxw(4);t.Q6J("queryParams",t.VKq(4,We,e.brand.id))("routerLink","/product/search"),t.xp6(1),t.Q6J("ngIf",e.brand.logo),t.xp6(2),t.hij(" ",e.brand.name," ")}}function Xe(n,r){if(1&n&&(t.TgZ(0,"div",166),t.YNc(1,Ve,4,6,"a",167),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.brand)}}function tn(n,r){if(1&n&&t.YNc(0,Xe,2,1,"div",165),2&n){const e=t.oxw(2);t.Q6J("ngIf",null==e.productDetail?null:e.productDetail.brandId)}}function en(n,r){if(1&n&&(t.TgZ(0,"div",172)(1,"div",173)(2,"div",174),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",80,175),t._UZ(7,"img",176),t.TgZ(8,"div",177,38),t._uU(10),t.ALo(11,"number"),t.qZA()(),t.TgZ(12,"div",174),t._uU(13),t.ALo(14,"translate"),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,4,"cash-back-reward"),": "),t.xp6(7),t.hij(" ",t.xi3(11,6,null==e.selectedSku?null:e.selectedSku.cashBack,"0.2-2")," "),t.xp6(3),t.AsE(" +",e.cashbackByDays,"/",t.lcZ(14,9,"shop-product-page-reward-days-45")," ")}}function nn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",178),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.openShareModal=!0)}),t.TgZ(1,"span",179),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"img",180),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"shop-product-page-share")," "))}function on(n,r){1&n&&t._UZ(0,"div",203)}function rn(n,r){1&n&&(t.TgZ(0,"div",204)(1,"div")(2,"span",205),t._uU(3,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),t.qZA()()()),2&n&&t.Q6J("ngClass",t.VKq(1,Mt,r.index>0))}const Zt=function(){return[]};function an(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",22)(2,"div",181,49)(4,"div",182),t._UZ(5,"div",183),t.qZA(),t.TgZ(6,"div",184),t.YNc(7,on,1,0,"div",185),t.qZA()(),t.TgZ(8,"div",186)(9,"div",72)(10,"h1",187)(11,"span",188),t._uU(12," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(13,"div",67)(14,"div"),t.GkF(15,11),t._UZ(16,"div",189),t.qZA()()(),t._UZ(17,"div",190),t.TgZ(18,"div",72)(19,"div",191)(20,"div",192)(21,"span",193),t._uU(22," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(23,"div",194)(24,"span",195),t._uU(25," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(26,"div",192)(27,"span",195),t._uU(28," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(29,"div",78)(30,"span",195),t._uU(31," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(32,"div",196)(33,"span",195),t._uU(34," \xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(35,"div",192)(36,"span",195),t._uU(37," \xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(38,"div",84)(39,"span",195),t._uU(40," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(41,"div",196)(42,"span",195),t._uU(43," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()()()(),t._UZ(44,"div",197),t.TgZ(45,"div",198)(46,"div",90)(47,"span",195),t._uU(48,"\xa0\xa0\xa0\xa0\xa0"),t.qZA()(),t.YNc(49,rn,4,3,"div",199),t.qZA(),t.TgZ(50,"div",92)(51,"button",200),t._UZ(52,"app-cart-icon",123),t.TgZ(53,"span",201),t._uU(54),t.ALo(55,"translate"),t.qZA()()(),t.TgZ(56,"div",202)(57,"span",195),t._uU(58,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),t.qZA()()()(),t.BQk()),2&n){t.oxw(2);const e=t.MAs(53);t.xp6(7),t.Q6J("ngForOf",t.DdM(6,Zt).constructor(3).fill(1)),t.xp6(8),t.Q6J("ngTemplateOutlet",e),t.xp6(34),t.Q6J("ngForOf",t.DdM(7,Zt).constructor(2).fill(1)),t.xp6(5),t.Oqu(t.lcZ(55,4,"shop-product-page-add"))}}function cn(n,r){1&n&&t.YNc(0,an,59,8,"ng-container",45)}function sn(n,r){if(1&n&&(t.TgZ(0,"div",208)(1,"div",209),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",210),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,7,"product-detail-limited-deals")," "),t.xp6(3),t.gL8(" ",t.lcZ(6,9,"product-detail-edns-in"),": ",e.days," ",t.lcZ(7,11,"days")," ",e.hours,":",e.minutes,":",e.seconds," ")}}function ln(n,r){if(1&n&&(t.TgZ(0,"app-countdown",207),t.YNc(1,sn,8,13,"ng-template"),t.qZA()),2&n){const e=t.oxw(4);t.Q6J("time",e.productDetail.endTime)}}function dn(n,r){if(1&n&&(t.TgZ(0,"div",208)(1,"div",209),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,7,"product-detail-limited-deals")," "),t.xp6(3),t.gL8(" ",t.lcZ(6,9,"product-detail-limited-start"),": ",e.days," ",t.lcZ(7,11,"days")," ",e.hours,":",e.minutes,":",e.seconds," ")}}function pn(n,r){if(1&n&&(t.TgZ(0,"app-countdown",207),t.YNc(1,dn,8,13,"ng-template"),t.qZA()),2&n){const e=t.oxw(4);t.Q6J("time",e.productDetail.beginTime)}}function gn(n,r){if(1&n&&(t.ynx(0),t.YNc(1,ln,2,1,"app-countdown",206),t.YNc(2,pn,2,1,"app-countdown",206),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.isEventStarted),t.xp6(1),t.Q6J("ngIf",e.isEventNotStarted)}}function _n(n,r){if(1&n&&t.YNc(0,gn,3,2,"ng-container",129),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.productDetail)}}function un(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",220),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t.TgZ(1,"ion-label"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=r.isDisabled,o=t.oxw(5);t.Q6J("disabled",e),t.xp6(2),t.Oqu(t.lcZ(3,2,o.isFavorite?"shop-product-page-in-the-wishlist":"shop-product-page-add-to-wishlist"))}}function mn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",218),t.NdJ("click",function(){const a=t.CHM(e).method,l=t.oxw(5);return t.KtG(l.handleGetHelp(a))}),t.TgZ(1,"ion-label"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"footer-help")))}function fn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",221),t.NdJ("click",function(){const a=t.CHM(e).method,l=t.oxw(5);return a(),t.KtG(l.isMenuOpen=!1)}),t.TgZ(1,"ion-label"),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA()()}if(2&n){const e=r.isOnCart,o=t.oxw(5);t.Q6J("disabled",!o.canBuy)("targetSelector","#product-toolbar .badge-cart-mobile")("flyProduct",o.productDetail),t.xp6(2),t.Oqu(o.canBuy?t.lcZ(4,6,e?"shop-product-page-in-the-cart":"shop-product-page-add"):t.lcZ(3,4,"shop-product-page-sku-stock-out"))}}function hn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-list",217)(1,"app-product-favorite",55),t.NdJ("isBelongChange",function(i){t.CHM(e);const a=t.oxw(4);return t.KtG(a.handleFavoriteChange(i))}),t.YNc(2,un,4,4,"ng-template"),t.qZA(),t.TgZ(3,"app-customer-service"),t.YNc(4,mn,4,3,"ng-template"),t.qZA(),t.TgZ(5,"ion-item",218),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return i.openShareModal=!0,t.KtG(i.isMenuOpen=!1)}),t.TgZ(6,"ion-label"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"app-add-to-cart",93),t.YNc(10,fn,5,8,"ng-template"),t.qZA(),t.TgZ(11,"app-bidding-switch",219),t.NdJ("onSwitchMode",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.isMenuOpen=!1)}),t.qZA()()}if(2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("product",e.productDetail)("skuId",null==e.selectedSku?null:e.selectedSku.id),t.xp6(6),t.Oqu(t.lcZ(8,5,"product-share-item")),t.xp6(2),t.Q6J("sku",e.selectedSku)("quantity",e.realQuantity)}}function xn(n,r){if(1&n){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"ion-popover",215,216),t.NdJ("didDismiss",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.isMenuOpen=!1)}),t.YNc(2,hn,12,7,"ng-template"),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("keepContentsMounted",e.isPopOverDidOpen)("dismissOnSelect",!0)("isOpen",e.isMenuOpen)}}function bn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",211),t.NdJ("click",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.handleMenuClick(i))}),t.O4$(),t.TgZ(1,"svg",212),t._UZ(2,"path",213),t.qZA()(),t.YNc(3,xn,3,3,"ion-popover",214)}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",e.productDetail)}}function vn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-change-address-modal",222),t.NdJ("addNewAddress",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.openCreateAddressModal())})("onSelected",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.handleSelectAddress(i))})("isOpenChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.isOpenChangeAddressModal=i)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("selectedAddress",e.selectedReceiver||null)("addressList",e.shippingAddrs)("isOpen",e.isOpenChangeAddressModal)}}function Pn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-edit-address-modal",223),t.NdJ("onSuccess",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.handleSubmitAddressSuccess())})("isOpenChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.isOpenEditAddressModal=i)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("currAddress",e.currAddress)("isOpen",e.isOpenEditAddressModal)}}function wn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-images-lightbox",225),t.NdJ("isOpenChange",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.openReviewLightbox=i)}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("isOpen",e.openReviewLightbox)("images",e.reviewImages)("initialSlide",e.lighboxSlideNumber)}}function Cn(n,r){if(1&n&&(t.ynx(0),t.YNc(1,wn,1,3,"app-product-images-lightbox",224),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.openReviewLightbox)}}function Tn(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"ion-content",2,3),t.NdJ("ionScroll",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.handleScroll(i))}),t._UZ(3,"app-global-customer-service",4),t.TgZ(4,"ion-toolbar",5,6)(6,"app-top-navbar"),t.GkF(7,7),t.qZA(),t._UZ(8,"app-top-menu"),t.TgZ(9,"div",8)(10,"div",9)(11,"div",10),t.NdJ("click",function(){t.CHM(e);const i=t.MAs(2);return t.KtG(i.scrollToTop(500))}),t.GkF(12,11),t.qZA()()(),t.TgZ(13,"div",12)(14,"div",9)(15,"div",13)(16,"div",14)(17,"div",15),t.GkF(18,11),t.qZA()()()()()(),t.TgZ(19,"div",16)(20,"div",17)(21,"div",18),t.YNc(22,De,3,2,"div",19),t.TgZ(23,"div",20),t._UZ(24,"app-product-related",21),t.qZA(),t.TgZ(25,"div",22)(26,"div",23)(27,"div",24)(28,"div",25),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._UZ(31,"app-product-recommend",26),t.qZA()(),t.YNc(32,Ne,5,4,"div",27),t.qZA(),t.TgZ(33,"div",28),t._UZ(34,"app-product-related",29),t.TgZ(35,"div",30),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.YNc(38,Fe,1,6,"app-products-infinite-scroll",31),t.qZA()(),t._UZ(39,"div",32),t.qZA()(),t.YNc(40,Ye,1,1,"app-product-share-modal",33),t._UZ(41,"app-footer"),t.qZA(),t.TgZ(42,"ion-footer",34),t._UZ(43,"app-bottom-navbar"),t.qZA(),t.YNc(44,Re,4,10,"ng-template",null,35,t.W1O),t.YNc(46,ze,23,13,"ng-template",null,36,t.W1O),t.YNc(48,tn,1,1,"ng-template",null,37,t.W1O),t.YNc(50,en,15,11,"ng-template",null,38,t.W1O),t.YNc(52,nn,5,3,"ng-template",null,39,t.W1O),t.YNc(54,cn,1,0,"ng-template",null,40,t.W1O),t.YNc(56,_n,1,1,"ng-template",null,41,t.W1O),t.YNc(58,bn,4,1,"ng-template",null,42,t.W1O),t.YNc(60,vn,1,3,"app-change-address-modal",43),t.YNc(61,Pn,1,2,"app-edit-address-modal",44),t.YNc(62,Cn,2,1,"ng-container",45),t.BQk()}if(2&n){const e=t.MAs(47),o=t.MAs(55),i=t.MAs(57),a=t.MAs(59),l=t.oxw();t.xp6(3),t.Q6J("additionalData",l.supportData),t.xp6(4),t.Q6J("ngTemplateOutlet",a),t.xp6(5),t.Q6J("ngTemplateOutlet",i),t.xp6(6),t.Q6J("ngTemplateOutlet",e),t.xp6(4),t.Q6J("ngIf",!l.isBrowser||l.isBrowser&&(null==l.productDetail?null:l.productDetail.id)===l.productId)("ngIfElse",o),t.xp6(2),t.Q6J("productId",l.productId)("product",l.productDetail),t.xp6(5),t.hij(" ",t.lcZ(30,18,"home-recommended-title")," "),t.xp6(2),t.Q6J("relatedProduct",l.productDetail),t.xp6(1),t.Q6J("ngIf",l.productDetail),t.xp6(2),t.Q6J("isRandom",!0)("productId",l.productId)("product",l.productDetail),t.xp6(2),t.hij(" ",t.lcZ(37,20,"home-recommended-title")," "),t.xp6(2),t.Q6J("ngIf",l.productDetail),t.xp6(22),t.Q6J("ngIf",l.isOpenChangeAddressModal),t.xp6(1),t.Q6J("ngIf",l.isOpenEditAddressModal)}}function On(n,r){1&n&&t._UZ(0,"app-product-detail-bidding")}let ht=(()=>{class n extends g.c{constructor(e,o,i,a,l,P,O,w,D,nt,ot,q){super(e,o),this.productsService=i,this.route=a,this.checkoutService=l,this.biddingService=P,this.userService=O,this.platformId=w,this.scrollToProductService=D,this.toast=nt,this.i18n=ot,this.router=q,this.isPopOverDidOpen=!1,this.isMenuOpen=!1,this.productId="",this.productDetail=null,this.reviewList=[],this.skuList=[],this.specificationMap={},this.specificationItems=[],this.stockCountList=[],this.quantity=1,this.openShareModal=!1,this.isFavorite=!1,this.shippingAddrs=null,this.selectedAddress=null,this.shippingFee=null,this.areaCanBuy=!1,this.isOpenChangeAddressModal=!1,this.currAddress=null,this.isOpenEditAddressModal=!1,this.DictKey=se.f,this.reviewTotal={averageScore:"0",total:0},this.productReviewPage=0,this.isReviewLoading=!1,this.reviewTotalRows=0,this.currentReviewPage=1,this.reviewPageSize=5,this.handleScroll=U=>{super.onContentScroll(U),this.mobileSticky&&U.detail.currentY>68&&(this.mobileSticky.nativeElement.style.transform=`translateY(-${Math.min(100,(U.detail.currentY-68)/10)}%)`),this.mobileSticky&&U.detail.currentY<=68&&(this.mobileSticky.nativeElement.style.transform="translateY(-0px)"),this.stickyReview&&(this.stickyReview.nativeElement.style.height=`${Math.min(U.detail.currentY/8,72)}px`)},this.handleFavoriteChange=U=>{this.isFavorite=U},this.openReviewLightbox=!1,this.reviewImages=[],this.lighboxSlideNumber=0,this.isBrowser=(0,s.NF)(this.platformId)}onPopState(e){this.scrollToProductService.setProductIdToFocus(this.productId)}ngOnInit(){var e=this;return(0,f.Z)(function*(){e.route.queryParams.pipe((0,u.R)(e.destroyStream$)).subscribe(function(){var o=(0,f.Z)(function*(i){e.productId=i.id||"",e.productId&&(e.getProductInfo(e.productId),e.productScroll?.clear())});return function(i){return o.apply(this,arguments)}}()),yield e.getShippingAddress()})()}getProductInfo(e){var o=this;return(0,f.Z)(function*(){[o.productDetail,o.skuList]=yield Promise.all([(0,T.n)(o.productsService.getProductById(e)),(0,T.n)(o.productsService.getSkusByProductId(e)),o.getProductReview(1,!0)]),o.quantity=1,v.Z.isServer||(o.brand=yield(0,T.n)(o.productsService.getBrandById(o.productDetail.brandId))),o.isFavorite=o.productDetail.collect,o.specificationItems=JSON.parse(o.productDetail.specificationItems||"[]").map(a=>({...a,entries:a.entries.filter(l=>l.isSelected)}));const i=JSON.parse(o.productDetail?.defaultSku?.specificationValues||"[]").map(a=>a.id);if(o.specificationMap=o.specificationItems.reduce((a,l)=>{const P=l.entries.find(O=>i.includes(O.id));return a[`specification-${l.name}`]=P?P.id:void 0,a},{}),o.skuList.length){for(let a=1;a<=o.skuList[0].stock;a++)o.stockCountList.push(a);o.selectedSku=o.skuList.find(a=>a.specifications.every(l=>Object.values(o.specificationMap).includes(l.id)))}yield o.getShippingFee(),yield o.getProductAreaCanBuy()})()}get reviewTotalPages(){return Math.ceil(this.reviewTotalRows/this.reviewPageSize)}loadAftersalesByPage(e){var o=this;return(0,f.Z)(function*(){yield o.getProductReview(e),o.currentReviewPage=e})()}getProductReview(e=1,o=!1){var i=this;return(0,f.Z)(function*(){o&&(i.productReviewPage=0,i.isReviewLoading=!1,i.reviewTotalRows=0,i.reviewList=[]);try{i.isReviewLoading=!0;const a=yield(0,T.n)(i.productsService.getProductReview(i.productId,F.ShopScoreTypeByAll,e-1,i.reviewPageSize));i.isReviewLoading=!1,i.reviewTotal=a.reviewTotal,i.reviewList=a.rows,i.reviewTotalRows=a.total}catch{i.isReviewLoading=!1}})()}get isLogin(){return this.userService.isLogin()}get getReviewTotal(){return{averageScore:Number(this.reviewTotal.averageScore),total:this.reviewTotal.total}}get isEventStarted(){return!!(this.productDetail?.isSpecialSale&&Number(this.productDetail.beginTime)<(new Date).getTime())}get isEventNotStarted(){return!!(this.productDetail?.isSpecialSale&&Number(this.productDetail.beginTime)>(new Date).getTime())}get actualPrice(){return this.selectedSku?this.selectedSku?.price-this.selectedSku?.cashBack+(this.shippingFee||0):null}get canBuy(){return this.stockCount>0&&this.areaCanBuy}get stockCount(){return this.selectedSku?.stock||0}getShippingAddress(e){var o=this;return(0,f.Z)(function*(){if(o.shippingAddrs=(yield(0,T.n)(o.checkoutService.getShippingAddress()))?.data?.rows||null,o.shippingAddrs?.length){o.selectedAddress=o.shippingAddrs[o.shippingAddrs.length-1];const i=o.shippingAddrs.find(a=>a.isDefault)||o.shippingAddrs[0];if(e)return void(o.receiverId=o.shippingAddrs[o.shippingAddrs.length-1].id);o.receiverId=o.editAddressId?o.editAddressId:i.id}})()}getShippingFee(){var e=this;return(0,f.Z)(function*(){!e.receiverId||(e.shippingFee=(yield(0,T.n)(e.checkoutService.getShippingFee(e.receiverId,e?.selectedSku?.id,e.quantity)))?.data||null,e.shippingFee=Number(e.shippingFee))})()}getProductAreaCanBuy(){var e=this;return(0,f.Z)(function*(){e.areaCanBuy=!e.receiverId||(yield(0,T.n)(e.checkoutService.getAreaCanBuy(e.receiverId,e?.selectedSku?.id,e.quantity)))?.data||null})()}handleSelectAddress(e){var o=this;return(0,f.Z)(function*(){o.receiverId=e.id,yield o.getShippingFee(),yield o.getProductAreaCanBuy()})()}openCreateAddressModal(){this.currAddress=null,this.isCreateAddress=!0,this.isOpenEditAddressModal=!0}handleSubmitAddressSuccess(){var e=this;return(0,f.Z)(function*(){if(e.isCreateAddress)return yield e.getShippingAddress(!0),e.isOpenEditAddressModal=!1,e.isCreateAddress=!1,yield e.getShippingFee(),void(yield e.getProductAreaCanBuy());e.editAddressId=e.receiverId,yield e.getShippingAddress(),e.isOpenEditAddressModal=!1,yield e.getShippingFee(),yield e.getProductAreaCanBuy(),e.editAddressId=""})()}specificationChange(e,o){this.specificationMap["specification-"+o]=e,this.selectedSku=this.skuList.find(i=>i.specifications.every(a=>Object.values(this.specificationMap).includes(a.id))),this.quantity=this.stockCount<1?0:Math.min(this.quantity,this.stockCount)}get selectedReceiver(){if(this.receiverId)return this.shippingAddrs.find(e=>Object.is(e.id,this.receiverId))}get specificationSelectable(){const e=Object.values(this.specificationMap);return this.specificationItems.length<2?new Set(this.specificationItems[0].entries.map(o=>o.id)):this.skuList.reduce((o,i)=>{const a=i.specifications.map(l=>l.id);return a.some(l=>e.includes(l))&&e.forEach(l=>{a.filter(P=>!Object.is(l,P)).forEach(P=>o.add(P))}),o},new Set)}setQuantity(e){this.quantity=Math.min(this.quantity,this.stockCount)}get cashbackByDays(){return(Number(this.selectedSku?.cashBack)/45).toFixed(4)}handleSelectQuantity(e){this.quantity=e.target.value}get realQuantity(){return Math.min(this.quantity,this.stockCount)}handleMenuClick(e){this.isPopOverDidOpen=!0,this.popover.event=e,this.isMenuOpen=!0}get supportData(){return v.Z.isServer?{}:{imageName:this.productDetail?.name,type:"custom",msgtype:{track:{title:"\u6211\u6b63\u5728\u770b\uff1a",price:`\uffe5${this.productDetail?.price}`,desc:this.productDetail?.name,img_url:this.productDetail?.productImages[0].thumbnail,item_url:window.location.href}}}}handleGetHelp(e){e(this.supportData)}handleReviewImageClick(e){this.openReviewLightbox=!0,this.reviewImages=e.images||[],this.lighboxSlideNumber=e.index}scrollToScoreSection(){let e=document.getElementById("score-section").offsetTop;this.iconContent.scrollToPoint(0,e,1e3)}copied(){this.presentToast({position:"bottom",message:this.i18n.instant("order-button-copied"),duration:3e3,icon:"checkmark-circle-outline",color:"success"})}presentToast(e){var o=this;return(0,f.Z)(function*(){yield(yield o.toast.create(e)).present()})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(ct.s),t.Y36(b.gz),t.Y36(Ot.Z),t.Y36(J.g),t.Y36(E.K),t.Y36(t.Lbi),t.Y36(yt.h),t.Y36(d.yF),t.Y36(m.sK),t.Y36(b.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-detail"]],viewQuery:function(e,o){if(1&e&&(t.Gf(le,5),t.Gf(W.b,5),t.Gf(de,5),t.Gf(pe,5),t.Gf(d.W2,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.popover=i.first),t.iGM(i=t.CRH())&&(o.productScroll=i.first),t.iGM(i=t.CRH())&&(o.mobileSticky=i.first),t.iGM(i=t.CRH())&&(o.stickyReview=i.first),t.iGM(i=t.CRH())&&(o.iconContent=i.first)}},hostBindings:function(e,o){1&e&&t.NdJ("popstate",function(a){return o.onPopState(a)},!1,t.Jf7)},features:[t.qOj],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["biddingPage",""],["id","app-product-detail","scrollTop","","fullscreen","true","scrollEvents","true","backToTopBtn","",3,"ionScroll"],["ionContent",""],[3,"additionalData"],["id","product-toolbar","appOverflowVisible","",1,"sticky","top-0","shadow-lg","z-50"],["header",""],["end","",3,"ngTemplateOutlet"],[1,"m-auto","md:hidden"],[1,"relative"],[1,"absolute","top-full","cursor-pointer",2,"left","-4px","right","-4px",3,"click"],[3,"ngTemplateOutlet"],[1,"tyqoon-container","m-auto","hidden","md:block"],[1,"absolute","right-0","top-full"],[1,"sticky-section","pt-4","ml-auto",2,"width","234px"],[1,"p-4","border","border-[#eaeaea]","bg-[#f8f8f8]","rounded-xl"],[1,"tyqoon-container","px-0","md:px-3","xl:px-4","bg-lightblue"],[1,"flex","flex-wrap","md:flex-nowrap"],[1,"w-full","md:w-8/12","lg:w-9/12","flex-1","flex","flex-wrap"],["class","w-full flex flex-wrap max-constraint",4,"ngIf","ngIfElse"],[1,"w-full","pb-2","bg-white","px-4","md:pr-5","md:px-0","z-1","max-constraint"],[1,"block",3,"productId","product"],[1,"w-full","flex","flex-wrap","max-constraint"],[1,"w-full","md:w-4/12","hidden","md:block","px-4","md:px-0","bg-white","z-1"],[1,"sticky","top-0"],[1,"text-primary","font-medium","mb-4","text-center"],[3,"relatedProduct"],["class","w-full md:w-8/12 px-4 bg-white z-1",4,"ngIf"],[1,"w-full","py-3","bg-white","px-4","md:pr-5","md:px-0","z-1","max-constraint"],[1,"mt-4","block",3,"isRandom","productId","product"],[1,"font-medium","text-xl","xs:text-2xl","mt-8","mb-2"],[3,"additionalParams","scrollContainer","pageSize",4,"ngIf"],[1,"w-auto","mt-3",2,"width","234px"],[3,"isOpen","isOpenChange",4,"isBrowser"],[1,"mt-4","md:hidden"],["quantitySelect",""],["stickySection",""],["brandTemplate",""],["cashback",""],["shareBtn",""],["skeleton",""],["countdownLimitedDeal",""],["kebabMenu",""],[3,"selectedAddress","addressList","isOpen","addNewAddress","onSelected","isOpenChange",4,"ngIf"],[3,"currAddress","isOpen","onSuccess","isOpenChange",4,"ngIf"],[4,"isBrowser"],["class","w-full md:w-4/12 my-3 md:px-0 sticky md:static top-0 z-0 md:z-20","id","product-sticky-section",4,"ngIf"],["class","w-full md:w-8/12 md:px-5 pt-4 bg-white px-4 rounded-t-2xl z-1 border-t md:border-none border-[#ddd]",4,"ngIf"],["id","product-sticky-section",1,"w-full","md:w-4/12","my-3","md:px-0","sticky","md:static","top-0","z-0","md:z-20"],["mobileSticky",""],[3,"glowing","productDetail"],["class","absolute fire-animation z-1","src","assets/svgs/fire-animation.svg","alt","",4,"ngIf"],[1,"absolute","mobile-favorite","z-1","md:hidden"],[3,"product","skuId","isBelongChange",4,"ngIf"],["src","assets/svgs/fire-animation.svg","alt","",1,"absolute","fire-animation","z-1"],[3,"product","skuId","isBelongChange"],[1,"rounded-full","border","border-solid","border-[#dddddd]","bg-white","w-full","flex","justify-center","items-center","text-[#dddddd]","p-1",3,"disabled","click"],[3,"active"],[1,"w-full","md:w-8/12","md:px-5","pt-4","bg-white","px-4","rounded-t-2xl","z-1","border-t","md:border-none","border-[#ddd]"],[1,"flex","flex-wrap","flex-col","xs:flex-row"],[1,"flex-1","mb-1","md:mb-2"],[1,"product-name","text-black","text-xl","break-all","relative","pr-5","-mr-4"],[1,"cursor-pointer","w-8","h-8","absolute","-right-1.5","opacity-40","fill-black","-top-0.5","p-1.5",3,"appCopying","copied"],[1,"flex","items-center","md:justify-between"],[1,"-ml-1","block","cursor-pointer",3,"stopEvent","rating","click"],[1,"cursor-pointer","opacity-30","text-lg","font-medium","mt-0.5","md:hidden","pl-1",3,"click"],[1,"cursor-pointer","opacity-30","text-lg","font-medium","hidden","md:block",3,"click"],[1,"md:hidden","flex-shrink-0"],[1,"flex","justify-between","flex-row-reverse","items-end","mb-2","xs:block","xs:mb-0","xs:items-center","md:mb-4"],[1,"text-[#ff1a44]","text-center","font-bold","text-lg","line-through"],[1,"hidden","md:block"],[1,"border","border-bottom","opacity-50","mb-4","hidden","md:block"],[1,"flex","flex-wrap"],[1,"flex-1","mr-1",3,"ngClass"],[1,"opacity-60","font-medium","leading-4","hidden","md:block"],[1,"text-[#ff1a44]","font-bold","mb-2","line-through","text-3xl","hidden","md:block"],[1,"opacity-60","font-medium","leading-4"],[1,"mb-1","text-xs","w-3","h-3","text-center","rounded-full","border","border-black","text-black","opacity-70","inline-block",2,"line-height","10px"],[1,"mb-2"],["class","text-xl font-medium opacity-60",4,"ngIf"],[1,"flex","items-center"],[1,"text-3xl","letter-tight","text-[#FEB000]","animated-gradient-golden-text"],["src","assets/images/circle-credit-small.png","alt","",1,"h-7","ml-2"],[1,"opacity-60","font-medium","text-xs","md:hidden"],[1,"leading-6"],[1,"letter-tight","text-4xl","text-[#424242]"],[1,"border","border-bottom","opacity-50","mt-3","mb-4","hidden","md:block"],["class","flex justify-between items-center flex-nowrap mt-2 mb-5 md:mt-0","style","position: relative",4,"ngIf"],["class","mt-2 mb-2 md:mt-0",4,"ngIf"],[1,"flex","flex-wrap","mt-2","md:mt-0"],[1,"md:hidden","mr-2","mt-1"],["class","flex flex-wrap mb-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-1","md:hidden"],[3,"sku","quantity"],[1,"md:hidden","mt-2"],[1,"flex-wrap","items-center","hidden","md:flex"],[1,"mr-2","my-1","flex-shrink-0","self-center"],[1,"my-1","mr-2"],["type","number",1,"quantity-txt",3,"ngModel","min","max","disabled","ngModelChange","ionBlur"],[1,"flex-1"],[1,"flex","items-center","my-2"],[1,"text-xl","font-medium","opacity-60"],[1,"flex","justify-between","items-center","flex-nowrap","mt-2","mb-5","md:mt-0",2,"position","relative"],["name","circles","color","primary","size","large","style","text-align: center; width: 100%",4,"ngIf","ngIfElse"],["canBuy",""],["name","circles","color","primary","size","large",2,"text-align","center","width","100%"],[1,"flex","items-center","flex-nowrap","overflow-hidden","whitespace-nowrap","text-ellipsis"],[1,"mr-2","whitespace-nowrap",3,"ngClass"],[1,"button_style","overflow-hidden","whitespace-nowrap","text-ellipsis"],[1,"px-4","py-1","cursor-pointer"],["class","opacity-70 font-medium leading-4 text-sm text-red-500 shipping_included",4,"ngIf"],["class","block ml-5 whitespace-nowrap text-[#0087ff] font-bold underline cursor-pointer",3,"click",4,"ngIf","ngIfElse"],["addReceiver",""],[1,"opacity-70","font-medium","leading-4","text-sm","text-red-500","shipping_included"],[1,"block","ml-5","whitespace-nowrap","text-[#0087ff]","font-bold","underline","cursor-pointer",3,"click"],[1,"block","whitespace-nowrap","ml-5","text-[#0087ff]","font-bold","underline","cursor-pointer",3,"click"],[1,"mt-2","mb-2","md:mt-0"],[1,"flex","flex-wrap","mb-2",3,"ngClass"],[1,"mr-2","my-1","flex-shrink-0","self-center","hidden","md:block"],[1,"flex-auto"],["class","border mr-2 my-1 border-[#ddd] rounded-md px-4 py-1 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"border","mr-2","my-1","border-[#ddd]","rounded-md","px-4","py-1","cursor-pointer",3,"ngClass","click"],["flyToCart","",1,"btn-add-to-cart","mt-1","rounded-lg","border","border-solid","text-white","w-full","flex","justify-center","items-center","py-2.5",3,"targetSelector","flyProduct","disabled","click"],[1,"mr-2"],[1,"font-medium"],[1,"w-full","md:w-8/12","px-4","bg-white","z-1"],[1,"introduction",3,"productDetail"],["id","score-section","class","flex mb-4",4,"ngIf"],["class","score score-style",4,"ngIf"],[4,"ngIf"],["id","score-section",1,"flex","mb-4"],[1,"border-b","border-primary","first-divider","mb-2","opacity-50"],[1,"shrink-0","text-primary","mx-3"],[1,"border-b","border-primary","flex-1","mb-2","opacity-50"],[1,"score","score-style"],["size","auto",1,"score-level","score-item-style",2,"white-space","nowrap"],[1,"text-2xl"],[1,"num","text-3xl"],[2,"display","flex","justify-content","center",3,"stopEvent","rating"],["size","auto",1,"score-count","score-item-style"],[1,"count","text-gray"],["style","box-sizing: border-box",3,"review","storeName","onImageClick",4,"ngFor","ngForOf"],["class","flex justify-end mt-4",4,"ngIf"],[2,"box-sizing","border-box",3,"review","storeName","onImageClick"],[1,"flex","justify-end","mt-4"],[3,"curPage","numOfPages","onPageClick"],[3,"additionalParams","scrollContainer","pageSize"],[3,"isOpen","isOpenChange"],["interface","popover",1,"quantity-select","rounded-lg","px-2","py-1","border","border-[#dddddd]","mb-3",3,"value","placeholder","disabled","ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"overflow-hidden","sticky-widget-scroll","cursor-pointer",2,"height","0px",3,"click"],["stickyReview",""],[1,"flex"],[1,"sticky-image-preview","rounded-lg","overflow-hidden","border","border-[#dddddd]","mr-2"],["alt","",1,"object-cover","object-center","!w-full","!h-full",3,"src"],[1,"flex-1","self-stretch","relative"],[1,"absolute","inset-0","line-clamp-3","break-all","text-xs"],[1,"border","border-bottom","opacity-50","mt-3","mb-2"],[1,"letter-tight","text-[#ff1a44]","line-through","font-bold"],[1,"font-bold","mb-2","text-3xl","text-[#424242]"],[1,"mb-3"],["flyToCart","",1,"btn-add-to-cart","font-bold","rounded-md","border","border-solid","bg-gradient-primary","w-full","flex","justify-center","items-center","py-1",3,"targetSelector","flyProduct","disabled","click"],[1,"mt-1"],[1,"rounded-md","border","border-solid","border-[#c4c4c4]","w-full","flex","justify-center","items-center",3,"disabled","click"],["class","flex items-center h-10",4,"ngIf"],[1,"flex","items-center","h-10"],["class","flex items-center h-full",3,"queryParams","routerLink",4,"ngIf"],[1,"flex","items-center","h-full",3,"queryParams","routerLink"],["class","h-full mr-1",3,"src","alt",4,"ngIf"],[1,"block","whitespace-nowrap","text-[#0087ff]","font-bold","underline"],[1,"h-full","mr-1",3,"src","alt"],[1,"cashback","mb-2","border-animated"],[1,"content"],[1,"text-center","text-sm"],["cashbackContainer",""],["src","/assets/images/TYD-small.png","alt","TYD",1,"mr-2"],[1,"text-3xl","font-bold","text-[#36d690]","animated-gradient-green-text","tracking-tighter"],[1,"share-btn","px-4","py-1","text-white","flex","rounded-lg","items-center",3,"click"],[1,"mr-2","whitespace-nowrap"],["src","assets/svgs/paper-plane.svg","alt",""],["id","product-sticky-section",1,"w-full","md:w-4/12","my-3","px-4","md:px-0","sticky","md:static","top-0","z-0"],[1,"image-wrapper","relative","cursor-pointer",2,"padding-top","100%"],[1,"absolute","inset-0","pulSate"],[1,"flex","mt-3","justify-center"],["class","pulSate mx-2","style","width: 40px; height: 40px",4,"ngFor","ngForOf"],[1,"w-full","md:w-8/12","md:px-5","py-4","bg-white","px-4","rounded-t-2xl","z-1"],[1,"text-xl","mb-4","flex-1"],[1,"pulSate","tracking-widest","break-all"],[1,"mt-1","text-lg","mb-2","pulSate"],[1,"border","border-bottom","mb-4","hidden","md:block"],[1,"flex-1","mb-2","mr-1"],[1,"leading-4","hidden","md:block"],[1,"pulSate","tracking-widest"],[1,"text-lg","mb-2","hidden","md:block"],[1,"pulSate"],[1,"text-xs","md:hidden"],[1,"mt-3","border","border-bottom","opacity-50","mb-4","hidden","md:block"],[1,"flex","flex-wrap","mt-4","md:mt-0"],["class","flex flex-wrap mb-5",3,"ngClass",4,"ngFor","ngForOf"],[1,"rounded-lg","border","border-solid","w-full","flex","justify-center","items-center","py-2.5","add-cart-shadow"],[1,"font-medium","text-white"],[1,"flex-wrap","mb-3","items-center","hidden","md:flex","py-1"],[1,"pulSate","mx-2",2,"width","40px","height","40px"],[1,"flex","flex-wrap","mb-5",3,"ngClass"],[1,"pulSate","py-1"],[3,"time",4,"ngIf"],[3,"time"],[1,"mb-4","bg-gradient-primary","flex","px-3","py-2","text-white","md:rounded-md","flex-wrap"],[1,"flex-1","mr-2","limited-deal-text"],[1,""],["id","product-detail-menu-btn",1,"top-nav-btn","mr-1","flex","justify-center","items-center","flex-shrink-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16px","height","16px","viewBox","0 0 16 16","fill","currentColor"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.444 13.832a1 1 0 1 0 1.111-1.663 1 1 0 0 0-1.11 1.662zM8 9a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"],["side","bottom","alignment","center",3,"keepContentsMounted","dismissOnSelect","isOpen","didDismiss",4,"ngIf"],["side","bottom","alignment","center",3,"keepContentsMounted","dismissOnSelect","isOpen","didDismiss"],["popover",""],["lines","full"],["lines","none",1,"cursor-pointer",3,"click"],[3,"onSwitchMode"],["lines","none",1,"cursor-pointer",3,"disabled","click"],["flyToCart","","lines","none",1,"cursor-pointer",3,"disabled","targetSelector","flyProduct","click"],[3,"selectedAddress","addressList","isOpen","addNewAddress","onSelected","isOpenChange"],[3,"currAddress","isOpen","onSuccess","isOpenChange"],[3,"isOpen","images","initialSlide","isOpenChange",4,"ngIf"],[3,"isOpen","images","initialSlide","isOpenChange"]],template:function(e,o){if(1&e&&(t.YNc(0,Tn,63,22,"ng-container",0),t.ALo(1,"async"),t.YNc(2,On,1,0,"ng-template",null,1,t.W1O)),2&e){const i=t.MAs(3);t.Q6J("ngIf",!t.lcZ(1,2,o.biddingService.isBiddingMode$))("ngIfElse",i)}},styles:['[_nghost-%COMP%]   .introduction[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .introduction{max-width:700px!important}[_nghost-%COMP%]   .introduction[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .introduction *{max-width:100%!important}[_nghost-%COMP%]   .introduction[_ngcontent-%COMP%]     .ssd-module-wrap, app-product-detail-bidding[_ngcontent-%COMP%]     .introduction   .ssd-module-wrap{width:auto!important}[_nghost-%COMP%]   .introduction[_ngcontent-%COMP%]     .ssd-module-wrap>div, app-product-detail-bidding[_ngcontent-%COMP%]     .introduction   .ssd-module-wrap>div{max-width:100%!important}[_nghost-%COMP%]   .introduction[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .introduction img{width:100%}@media (max-width: 1100px){[_nghost-%COMP%]   .introduction[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .introduction{max-width:580px!important}}@media (max-width: 950px){[_nghost-%COMP%]   .introduction[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .introduction{max-width:400px!important}[_nghost-%COMP%]   .introduction[_ngcontent-%COMP%]     .ssd-module-wrap>div, app-product-detail-bidding[_ngcontent-%COMP%]     .introduction   .ssd-module-wrap>div{height:464px!important}}@media (max-width: 690px){[_nghost-%COMP%]   .introduction[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .introduction{max-width:580px!important}}@media (max-width: 591px){[_nghost-%COMP%]   .introduction[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .introduction{max-width:380px!important}[_nghost-%COMP%]   .introduction[_ngcontent-%COMP%]     .ssd-module-wrap>div, app-product-detail-bidding[_ngcontent-%COMP%]     .introduction   .ssd-module-wrap>div{height:464px!important}}[_nghost-%COMP%]   ion-progress-bar[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     ion-progress-bar{--background: green;--buffer-background: red;--progress-background: linear-gradient(to right,#FFFFFB,#FFFFA7,#FFF38D,#FFDC80,#FFBE75,#FFA76C)}[_nghost-%COMP%]   ion-toolbar[appOverflowVisible][_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     ion-toolbar[appOverflowVisible]{contain:none}[_nghost-%COMP%]   .product-info-disabled[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .product-info-disabled{color:#9c9c9c!important;opacity:.5}[_nghost-%COMP%]   .quantity-txt[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .quantity-txt{width:100px;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(221 221 221 / var(--tw-border-opacity))}[_nghost-%COMP%]   .quantity-txt[_ngcontent-%COMP%]     input, app-product-detail-bidding[_ngcontent-%COMP%]     .quantity-txt   input{padding-top:4px;padding-bottom:4px}[_nghost-%COMP%]   .score-style[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-style{flex-direction:column!important;margin:0!important;padding:30px 0!important}@media (max-width: 1023px){[_nghost-%COMP%]   .score-style[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-style{flex-direction:column!important;margin:0!important;padding:30px 0!important}[_nghost-%COMP%]   .score-item-style[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-item-style{max-width:100%!important;margin:7px 0!important}[_nghost-%COMP%]   .main-detail-product[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .main-detail-product{justify-content:unset}[_nghost-%COMP%]   .product-detail-style.ant-col-12[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .product-detail-style.ant-col-12{flex:0 0 66%;max-width:66%}}[_nghost-%COMP%]   .score[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score{padding:48px 0}[_nghost-%COMP%]   .score[_ngcontent-%COMP%]   .text-gray[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score .text-gray{color:#bfbfbf}[_nghost-%COMP%]   .score[_ngcontent-%COMP%]   .text-item[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score .text-item{flex:1;text-align:center}[_nghost-%COMP%]   .score-level[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-level{text-align:center}[_nghost-%COMP%]   .score-level[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-level .num{font-weight:800}[_nghost-%COMP%]   .score-graph[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-graph{flex:1}[_nghost-%COMP%]   .score-graph[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-graph .tag{width:28px;height:18px;line-height:18px;display:block;position:relative;margin-left:-14px;color:#fff;font-style:normal;text-align:center;background:linear-gradient(180deg,#fed3a7,#fb8811)}[_nghost-%COMP%]   .score-graph[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]   .caret[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-graph .tag .caret{display:inline-block;width:0;height:0;vertical-align:middle;border-top:4px dashed;border-top:4px solid \\\t;border-right:4px solid transparent;border-left:4px solid transparent;margin-left:-4px;position:absolute;bottom:-4px;left:50%;color:#fb8811}[_nghost-%COMP%]   .score-graph[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-graph .text{display:flex;justify-content:center;position:relative}[_nghost-%COMP%]   .score-graph[_ngcontent-%COMP%]   .text-item[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-graph .text-item{flex:1;text-align:center}[_nghost-%COMP%]   .score-count[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-count{text-align:center}[_nghost-%COMP%]   .cashback[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .cashback .content{border-radius:.75rem;padding:.25rem .75rem;border:1px solid #12cc73;box-shadow:0 0 5px #12cc72;min-width:160px}[_nghost-%COMP%]   .cashback[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .cashback img{width:40px}[_nghost-%COMP%]   .quantity-select[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .quantity-select{width:100px;background-color:#f2f4f3}[_nghost-%COMP%]   app-cart-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   app-heart-icon[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     app-cart-icon, app-product-detail-bidding[_ngcontent-%COMP%]     app-heart-icon{width:24px}[_nghost-%COMP%]   .sticky-section[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .sticky-section{float:right}[_nghost-%COMP%]   button[disabled][_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     button[disabled]{opacity:.5}[_nghost-%COMP%]   .share-btn[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .share-btn{background:linear-gradient(90deg,#067bff,#081fff);border:1px solid #63d3fd}[_nghost-%COMP%]   .share-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .share-btn img{height:24px}[_nghost-%COMP%]   .border-animated[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .border-animated{position:relative}[_nghost-%COMP%]   .border-animated[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .border-animated .content{position:relative;z-index:2;background-color:#fff}[_nghost-%COMP%]   .border-animated[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .border-animated[_ngcontent-%COMP%]:after, app-product-detail-bidding[_ngcontent-%COMP%]     .border-animated:before, app-product-detail-bidding[_ngcontent-%COMP%]     .border-animated:after{content:"";position:absolute;left:-2px;top:-2px;background:linear-gradient(45deg,#58ccae 40%,#62f6cb 50%,#58ccae 60%);background-size:400%;width:calc(100% + 4px);height:calc(100% + 4px);z-index:1;border-radius:12px;border-radius:.75rem;animation:bordersteam 2s linear infinite}@keyframes bordersteam{0%{background-position:150% 0}to{background-position:0% 0}}[_nghost-%COMP%]   .border-animated[_ngcontent-%COMP%]:after, app-product-detail-bidding[_ngcontent-%COMP%]     .border-animated:after{filter:blur(5px)}[_nghost-%COMP%]   .add-cart-shadow[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .add-cart-shadow{box-shadow:0 0 6px 1px #ff7e1880}[_nghost-%COMP%]   .bg-lightblue[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .bg-lightblue{background-color:#eff4fa}@media (min-width: 768px){[_nghost-%COMP%]   .bg-lightblue[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .bg-lightblue{background-color:transparent}}[_nghost-%COMP%]   #product-sticky-section[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     #product-sticky-section{transition:transform .05s}@media (min-width: 768px){[_nghost-%COMP%]   #product-sticky-section[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     #product-sticky-section{transform:none!important}}[_nghost-%COMP%]   .z-0[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .z-0{z-index:0}[_nghost-%COMP%]   .z-1[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .z-1{z-index:1}[_nghost-%COMP%]   app-product-related[_ngcontent-%COMP%]     swiper, app-product-detail-bidding[_ngcontent-%COMP%]     app-product-related   swiper{margin-right:-1rem}@media (min-width: 768px){[_nghost-%COMP%]   app-product-related[_ngcontent-%COMP%]     swiper, app-product-detail-bidding[_ngcontent-%COMP%]     app-product-related   swiper{margin-right:0}}[_nghost-%COMP%]   .letter-tight[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .letter-tight{letter-spacing:-.04em}[_nghost-%COMP%]   .pulSate[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .pulSate{word-break:break-word;letter-spacing:40px}[_nghost-%COMP%]   .mobile-favorite[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .mobile-favorite{bottom:68px;right:32px}[_nghost-%COMP%]   .max-constraint[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .max-constraint{max-width:1075px}[_nghost-%COMP%]   .sticky-image-preview[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .sticky-image-preview{width:50px;height:50px}[_nghost-%COMP%]   .sticky-widget-scroll[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .sticky-widget-scroll{min-width:200px}@media only screen and (max-width: 399px){[_nghost-%COMP%]   .limited-deal-text[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .limited-deal-text{display:none}}[_nghost-%COMP%]   .fire-animation[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .fire-animation{width:50px;bottom:62px;left:0}[_nghost-%COMP%]   .animated-gradient-golden-text[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .animated-gradient-golden-text{background:linear-gradient(to right,#feb000 20%,#ffda84 40%,#ffda84 40%,#feb000 80%);background-size:200% auto;color:#000;background-clip:text;text-fill-color:transparent;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shine 2s linear infinite}[_nghost-%COMP%]   .product-detail-menu-btn[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .product-detail-menu-btn{width:45px;height:45px;background-color:#fafafa}[_nghost-%COMP%]   ion-popover[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     ion-popover{--backdrop-opacity: 0;--max-width: 180px}[_nghost-%COMP%]   app-heart-animated[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     app-heart-animated{height:36px}[_nghost-%COMP%]   .btn-add-to-cart[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .btn-add-to-cart{border:1px solid #00d2ff;background:#007eff}@media (min-width: 768px){[_nghost-%COMP%]   .btn-add-to-cart[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .btn-add-to-cart{border:1px solid #ffd200;background:#ffdf00}}[_nghost-%COMP%]   app-products-infinite-scroll[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     app-products-infinite-scroll .grid{grid-template-columns:repeat(2,minmax(0,1fr))}@media (min-width: 340px){[_nghost-%COMP%]   app-products-infinite-scroll[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     app-products-infinite-scroll .grid{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width: 640px){[_nghost-%COMP%]   app-products-infinite-scroll[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     app-products-infinite-scroll .grid{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (min-width: 768px){[_nghost-%COMP%]   app-products-infinite-scroll[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     app-products-infinite-scroll .grid{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (min-width: 1024px){[_nghost-%COMP%]   app-products-infinite-scroll[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     app-products-infinite-scroll .grid{grid-template-columns:repeat(5,minmax(0,1fr))}}[_nghost-%COMP%]   .loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .loader-container span{display:block;position:absolute;height:32px;width:32px;clip:rect(16px,32px,32px,0);margin:auto;inset:0;animation:loader-2-2 1.5s linear infinite}[_nghost-%COMP%]   .loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before, app-product-detail-bidding[_ngcontent-%COMP%]     .loader-container span:before{content:"";display:block;position:absolute;inset:0;margin:auto;height:20px;width:20px;border:2px solid transparent;border-top:2px solid rgba(0,0,0,.3);border-radius:50%;animation:loader-2-3 1.5s linear infinite}[_nghost-%COMP%]   .loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after, app-product-detail-bidding[_ngcontent-%COMP%]     .loader-container span:after{content:"";display:block;position:absolute;inset:0;margin:auto;height:20px;width:20px;border:2px solid rgba(0,0,0,.3);border-radius:50%}[_nghost-%COMP%]   .product-name[_ngcontent-%COMP%]   app-copy-icon[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .product-name app-copy-icon{display:none}@media (min-width: 768px){[_nghost-%COMP%]   .product-name[_ngcontent-%COMP%]:hover   app-copy-icon[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .product-name:hover app-copy-icon{display:block}}']}),n})();var yn=c(11481);C.ZP.use([C.W_,C.pt,C.N1,C.tl,C.LW,C.LG,N.L$]);let At=(()=>{class n{constructor(e){this.sanitizer=e}get introductionHTML(){return console.log(this.productDetail?.introduction),this.sanitizer.bypassSecurityTrustHtml(this.productDetail?.introduction||"")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(yn.H7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-images-description"]],inputs:{productDetail:"productDetail"},decls:8,vars:4,consts:[[1,"flex","mb-4","title"],[1,"border-b","border-primary","first-divider","mb-2","opacity-50"],[1,"shrink-0","text-primary","mx-3"],[1,"border-b","border-primary","flex-1","mb-2","opacity-50"],[3,"innerHTML"]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"div",0),t._UZ(2,"div",1),t.TgZ(3,"div",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"div",3),t.qZA(),t._UZ(7,"div",4),t.qZA()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"shop-product-page-description")),t.xp6(3),t.Q6J("innerHTML",o.introductionHTML,t.oJD))},dependencies:[m.X$],styles:[".first-divider[_ngcontent-%COMP%]{width:20px}"],changeDetection:0}),n})();var z=c(18110),Y=c(90147),V=c(60928),it=c(10709),rt=c(70325);function Mn(n,r){if(1&n&&t._UZ(0,"app-bid-button",13),2&n){const e=t.oxw(2),o=e.$implicit,i=e.index,a=t.oxw(2).ngLet,l=t.oxw();t.s9C("id","product-details-recommend-"+o.id),t.MGl("animationTarget","#product-details-recommend-",o.id,""),t.Q6J("product",o)("pool",l.biddingPools[i])("isLogin",!!a)}}const kt=function(){return["/product","detail"]},Zn=function(n){return{id:n}};function An(n,r){if(1&n&&(t.TgZ(0,"a",14),t._UZ(1,"img",15),t.TgZ(2,"span",16),t._uU(3),t.ALo(4,"currency"),t.qZA(),t.TgZ(5,"div",17),t._uU(6),t.ALo(7,"currency"),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.Q6J("routerLink",t.DdM(8,kt))("queryParams",t.VKq(9,Zn,e.id)),t.xp6(3),t.hij(" ",t.lcZ(4,4,e.price)," "),t.xp6(3),t.hij(" ",t.lcZ(7,6,e.marketPrice)," ")}}function kn(n,r){if(1&n&&(t.TgZ(0,"div",18)(1,"div",19),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",e.name," ")}}function In(n,r){if(1&n&&(t.TgZ(0,"p",25),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw(3).index,o=t.oxw(3);t.xp6(1),t.hij(" ",t.xi3(2,1,o.biddingPools[e].currentPoolPercentage,"0.0-0"),"% ")}}function Sn(n,r){if(1&n&&t._UZ(0,"app-bidding-pool-status",26),2&n){const e=t.oxw(3).index,o=t.oxw(3);t.Q6J("pool",o.biddingPools[e])}}function Ln(n,r){if(1&n&&(t.TgZ(0,"div",20)(1,"p",21),t._uU(2),t.qZA(),t._UZ(3,"app-bidding-progress-bar",22),t.YNc(4,In,3,4,"p",23),t.YNc(5,Sn,1,1,"ng-template",null,24,t.W1O),t.qZA()),2&n){const e=t.MAs(6),o=t.oxw(2),i=o.$implicit,a=o.index,l=t.oxw(3);t.xp6(2),t.hij(" ",i.name," "),t.xp6(1),t.Q6J("currentPoolPercentage",l.biddingPools[a].currentPoolPercentage)("hasEntered",l.biddingPools[a].bidAmount>0),t.xp6(1),t.Q6J("ngIf",l.biddingPools[a].currentPoolPercentage<100)("ngIfElse",e)}}const Dn=function(n){return{id:n,poolId:null}},Bn=function(n){return{"rounded-lg overflow-hidden":n}};function En(n,r){if(1&n&&(t.TgZ(0,"div",5)(1,"div",6)(2,"a",7),t._UZ(3,"img",8),t.qZA(),t.YNc(4,Mn,1,5,"app-bid-button",9),t.qZA(),t.YNc(5,An,8,11,"a",10),t.YNc(6,kn,3,1,"div",11),t.YNc(7,Ln,7,5,"ng-template",null,12,t.W1O),t.qZA()),2&n){const e=t.MAs(8),o=t.oxw().$implicit,i=t.oxw(3);t.xp6(2),t.Q6J("routerLink",t.DdM(9,kt))("queryParams",t.VKq(10,Dn,o.id))("queryParamsHandling","merge")("ngClass",t.VKq(12,Bn,i.isBiddingMode)),t.xp6(1),t.Q6J("src",o.productImages[0].source,t.LSH),t.xp6(1),t.Q6J("ngIf",i.isBiddingMode),t.xp6(1),t.Q6J("ngIf",!i.isBiddingMode),t.xp6(1),t.Q6J("ngIf",!i.isBiddingMode)("ngIfElse",e)}}function Jn(n,r){1&n&&t.YNc(0,En,9,14,"ng-template",4)}function Un(n,r){if(1&n&&(t.TgZ(0,"swiper",2),t.YNc(1,Jn,1,0,null,3),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("config",e.swiperOpts),t.xp6(1),t.Q6J("ngForOf",e.productList)("ngForTrackBy",e.trackByFn)}}function qn(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Un,2,3,"swiper",1),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productList.length>0)}}let It=(()=>{class n{constructor(e,o,i,a){this.productsService=e,this.userService=o,this.cdr=i,this.biddingService=a,this.productList=[],this.biddingPools=[],this.loading=!1,this.swiperOpts={direction:"vertical",slidesPerView:"auto",speed:400,autoplay:{delay:5e3,disableOnInteraction:!0,pauseOnMouseEnter:!0},noSwipingSelector:"app-bid-button"}}ngOnInit(){}ngOnChanges(e){var o=this;return(0,f.Z)(function*(){if(!v.Z.isServer&&e.relatedProduct.currentValue&&e.relatedProduct.currentValue!==e.relatedProduct.previousValue){const i=o.isBiddingMode?yield(0,T.n)(o.biddingService.getProductsWithPoolInfo({page:0,rows:15,isRecommended:!0,productCategoryId:o.relatedProduct?.productCategoryId})):yield(0,T.n)(o.productsService.getProductsByMetaParamsV2({rows:10,page:Math.floor(10*Math.random()),isRecommended:!0,categoryId:o.relatedProduct?.productCategoryId,traceId:o.userService.traceId}));o.isBiddingMode&&o.setPoolConfig(i.rows),console.log(i.rows),o.productList=i.rows,o.cdr.markForCheck()}})()}trackByFn(e,o){return o.id}setPoolConfig(e){const o=[];e.forEach(i=>{o.push({poolId:i.poolId,poolOwner:{id:i.sponsorId,userId:i.sponsorName,avatar:i.sponsorAvatar??"assets/images/sign-up-user.svg"},currentPoolSize:i.currentTickets,currentPoolPercentage:(0,z.DU)(i.currentTickets,i.maxTickets),poolLimit:i.maxTickets,userMaxTickets:i.userMaxTickets,bidAmount:i.userTotalTickets,status:i.status})}),this.biddingPools=o}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ct.s),t.Y36(E.K),t.Y36(t.sBO),t.Y36(J.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-recommend"]],inputs:{relatedProduct:"relatedProduct",isBiddingMode:"isBiddingMode"},features:[t.TTD],decls:2,vars:3,consts:[[4,"ngLet"],["class","recommend-swiper",3,"config",4,"ngIf"],[1,"recommend-swiper",3,"config"],[4,"ngFor","ngForOf","ngForTrackBy"],["swiperSlide",""],[1,"w-full"],[1,"relative","swiper-wrapper"],[1,"w-full",3,"routerLink","queryParams","queryParamsHandling","ngClass"],[1,"product-img","w-full","mb-2",3,"src"],["class","w-full",3,"id","product","pool","isLogin","animationTarget",4,"ngIf"],["class","flex justify-center items-center",3,"routerLink","queryParams",4,"ngIf"],["class","relative w-full h-6",4,"ngIf","ngIfElse"],["biddingInfo",""],[1,"w-full",3,"id","product","pool","isLogin","animationTarget"],[1,"flex","justify-center","items-center",3,"routerLink","queryParams"],["src","assets/svgs/fire-animation.svg","alt","",1,"!h-6"],[1,"mx-2","text-primary","text-sm","font-medium"],[1,"line-through","opacity-20"],[1,"relative","w-full","h-6"],[1,"absolute","truncate","inset-0","opacity-70"],[1,"cursor-default","mt-1.5"],[1,"product-title","truncate","text-black","text-center","font-medium","mb-2.5","text-sm","select-none"],[3,"currentPoolPercentage","hasEntered"],["class","invisible -mt-1 text-black font-bold mb-px text-center whitespace-nowrap text-sm select-none",4,"ngIf","ngIfElse"],["drawingWinner",""],[1,"invisible","-mt-1","text-black","font-bold","mb-px","text-center","whitespace-nowrap","text-sm","select-none"],[3,"pool"]],template:function(e,o){1&e&&(t.YNc(0,qn,2,1,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngLet",t.lcZ(1,1,o.userService.userInfo$))},dependencies:[s.mk,s.sg,s.O5,Y.h,V.w,it.u,rt.P,d.Fo,h.nF,h.YC,b.yS,s.Ov,s.JJ,s.H9],styles:[".recommend-swiper[_ngcontent-%COMP%]{max-height:900px}.recommend-swiper[_ngcontent-%COMP%]     .swiper-wrapper{align-items:center}.recommend-swiper[_ngcontent-%COMP%]     .swiper-slide{height:auto;min-height:150px;max-width:220px;margin-bottom:1rem;align-items:flex-start}app-bid-button[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}app-bid-button[_ngcontent-%COMP%]     .bidding-bar{width:100%;border-top-left-radius:0;border-top-right-radius:0;border:none;height:40px}app-bidding-pool-status[_ngcontent-%COMP%]     .pool-status{margin-bottom:1px;margin-top:-.25rem;font-size:.875rem;line-height:1.25rem}.swiper-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:220px}@media (min-width: 768px){.swiper-wrapper[_ngcontent-%COMP%]     .bidding-bar .no-login{margin-left:12px}}.swiper-wrapper[_ngcontent-%COMP%]:hover     .bidding-bar.can-bid{transform:scaleY(1.3);transform-origin:bottom}.swiper-wrapper[_ngcontent-%COMP%]:hover     .bidding-bar.can-bid img, .swiper-wrapper[_ngcontent-%COMP%]:hover     .bidding-bar.can-bid .bid-amount, .swiper-wrapper[_ngcontent-%COMP%]:hover     .bidding-bar.can-bid .enter-now{transform:scaleY(.76)}  .bidding-mode-global app-product-recommend .product-img{border:1px solid #ebebeb;border-radius:9px}"],changeDetection:0}),n})();var St=c(54004),Nn=c(23284),Lt=c(59809);function Qn(n,r){if(1&n&&t._UZ(0,"app-product-card",5),2&n){const e=t.oxw().$implicit,o=t.oxw(2).ngLet;t.Q6J("product",e)("isLogin",!!o)}}function Fn(n,r){1&n&&t.YNc(0,Qn,1,2,"ng-template",4)}function Yn(n,r){if(1&n&&(t.TgZ(0,"swiper",2),t.YNc(1,Fn,1,0,null,3),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("config",e.slideOpts),t.xp6(1),t.Q6J("ngForOf",e.relatedProducts.rows)("ngForTrackBy",e.identify)}}function jn(n,r){1&n&&t._UZ(0,"app-product-card-skeleton",7)}function Rn(n,r){1&n&&t.YNc(0,jn,1,0,"ng-template",4)}const Hn=function(){return[]};function Kn(n,r){if(1&n&&(t.TgZ(0,"swiper",2),t.YNc(1,Rn,1,0,null,6),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("config",e.slideOpts),t.xp6(1),t.Q6J("ngForOf",t.DdM(2,Hn).constructor(7).fill(1))}}function Gn(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Yn,2,3,"swiper",1),t.YNc(2,Kn,2,3,"swiper",1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isLoading&&e.relatedProducts),t.xp6(1),t.Q6J("ngIf",e.isLoading)}}let zn=(()=>{class n{constructor(e,o,i){this.productsService=e,this.cdr=o,this.userService=i,this.isRandom=!1,this.slideOpts={slidesPerView:"auto",autoplay:{delay:2e3,disableOnInteraction:!0,pauseOnMouseEnter:!0}},this.isLoading=!0}ngOnInit(){}identify(e,o){return o.id}ngOnChanges(e){this.isRandom?e.productId?.currentValue!==e.productId?.previousValue&&this.fetchData():e.product?.currentValue!==e.product?.previousValue&&this.product&&this.fetchData({categoryId:this.product.productCategoryId,brandId:this.product.brandId})}fetchData(e={}){var o=this;return(0,f.Z)(function*(){if(o.isLoading=!0,o.cdr.markForCheck(),!v.Z.isServer){if(!o.isRandom&&!o.product)return;o.productsService.getProductsByMetaParamsV2({page:Math.floor(5*Math.random()),rows:Math.floor(14*Math.random())+7,...e}).pipe((0,St.U)(i=>({...i,rows:i.rows.filter(a=>a.id!==o.productId)}))).subscribe({next:i=>{o.relatedProducts=i,o.isLoading=!1,o.cdr.markForCheck()},complete:()=>{o.isLoading=!1,o.cdr.markForCheck()},error:()=>{o.isLoading=!1,o.cdr.markForCheck()}})}})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ct.s),t.Y36(t.sBO),t.Y36(E.K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-related"]],inputs:{productId:"productId",product:"product",isRandom:"isRandom"},features:[t.TTD],decls:2,vars:3,consts:[[4,"ngLet"],["class","related-swiper",3,"config",4,"ngIf"],[1,"related-swiper",3,"config"],[4,"ngFor","ngForOf","ngForTrackBy"],["swiperSlide",""],[1,"w-full",3,"product","isLogin"],[4,"ngFor","ngForOf"],[1,"w-full"]],template:function(e,o){1&e&&(t.YNc(0,Gn,3,2,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngLet",t.lcZ(1,1,o.userService.userInfo$))},dependencies:[s.sg,s.O5,Nn.Y,Y.h,h.nF,h.YC,Lt.I,s.Ov],styles:[".related-swiper[_ngcontent-%COMP%]     .swiper-wrapper{margin-left:-.125rem;margin-right:-.125rem;padding-top:.25rem}@media only screen and (min-width: 279px){.related-swiper[_ngcontent-%COMP%]     .swiper-wrapper{margin-left:-.25rem;margin-right:-.25rem}}.related-swiper[_ngcontent-%COMP%]     .swiper-slide{width:150px;padding-left:.125rem;padding-right:.125rem}@media only screen and (min-width: 260px){.related-swiper[_ngcontent-%COMP%]     .swiper-slide{padding-left:.25rem;padding-right:.25rem}}@media (min-width: 1024px){.related-swiper[_ngcontent-%COMP%]     .swiper-slide{width:20%}}@media (min-width: 1280px){.related-swiper[_ngcontent-%COMP%]     .swiper-slide{width:16.8067226891%}}.related-swiper[_ngcontent-%COMP%]     .swiper-slide app-product-card .product-title, .related-swiper[_ngcontent-%COMP%]     .swiper-slide app-product-card-skeleton .product-title{height:24px;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}"],changeDetection:0}),n})();var xt=c(24006),bt=c(7858),$n=c(1927),vt=c(97717);let Wn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.ez,d.Pc,m.aw,p.m,vt.O]}),n})();var st=c(99501);let Vn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.m,d.Pc,st.OrdersModule]}),n})();var Dt=c(48910),Bt=c(39172),Et=c(98667),j=c(65433),I=c(37340),Pt=c(70262),wt=c(39646),Xn=c(49770),R=c(5963),to=c(60515),eo=c(54482),Jt=c(25403),no=c(38421),H=c(5565),Ut=c(76821);function io(n,r){if(1&n&&(t.TgZ(0,"div",5),t._UZ(1,"img",6),t.TgZ(2,"div",7),t._uU(3," x "),t._UZ(4,"app-odometer",8),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("input",e.entry.tickets)("disableInitialAnimation",!0)}}function ro(n,r){1&n&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"view-pool")," "))}let ao=(()=>{class n{constructor(e){this.cdr=e,this.showTicketCount=!0,this.someField=!1}ngOnChanges(e){const o=e.entry;o&&!o.isFirstChange()&&o.previousValue!==o.currentValue&&o.currentValue?.tickets>o.previousValue.tickets&&(this.someField=!0,setTimeout(()=>{this.someField=!1,this.cdr.markForCheck()},1100))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-global-entry-item"]],hostVars:2,hostBindings:function(e,o){2&e&&t.ekj("isChanging",o.someField)},inputs:{entry:"entry",showTicketCount:"showTicketCount"},standalone:!0,features:[t.TTD,t.jDz],decls:7,vars:4,consts:[[1,"font-medium","text-black","flex","flex-nowrap","items-center"],[1,"mr-1","object-cover","rounded-sm","avatar","!h-5","!w-5",3,"src"],[1,"truncate","product-name","flex-1"],["class","font-medium text-gray-600 flex flex-nowrap items-start amount",4,"ngIf","ngIfElse"],["viewPool",""],[1,"font-medium","text-gray-600","flex","flex-nowrap","items-start","amount"],["src","assets/images/ticket.png",1,"ticket-image","mr-1","object-cover","!h-6","!w-6"],[1,"ticket","overflow-hidden","whitespace-nowrap"],["format","d",3,"input","disableInitialAnimation"],[1,"view-pool","font-semibold","text-gray-600","flex","flex-nowrap","items-start","w-fit","py-0.5","px-1","rounded"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.qZA(),t.TgZ(2,"div",2),t._uU(3),t.qZA(),t.YNc(4,io,5,2,"div",3),t.YNc(5,ro,3,3,"ng-template",null,4,t.W1O)),2&e){const i=t.MAs(6);t.xp6(1),t.Q6J("src",o.entry.productImage,t.LSH),t.xp6(2),t.hij(" ",null==o.entry?null:o.entry.productName," "),t.xp6(1),t.Q6J("ngIf",o.showTicketCount)("ngIfElse",i)}},dependencies:[s.ez,s.O5,p.m,Ut.D,m.aw,m.X$],styles:[".amount[_ngcontent-%COMP%]{width:84px}app-odometer[_ngcontent-%COMP%]{display:inline-block;width:40px}.view-pool[_ngcontent-%COMP%]{background-color:#eff8ff;border:1px solid #cbd9e7;color:#22211e;font-size:13px}"]}),n})();function co(n,r){if(1&n&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngLet;t.xp6(1),t.hij(" ",e>99?"99+":e," ")}}function so(n,r){if(1&n&&(t.TgZ(0,"div",8),t._uU(1),t.ALo(2,"translate"),t.YNc(3,co,2,1,"div",9),t.qZA()),2&n){const e=r.ngLet;t.xp6(1),t.hij(" ",t.lcZ(2,2,"my-entries")," "),t.xp6(2),t.Q6J("ngIf",e)}}function lo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",18)(1,"app-global-entry-item",19),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.handleClick(a))}),t.qZA()()}if(2&n){const e=r.$implicit;t.Q6J("@scrollItem",void 0),t.xp6(1),t.Q6J("entry",e)}}function po(n,r){if(1&n&&(t.TgZ(0,"ng-scrollbar",15)(1,"div",16),t.YNc(2,lo,2,2,"div",17),t.ALo(3,"slice"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",t.Dn7(3,2,e.entries,0,50))("ngForTrackBy",e.identifyEntries)}}function go(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",18)(1,"app-global-entry-item",25),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.handleClick(a))}),t.qZA()()}if(2&n){const e=r.$implicit;t.Q6J("@scrollItem",void 0),t.xp6(1),t.Q6J("entry",e)("showTicketCount",!1)}}const _o=function(){return["/member","my-entries","list"]};function uo(n,r){if(1&n&&(t.TgZ(0,"div",20)(1,"ng-scrollbar",21)(2,"div",16),t.YNc(3,go,2,3,"div",17),t.ALo(4,"slice"),t.qZA()(),t.TgZ(5,"div",22)(6,"a",23),t._uU(7),t.ALo(8,"translate"),t._UZ(9,"ion-icon",24),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",t.Dn7(4,4,e.myEntries,0,50))("ngForTrackBy",e.identifyMyEntries),t.xp6(3),t.Q6J("routerLink",t.DdM(10,_o)),t.xp6(1),t.hij(" ",t.lcZ(8,8,"see-all")," ")}}function mo(n,r){if(1&n&&(t.TgZ(0,"div",11)(1,"swiper",12,13),t.YNc(3,po,4,6,"ng-template",14),t.YNc(4,uo,10,11,"ng-template",14),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("config",e.slideOpts)}}const fo=function(n){return{isCollapse:n}};let qt=(()=>{class n extends H.V{constructor(e,o,i,a,l){super(),this.biddingService=e,this.userService=o,this.router=i,this.activatedRoute=a,this.cdr=l,this.onlyShowHeader=!1,this.isCollapse=!1,this._showMyEntries=!1,this.showMyEntriesChange=new t.vpe,this.isCollapseChange=new t.vpe,this.entries=[],this.myEntries=[],this.slideOpts={slidesPerView:"auto",allowTouchMove:!1}}set showMyEntries(e){this._showMyEntries=e,this.swiper?.swiperRef.slideTo(e?1:0)}get showMyEntries(){return this._showMyEntries}get itemsList(){return this.showMyEntries?this.myEntries:this.entries}ngOnInit(){this.onlyShowHeader||(this.loadData(),this.userService.userInfo$.pipe((0,u.R)(this.destroyStream$)).subscribe(e=>{e&&this.biddingService.refreshOwnEntries().subscribe()}),this.biddingService.myEntries$.pipe((0,u.R)(this.destroyStream$)).subscribe(e=>{this.myEntries=e}))}cookData(e,o){for(let i=o.length-1;i>=0;i--){const a=o[i];let l=e.find(P=>P.id===a.id);l?l.lastModifiedDate!==a.lastModifiedDate&&(a.tickets=Math.max(a.currentTickets-l.currentTickets,1),e.unshift(a)):e.unshift(a)}return e.slice(0,200)}changeTab(e=!1){this.isCollapse?this.isCollapse=!1:this.showMyEntries===e&&(this.isCollapse=!this.isCollapse),e&&this.biddingService.refreshOwnEntries().subscribe(),this.showMyEntries=e,this.isCollapseChange.emit(this.isCollapse),this.showMyEntriesChange.emit(this.showMyEntries)}handleCollapse(){this.isCollapse=!this.isCollapse,this.isCollapseChange.emit(this.isCollapse)}loadData(){this.subscription&&this.subscription.unsubscribe(),this.getEntries(),this.initPollEntries()}getEntries(){var e=this;this.biddingService.getProductPools({page:0,rows:100,status:0,sortType:4}).pipe((0,u.R)(this.destroyStream$),(0,St.U)(o=>({...o,rows:o.rows?.map(i=>({...i,productId:i.productId,productName:i.productName,productImage:JSON.parse(i.productImages||"{}")[0]?.source,tickets:i.currentTickets,poolId:i.id}))})),(0,Pt.K)(o=>(0,wt.of)({error:o}))).subscribe(function(){var o=(0,f.Z)(function*(i){i?.rows&&(e.entries=e.cookData(e.entries,i.rows),e.cdr.detectChanges())});return function(i){return o.apply(this,arguments)}}())}initPollEntries(){v.Z.isBrowser&&(this.subscription&&this.subscription.unsubscribe(),this.subscription=(0,Xn.P)(()=>(0,R.H)(1e3*(0,z.xT)(2,4))).pipe(function oo(n){let e,r=1/0;return null!=n&&("object"==typeof n?({count:r=1/0,delay:e}=n):r=n),r<=0?()=>to.E:(0,eo.e)((o,i)=>{let l,a=0;const P=()=>{if(l?.unsubscribe(),l=null,null!=e){const w="number"==typeof e?(0,R.H)(e):(0,no.Xf)(e(a)),D=(0,Jt.x)(i,()=>{D.unsubscribe(),O()});w.subscribe(D)}else O()},O=()=>{let w=!1;l=o.subscribe((0,Jt.x)(i,void 0,()=>{++a<r?l?P():w=!0:i.complete()})),w&&P()};O()})}(),(0,u.R)(this.destroyStream$)).subscribe(()=>{this.showMyEntries?this.biddingService.refreshOwnEntries().subscribe():this.getEntries()}))}identifyEntries(e,o){return o.id+""+o.lastModifiedDate}identifyMyEntries(e,o){return o.id}handleClick(e){this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{id:e.productId,poolId:e.poolId,bid:!0},queryParamsHandling:"merge",skipLocationChange:!1})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(J.g),t.Y36(E.K),t.Y36(b.F0),t.Y36(b.gz),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bidding-global-entries"]],viewQuery:function(e,o){if(1&e&&t.Gf(h.nF,5),2&e){let i;t.iGM(i=t.CRH())&&(o.swiper=i.first)}},inputs:{onlyShowHeader:"onlyShowHeader",isCollapse:"isCollapse",showMyEntries:"showMyEntries"},outputs:{showMyEntriesChange:"showMyEntriesChange",isCollapseChange:"isCollapseChange"},standalone:!0,features:[t.qOj,t.jDz],decls:12,vars:14,consts:[[1,"main-container","relative","mt-2.5",3,"ngClass"],[1,"w-5","h-5","hidden","md:flex","cursor-pointer","rounded-full","border","border-[#dddddd]","items-center","justify-center","absolute","right-0","top-0","transform","translate-x-1/2","-translate-y-1/2","bg-white","z-20",3,"click"],["name","chevron-down-outline",1,"arrow-icon",2,"color","#c6c1c1"],[1,"tab-container","border","rounded-t-xl","border-b","flex","top-0","z-10","bg-white","relative","overflow-hidden"],[1,"tab-title-wrapper","group","border-b-4","border-white","flex-1","flex","justify-center",3,"click"],[1,"tab-title","text-center","group-hover:text-primary","px-1","xs:px-3","md:px-6","pt-2","pb-1.5","font-medium","cursor-pointer","select-none"],["class","tab-title text-center group-hover:text-primary px-1 xs:px-3 pt-2 pb-1.5 font-medium cursor-pointer select-none flex justify-center",4,"ngLet"],["class","credit-tabs-body relative border border-t-0 text-sm rounded-b-xl overflow-hidden bg-white flex flex-col",4,"ngIf"],[1,"tab-title","text-center","group-hover:text-primary","px-1","xs:px-3","pt-2","pb-1.5","font-medium","cursor-pointer","select-none","flex","justify-center"],["class","text-white own-entries flex items-center justify-center rounded-full h-6 px-1 ml-2",4,"ngIf"],[1,"text-white","own-entries","flex","items-center","justify-center","rounded-full","h-6","px-1","ml-2"],[1,"credit-tabs-body","relative","border","border-t-0","text-sm","rounded-b-xl","overflow-hidden","bg-white","flex","flex-col"],[1,"absolute","inset-0","h-full","w-full",3,"config"],["swiper",""],["swiperSlide",""],["visibility","hover",1,"w-full","flex-1","text-sm","text-left"],[1,"entries","w-full"],["class","line-entry",4,"ngFor","ngForOf","ngForTrackBy"],[1,"line-entry"],[1,"absolute","entry","cursor-pointer","bottom-0","left-0","entry","w-full","gap-2","justify-start","flex","px-1","border-t","border-slate-200","py-1.5",3,"entry","click"],[1,"h-full","flex","flex-col","text-sm","text-left"],["visibility","hover",1,"w-full","flex-1"],[1,"flex","justify-end","capitalize","text-base","font-medium","border-t","border-slate-200","px-1"],["href","",1,"flex","items-center","py-1.5",3,"routerLink"],["name","chevron-forward-outline",1,"text-lg"],[1,"absolute","entry","cursor-pointer","bottom-0","left-0","entry","w-full","gap-2","justify-start","items-center","flex","px-1","border-t","border-slate-200","py-1.5",3,"entry","showTicketCount","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return o.handleCollapse()}),t._UZ(2,"ion-icon",2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4),t.NdJ("click",function(){return o.changeTab(!1)}),t.TgZ(5,"div",5),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"div",4),t.NdJ("click",function(){return o.changeTab(!0)}),t.YNc(9,so,4,4,"div",6),t.ALo(10,"async"),t.qZA()(),t.YNc(11,mo,5,1,"div",7),t.qZA()),2&e&&(t.Q6J("ngClass",t.VKq(12,fo,o.isCollapse)),t.xp6(4),t.ekj("active",!o.showMyEntries),t.xp6(2),t.hij(" ",t.lcZ(7,8,"entries")," "),t.xp6(2),t.ekj("active",o.showMyEntries),t.xp6(1),t.Q6J("ngLet",t.lcZ(10,10,o.biddingService.myEntriesCount$)),t.xp6(2),t.Q6J("ngIf",!o.onlyShowHeader))},dependencies:[s.ez,s.mk,s.sg,s.O5,s.Ov,s.OU,d.Pc,d.gu,d.Fo,m.aw,m.X$,ao,j.kb,j.KC,b.Bz,b.yS,p.m,Y.h,h.kz,h.nF,h.YC],styles:["[_nghost-%COMP%]{position:relative}.tab-container[_ngcontent-%COMP%], .credit-tabs-body[_ngcontent-%COMP%]{border-color:#ddd}.tab-title-wrapper[_ngcontent-%COMP%]{display:flex;min-width:-moz-fit-content;min-width:fit-content;align-items:center;white-space:nowrap}.tab-title-wrapper.active[_ngcontent-%COMP%]{background-color:#fff0e9;--tw-border-opacity: 1;border-color:rgb(255 126 24 / var(--tw-border-opacity));--tw-text-opacity: 1;color:rgb(255 126 24 / var(--tw-text-opacity))}.tab-title-wrapper[_ngcontent-%COMP%]   .tab-text[_ngcontent-%COMP%]{transition:color .2s ease}.credit-tabs-body[_ngcontent-%COMP%]{background:rgb(249,249,249);height:calc(100vh - 510px);min-height:270px;transition:height .3s,min-height .3s}@media (min-width: 1440px){.credit-tabs-body[_ngcontent-%COMP%]{height:calc(100vh - 530px)}}.arrow-icon[_ngcontent-%COMP%]{transition:transform .2s}.main-container[_ngcontent-%COMP%]{position:relative;transition:.3s top .3s}@media (min-width: 768px){.main-container.isCollapse[_ngcontent-%COMP%]{position:fixed;bottom:0}.main-container.isCollapse[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.main-container.isCollapse[_ngcontent-%COMP%]   .credit-tabs-body[_ngcontent-%COMP%]{height:0;min-height:0px}}.own-entries[_ngcontent-%COMP%]{background-color:#047fff;min-width:24px;font-size:15px}.line-entry[_ngcontent-%COMP%]{position:relative;height:37px;overflow:hidden}ng-scrollbar[_ngcontent-%COMP%]     .ng-scroll-content{display:block}app-global-entry-item[_ngcontent-%COMP%]{background-color:transparent;transition:background-color 1s}app-global-entry-item.isChanging[_ngcontent-%COMP%]{background-color:#bacbf9}swiper[_ngcontent-%COMP%]     .swiper-slide{width:100%;display:block;height:100%}"],data:{animation:[(0,I.X$)("scrollItem",[(0,I.eR)(":enter",[(0,I.oB)({height:"0px"}),(0,I.jt)("0.3s 0ms linear",(0,I.oB)({height:"37px"}))]),(0,I.eR)(":leave",[(0,I.IO)(".entry",(0,I.oB)({bottom:"unset",top:"0px"})),(0,I.jt)("0.3s 0ms linear",(0,I.oB)({height:"0px"}))])])]},changeDetection:0}),n})();var Ct=c(40866),ho=c(23482),X=c(22775),tt=c(10556),xo=c(15720),bo=c(55758),vo=c(69847),Po=c(31525);const wo=function(n){return{userId:n}};function Co(n,r){if(1&n&&(t.TgZ(0,"div",41),t._UZ(1,"img",42),t.TgZ(2,"div",43),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.pool.poolOwner.avatar,t.LSH),t.xp6(2),t.hij(" ",t.xi3(4,2,"users-pool",t.VKq(5,wo,e.pool.poolOwner.maskedUserId))," ")}}function To(n,r){1&n&&t.GkF(0)}const Oo=function(n){return{$implicit:n}};function yo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5),t._UZ(3,"img",6),t.qZA(),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",7),t.NdJ("click",function(){t.CHM(e),t.oxw();const i=t.MAs(1);return t.KtG(i.dismiss())}),t.O4$(),t.TgZ(7,"svg",8),t._UZ(8,"path",9),t.qZA()()(),t.kcU(),t.TgZ(9,"ng-scrollbar",10)(10,"div",11)(11,"div",12),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",13),t._UZ(15,"div",14),t.TgZ(16,"div",15)(17,"div",16),t._UZ(18,"img",17),t.TgZ(19,"div",18)(20,"div",19),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.YNc(23,Co,5,7,"div",20),t.qZA()(),t.TgZ(24,"div",21)(25,"div",22),t.YNc(26,To,1,0,"ng-container",23),t.qZA(),t._UZ(27,"app-bid-button",24),t.qZA()(),t._UZ(28,"div",25),t.TgZ(29,"div",26)(30,"p",27),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"div",28)(34,"p",29),t._uU(35),t.qZA()(),t.TgZ(36,"div",30)(37,"button",31),t.NdJ("copied",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.copied())}),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"button",32),t._UZ(41,"app-qr-copy-icon",33),t.qZA()()()()(),t.TgZ(42,"div",34)(43,"div",35)(44,"p",36),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"div",37)(48,"app-facebook-icon",38),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onShareFb())}),t.qZA(),t.TgZ(49,"app-twitter-icon",38),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onShareTwitter())}),t.qZA(),t.TgZ(50,"app-wechat-icon",38),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onShareWechat())}),t.qZA()()(),t.TgZ(51,"div",39)(52,"button",40),t.NdJ("click",function(){t.CHM(e),t.oxw();const i=t.MAs(1);return t.KtG(i.dismiss())}),t._uU(53),t.ALo(54,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw(),o=t.MAs(4);t.xp6(4),t.hij(" ",t.lcZ(5,17,"launch-pool")," "),t.xp6(5),t.Q6J("autoHeightDisabled",!1),t.xp6(3),t.hij(" ",t.lcZ(13,19,"launch-pool-succeed"),"! "),t.xp6(6),t.Q6J("src",e.product.productImages?e.product.productImages[0].source:"",t.LSH),t.xp6(3),t.hij(" ",t.lcZ(22,21,e.product.name)," "),t.xp6(2),t.Q6J("ngIf",e.pool),t.xp6(3),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(31,Oo,e.pool)),t.xp6(1),t.Q6J("isReadOnly",!0)("product",e.product)("pool",e.pool),t.xp6(4),t.hij(" ",t.lcZ(32,23,"pool-sharing-link")," "),t.xp6(4),t.hij(" ",e.shareLink," "),t.xp6(2),t.s9C("appCopying",e.shareLink),t.xp6(1),t.hij(" ",t.lcZ(39,25,e.successTitle)," "),t.xp6(7),t.hij(" ",t.lcZ(46,27,"game-social-media-share")," "),t.xp6(8),t.hij(" ",t.lcZ(54,29,"finished")," ")}}function Mo(n,r){if(1&n&&(t.TgZ(0,"div",44)(1,"div",45)(2,"p",46),t._uU(3),t.ALo(4,"number"),t.qZA(),t._UZ(5,"app-bidding-progress-bar",47),t.qZA(),t.TgZ(6,"div",48)(7,"div",49),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",50),t._UZ(11,"app-copy-icon",51),t.qZA()()()),2&n){const e=r.$implicit;t.xp6(3),t.hij(" ",t.xi3(4,6,e.currentPoolPercentage,"0.0-0"),"% "),t.xp6(2),t.Q6J("currentPoolPercentage",e.currentPoolPercentage)("hasEntered",e.bidAmount>0),t.xp6(3),t.AsE(" ",t.lcZ(9,9,"pool-id"),": ",e.poolId," "),t.xp6(2),t.s9C("appCopying",e.poolId)}}let Zo=(()=>{class n extends H.V{constructor(e,o,i,a){super(),this.biddingService=e,this.userService=o,this.translate=i,this.router=a,this.isOpenChange=new t.vpe,this.inviteTextKey="share-meta-content",this.successTitle="shop-product-page-share-modal"}ngOnInit(){this.shareLink=`${Ct.R}/product/detail?bid=true&id=${this.product.id}&poolId=${this.pool?.poolId}`,this.translate.get(this.inviteTextKey).subscribe(e=>{!e||(this.inviteText=e)})}copied(){if(v.Z.isBrowser){const e=this.successTitle;this.successTitle="order-button-copied",(0,R.H)(2e3).subscribe(()=>{this.successTitle=e})}}onShareFb(){const e=new URL("https://www.facebook.com/sharer/sharer.php");e.searchParams.set("u",Ct.R),e.searchParams.set("quote",this.inviteText),e.searchParams.set("image",`${Ct.R}/assets/images/social-media-share-image-v2.jpg`);let o=window.open(e,"share-popup","height=350,width=600");return o?.focus&&o.focus(),!1}onShareTwitter(){const o=`${this.translate.instant("game-invite-friends-copy-text")}\n${this.shareLink}`,i=new URL("https://twitter.com/share");i.searchParams.set("text",this.inviteText),i.searchParams.set("url",o);let a=window.open(i,"share-popup","height=350,width=600");a?.focus&&a.focus()}onShareWechat(){const o=`${this.translate.instant("game-invite-friends-copy-text")}\n${this.shareLink}`,i=new URL("https://www.shareaholic.com/share/wechat/");i.searchParams.set("link",this.inviteText),i.searchParams.set("notes",o);let a=window.open(i,"share-popup","height=350,width=600");a?.focus&&a.focus()}didDismiss(){this.isOpenChange.emit(!1),this.router.navigate(["product/detail"],{queryParams:{bid:!0,id:this.product.id,poolId:this.pool.poolId},queryParamsHandling:"merge",skipLocationChange:!1})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(J.g),t.Y36(E.K),t.Y36(m.sK),t.Y36(b.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-launch-pool-success-modal"]],inputs:{isOpen:"isOpen",product:"product",pool:"pool"},outputs:{isOpenChange:"isOpenChange"},standalone:!0,features:[t.qOj,t.jDz],decls:5,vars:1,consts:[[3,"isOpen","didDismiss"],["modal",""],["progress",""],[1,"flex","bg-[#f4f4f4]","items-center","p-2"],[1,"fade-in-from-right","flex-1","font-bold","text-3xl","flex",2,"--duration","200ms"],[1,"mr-2","mt-0.5","relative","h-8","w-8","flex","justify-center","items-center","bg-black","rounded-full"],["src","assets/images/bidding/star-inverted.png",1,"h-4"],[1,"w-8","p-1","rounded","cursor-pointer","bg-[#ff2145]","text-white",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],["visibility","hover",2,"max-height","85vh",3,"autoHeightDisabled"],[1,"px-1","xs:px-3","md:px-4","mt-3","flex","flex-col","items-start","justify-center"],[1,"fade-in-from-top","title-text","text-black","font-medium",2,"--duration","200ms","--delay","50ms","--distance","-50px"],[1,"md:px-14","mt-4","w-full"],[1,"border","border-bottom","opacity-50","mb-2"],[1,"fade-in-from-bottom","flex","gap-2","items-center","justify-between","flex-col","lg:flex-row","w-full",2,"--duration","200ms","--delay","100ms","--distance","50px"],[1,"product-info","flex","flex-1","gap-1","justify-start","items-start","w-full"],[1,"product-img","mr-1","rounded","object-cover","rounded-lg",3,"src"],[1,"flex","flex-col","justify-between","items-start","gap-1"],[1,"product-name","font-medium","text-gray-800","text-left","pr-1.5","mb-0.5","pool-text"],["class","font-medium flex flex-nowrap items-center mt-0.5",4,"ngIf"],[1,"flex","justify-between","items-center","gap-2","w-full","flex-col","md:flex-row"],[1,"flex"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"isReadOnly","product","pool"],[1,"border","border-bottom","opacity-50","mt-2"],[1,"flex","flex-col","justify-center","items-center","mt-4"],[1,"fade-in-from-top","title-text","text-black","font-medium",2,"--duration","200ms","--delay","100ms","--distance","-50px"],[1,"fade-in-from-bottom","font-medium","border","rounded-md","font-medium","link-field","w-full","mt-1",2,"--duration","200ms","--delay","100ms","--distance","50px"],[1,"p-4","text-base","leading-4","text-center","font-bold","break-all"],[1,"fade-in","flex","items-stretch","copy-btn","mt-4",2,"--duration","200ms","--delay","200ms"],["successTitle","copied","type","button",1,"copy","bg-gradient-primary","hover:bg-gradient-primary-1","p-2.5","mr-1","text-xl","text-white","font-bold",3,"appCopying","copied"],[1,"bg-gradient-primary","hover:bg-gradient-primary-1","py-2","px-4","text-sm","text-white"],[1,"block","w-10","text-white"],[1,"px-1","xs:px-3","md:px-4","flex","items-center","justify-between","gap-1","md:gap-4","pb-4","mt-3","md:mt-0","bg-white"],[1,"flex","flex-col","fade-in-from-right",2,"--duration","300ms","--delay","200ms"],[1,"mb-2","font-bold","tracking-tighter"],[1,"flex","mb-4","space-x-2"],[1,"cursor-pointer","invite-modal__icon","hover:opacity-90",3,"click"],[1,"fade-in-from-left",2,"--duration","300ms","--delay","250ms"],[1,"finish-btn","px-6","md:px-8","py-3","text-2xl","sm:text-3xl","font-bold","text-white","capitalize","rounded-lg","md:mt-4",3,"click"],[1,"font-medium","flex","flex-nowrap","items-center","mt-0.5"],[1,"mr-1","object-cover","rounded-full","avatar",3,"src"],[1,"truncate","text-sm","text-black"],[1,"flex","w-full","flex-col","lg:flex-row","lg:flex-col","justify-between","lg:justify-center","items-center","mt-2","lg:mt-0"],[1,"flex","flex-row-reverse","lg:flex-col","w-full","justify-center","lg:justify-end","lg:justify-center","items-center","gap-2","lg:gap-0"],[1,"text-black","font-medium","mb-px","-mt-px","text-center","whitespace-nowrap","text-sm","md:text-base","lg:text-xl","lg:leading-6","select-none"],[3,"currentPoolPercentage","hasEntered"],[1,"pool-id","flex","gap-1","mt-1.5","flex-nowrap","justify-center"],[1,"truncate","select-none","-mt-px","whitespace-nowrap","text-sm"],[1,"flex",3,"appCopying"],[1,"h-4","w-4","block","text-gray-600","opacity-60"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-modal",0,1),t.NdJ("didDismiss",function(){return o.didDismiss()}),t.YNc(2,yo,55,33,"ng-template"),t.qZA(),t.YNc(3,Mo,12,11,"ng-template",null,2,t.W1O)),2&e&&t.Q6J("isOpen",o.isOpen)},dependencies:[s.ez,s.O5,s.tP,s.JJ,m.aw,m.X$,j.kb,j.KC,d.Pc,d.ki,st.OrdersModule,p.m,X.Q,tt.p,xo.i,bo.G,vo.k,V.w,rt.P,ho.o,Po.B],styles:["ion-modal[_ngcontent-%COMP%]{--background: white;--border-radius: 8px;--width: 784px}.product-info[_ngcontent-%COMP%]{min-width:220px}.product-info[_ngcontent-%COMP%]   .product-img[_ngcontent-%COMP%]{width:65px;height:65px}.product-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:20px!important;height:20px;min-width:20px}.product-info[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;white-space:break-spaces;line-height:1.2}app-bidding-progress-bar[_ngcontent-%COMP%]{width:160px;display:block}@media (min-width: 1440px){app-bidding-progress-bar[_ngcontent-%COMP%]{width:180px}}.pool-text[_ngcontent-%COMP%]{font-size:15px}.title-text[_ngcontent-%COMP%]{font-size:21px}.finish-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(7,121,255),rgb(9,35,255))}.finish-btn[_ngcontent-%COMP%]:disabled{opacity:.8}app-facebook-icon[_ngcontent-%COMP%], app-twitter-icon[_ngcontent-%COMP%], app-wechat-icon[_ngcontent-%COMP%]{width:40px}@media (min-width: 640px){app-facebook-icon[_ngcontent-%COMP%], app-twitter-icon[_ngcontent-%COMP%], app-wechat-icon[_ngcontent-%COMP%]{width:55px}}.link-field[_ngcontent-%COMP%]{border-color:#d4d4d4;background-color:#f5f7f9}.copy-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:5px}.copy-btn[_ngcontent-%COMP%]   button.copy[_ngcontent-%COMP%]{width:150px}.pool-id[_ngcontent-%COMP%]{width:260px;max-width:260px}"]}),n})();var lt=c(61977),Ao=c(44365),dt=c(55896);const ko=function(n){return{userId:n}};function Io(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5),t._UZ(3,"img",6),t.qZA(),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",7),t.NdJ("click",function(){t.CHM(e),t.oxw();const i=t.MAs(1);return t.KtG(i.dismiss())}),t.O4$(),t.TgZ(7,"svg",8),t._UZ(8,"path",9),t.qZA()()(),t.kcU(),t.TgZ(9,"ng-scrollbar",10)(10,"div",11)(11,"div",12),t._UZ(12,"img",13),t.qZA(),t.TgZ(13,"div",14)(14,"div",15)(15,"h1",16),t._uU(16),t.qZA(),t.TgZ(17,"div",17),t._UZ(18,"app-order-rating",18),t.TgZ(19,"div",19),t._uU(20),t.qZA(),t.TgZ(21,"div",20),t._uU(22),t.ALo(23,"translate"),t.qZA()()(),t._UZ(24,"div",21),t.TgZ(25,"div",22)(26,"div",23),t._UZ(27,"img",24),t.TgZ(28,"div",25),t._uU(29),t.ALo(30,"translate"),t.qZA()(),t.TgZ(31,"div",26),t._UZ(32,"app-bidding-progress-bar",27),t.qZA(),t.TgZ(33,"div",28)(34,"div",29)(35,"div",30)(36,"p",31),t._uU(37),t.ALo(38,"number"),t.qZA()()(),t.TgZ(39,"div",32)(40,"app-bidding-ticket-count",33),t.NdJ("onChangeBidAmount",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.onChangeBidAmount(i))}),t.qZA(),t._UZ(41,"app-bid-button",34),t.qZA()()()()(),t.TgZ(42,"div",35),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"div",36)(46,"button",37),t.NdJ("click",function(){t.CHM(e),t.oxw();const i=t.MAs(1);return t.KtG(i.dismiss())}),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"div",38)(50,"app-launch-pool-button",39),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(),a=t.MAs(1);return t.KtG(i.handleLaunch(a))}),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,25,"launch-pool")," "),t.xp6(5),t.Q6J("autoHeightDisabled",!1),t.xp6(3),t.Q6J("src",e.product.productImages[0].source,t.LSH),t.xp6(4),t.hij(" ",e.product.name," "),t.xp6(2),t.Q6J("stopEvent",!0)("rating",e.getReviewTotal.averageScore),t.xp6(2),t.hij("(",e.getReviewTotal.total,")"),t.xp6(2),t.AsE("",t.lcZ(23,27,"reviews-number-label"),": ",e.getReviewTotal.total,""),t.xp6(5),t.Q6J("src",e.pool.poolOwner.avatar,t.LSH),t.xp6(2),t.hij(" ",t.xi3(30,29,"users-pool",t.VKq(39,ko,e.pool.poolOwner.maskedUserId))," "),t.xp6(3),t.Q6J("currentPoolPercentage",e.pool.currentPoolPercentage)("hasEntered",e.pool.bidAmount>0),t.xp6(1),t.s9C("id","main-pool-product-"+e.product.id),t.xp6(4),t.hij(" ",t.xi3(38,32,e.pool.currentPoolPercentage,"0.0-0"),"% "),t.xp6(3),t.Q6J("customBidAmount",e.bidAmount),t.xp6(1),t.Q6J("product",e.product)("pool",e.pool)("customBidAmount",e.bidAmount)("disableFlyingAnimation",!0),t.xp6(1),t.ekj("invisible",e.pool.currentPoolSize>0),t.xp6(1),t.hij(" ",t.lcZ(44,35,"launch-pool-min-tickets")," "),t.xp6(4),t.hij(" ",t.lcZ(48,37,"cancel")," "),t.xp6(3),t.Q6J("canLaunchPool",e.pool.currentPoolSize>0)}}function So(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-launch-pool-success-modal",40),t.NdJ("isOpenChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.isOpenLaunchSuccessModal=i)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("isOpen",e.isOpenLaunchSuccessModal)("product",e.product)("pool",e.pool)}}let Nt=(()=>{class n extends H.V{constructor(e,o,i,a,l){super(),this.biddingService=e,this.userService=o,this.router=i,this.toast=a,this.activatedRoute=l,this.isOpenChange=new t.vpe,this.isOpenLaunchSuccessModal=!1,this.bidAmount=1}ngOnChanges(e){e.isOpen&&this.isOpen&&this.initPool()}onChangeBidAmount(e){this.bidAmount=e}initPool(){this.pool={poolId:"0",currentPoolSize:0,currentPoolPercentage:0,bidAmount:0,poolLimit:this.product.maxTickets,userMaxTickets:this.product.userMaxTickets,poolOwner:{userId:this.userService._userInfo.username,avatar:this.userService._userInfo.avatar,maskedUserId:this.getMaskedUserId(this.userService._userInfo.username)},status:0}}getMaskedUserId(e){return e?.replace(e.substring(2,e.length-2),"*".repeat(e.length-2-2))??"**"}handleLaunch(e){this.biddingService.launchPool({skuId:this.product.productSkuId,ticketsAmount:this.pool.bidAmount}).pipe((0,u.R)(this.destroyStream$)).subscribe(o=>{0==o?.code&&o.data?.groupBuyingId?this.afterLaunch(e,o.data.groupBuyingId):o?.message&&this.toastError(o?.message)})}afterLaunch(e,o){this.pool.poolId=o.toString(),this.biddingService.onLaunchFinished$.next(!0),e.dismiss().then(()=>{this.isOpenLaunchSuccessModal=!0})}toastError(e){var o=this;return(0,f.Z)(function*(){yield o.presentToast({position:"bottom",message:e,icon:"alert-circle-outline",duration:1e3,color:"danger"})})()}presentToast(e){var o=this;return(0,f.Z)(function*(){yield(yield o.toast.create(e)).present()})()}didDismiss(){"0"==this.pool.poolId&&this.userService.updateUserInfo(),this.isOpenChange.emit(!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(J.g),t.Y36(E.K),t.Y36(b.F0),t.Y36(d.yF),t.Y36(b.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-launch-pool-modal"]],inputs:{isOpen:"isOpen",product:"product",getReviewTotal:"getReviewTotal"},outputs:{isOpenChange:"isOpenChange"},standalone:!0,features:[t.qOj,t.TTD,t.jDz],decls:4,vars:2,consts:[[3,"isOpen","didDismiss"],["modal",""],[3,"isOpen","product","pool","isOpenChange",4,"ngIf"],[1,"flex","bg-[#f4f4f4]","items-center","p-2"],[1,"fade-in-from-right","flex-1","font-bold","text-3xl","flex",2,"--duration","200ms"],[1,"mr-2","mt-0.5","relative","h-8","w-8","flex","justify-center","items-center","bg-black","rounded-full"],["src","assets/images/bidding/star-inverted.png",1,"h-4"],[1,"w-8","p-1","rounded","cursor-pointer","bg-[#ff2145]","text-white",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],["visibility","hover",2,"max-height","85vh",3,"autoHeightDisabled"],[1,"px-1","xs:px-3","sm:px-4","mt-3","flex","flex-col","md:flex-row","items-start","justify-center"],[1,"fade-in-from-left","flex","w-full","md:w-4/12",2,"--duration","200ms","--delay","50ms"],[1,"product-image","rounded-lg","obj-cover","border","border-[#dddddd]","max-md:mx-auto","max-md:mb-4",3,"src"],[1,"flex","flex-wrap","flex-col","w-full","md:w-8/12","md:pl-3.5"],[1,"flex-1","fade-in-from-top",2,"--duration","200ms","--delay","100ms","--distance","-50px"],[1,"product-name","text-black","text-lg","break-all","relative","pr-5","-mr-4"],[1,"flex","items-center","md:justify-between"],[1,"-ml-1","block","cursor-pointer",3,"stopEvent","rating"],[1,"cursor-pointer","opacity-30","text-base","font-medium","mt-0.5","md:hidden","pl-1"],[1,"cursor-pointer","opacity-30","text-base","font-medium","hidden","md:block"],[1,"border","border-bottom","opacity-50","mb-2"],[1,"flex","flex-col","gap-2"],[1,"fade-in-from-left","font-medium","flex","flex-nowrap","items-center",2,"--duration","200ms","--delay","150ms","--distance","-50px"],[1,"mr-1","object-cover","rounded-full","h-6","w-6",3,"src"],[1,"truncate","text-black"],[1,"relative","fade-in-from-bottom",2,"--duration","200ms","--delay","200ms","--distance","50px"],[3,"currentPoolPercentage","hasEntered"],[1,"flex","flex-col","sm:flex-row","justify-between","mt-1",3,"id"],[1,"lg:ml-6","fade-in",2,"--duration","200ms","--delay","200ms"],[1,"text-black","-mt-1","font-medium","sm:absolute","flex","sm:flex-col","justify-center","items-center","gap-2","sm:gap-0"],[1,"invisible","mb-px","sm:-mt-1","text-center","whitespace-nowrap","text-2xl","select-none"],[1,"flex","gap-2","justify-center"],[1,"fade-in-from-right",2,"--duration","200ms","--delay","200ms",3,"customBidAmount","onChangeBidAmount"],[1,"fade-in-from-left",2,"--duration","200ms","--delay","200ms",3,"product","pool","customBidAmount","disableFlyingAnimation"],[1,"error","text-base","font-medium","text-center","mt-4","fade-in",2,"--duration","200ms","--delay","250ms"],[1,"flex","flex-wrap","justify-between","gap-4","p-4","pt-2","bg-white"],[1,"fade-in-from-right","border","border-[#dddddd]","bg-slate-100","rounded-lg","font-bold","px-6","py-2","text-lg","2xs:text-2xl","md:text-2xl","capitalize",2,"--duration","200ms","--delay","250ms",3,"click"],[1,"fade-in-from-left",2,"--duration","300ms","--delay","250ms"],[1,"block",2,"width","224px",3,"canLaunchPool","click"],[3,"isOpen","product","pool","isOpenChange"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-modal",0,1),t.NdJ("didDismiss",function(){return o.didDismiss()}),t.YNc(2,Io,51,41,"ng-template"),t.qZA(),t.YNc(3,So,1,3,"app-launch-pool-success-modal",2)),2&e&&(t.Q6J("isOpen",o.isOpen),t.xp6(3),t.Q6J("ngIf",o.isOpenLaunchSuccessModal))},dependencies:[s.ez,s.O5,s.JJ,m.aw,m.X$,j.kb,j.KC,d.Pc,d.ki,st.OrdersModule,lt.K,p.m,V.w,rt.P,Ao.h,dt.h,Zo],styles:["ion-modal[_ngcontent-%COMP%]{--background: white;--border-radius: 8px;--width: 740px}.product-image[_ngcontent-%COMP%]{max-width:250px}@media (min-width: 768px){.product-image[_ngcontent-%COMP%]{max-width:100%}}app-bidding-progress-bar[_ngcontent-%COMP%]     .progress-bar{height:2.75rem;border-width:2px}app-order-rating[_ngcontent-%COMP%]     ion-icon{height:1rem;width:1rem}.pool-text[_ngcontent-%COMP%]{font-size:15px}.launch-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(7,121,255),rgb(9,35,255))}.launch-btn[_ngcontent-%COMP%]:disabled{color:#8d8d8d;background:rgba(237,235,235,.5);border:1px solid #ddd;cursor:default!important}app-bidding-ticket-count[_ngcontent-%COMP%]{width:125px}app-bidding-ticket-count[_ngcontent-%COMP%]     .bid-amount{height:100%}app-launch-pool-button[_ngcontent-%COMP%]    {width:180px}@media (min-width: 450px){app-launch-pool-button[_ngcontent-%COMP%]    {width:220px}}@media (min-width: 768px){app-launch-pool-button[_ngcontent-%COMP%]    {width:240px}}app-launch-pool-button[_ngcontent-%COMP%]     .content .title{font-size:1.125rem;line-height:1.75rem}@media (min-width: 450px){app-launch-pool-button[_ngcontent-%COMP%]     .content .title{font-size:1.5rem;line-height:2rem}}@media (min-width: 768px){app-launch-pool-button[_ngcontent-%COMP%]     .content .title{font-size:1.5rem;line-height:2rem}}"]}),n})();var Lo=c(54968),Qt=c(78372),y=c(3365),Do=c(93860),Ft=c(81152),Yt=c(46032),jt=c(52646),Rt=c(40432),Ht=c(8136),Kt=c(35198),Gt=c(56095),zt=c(49127),$t=c(45210),Wt=c(68514),Vt=c(18215),Xt=c(69799),Tt=c(16879),te=c(92974),Bo=c(48767),ee=c(95030),Eo=c(95698),ne=c(37978);let oe=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-hyperlink-icon"]],decls:3,vars:0,consts:[["viewBox","0 0 24 24","fill","none",1,"w-full"],["id","Vector","d","M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(e,o){1&e&&(t.O4$(),t.TgZ(0,"svg",0)(1,"g"),t._UZ(2,"path",1),t.qZA()())},encapsulation:2}),n})();var Jo=c(8316);let ie=(()=>{class n{constructor(e){this.ngZone=e,this.repeat=0,this.repeatDelay=1.5}ngOnInit(){v.Z.isServer||this.ngZone.runOutsideAngular(()=>{this.playConfetti()})}getRndInteger(e,o){return Math.floor(Math.random()*(o-e+1))+e}randomFloatBetween(e,o,i){return typeof i>"u"&&(i=2),parseFloat(Math.min(e+Math.random()*(o-e),o).toFixed(i))}playConfetti(){(0,Jo.Z)({gsap:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"}).gsap.onLoad(()=>{document.querySelectorAll("#app-global-confetti path, svg g").forEach(function(O){O.removeAttribute("data-name")}),document.querySelectorAll('#app-global-confetti [id*="_Group"], svg [id*="_Path"]').forEach(function(O){O.removeAttribute("id")});const{TweenLite:o,Sine:i,TimelineMax:l}=window;o.randomEase=i.easeInOut;var P=new l({repeat:this.repeat,repeatDelay:this.repeatDelay});P.to("#app-global-confetti #confetti-particles",.5,{opacity:1}),document.querySelectorAll("#app-global-confetti #confetti-particles rect").forEach((O,w)=>{let D=new l({});var nt=this.getRndInteger(-400,400),ot=this.getRndInteger(200,800),q=this.randomFloatBetween(2,3),U=this.randomFloatBetween(.8,1.5);let K="-="+q/3;D.to(O,q,{x:nt},0).fromTo(O,q/3,{y:100},{y:-ot,ease:"power3.out"},0).to(O,q/2,{y:100,ease:"power1.in"},q/3).to(O,.5,{opacity:0},K).to(O,U,{transformOrigin:"50% 50%",rotation:Math.random()>.5?-360:360,repeat:1.5,ease:"linear"},0),P.add(D,0)})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-global-confetti-animation"]],inputs:{repeat:"repeat",repeatDelay:"repeatDelay"},standalone:!0,features:[t.jDz],decls:45,vars:0,consts:[["id","app-global-confetti","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 800 800"],["confetti",""],["id","confetti-particles",2,"opacity","0"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#42bcec"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#ed1d63"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#fcb316"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#7452a2"]],template:function(e,o){1&e&&(t.O4$(),t.TgZ(0,"svg",0,1)(2,"g",2),t._UZ(3,"rect",3)(4,"rect",4)(5,"rect",5)(6,"rect",5)(7,"rect",6)(8,"rect",4)(9,"rect",6)(10,"rect",3)(11,"rect",3)(12,"rect",3)(13,"rect",4)(14,"rect",5)(15,"rect",6)(16,"rect",5)(17,"rect",6)(18,"rect",6)(19,"rect",6)(20,"rect",3)(21,"rect",3)(22,"rect",3)(23,"rect",6)(24,"rect",3)(25,"rect",3)(26,"rect",3)(27,"rect",4)(28,"rect",5)(29,"rect",6)(30,"rect",5)(31,"rect",6)(32,"rect",6)(33,"rect",6)(34,"rect",3)(35,"rect",3)(36,"rect",3)(37,"rect",6)(38,"rect",4)(39,"rect",6)(40,"rect",3)(41,"rect",4)(42,"rect",3)(43,"rect",5)(44,"rect",6),t.qZA()())},styles:["svg[_ngcontent-%COMP%]{width:100%}"]}),n})();const Uo=["biddingButton"];function qo(n,r){1&n&&(t.TgZ(0,"span",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"you")))}function No(n,r){if(1&n&&(t.TgZ(0,"div",23)(1,"div",24),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",25),t._UZ(5,"img",26),t.TgZ(6,"span",27),t._uU(7),t.ALo(8,"translate"),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(1),t.ekj("invisible",!e.selectedPool.bidAmount),t.xp6(1),t.hij(" ",t.lcZ(3,4,"entered-pool")," "),t.xp6(5),t.Oqu(t.lcZ(8,6,"pool-filling-up"))}}function Qo(n,r){1&n&&t._UZ(0,"app-global-confetti-animation",30),2&n&&t.Q6J("repeat",-1)("repeatDelay",4)}function Fo(n,r){if(1&n&&(t.YNc(0,Qo,1,2,"app-global-confetti-animation",28),t._UZ(1,"app-bidding-pool-status",29)),2&n){const e=t.oxw(3);t.Q6J("ngIf",e.showConfetti),t.xp6(1),t.Q6J("pool",e.selectedPool)("showLoadingNextPool",!1)}}function Yo(n,r){1&n&&(t.TgZ(0,"div",31)(1,"div",32),t._UZ(2,"img",33),t.qZA()())}function jo(n,r){if(1&n&&(t.TgZ(0,"a",40),t._UZ(1,"img",41),t._uU(2),t.ALo(3,"translate"),t._UZ(4,"div",37),t.qZA()),2&n){const e=t.oxw(4);t.Q6J("href",e.selectedPool.scanUrl,t.LSH),t.xp6(2),t.hij(" ",t.lcZ(3,2,"view-on-bsc")," ")}}function Ro(n,r){1&n&&(t.TgZ(0,"div",42),t._UZ(1,"img",41),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"drawing-soon")," "))}function Ho(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",34)(1,"button",35),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.onBidMore.emit(!0))}),t._UZ(2,"img",36),t._uU(3),t.ALo(4,"translate"),t._UZ(5,"div",37),t.qZA(),t.YNc(6,jo,5,4,"a",38),t.YNc(7,Ro,4,3,"ng-template",null,39,t.W1O),t.qZA()}if(2&n){const e=t.MAs(8),o=t.oxw(3);t.xp6(3),t.hij(" ",t.lcZ(4,3,"bid-more")," "),t.xp6(3),t.Q6J("ngIf",o.selectedPool.scanUrl)("ngIfElse",e)}}function Ko(n,r){if(1&n&&(t.TgZ(0,"div",46)(1,"app-tooltip",47)(2,"span",48)(3,"div",46),t._UZ(4,"ion-icon",49),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",50)(8,"p",51),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"a",52),t._uU(12),t.ALo(13,"translate"),t._UZ(14,"app-hyperlink-icon",53),t.qZA()()(),t._UZ(15,"img",54),t._uU(16),t.TgZ(17,"button",55),t._UZ(18,"app-copy-icon",56),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("hoverBg",!1),t.xp6(4),t.hij(" ",t.lcZ(6,8,"pool-winning-ticket")," "),t.xp6(4),t.Oqu(t.lcZ(10,10,"winning-ticket-tooltip")),t.xp6(2),t.Q6J("href",e.selectedPool.scanUrl,t.LSH),t.xp6(1),t.hij(" ",t.lcZ(13,12,"winning-tooltip-seelink")," "),t.xp6(4),t.hij(" ",e.getFormattedTicketId(e.selectedPool.winningTicketId)," "),t.xp6(1),t.s9C("appCopying",e.selectedPool.winningTicketId),t.Q6J("showToast",!0)}}function Go(n,r){if(1&n&&t._UZ(0,"app-bidding-pool-status",57),2&n){const e=t.oxw(4);t.Q6J("pool",e.selectedPool)("showLoadingNextPool",!1)}}function zo(n,r){if(1&n&&(t.TgZ(0,"div",43),t.YNc(1,Ko,19,14,"div",44),t.YNc(2,Go,1,2,"ng-template",null,45,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",o.selectedPool.winningTicketId)("ngIfElse",e)}}const $o=function(n){return{userId:n}};function Wo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4),t._UZ(2,"img",5),t.TgZ(3,"div",6),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.YNc(6,qo,3,3,"span",7),t.qZA(),t.TgZ(7,"div",8),t._UZ(8,"app-bidding-progress-bar",9),t.TgZ(9,"div",10)(10,"div",11),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"div",12)(14,"div",13),t.YNc(15,No,9,8,"div",14),t.YNc(16,Fo,2,3,"ng-template",null,15,t.W1O),t.qZA(),t.YNc(18,Yo,3,0,"div",16),t.TgZ(19,"app-bid-button",17),t.NdJ("onPoolCompleted",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onPoolCompleted(i))}),t.qZA()(),t.TgZ(20,"div",18),t.YNc(21,Ho,9,5,"div",19),t.TgZ(22,"div",20),t.YNc(23,zo,4,2,"div",21),t.qZA()()()}if(2&n){const e=r.ngLet,o=t.MAs(17),i=t.oxw(2);t.xp6(2),t.Q6J("src",i.selectedPool.poolOwner.avatar,t.LSH),t.xp6(2),t.hij(" ",t.xi3(5,19,"users-pool",t.VKq(24,$o,i.maskedUsername(i.selectedPool)))," "),t.xp6(2),t.Q6J("ngIf",(null==e?null:e.id)==i.selectedPool.poolOwner.id),t.xp6(2),t.Q6J("currentPoolPercentage",i.selectedPool.currentPoolPercentage)("hasEntered",i.selectedPool.bidAmount>0),t.xp6(3),t.AsE(" ",t.lcZ(12,22,"pool-id"),": ",i.selectedPool.poolId," "),t.xp6(2),t.s9C("id","main-pool-product-"+i.product.id),t.xp6(1),t.Q6J("ngClass",i.isPoolOpen?"lg:ml-2 -mt-6":"flex items-center lg:-mt-6"),t.xp6(1),t.Q6J("ngIf",i.isPoolOpen)("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",(null==i.selectedPool?null:i.selectedPool.status)===i.poolStatus.DRAWING||(null==i.selectedPool?null:i.selectedPool.status)===i.poolStatus.NOT_STARTED||(null==i.selectedPool?null:i.selectedPool.status)===i.poolStatus.LOADING_NEXT_POOL||(null==i.selectedPool?null:i.selectedPool.status)===i.poolStatus.DRAWING_START_SOON),t.xp6(1),t.Q6J("product",i.product)("pool",i.selectedPool)("isLogin",!!e)("animationTarget","#product-main-pool"),t.xp6(1),t.Q6J("ngClass",i.isPoolOpen?"lg:justify-end":"lg:justify-between"),t.xp6(1),t.Q6J("ngIf",!i.isPoolOpen),t.xp6(2),t.Q6J("ngIf",!i.isPoolOpen)}}function Vo(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Wo,24,26,"div",2),t.ALo(2,"async"),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,e.userService.userInfo$))}}function Xo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-launch-pool-button",61),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t.qZA()}if(2&n){const e=t.oxw().ngLet;t.Q6J("canLaunchPool",!!e)}}function ti(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-launch-pool",60),t.NdJ("openLaunchPoolModal",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onLaunchPool.emit(!0))}),t.YNc(1,Xo,1,1,"ng-template"),t.qZA()}2&n&&t.Q6J("canLaunchPool",!!r.ngLet)("allowDirectLaunch",!0)}function ei(n,r){if(1&n&&(t.TgZ(0,"div",58),t.YNc(1,ti,2,2,"app-launch-pool",59),t.ALo(2,"async"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,e.biddingService.canLaunchPool$))}}let ni=(()=>{class n extends H.V{constructor(e,o,i){super(),this.biddingService=e,this.userService=o,this.cdr=i,this.biddingButton=null,this.onLaunchPool=new t.vpe,this.onBidMore=new t.vpe,this.poolStatus=y.j,this.showConfetti=!1}get isPoolOpen(){return this.selectedPool&&this.selectedPool?.status==y.j.OPEN}ngOnInit(){this.biddingService.selectedPool$.pipe((0,u.R)(this.destroyStream$)).subscribe(e=>{this.selectedPool=e,!v.Z.isServer&&this.selectedPool?.hasCurrentUserWon?setTimeout(()=>{this.displayConfetti()},500):this.hideConfeti(),this.cdr.detectChanges(),this.initPollSelectedPool()}),this.biddingService.ticketCount$.pipe((0,u.R)(this.destroyStream$)).subscribe(()=>{this.cdr.detectChanges()})}maskedUsername(e){return e?.poolOwner?.userId.replace(e.poolOwner.userId.substring(2,e.poolOwner.userId.length-2),"*".repeat(e.poolOwner.userId.length-2-2))??"**"}onPoolCompleted(e){var o=this;return(0,f.Z)(function*(){v.Z.isBrowser&&o.selectedPool&&(e.status=10,o.cdr.detectChanges(),o.biddingService.onSelectedPoolStatusChanged$.next(o.selectedPool),yield(0,T.n)((0,R.H)(5e3))),o.initPollSelectedPool()})()}initPollSelectedPool(){if(v.Z.isBrowser){if(this.subscription&&this.subscription.unsubscribe(),!this.selectedPool?.poolId||[y.j.DRAWN,y.j.EXPIRED,y.j.PAUSED].includes(this.selectedPool.status))return;this.subscription=(0,R.H)(4e3,4e3).pipe((0,u.R)(this.destroyStream$)).subscribe(()=>{this.refreshMainPoolStatus()})}}refreshMainPoolStatus(){console.log("REFRESH MAIN POOL!!!!"),this.selectedPool?.poolId&&![y.j.DRAWN,y.j.EXPIRED,y.j.PAUSED].includes(this.selectedPool.status)&&this.biddingService.getProductPools({page:0,rows:10,poolId:this.selectedPool.poolId}).pipe((0,Eo.q)(1)).subscribe(e=>{const o=e?.rows?e.rows.find(i=>i.id==this.selectedPool?.poolId):null;if(o&&this.selectedPool){if(o.status===y.j.OPEN){const i=Math.max(o.currentTickets,this.selectedPool.currentPoolSize),a=Math.max((0,z.DU)(o.currentTickets,o.maxTickets),this.selectedPool.currentPoolPercentage),l=Math.max(o.userTotalTickets,this.selectedPool.bidAmount),P=i!=this.selectedPool.currentPoolSize||l!=this.selectedPool.bidAmount;return this.selectedPool.currentPoolSize=i,this.selectedPool.currentPoolPercentage=a,this.selectedPool.bidAmount=l,void(P&&this.biddingService.onSelectedPoolStatusChanged$.next(this.selectedPool))}this.selectedPool.currentPoolSize=o.currentTickets,this.selectedPool.currentPoolPercentage=(0,z.DU)(o.currentTickets,o.maxTickets),this.selectedPool.poolLimit=o.maxTickets,this.selectedPool.bidAmount=o.userTotalTickets,this.selectedPool.status=o.status,this.selectedPool.winningTicketId=o.participateId,this.selectedPool.winnerUserId=o.winnerId,this.selectedPool.winnerAvatar=o.winnerAvatar??"assets/images/sign-up-user.svg",this.selectedPool.winnerName=o.winnerName,this.selectedPool.formattedTicketId=this.getFormattedTicketId(o.participateId),this.selectedPool.hasCurrentUserWon=o.isIWon,this.selectedPool.scanUrl=o.scanUrl,this.cdr.detectChanges()}this.biddingService.onSelectedPoolStatusChanged$.next(this.selectedPool)})}displayConfetti(){this.showConfetti=!0}hideConfeti(){this.showConfetti=!1}getFormattedTicketId(e,o=6){return e?e.substring(2,2+o)+"..."+e.substring(e.length-o,e.length):""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(J.g),t.Y36(E.K),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bidding-main-pool"]],viewQuery:function(e,o){if(1&e&&t.Gf(Uo,5),2&e){let i;t.iGM(i=t.CRH())&&(o.biddingButton=i.first)}},inputs:{product:"product"},outputs:{onLaunchPool:"onLaunchPool",onBidMore:"onBidMore"},features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noPool",""],["class","flex flex-col gap-2",4,"ngLet"],[1,"flex","flex-col","gap-2"],[1,"font-medium","flex","flex-nowrap","items-center"],[1,"mr-1","object-cover","rounded-full","h-8","w-8",3,"src"],[1,"truncate"],["style","--color: rgb(4, 127, 255)","class","tag capitalize text-white",4,"ngIf"],[1,"relative"],[3,"currentPoolPercentage","hasEntered"],[1,"flex","justify-end","text-gray-500","font-medium","mt-2","-mb-1.5"],[1,"select-none"],[1,"flex","justify-between","mt-1","relative",3,"id"],[1,"w-fit",3,"ngClass"],["class","text-black font-medium absolute lg:mt-0.5",4,"ngIf","ngIfElse"],["poolClosed",""],["class","flex-1 w-full flex items-center justify-center overflow-hidden lg:-mt-6",4,"ngIf"],["id","product-main-pool",3,"product","pool","isLogin","animationTarget","onPoolCompleted"],[1,"flex","flex-col-reverse","lg:flex-row","items-end","lg:items-start","gap-2","text-gray-500","font-medium","mt-1.5","mb-0.5",3,"ngClass"],["class","flex flex-wrap items-center justify-start gap-2 lg:-mt-5 w-full md:w-auto",4,"ngIf"],[1,"flex","flex-col"],["class","flex gap-1 mt-1.5 flex-nowrap items-center",4,"ngIf"],[1,"tag","capitalize","text-white",2,"--color","rgb(4, 127, 255)"],[1,"text-black","font-medium","absolute","lg:mt-0.5"],[1,"own-pool","text-base","text-center","rounded-md","w-fit","2md:-mt-2","mb-1.5","font-bold","py-0.5","px-3","select-none"],[1,"filling-up","flex","items-center","gap-2"],["src","assets/images/bidding/hat-with-ticket.png",1,"h-6","2md:h-12"],[1,"animated-elipsis","text-base","2md:text-2xl","font-medium","pr-2"],["class","block pointer-events-none z-20 left-16 absolute bottom-0",3,"repeat","repeatDelay",4,"ngIf"],[1,"main-pool-status","w-fit",3,"pool","showLoadingNextPool"],[1,"block","pointer-events-none","z-20","left-16","absolute","bottom-0",3,"repeat","repeatDelay"],[1,"flex-1","w-full","flex","items-center","justify-center","overflow-hidden","lg:-mt-6"],[1,"dot-floating","relative","inline"],["src","assets/images/ticket.png","alt","",1,"w-5"],[1,"flex","flex-wrap","items-center","justify-start","gap-2","lg:-mt-5","w-full","md:w-auto"],[1,"bid-more","flex-1","md:flex-none","h-12","relative","flex","justify-between","items-center","px-1","rounded-lg","text-black","font-bold","text-lg","overflow-hidden","whitespace-nowrap",2,"min-width","144px",3,"click"],["src","assets/images/Mascot TICKETS 512w-min.png",1,"ml-0.5","mr-1","select-none"],[1,"w-6","md:w-2"],["target","_blank","class","view-on-bsc flex-1 md:flex-none h-12 relative flex justify-between items-center rounded-lg text-white font-medium text-lg pl-0.5 pr-4 sm:pr-2 whitespace-nowrap",3,"href",4,"ngIf","ngIfElse"],["drawingSoon",""],["target","_blank",1,"view-on-bsc","flex-1","md:flex-none","h-12","relative","flex","justify-between","items-center","rounded-lg","text-white","font-medium","text-lg","pl-0.5","pr-4","sm:pr-2","whitespace-nowrap",3,"href"],["src","assets/images/bidding/BSC-min.png",1,"select-none","w-10"],[1,"view-on-bsc","h-12","relative","flex","items-center","rounded-lg","text-white","font-medium","text-lg","pl-0.5","pr-2"],[1,"flex","gap-1","mt-1.5","flex-nowrap","items-center"],["class","flex items-center",4,"ngIf","ngIfElse"],["poolStatus",""],[1,"flex","items-center"],[1,"inline-flex",3,"hoverBg"],["tooltipBtn","",1,"tag-2","whitespace-nowrap","text-white","capitalize","!mr-4",2,"--color","#d841ff"],["name","help-circle-outline",1,"w-5","h-5","pointer-events-none","mr-0.5"],[1,"tooltip-content-wrapper","p-2","text-left","text-base",2,"width","300px"],[1,"mb-1"],["target","_blank",1,"!text-[#027fff]","flex","items-center","font-medium",3,"href"],[1,"w-5","ml-1"],["src","assets/images/ticket.png",1,"ticket-image","mr-1","object-cover"],[1,"flex","ml-1",3,"showToast","appCopying"],[1,"h-5","w-5","block","text-gray-600","opacity-60"],[3,"pool","showLoadingNextPool"],[1,"pb-12","pt-8","mt-9","mb-2"],[3,"canLaunchPool","allowDirectLaunch","openLaunchPoolModal",4,"ngLet"],[3,"canLaunchPool","allowDirectLaunch","openLaunchPoolModal"],[1,"block","mx-auto",2,"width","224px",3,"canLaunchPool","click"]],template:function(e,o){if(1&e&&(t.YNc(0,Vo,3,3,"ng-container",0),t.YNc(1,ei,3,3,"ng-template",null,1,t.W1O)),2&e){const i=t.MAs(2);t.Q6J("ngIf",o.selectedPool)("ngIfElse",i)}},dependencies:[s.mk,s.O5,X.Q,tt.p,Y.h,V.w,it.u,rt.P,dt.h,Tt.j,ne.u,oe,d.gu,ie,s.Ov,m.X$],styles:['@charset "UTF-8";app-bidding-progress-bar[_ngcontent-%COMP%]     .progress-bar{height:3rem;border-width:3px}.pool-text[_ngcontent-%COMP%]{font-size:26px}.own-pool[_ngcontent-%COMP%]{color:#db46f8;background-color:#fae3ff;min-width:100px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar .bid-amount{font-size:23px;padding-left:20px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar .bid-amount.large-value{padding-left:44px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar .bid-amount .my-entries-label{font-size:12px;line-height:12px;margin-top:2px;margin-bottom:1px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar img{height:27px!important;margin-left:5px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar .enter-now{margin-left:30px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar.disabled{color:#7c7d7f;background-color:#f4f5f9;border-color:#cacaca;border-width:2px}.launch-pool[_ngcontent-%COMP%]{color:#0087ff}.launch-pool.disabled[_ngcontent-%COMP%]{color:#9ca3af;cursor:default!important}.no-pool-bar[_ngcontent-%COMP%]     .progress-bar{border-color:#c3c3c3}.ticket-image[_ngcontent-%COMP%]{width:20px!important;height:20px;min-width:20px}app-bidding-pool-status.main-pool-status[_ngcontent-%COMP%]     .pool-status{font-size:1.25rem;line-height:1.75rem;font-weight:900}app-bidding-pool-status.main-pool-status[_ngcontent-%COMP%]     .you-won{line-height:48px!important;height:48px;padding-top:0;padding-bottom:0;padding-left:.875rem;padding-right:.875rem;font-size:1.5rem;line-height:2rem}.bid-more[_ngcontent-%COMP%]{background-color:#fbd95b;border:1px solid rgb(234,170,36)}.bid-more[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px;margin-top:15px}.view-on-bsc[_ngcontent-%COMP%]{background-color:#0b0f12;border:1px solid rgb(150,152,151)}.view-on-bsc[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.dot-floating[_ngcontent-%COMP%]{position:relative;animation:dot-floating 2s infinite cubic-bezier(.15,.6,.9,.1)}.dot-floating[_ngcontent-%COMP%]:before, .dot-floating[_ngcontent-%COMP%]:after{content:"";background:url(/assets/images/ticket.png);background-size:cover;display:inline-block;position:absolute;top:0;width:100%;height:100%}.dot-floating[_ngcontent-%COMP%]:before{left:-12px;animation:dot-floating-before 2s infinite ease-in-out}.dot-floating[_ngcontent-%COMP%]:after{left:-24px;animation:dot-floating-after 2s infinite cubic-bezier(.4,0,1,1)}@keyframes dot-floating{0%{left:calc(-50% - 5px)}75%{left:calc(50% + 80px)}to{left:calc(50% + 80px)}}@keyframes dot-floating-before{0%{left:-50px}50%{left:-30px}75%{left:-50px}to{left:0}}@keyframes dot-floating-after{0%{left:-100px}50%{left:-60px}75%{left:-100px}to{left:0}}app-global-confetti-animation[_ngcontent-%COMP%]{width:500px;transform:translate(-50%)}.tag[_ngcontent-%COMP%]{display:inline-block;z-index:1;text-align:center;height:20px;position:relative;border-left:none;background-color:var(--color);min-width:40px;margin-left:15px;padding-left:3px;border-radius:0 4px 4px 0;font-size:14px;line-height:20px;padding-right:6px}.tag[_ngcontent-%COMP%]:before{content:"";z-index:-1;position:absolute;top:3px;left:-7px;width:14px;height:14px;background-color:var(--color);border-right:none;border-top:none;transform:rotate(45deg)}.tag-2[_ngcontent-%COMP%]{display:inline-block;z-index:1;text-align:center;height:20px;position:relative;border-right:none;background-color:var(--color);min-width:40px;margin-right:15px;padding-left:6px;border-radius:4px 0 0 4px;font-size:14px;line-height:20px;padding-right:6px}.tag-2[_ngcontent-%COMP%]:before{content:"";z-index:-1;position:absolute;top:3px;right:-7px;width:14px;height:14px;background-color:var(--color);border-left:none;border-top:none;transform:rotate(45deg)}.animated-elipsis[_ngcontent-%COMP%]:after{overflow:hidden;display:inline-block;vertical-align:bottom;animation:ellipsis-animation steps(1,end) 2s infinite;content:"\\2026"}@keyframes ellipsis-animation{0%{clip-path:inset(0 100% 0 0)}25%{clip-path:inset(0 66.6% 0 0)}50%{clip-path:inset(0 33.3% 0 0)}75%{clip-path:inset(0 0 0 0)}}']}),n})();var oi=c(21075),pt=c(23556);function ii(n,r){1&n&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"you-won")))}function ri(n,r){1&n&&(t.TgZ(0,"span",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"pool-winner")))}function ai(n,r){if(1&n&&(t.ynx(0),t.YNc(1,ii,3,3,"span",13),t.YNc(2,ri,3,3,"span",14),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.entry.isUserOwnEntry),t.xp6(1),t.Q6J("ngIf",!e.entry.isUserOwnEntry)}}function ci(n,r){1&n&&(t.TgZ(0,"span",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"you")))}function si(n,r){if(1&n&&(t.TgZ(0,"a",24),t._UZ(1,"img",25),t.TgZ(2,"app-tooltip",26)(3,"div",27),t._uU(4),t.qZA(),t.TgZ(5,"div",28),t._uU(6),t._UZ(7,"app-copy-icon",29),t.qZA()(),t.TgZ(8,"span",30),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"div",31),t.TgZ(12,"app-tooltip",32),t._UZ(13,"ion-icon",33),t.TgZ(14,"div",28),t._uU(15),t.ALo(16,"date"),t.qZA()()()),2&n){const e=t.oxw().$implicit,o=t.oxw(2);t.Q6J("href",null==o.selectedPool?null:o.selectedPool.scanUrl,t.LSH),t.xp6(2),t.Q6J("preventEvent",!1)("hoverBg",!1),t.xp6(1),t.Q6J("showToast",!0)("appCopying",e.ticketId),t.xp6(1),t.hij(" ",o.getFormattedTicketId(e.ticketId)," "),t.xp6(2),t.hij("",e.ticketId," "),t.xp6(3),t.Oqu(t.lcZ(10,9,"pool-winning-ticket")),t.xp6(6),t.hij(" ",t.xi3(16,11,o.entry.date,"YYYY-MM-dd HH:mm:ss")," ")}}function li(n,r){if(1&n&&(t.TgZ(0,"app-tooltip",32),t._UZ(1,"ion-icon",33),t.TgZ(2,"div",28),t._uU(3),t.ALo(4,"date"),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(3),t.hij(" ",t.xi3(4,1,e.entry.date,"YYYY-MM-dd HH:mm:ss")," ")}}function di(n,r){if(1&n&&(t.TgZ(0,"div",34),t._UZ(1,"img",25),t.TgZ(2,"app-tooltip",26)(3,"div",27),t._uU(4),t.qZA(),t.TgZ(5,"div",28),t._uU(6),t._UZ(7,"app-copy-icon",29),t.qZA()(),t._UZ(8,"div",31),t.YNc(9,li,5,4,"app-tooltip",35),t.qZA()),2&n){const e=t.oxw(),o=e.$implicit,i=e.index,a=t.oxw(2);t.xp6(2),t.Q6J("preventEvent",!1)("hoverBg",!1),t.xp6(1),t.Q6J("showToast",!0)("appCopying",o.ticketId),t.xp6(1),t.hij(" ",a.getFormattedTicketId(o.ticketId)," "),t.xp6(2),t.hij("",o.ticketId," "),t.xp6(3),t.Q6J("ngIf",0==i)}}function pi(n,r){if(1&n&&(t.TgZ(0,"div",21),t.YNc(1,si,17,14,"a",22),t.YNc(2,di,10,7,"ng-template",null,23,t.W1O),t.qZA()),2&n){const e=r.index,o=t.MAs(3),i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0==e&&i.entry.isWinner)("ngIfElse",o)}}const gi=function(){return["/member","my-entries","list"]};function _i(n,r){1&n&&(t.TgZ(0,"div",36)(1,"a",37),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("routerLink",t.DdM(4,gi)),t.xp6(1),t.Oqu(t.lcZ(3,2,"see-all")))}function ui(n,r){if(1&n&&(t.TgZ(0,"div",18),t.YNc(1,pi,4,2,"div",19),t.YNc(2,_i,4,5,"div",20),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.entry.entries),t.xp6(1),t.Q6J("ngIf",e.entry.tickets>1)}}const mi=function(n){return{isChanging:n}},fi=function(n){return{"rotate-180":n}};let hi=(()=>{class n{constructor(e){this.cdr=e,this.selectedPool=null,this.isExpanded=!1,this.isChanging=!1}getMaskedUsername(e){return e.replace(e.substring(2,e.length-2),"***")??"**"}getFormattedTicketId(e,o=6){return e?e.substring(2,2+o)+"..."+e.substring(e.length-o,e.length):""}ngOnChanges(e){const o=e.entry;o&&!o.isFirstChange()&&o.previousValue!==o.currentValue&&o.currentValue?.tickets>o.previousValue.tickets&&(this.isChanging=!0,setTimeout(()=>{this.isChanging=!1,this.cdr.markForCheck()},1100))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bidding-entry-item"]],hostVars:2,hostBindings:function(e,o){2&e&&t.ekj("isExpanded",o.isExpanded)},inputs:{entry:"entry",selectedPool:"selectedPool"},features:[t.TTD],decls:16,vars:15,consts:[[1,"entry","w-full","gap-2","justify-between","flex","px-2.5","border-t","border-slate-200","py-1.5","cursor-pointer",3,"ngClass","click"],[1,"font-medium","text-black","flex","flex-nowrap","items-center","flex-1","2xs:flex-none","2xs:w-5/12","sm:w-48","md:w-32","2md:w-48","lg:w-52","xl:w-56"],[1,"mr-1","w-8","h-8","flex-shrink-0","rounded-full","relative","overflow-hidden"],[1,"object-cover","w-full","h-full",3,"src"],[1,""],[4,"ngIf"],["style","--color: rgb(4, 127, 255)","class","tag text-white capitalize",4,"ngIf"],[1,"flex","items-center","gap-2"],[1,"font-medium","text-gray-600","hidden","2xs:flex","flex-nowrap","items-center","pl-2"],[1,"date","text-right"],[1,"flex","justify-center","items-center","w-fit","cursor-pointer"],["name","chevron-down-outline",1,"transition-transform","text-xl","ml-1","mr-2","text-gray-400",3,"ngClass"],["class","bg-slate-50 expanded-entries",4,"ngIf"],["style","--color: rgb(4, 127, 255)","class","tag text-white capitalize whitespace-nowrap",4,"ngIf"],["style","--color: #FFDC3F","class","tag text-black capitalize whitespace-nowrap",4,"ngIf"],[1,"tag","text-white","capitalize","whitespace-nowrap",2,"--color","rgb(4, 127, 255)"],[1,"tag","text-black","capitalize","whitespace-nowrap",2,"--color","#FFDC3F"],[1,"tag","text-white","capitalize",2,"--color","rgb(4, 127, 255)"],[1,"bg-slate-50","expanded-entries"],["class","w-full gap-2 justify-start flex pl-3 2md:pl-10 pr-2.5 py-1",4,"ngFor","ngForOf"],["class","text-center capitalize text-lg font-medium",4,"ngIf"],[1,"w-full","gap-2","justify-start","flex","pl-3","2md:pl-10","pr-2.5","py-1"],["target","__blank","class","font-medium text-gray-600 flex flex-nowrap items-center w-full",3,"href",4,"ngIf","ngIfElse"],["normalTicket",""],["target","__blank",1,"font-medium","text-gray-600","flex","flex-nowrap","items-center","w-full",3,"href"],["src","assets/images/ticket.png",1,"ticket-image","mr-1","object-cover"],[1,"flex",3,"preventEvent","hoverBg"],["tooltipBtn","",1,"ticket-id",3,"showToast","appCopying"],[1,"font-medium","p-2"],[1,"w-5","inline-block","align-sub"],[1,"tag","whitespace-nowrap","text-white","capitalize","!ml-4",2,"--color","#d841ff"],[1,"flex-1"],[1,"flex","2xs:hidden"],["tooltipBtn","","name","time-outline",1,"text-black"],[1,"font-medium","text-gray-600","flex","flex-nowrap","items-center","w-full"],["class","flex 2xs:hidden",4,"ngIf"],[1,"text-center","capitalize","text-lg","font-medium"],["href","",1,"text-primary","block","py-2",3,"routerLink"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return o.isExpanded=!o.isExpanded}),t.TgZ(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4),t._uU(5),t.YNc(6,ai,3,2,"ng-container",5),t.YNc(7,ci,3,3,"span",6),t.qZA()(),t.TgZ(8,"div",7)(9,"div",8)(10,"div",9),t._uU(11),t.ALo(12,"date"),t.qZA()(),t.TgZ(13,"div",10),t._UZ(14,"ion-icon",11),t.qZA()()(),t.YNc(15,ui,3,2,"div",12)),2&e&&(t.Q6J("ngClass",t.VKq(11,mi,o.isChanging)),t.xp6(3),t.Q6J("src",o.entry.avatar,t.LSH),t.xp6(2),t.hij(" ",o.entry.maskedUserId," "),t.xp6(1),t.Q6J("ngIf",o.entry.isWinner),t.xp6(1),t.Q6J("ngIf",!o.entry.isWinner&&o.entry.isUserOwnEntry),t.xp6(4),t.hij(" ",t.xi3(12,8,o.entry.date,"YYYY-MM-dd HH:mm:ss")," "),t.xp6(3),t.Q6J("ngClass",t.VKq(13,fi,o.isExpanded)),t.xp6(1),t.Q6J("ngIf",o.isExpanded))},dependencies:[s.mk,s.sg,s.O5,X.Q,tt.p,ne.u,d.gu,d.Fo,b.yS,s.uU,m.X$],styles:['[_nghost-%COMP%]:hover{background-color:#f1f5f9}.isExpanded[_nghost-%COMP%]{background-color:#f1f5f9}.entry[_ngcontent-%COMP%]{transition:background-color 1s}.entry.isChanging[_ngcontent-%COMP%]{background-color:#bacbf9}.ticket[_ngcontent-%COMP%]{width:60px}@media (min-width: 1280px){.ticket[_ngcontent-%COMP%]{width:88px}}.ticket-image[_ngcontent-%COMP%]{width:20px!important;height:20px;min-width:20px}.tag[_ngcontent-%COMP%]{display:inline-block;z-index:1;text-align:center;height:20px;position:relative;border-left:none;background-color:var(--color);min-width:40px;margin-left:12px;padding-left:3px;border-radius:0 4px 4px 0;font-size:14px;line-height:20px;padding-right:6px}.tag[_ngcontent-%COMP%]:before{content:"";z-index:-1;position:absolute;top:3px;left:-7px;width:14px;height:14px;background-color:var(--color);border-right:none;border-top:none;transform:rotate(45deg)}.expanded-entries[_ngcontent-%COMP%]{box-shadow:inset 0 29px 13px -17px #0000001a,inset 0 -29px 13px -17px #0000000d}']}),n})();function xi(n,r){if(1&n&&(t.TgZ(0,"a",19),t._UZ(1,"img",20),t.TgZ(2,"div",21),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"app-hyperlink-icon",22),t.qZA()),2&n){const e=t.oxw();t.Q6J("href",null==e.selectedPool?null:e.selectedPool.scanUrl,t.LSH),t.xp6(3),t.hij(" ",t.lcZ(4,2,"validate-results")," ")}}function bi(n,r){1&n&&(t.TgZ(0,"div",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"contract-open-after-fill")," "))}function vi(n,r){if(1&n&&(t.TgZ(0,"div",23),t._UZ(1,"img",20),t.YNc(2,bi,3,3,"div",24),t.qZA()),2&n){const e=t.oxw(),o=t.MAs(18);t.xp6(2),t.Q6J("ngIf",!e.selectedPool||e.selectedPool.status==e.poolStatus.OPEN)("ngIfElse",o)}}function Pi(n,r){if(1&n&&t._UZ(0,"app-bidding-pool-status",25),2&n){const e=t.oxw();t.Q6J("pool",e.selectedPool)("showLoadingNextPool",!1)}}function wi(n,r){if(1&n&&t._UZ(0,"app-bidding-entry-item",26),2&n){const e=r.$implicit,o=t.oxw();t.Q6J("selectedPool",o.selectedPool)("entry",e)}}function Ci(n,r){if(1&n&&(t.TgZ(0,"div",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,e.entries.length>0?e.total>5?"no-more-entries":"":"no-entries-found")," ")}}function Ti(n,r){1&n&&(t.TgZ(0,"div",29)(1,"p"),t._UZ(2,"ion-skeleton-text",30),t.qZA(),t.TgZ(3,"p"),t._UZ(4,"ion-skeleton-text",30),t.qZA(),t.TgZ(5,"p"),t._UZ(6,"ion-skeleton-text",30),t.qZA(),t.TgZ(7,"p"),t._UZ(8,"ion-skeleton-text",30),t.qZA(),t.TgZ(9,"p"),t._UZ(10,"ion-skeleton-text",30),t.qZA(),t.TgZ(11,"p"),t._UZ(12,"ion-skeleton-text",30),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0))}function Oi(n,r){if(1&n&&t.YNc(0,Ti,13,6,"div",28),2&n){const e=t.oxw();t.Q6J("ngIf",!e.pageLoaded)}}function yi(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",31)(1,"app-pagination",32),t.NdJ("onPageClick",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.getBiddingEntries(i-1))}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("curPage",e.pageParams.page+1)("numOfPages",e.numOfPages)}}let Mi=(()=>{class n extends H.V{constructor(e,o,i){super(),this.biddingService=e,this.userService=o,this.cdr=i,this.expanded="first",this.poolStatus=y.j,this.entries=[],this.pageParams={page:0,rows:10,onlyShowMyself:!1,groupBuyingId:0},this.total=0,this.numOfPages=1,this.pageLoaded=!1,this.selectedPool=this.biddingService.selectedPool$.getValue(),this.cookiesKey="accordion-bidding"}ngOnInit(){this.expanded=this.userService.cookiesObj[this.cookiesKey]??"first",this.biddingService.selectedPool$.pipe((0,u.R)(this.destroyStream$)).subscribe(e=>{if(this.subscription&&this.subscription.unsubscribe(),this.selectedPool=e,!e?.poolId)return this.pageParams.page=0,this.total=0,this.numOfPages=1,void(this.pageLoaded=!0);this.total||(this.pageLoaded=!1),this.pageParams={page:0,rows:10,onlyShowMyself:this.pageParams.onlyShowMyself,groupBuyingId:parseInt(e.poolId)},this.getBiddingEntries(0),this.initPollSelectedPoolEntries()})}initPollSelectedPoolEntries(){v.Z.isBrowser&&(this.subscription&&this.subscription.unsubscribe(),this.subscription=(0,R.H)(6e3,6e3).pipe((0,u.R)(this.destroyStream$)).subscribe(()=>{this.getBiddingEntries(this.pageParams.page)}))}onChangeFilter(e){this.pageParams={page:0,rows:10,onlyShowMyself:e,groupBuyingId:this.pageParams.groupBuyingId},this.getBiddingEntries(0)}getBiddingEntries(e){this.biddingService.getPoolEntriesForProduct({...this.pageParams,page:e}).pipe((0,u.R)(this.destroyStream$)).subscribe(o=>{this.entries=(o?.rows||[]).map(i=>({...i,userId:i.membersId,userName:i.membersName,avatar:i.membersAvatar??"assets/images/sign-up-user.svg",tickets:i.ticketsAmount,date:i.createdDate,maskedUserId:this.getMaskedUsername(i.membersName),entries:i.entries.slice(0,10).map(a=>({ticketId:a.ticketsId})),isWinner:i.isWinner,entriesVisible:!1})),console.log("Received entries",this.entries),this.pageParams.page=e,this.total=o?.total??0,this.numOfPages=Math.ceil(this.total/this.pageParams.rows),this.pageLoaded=!0,this.cdr.detectChanges()})}getMaskedUsername(e){return e.replace(e.substring(2,e.length-2),"***")??"**"}getFormattedTicketId(e,o=6){return e?e.substring(2,2+o)+"..."+e.substring(e.length-o,e.length):""}handleChange(e){(0,oi.d8)(this.cookiesKey,e.detail.value,{expires:new Date(Date.now()+3456e7).toUTCString()})}identify(e,o){return o.membersName+o.createdDate}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(J.g),t.Y36(E.K),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bidding-entries"]],inputs:{product:"product"},features:[t.qOj],decls:26,vars:17,consts:[[3,"value","ionChange"],["value","first"],["slot","header","color","light",1,"rounded"],[1,"font-medium","!text-xl","pt-0.5"],["slot","content",1,"content"],[1,"flex","flex-col","sm:flex-row","gap-4","sm:gap-0","px-3","py-2","justify-between"],[1,"flex"],[1,"filter-item","px-3","py-0.5","rounded-xl","font-medium",3,"click"],[1,"flex","items-center","text-base","font-medium","tracking-tight","pr-3","relative","capitalize"],["name","caret-down-outline",1,"absolute","-right-1.5"],["target","_blank","class","flex items-center gap-1 cursor-pointer",3,"href",4,"ngIf","ngIfElse"],["noContract",""],["selectedPoolStatus",""],["visibility","hover",1,"w-full",2,"max-height","230px","min-height","230px",3,"autoHeightDisabled"],[1,"entries","w-full","flex","flex-col"],["class","block",3,"selectedPool","entry",4,"ngFor","ngForOf","ngForTrackBy"],["class","w-full text-center mt-3 text-gray-400 flex-1 flex justify-center items-center",4,"ngIf","ngIfElse"],["notLoaded",""],["class","p-4 mt-2",4,"ngIf"],["target","_blank",1,"flex","items-center","gap-1","cursor-pointer",3,"href"],["src","assets/images/bidding/BSC-min.png",1,"h-6","w-6"],[1,"font-medium"],[1,"text-[#027fff]","w-6"],[1,"flex","items-center","gap-1","cursor-default"],["class","font-medium",4,"ngIf","ngIfElse"],[3,"pool","showLoadingNextPool"],[1,"block",3,"selectedPool","entry"],[1,"w-full","text-center","mt-3","text-gray-400","flex-1","flex","justify-center","items-center"],["class","w-full text-center mt-1 text-gray-400",4,"ngIf"],[1,"w-full","text-center","mt-1","text-gray-400"],[1,"w-full","mx-2",3,"animated"],[1,"p-4","mt-2"],[1,"flex","justify-end",3,"curPage","numOfPages","onPageClick"]],template:function(e,o){if(1&e&&(t.TgZ(0,"ion-accordion-group",0),t.NdJ("ionChange",function(a){return o.handleChange(a)}),t.TgZ(1,"ion-accordion",1)(2,"ion-item",2)(3,"ion-label",3),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"button",7),t.NdJ("click",function(){return o.onChangeFilter(!1)}),t.TgZ(10,"div",8),t._uU(11),t.ALo(12,"translate"),t._UZ(13,"ion-icon",9),t.qZA()()(),t.YNc(14,xi,6,4,"a",10),t.YNc(15,vi,3,2,"ng-template",null,11,t.W1O),t.YNc(17,Pi,1,2,"ng-template",null,12,t.W1O),t.qZA(),t.TgZ(19,"ng-scrollbar",13)(20,"div",14),t.YNc(21,wi,1,2,"app-bidding-entry-item",15),t.YNc(22,Ci,3,3,"div",16),t.YNc(23,Oi,1,1,"ng-template",null,17,t.W1O),t.qZA(),t.YNc(25,yi,2,2,"div",18),t.qZA()()()()),2&e){const i=t.MAs(16),a=t.MAs(24);t.Q6J("value",o.expanded),t.xp6(4),t.Oqu(t.lcZ(5,13,"entries")),t.xp6(5),t.ekj("active",!o.pageParams.onlyShowMyself),t.xp6(2),t.hij(" ",t.lcZ(12,15,"all")," "),t.xp6(3),t.Q6J("ngIf",null==o.selectedPool?null:o.selectedPool.scanUrl)("ngIfElse",i),t.xp6(5),t.Q6J("autoHeightDisabled",!1),t.xp6(2),t.Q6J("ngForOf",o.entries)("ngForTrackBy",o.identify),t.xp6(1),t.Q6J("ngIf",o.pageLoaded)("ngIfElse",a),t.xp6(3),t.Q6J("ngIf",o.numOfPages>1)}},dependencies:[s.sg,s.O5,pt.Q,it.u,oe,d.We,d.eh,d.gu,d.Ie,d.Q$,d.CK,j.KC,hi,m.X$],styles:[".avatar[_ngcontent-%COMP%]{min-width:32px}.filter-item[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.filter-item.active[_ngcontent-%COMP%]{background-color:rgb(255 126 24 / var(--tw-bg-opacity));--tw-bg-opacity: .1;--tw-text-opacity: 1;color:rgb(255 126 24 / var(--tw-text-opacity))}.filter-item[_ngcontent-%COMP%]:focus-visible{outline:0}ion-skeleton-text[_ngcontent-%COMP%]{height:24px}.entries[_ngcontent-%COMP%]{min-height:200px}ng-scrollbar[_ngcontent-%COMP%]     .ng-scroll-content{min-height:210px}.accordion-expanded[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--ion-color-base: rgb(234, 235, 238) !important}.accordion-expanded[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:#f5f8f9}"]}),n})();var Zi=c(83905);const Ai=function(n){return{userId:n}};function ki(n,r){if(1&n&&(t.TgZ(0,"div",39),t._UZ(1,"img",40),t.TgZ(2,"div",41),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.poolOwner.avatar,t.LSH),t.xp6(2),t.hij(" ",t.xi3(4,2,"users-pool",t.VKq(5,Ai,e.poolOwner.maskedUserId))," ")}}function Ii(n,r){1&n&&(t.TgZ(0,"div",42),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"your-own-pool")," "))}function Si(n,r){1&n&&(t.TgZ(0,"div",42),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"entered-pool")," "))}function Li(n,r){if(1&n&&t.YNc(0,Si,3,3,"div",43),2&n){const e=t.oxw().$implicit;t.Q6J("ngIf",e.bidAmount)}}function Di(n,r){1&n&&t.GkF(0)}function Bi(n,r){1&n&&t.GkF(0)}function Ei(n,r){1&n&&t.GkF(0)}function Ji(n,r){1&n&&t.GkF(0)}const et=function(n){return{$implicit:n}};function Ui(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",18)(2,"div",19)(3,"div",20)(4,"div",21),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.navigateToPool(a))}),t._UZ(5,"img",22),t.TgZ(6,"div",23)(7,"div",24),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"div",25),t.YNc(11,ki,5,7,"div",26),t.YNc(12,Ii,3,3,"div",27),t.YNc(13,Li,1,1,"ng-template",null,28,t.W1O),t.qZA()()(),t.TgZ(15,"div",29)(16,"div",30),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.navigateToPool(a))}),t.YNc(17,Di,1,0,"ng-container",31),t.qZA(),t.TgZ(18,"div",32)(19,"div",33),t.YNc(20,Bi,1,0,"ng-container",31),t.qZA(),t.TgZ(21,"app-bid-button",34),t.NdJ("onPoolCompleted",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.onPoolCompleted(i))}),t.qZA()()()(),t.TgZ(22,"div",35),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.navigateToPool(a))}),t.TgZ(23,"div",36),t.YNc(24,Ei,1,0,"ng-container",31),t.qZA(),t.TgZ(25,"div",37),t.YNc(26,Ji,1,0,"ng-container",31),t.qZA()()()(),t._UZ(27,"div",38),t.BQk()}if(2&n){const e=r.$implicit,o=t.MAs(14),i=t.oxw().ngLet,a=t.oxw().ngLet,l=t.oxw(),P=t.MAs(3),O=t.MAs(5),w=t.MAs(7);t.xp6(1),t.ekj("active",e.poolId==(null==i?null:i.poolId)),t.xp6(4),t.Q6J("src",l.product.productImages?l.product.productImages[0].source:"",t.LSH),t.xp6(3),t.hij(" ",t.lcZ(9,20,l.product.name)," "),t.xp6(3),t.Q6J("ngIf",e),t.xp6(1),t.Q6J("ngIf",(null==a?null:a.username)==e.poolOwner.userId)("ngIfElse",o),t.xp6(5),t.Q6J("ngTemplateOutlet",P)("ngTemplateOutletContext",t.VKq(22,et,e)),t.xp6(3),t.Q6J("ngTemplateOutlet",O)("ngTemplateOutletContext",t.VKq(24,et,e)),t.xp6(1),t.s9C("id","product-open-pool-"+e.poolId),t.s9C("animationTarget","#product-open-pool-"+e.poolId),t.Q6J("product",l.product)("pool",e)("isLogin",l.isLogin),t.xp6(3),t.Q6J("ngTemplateOutlet",P)("ngTemplateOutletContext",t.VKq(26,et,e)),t.xp6(2),t.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",t.VKq(28,et,e))}}function qi(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-launch-pool-button",48),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t.qZA()}if(2&n){const e=t.oxw().ngLet;t.Q6J("canLaunchPool",!!e)}}function Ni(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-launch-pool",47),t.NdJ("openLaunchPoolModal",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.onLaunchPool.emit(!0))}),t.YNc(1,qi,1,1,"ng-template"),t.qZA()}2&n&&t.Q6J("canLaunchPool",!!r.ngLet)("allowDirectLaunch",!0)}function Qi(n,r){if(1&n&&(t.TgZ(0,"div",44)(1,"div",45),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Ni,2,2,"app-launch-pool",46),t.ALo(5,"async"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.hij(" ",t.lcZ(3,2,"no-pools-found")," "),t.xp6(2),t.Q6J("ngLet",t.lcZ(5,4,e.biddingService.canLaunchPool$))}}function Fi(n,r){1&n&&(t.TgZ(0,"div",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"no-more-pools")," "))}const Yi=function(){return[]};function ji(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"button",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onFilter(i.poolSortTypes.POOL_SIZE))}),t.TgZ(4,"div",11),t._uU(5),t.ALo(6,"translate"),t._UZ(7,"ion-icon",12),t.qZA()(),t.TgZ(8,"button",13),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onFilter(i.poolSortTypes.CREATED_DATE))}),t.TgZ(9,"div",14),t._uU(10),t.ALo(11,"translate"),t._UZ(12,"ion-icon",12),t.qZA()()()(),t.YNc(13,Ui,28,30,"ng-container",15),t.YNc(14,Qi,6,6,"div",16),t.YNc(15,Fi,3,3,"div",17),t.qZA()}if(2&n){const e=t.oxw(2);let o;t.xp6(3),t.ekj("active",e.pageParams.sortType==e.poolSortTypes.POOL_SIZE),t.xp6(2),t.hij(" ",t.lcZ(6,15,"pool-size")," "),t.xp6(2),t.ekj("invisible",e.pageParams.sortType!==e.poolSortTypes.POOL_SIZE),t.Q6J("name","desc"===e.pageParams.sortDirection?"caret-down-outline":"caret-up-outline"),t.xp6(1),t.ekj("active",e.pageParams.sortType==e.poolSortTypes.CREATED_DATE),t.xp6(2),t.hij(" ",t.lcZ(11,17,"date-started")," "),t.xp6(2),t.ekj("invisible",e.pageParams.sortType!==e.poolSortTypes.CREATED_DATE),t.Q6J("name","desc"===e.pageParams.sortDirection?"caret-down-outline":"caret-up-outline"),t.xp6(1),t.Q6J("ngForOf",null!==(o=e.pools)&&void 0!==o?o:t.DdM(19,Yi)),t.xp6(1),t.Q6J("ngIf",e.pools&&0===e.pools.length),t.xp6(1),t.Q6J("ngIf",e.pools&&e.pools.length>0&&e.pageParams.numOfPages==e.pageParams.page+1)}}function Ri(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,ji,16,20,"div",4),t.ALo(2,"async"),t.TgZ(3,"div",5)(4,"app-pagination",6),t.NdJ("onPageClick",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.onFetchData.emit(i-1))}),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngLet",t.lcZ(2,3,e.biddingService.selectedPool$)),t.xp6(3),t.Q6J("curPage",e.pageParams.page+1)("numOfPages",e.pageParams.numOfPages)}}function Hi(n,r){1&n&&t.GkF(0)}function Ki(n,r){1&n&&t.GkF(0)}function Gi(n,r){if(1&n&&(t.TgZ(0,"div",50)(1,"div",51)(2,"div",52),t.YNc(3,Hi,1,0,"ng-container",31),t.qZA(),t._UZ(4,"app-bidding-progress-bar",53),t.qZA(),t.TgZ(5,"div",52),t.YNc(6,Ki,1,0,"ng-container",31),t.qZA()()),2&n){const e=r.$implicit;t.oxw();const o=t.MAs(5),i=t.MAs(7);t.xp6(3),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(6,et,e)),t.xp6(1),t.Q6J("currentPoolPercentage",e.currentPoolPercentage)("hasEntered",e.bidAmount>0),t.xp6(2),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(8,et,e))}}function zi(n,r){if(1&n&&(t.TgZ(0,"div",56)(1,"p",57),t._uU(2),t.ALo(3,"number"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,e.currentPoolPercentage,"0.0-0"),"% ")}}function $i(n,r){if(1&n&&t._UZ(0,"app-bidding-pool-status",58),2&n){const e=t.oxw().$implicit;t.Q6J("pool",e)}}function Wi(n,r){if(1&n&&(t.YNc(0,zi,4,4,"div",54),t.YNc(1,$i,1,1,"ng-template",null,55,t.W1O)),2&n){const e=r.$implicit,o=t.MAs(2);t.Q6J("ngIf",e.currentPoolPercentage<100)("ngIfElse",o)}}function Vi(n,r){if(1&n&&(t.TgZ(0,"div",59)(1,"div",60),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.AsE(" ",t.lcZ(3,2,"pool-id"),": ",e.poolId," ")}}let Xi=(()=>{class n extends H.V{constructor(e,o,i,a,l){super(),this.biddingService=e,this.userService=o,this.cdr=i,this.router=a,this.activatedRoute=l,this.onLaunchPool=new t.vpe,this.pageParams={page:0,rows:10,sortType:y.N.POOL_SIZE,sortDirection:"desc",total:0,numOfPages:1},this.onChangeFilter=new t.vpe,this.onFetchData=new t.vpe,this.poolSortTypes=y.N}ngOnInit(){this.biddingService.ticketCount$.pipe((0,u.R)(this.destroyStream$)).subscribe(()=>{this.cdr.detectChanges()}),this.biddingService.onSelectedPoolStatusChanged$.pipe((0,u.R)(this.destroyStream$)).subscribe(e=>{const o=this.pools.find(i=>i.poolId==e.poolId);if(o){if(e.status===y.j.OPEN)return o.currentPoolSize=e.currentPoolSize,o.currentPoolPercentage=e.currentPoolPercentage,o.poolLimit=e.poolLimit,void this.cdr.detectChanges();o.currentPoolSize=e.currentPoolSize,o.currentPoolPercentage=e.currentPoolPercentage,o.poolLimit=e.poolLimit,o.bidAmount=e.bidAmount,o.status=e.status,o.winningTicketId=e.winningTicketId,o.winnerUserId=e.winnerUserId,o.winnerAvatar=e.winnerAvatar,o.winnerName=e.winnerName,o.formattedTicketId=e.formattedTicketId,o.hasCurrentUserWon=e.hasCurrentUserWon,o.scanUrl=e.scanUrl}console.log("STATUS!!!!!!!!!!!!",o?.status),o?.status&&[y.j.NOT_STARTED,y.j.DRAWING,y.j.DRAWN,y.j.PAUSED,y.j.EXPIRED].includes(o.status)&&this.biddingService.onProductPoolStatusChanged$.next(!0),this.cdr.detectChanges()})}getMaskedUsername(e){return e.replace(e.substring(2,e.length-2),"***")??"**"}navigateToPool(e){this.biddingService.selectedPool$.next(e),v.Z.isBrowser&&setTimeout(()=>{this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{poolId:e.poolId},queryParamsHandling:"merge",skipLocationChange:!1,replaceUrl:!0})})}onFilter(e){console.log(e,this.pageParams.sortDirection,this.pageParams.sortType===e&&"desc"===this.pageParams.sortDirection?"asc":"desc"),this.onChangeFilter.emit({sortType:e,sortDirection:this.pageParams.sortType===e&&"desc"===this.pageParams.sortDirection?"asc":"desc"})}onPoolCompleted(e){var o=this;return(0,f.Z)(function*(){v.Z.isBrowser&&(e.status=10,o.biddingService.selectedPool$.getValue()?.poolId===e.poolId&&o.biddingService.selectedPool$.next(e),o.cdr.detectChanges(),yield(0,T.n)((0,R.H)(3e3)),e.status=100,o.cdr.detectChanges(),yield(0,T.n)((0,R.H)(15e3)),o.onFetchData.emit(o.pageParams.page))})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(J.g),t.Y36(E.K),t.Y36(t.sBO),t.Y36(b.F0),t.Y36(b.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bidding-open-pools-tab"]],inputs:{product:"product",isLogin:"isLogin",pools:"pools",pageParams:"pageParams"},outputs:{onLaunchPool:"onLaunchPool",onChangeFilter:"onChangeFilter",onFetchData:"onFetchData"},features:[t.qOj],decls:8,vars:3,consts:[[4,"ngLet"],["progress",""],["poolStatus",""],["poolId",""],["class","flex flex-col",4,"ngLet"],[1,"p-4","mt-2"],[1,"flex","justify-end",3,"curPage","numOfPages","onPageClick"],[1,"flex","flex-col"],[1,"flex","flex-col","sm:flex-row","gap-4","sm:gap-0","py-3","justify-between"],[1,"flex"],[1,"filter-item","px-3","py-0.5","rounded-xl","font-medium",3,"click"],[1,"flex","items-center","text-base","font-medium","tracking-tight","pr-3","relative","capitalize"],[1,"absolute","-right-1.5",3,"name"],[1,"filter-item","px-3","py-0.5","rounded-xl","font-medium","flex","items-center","gap-1",3,"click"],[1,"flex","items-center","text-base","font-medium","tracking-tight","pr-3","relative"],[4,"ngFor","ngForOf"],["class","pt-5 md:pt-20",4,"ngIf"],["class","w-full text-center mt-7 text-gray-400",4,"ngIf"],[1,"pool-card","rounded","flex","items-end","text-sm","cursor-pointer","px-1","lg:px-2","pb-0.5","pt-2","lg:pt-1"],[1,"flex","flex-col","w-full","relative"],[1,"flex","lg:gap-2","items-center","justify-between","w-full","flex-col","lg:flex-row"],[1,"product-info","flex","flex-1","gap-1","justify-between","lg:justify-start","items-start","w-full","lg:w-auto",3,"click"],[1,"hidden","lg:block","product-img","mr-1","rounded","object-cover",3,"src"],[1,"flex","flex-col","justify-between","items-start","gap-1","w-full"],[1,"product-name","font-medium","text-gray-800","text-left","pr-1.5","mb-0.5"],[1,"flex","flex-row","justify-between","lg:flex-col","w-full"],["class","font-medium flex flex-nowrap items-center -mt-px",4,"ngIf"],["class","block own-pool text-base lg:text-sm rounded-md w-fit font-bold py-0.5 px-3 lg:px-2 select-none lg:mt-1.5",4,"ngIf","ngIfElse"],["othersPool",""],[1,"flex","justify-between","items-center","flex-col","lg:flex-row","gap-3","w-full","lg:w-auto"],[1,"flex","lg:hidden","2xl:flex","w-full","lg:w-auto",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"bid-button","flex","justify-between","w-full","lg:w-auto"],[1,"block","lg:hidden"],[3,"id","product","pool","isLogin","animationTarget","onPoolCompleted"],[1,"flex","justify-end","lg:justify-start","2xl:hidden","w-full",3,"click"],[1,"hidden","lg:flex","w-full"],[1,"flex","lg:hidden"],[1,"border","border-bottom","opacity-50"],[1,"font-medium","flex","flex-nowrap","items-center","-mt-px"],[1,"mr-1","object-cover","rounded-full","avatar",3,"src"],[1,"truncate"],[1,"block","own-pool","text-base","lg:text-sm","rounded-md","w-fit","font-bold","py-0.5","px-3","lg:px-2","select-none","lg:mt-1.5"],["class","block own-pool text-base lg:text-sm rounded-md w-fit font-bold py-0.5 px-3 lg:px-2 select-none lg:mt-1.5",4,"ngIf"],[1,"pt-5","md:pt-20"],[1,"w-full","text-center","text-gray-400"],[3,"canLaunchPool","allowDirectLaunch","openLaunchPoolModal",4,"ngLet"],[3,"canLaunchPool","allowDirectLaunch","openLaunchPoolModal"],[1,"block","mx-auto","mt-12","md:mt-24",2,"width","224px",3,"canLaunchPool","click"],[1,"w-full","text-center","mt-7","text-gray-400"],[1,"flex","w-full","flex-col","lg:flex-row","2xl:flex-col","justify-between","2xl:justify-center","items-center","mt-2","lg:mt-0"],[1,"flex","flex-row-reverse","2xl:flex-col","w-full","justify-center","lg:justify-end","2xl:justify-center","items-center","gap-2","2xl:gap-0"],[1,"hidden","lg:block"],[3,"currentPoolPercentage","hasEntered"],["class","text-black font-medium",4,"ngIf","ngIfElse"],["drawingWinner",""],[1,"text-black","font-medium"],[1,"invisible","mb-px","-mt-1","lg:-mt-px","text-center","whitespace-nowrap","text-2xl","lg:text-base","2xl:text-xl","2xl:leading-6","select-none"],[3,"pool"],[1,"pool-id","flex","gap-1","mt-1","lg:mt-1.5","py-1","lg:py-0","flex-nowrap","justify-end","lg:justify-center"],[1,"truncate","select-none","-mt-px","whitespace-nowrap"]],template:function(e,o){1&e&&(t.YNc(0,Ri,5,5,"ng-container",0),t.ALo(1,"async"),t.YNc(2,Gi,7,10,"ng-template",null,1,t.W1O),t.YNc(4,Wi,3,2,"ng-template",null,2,t.W1O),t.YNc(6,Vi,4,4,"ng-template",null,3,t.W1O)),2&e&&t.Q6J("ngLet",t.lcZ(1,1,o.userService.userInfo$))},dependencies:[s.sg,s.O5,s.tP,pt.Q,Y.h,V.w,it.u,rt.P,dt.h,Tt.j,d.gu,s.Ov,s.JJ,m.X$],styles:['.pool-card[_ngcontent-%COMP%]{min-height:84px}.pool-card.active[_ngcontent-%COMP%]{position:relative;background-color:#e6f2ff}.pool-card.active[_ngcontent-%COMP%]:before, .pool-card.active[_ngcontent-%COMP%]:after{content:"";background:linear-gradient(to bottom,#5CC2FE,#005BFF);position:absolute;top:0;display:block;height:100%;width:.25rem}.pool-card.active[_ngcontent-%COMP%]:before{left:0}.pool-card.active[_ngcontent-%COMP%]:after{right:0}.pool-card[_ngcontent-%COMP%]:not(.active):hover{background-color:#efefef}.pool-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]{min-width:230px}.pool-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-img[_ngcontent-%COMP%]{width:70px;height:70px}.pool-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:22px!important;height:22px;min-width:22px}.pool-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{display:none}@media (min-width: 1024px){.pool-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;white-space:break-spaces;line-height:1.2}}.pool-card[_ngcontent-%COMP%]   app-bidding-progress-bar[_ngcontent-%COMP%]{display:block;width:100%}@media (min-width: 1024px){.pool-card[_ngcontent-%COMP%]   app-bidding-progress-bar[_ngcontent-%COMP%]{width:160px}}@media (min-width: 1440px){.pool-card[_ngcontent-%COMP%]   app-bidding-progress-bar[_ngcontent-%COMP%]{width:180px}}@media (max-width: 1023px){.pool-card[_ngcontent-%COMP%]   app-bidding-progress-bar[_ngcontent-%COMP%]     .progress-bar{height:2rem;border-width:3px}}.filter-item[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.filter-item.active[_ngcontent-%COMP%]{background-color:rgb(255 126 24 / var(--tw-bg-opacity));--tw-bg-opacity: .1;--tw-text-opacity: 1;color:rgb(255 126 24 / var(--tw-text-opacity))}.filter-item[_ngcontent-%COMP%]:focus-visible{outline:0}.pool-id[_ngcontent-%COMP%]{width:260px;max-width:260px}.own-pool[_ngcontent-%COMP%]{color:#db46f8;background-color:#fae3ff}app-bid-button[_ngcontent-%COMP%]     .bidding-bar .bid-amount{font-size:23px;padding-left:20px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar .bid-amount.large-value{padding-left:44px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar .bid-amount .my-entries-label{font-size:12px;line-height:12px;margin-top:2px;margin-bottom:1px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar img{height:27px!important;margin-left:5px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar .enter-now{font-size:15px;margin-left:20px}@media (min-width: 768px){app-bid-button[_ngcontent-%COMP%]     .bidding-bar .enter-now{font-size:17px;margin-left:30px}}app-bid-button[_ngcontent-%COMP%]     .bidding-bar.disabled{color:#7c7d7f;background-color:#f4f5f9;border-color:#cacaca;border-width:2px}'],changeDetection:0}),n})();const tr=function(n){return{userId:n}};function er(n,r){if(1&n&&(t.TgZ(0,"div",29),t._UZ(1,"img",30),t.TgZ(2,"div",31),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.poolOwner.avatar,t.LSH),t.xp6(2),t.hij(" ",t.xi3(4,2,"users-pool",t.VKq(5,tr,e.poolOwner.maskedUserId))," ")}}function nr(n,r){if(1&n&&(t.TgZ(0,"div",34),t._UZ(1,"img",35),t._uU(2),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",e.bidAmount," ")}}function or(n,r){if(1&n&&(t.TgZ(0,"div",32),t.YNc(1,nr,3,1,"div",33),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.bidAmount)}}function ir(n,r){1&n&&t.GkF(0)}function rr(n,r){1&n&&t.GkF(0)}const re=function(n){return{$implicit:n}};function ar(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",14),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.navigateToPool(a))}),t.TgZ(2,"div",15)(3,"div",16)(4,"div",17),t._UZ(5,"img",18),t.TgZ(6,"div",19)(7,"div",20),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"div",21),t.YNc(11,er,5,7,"div",22),t.YNc(12,or,2,1,"div",23),t.ALo(13,"async"),t.qZA()()(),t.TgZ(14,"div",24)(15,"div",25),t.YNc(16,ir,1,0,"ng-container",26),t.qZA()()(),t.TgZ(17,"div",27),t.YNc(18,rr,1,0,"ng-container",26),t.qZA()()(),t._UZ(19,"div",28),t.BQk()}if(2&n){const e=r.$implicit,o=t.oxw().ngLet,i=t.oxw(),a=t.MAs(5);t.xp6(1),t.ekj("active",e.poolId==(null==o?null:o.poolId)),t.xp6(4),t.Q6J("src",i.product.productImages?i.product.productImages[0].source:"",t.LSH),t.xp6(3),t.hij(" ",t.lcZ(9,10,i.product.name)," "),t.xp6(3),t.Q6J("ngIf",e),t.xp6(1),t.Q6J("ngLet",t.lcZ(13,12,i.userService.userInfo$)),t.xp6(4),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(14,re,e)),t.xp6(2),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(16,re,e))}}function cr(n,r){1&n&&(t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"no-pools-found")," "))}function sr(n,r){1&n&&(t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"no-more-pools")," "))}const lr=function(){return[]};function dr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"button",7),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onFilter(i.poolSortTypes.POOL_SIZE))}),t.TgZ(4,"div",8),t._uU(5),t.ALo(6,"translate"),t._UZ(7,"ion-icon",9),t.qZA()(),t.TgZ(8,"button",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onFilter(i.poolSortTypes.CREATED_DATE))}),t.TgZ(9,"div",11),t._uU(10),t.ALo(11,"translate"),t._UZ(12,"ion-icon",9),t.qZA()()()(),t.YNc(13,ar,20,18,"ng-container",12),t.YNc(14,cr,3,3,"div",13),t.YNc(15,sr,3,3,"div",13),t.qZA()}if(2&n){const e=t.oxw();let o;t.xp6(3),t.ekj("active",e.pageParams.sortType==e.poolSortTypes.POOL_SIZE),t.xp6(2),t.hij(" ",t.lcZ(6,15,"pool-size")," "),t.xp6(2),t.ekj("invisible",e.pageParams.sortType!==e.poolSortTypes.POOL_SIZE),t.Q6J("name","desc"===e.pageParams.sortDirection?"caret-down-outline":"caret-up-outline"),t.xp6(1),t.ekj("active",e.pageParams.sortType==e.poolSortTypes.CREATED_DATE),t.xp6(2),t.hij(" ",t.lcZ(11,17,"date-started")," "),t.xp6(2),t.ekj("invisible",e.pageParams.sortType!==e.poolSortTypes.CREATED_DATE),t.Q6J("name","desc"===e.pageParams.sortDirection?"caret-down-outline":"caret-up-outline"),t.xp6(1),t.Q6J("ngForOf",null!==(o=e.pools)&&void 0!==o?o:t.DdM(19,lr)),t.xp6(1),t.Q6J("ngIf",e.pools&&0===e.pools.length),t.xp6(1),t.Q6J("ngIf",e.pools&&e.pools.length>0&&e.numOfPages==e.pageParams.page+1)}}function pr(n,r){if(1&n&&(t.TgZ(0,"p",48),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.currentPoolPercentage,"0.0-0"),"% ")}}function gr(n,r){if(1&n&&(t.TgZ(0,"div",6),t._uU(1),t.TgZ(2,"button",49),t._UZ(3,"app-copy-icon",50),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.formattedTicketId," "),t.xp6(1),t.s9C("appCopying",e.winningTicketId),t.Q6J("showToast",!0)}}function _r(n,r){if(1&n&&t._UZ(0,"app-bidding-pool-status",51),2&n){const e=t.oxw().$implicit;t.Q6J("pool",e)}}const ur=function(n){return{"other-won":n}};function mr(n,r){if(1&n&&(t.TgZ(0,"div",37)(1,"div",38),t.YNc(2,pr,3,4,"p",39),t._UZ(3,"app-bidding-progress-bar",40),t.qZA(),t.TgZ(4,"div",41)(5,"div",42)(6,"div",43),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"div",44)(10,"div",45),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.YNc(13,gr,4,3,"div",46),t.qZA()()(),t.YNc(14,_r,1,1,"ng-template",null,47,t.W1O)),2&n){const e=r.$implicit,o=t.MAs(15);t.xp6(1),t.Q6J("ngClass",t.VKq(14,ur,!e.hasCurrentUserWon)),t.xp6(1),t.Q6J("ngIf",e.currentPoolPercentage<100)("ngIfElse",o),t.xp6(1),t.Q6J("currentPoolPercentage",e.currentPoolPercentage)("hasEntered",e.bidAmount>0),t.xp6(4),t.AsE(" ",t.lcZ(8,10,"pool-id"),": ",e.poolId," "),t.xp6(4),t.hij(" ",t.lcZ(12,12,"pool-winning-ticket"),": "),t.xp6(2),t.Q6J("ngIf",e.winningTicketId)("ngIfElse",o)}}let fr=(()=>{class n extends H.V{constructor(e,o,i,a,l){super(),this.biddingService=e,this.userService=o,this.cdr=i,this.activatedRoute=a,this.router=l,this.pageParams={page:0,rows:10,sortType:y.N.POOL_SIZE,sortDirection:"desc"},this.total=0,this.numOfPages=1,this.poolSortTypes=y.N}ngOnInit(){this.fetchData(0),this.biddingService.onProductPoolStatusChanged$.pipe((0,u.R)(this.destroyStream$)).subscribe(()=>{this.fetchData(0)}),this.biddingService.onSelectedPoolStatusChanged$.pipe((0,u.R)(this.destroyStream$)).subscribe(e=>{const o=this.pools.find(i=>i.poolId==e.poolId);if(o){if(e.status===y.j.OPEN)return o.currentPoolSize=e.currentPoolSize,o.currentPoolPercentage=e.currentPoolPercentage,o.poolLimit=e.poolLimit,void this.cdr.detectChanges();o.currentPoolSize=e.currentPoolSize,o.currentPoolPercentage=e.currentPoolPercentage,o.poolLimit=e.poolLimit,o.bidAmount=e.bidAmount,o.status=e.status,o.winningTicketId=e.winningTicketId,o.winnerUserId=e.winnerUserId,o.winnerAvatar=e.winnerAvatar,o.winnerName=e.winnerName,o.formattedTicketId=e.formattedTicketId,o.hasCurrentUserWon=e.hasCurrentUserWon,o.scanUrl=e.scanUrl}this.cdr.detectChanges()})}onFilter(e){this.pageParams={page:0,rows:20,sortType:e,sortDirection:this.pageParams.sortType===e&&"desc"===this.pageParams.sortDirection?"asc":"desc"},this.fetchData(0)}fetchData(e){this.biddingService.getProductPools({...this.pageParams,page:e,skuId:this.product.productSkuId},"1,2,3,4,5").pipe((0,u.R)(this.destroyStream$),(0,Pt.K)(o=>(0,wt.of)({error:o}))).subscribe(o=>{this.pools=(o?.rows??[]).map(i=>({poolId:i.id,poolOwner:{id:i.sponsorId,userId:i.sponsorName,avatar:i.sponsorAvatar??"assets/images/sign-up-user.svg",maskedUserId:this.getMaskedUsername(i.sponsorName)},currentPoolSize:i.currentTickets,currentPoolPercentage:(0,z.DU)(i.currentTickets,i.maxTickets),poolLimit:i.maxTickets,userMaxTickets:this.product.userMaxTickets,bidAmount:i.userTotalTickets,status:i.status,winningTicketId:i.participateId,winnerUserId:i.winnerId,winnerAvatar:i.winnerAvatar??"assets/images/sign-up-user.svg",winnerName:i.winnerName,formattedTicketId:this.getFormattedTicketId(i.participateId),hasCurrentUserWon:i.isIWon,scanUrl:i.scanUrl})),console.log(this.pools),this.pageParams.page=e,this.total=o?.total??0,this.numOfPages=Math.ceil(this.total/this.pageParams.rows),this.cdr.detectChanges()})}getMaskedUsername(e){return e.replace(e.substring(2,e.length-2),"***")??"**"}getFormattedTicketId(e,o=6){return e?e.substring(2,2+o)+"..."+e.substring(e.length-o,e.length):""}navigateToPool(e){this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{poolId:e.poolId},queryParamsHandling:"merge",skipLocationChange:!1,replaceUrl:!0})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(J.g),t.Y36(E.K),t.Y36(t.sBO),t.Y36(b.gz),t.Y36(b.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bidding-closed-pools-tab"]],inputs:{product:"product",isLogin:"isLogin"},features:[t.qOj],decls:6,vars:5,consts:[["class","flex flex-col",4,"ngLet"],[1,"p-4","mt-2"],[1,"flex","justify-end",3,"curPage","numOfPages","onPageClick"],["progress",""],[1,"flex","flex-col"],[1,"flex","flex-col","sm:flex-row","gap-4","sm:gap-0","py-3","justify-between"],[1,"flex"],[1,"filter-item","px-3","py-0.5","rounded-xl","font-medium",3,"click"],[1,"flex","items-center","text-base","font-medium","tracking-tight","pr-3","relative","capitalize"],[1,"absolute","-right-1.5",3,"name"],[1,"filter-item","px-3","py-0.5","rounded-xl","font-medium","flex","items-center","gap-1",3,"click"],[1,"flex","items-center","text-base","font-medium","tracking-tight","pr-3","relative"],[4,"ngFor","ngForOf"],["class","w-full text-center mt-7 text-gray-400",4,"ngIf"],[1,"pool-card","rounded","flex","text-sm","items-center","cursor-pointer","px-2","pb-1.5","pt-2",3,"click"],[1,"flex","flex-col","w-full","relative"],[1,"flex","gap-2","lg:gap-3","items-center","justify-between","flex-col","lg:flex-row","w-full"],[1,"product-info","flex","flex-1","gap-1","justify-start","items-start","w-full"],[1,"product-img","mr-1","object-cover","rounded-lg",3,"src"],[1,"flex","flex-col","justify-between","items-start","gap-1"],[1,"product-name","font-medium","text-gray-800","text-left","pr-1.5","mb-0.5"],[1,"flex","flex-col","relative","z-50"],["class","font-medium flex flex-nowrap items-center mt-0.5",4,"ngIf"],["class","flex items-center gap-2 mt-1",4,"ngLet"],[1,"flex","justify-between","items-center","gap-5"],[1,"hidden","2xl:flex"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","2xl:hidden","w-full","right-section"],[1,"border","border-bottom","opacity-50"],[1,"font-medium","flex","flex-nowrap","items-center","mt-0.5"],[1,"mr-1","object-cover","rounded-full","avatar",3,"src"],[1,"truncate"],[1,"flex","items-center","gap-2","mt-1"],["class","bid-amount rounded-md flex items-center px-1.5",4,"ngIf"],[1,"bid-amount","rounded-md","flex","items-center","px-1.5"],["src","assets/images/ticket.png",1,"mr-1","select-none","!h-3"],[1,"w-full","text-center","mt-7","text-gray-400"],[1,"flex","w-full","flex-col","lg:flex-row","2xl:flex-col","justify-between","2xl:justify-center","items-center","2xl:items-end","mt-2","lg:mt-0"],[1,"row-1","flex","flex-row-reverse","2xl:flex-col","w-full","justify-center","lg:justify-end","2xl:justify-center","items-center","gap-2","2xl:gap-0",3,"ngClass"],["class","invisible text-black font-medium mb-px -mt-px text-center whitespace-nowrap text-sm md:text-base 2xl:text-xl 2xl:leading-6 select-none",4,"ngIf","ngIfElse"],[3,"currentPoolPercentage","hasEntered"],[1,"row-2","flex","flex-col","items-end"],[1,"flex","gap-1","mt-1.5","flex-nowrap"],[1,"select-none","-mt-px","whitespace-nowrap"],[1,"flex","gap-1","mt-1.5","flex-nowrap","items-center"],[1,"select-none","-mt-px","whitespace-nowrap","mr-0.5"],["class","flex",4,"ngIf","ngIfElse"],["poolStatus",""],[1,"invisible","text-black","font-medium","mb-px","-mt-px","text-center","whitespace-nowrap","text-sm","md:text-base","2xl:text-xl","2xl:leading-6","select-none"],[1,"flex","ml-1",3,"showToast","appCopying"],[1,"h-4","w-4","block","text-gray-600","opacity-60"],[1,"whitespace-nowrap",3,"pool"]],template:function(e,o){1&e&&(t.YNc(0,dr,16,20,"div",0),t.ALo(1,"async"),t.TgZ(2,"div",1)(3,"app-pagination",2),t.NdJ("onPageClick",function(a){return o.fetchData(a-1)}),t.qZA()(),t.YNc(4,mr,16,16,"ng-template",null,3,t.W1O)),2&e&&(t.Q6J("ngLet",t.lcZ(1,3,o.biddingService.selectedPool$)),t.xp6(3),t.Q6J("curPage",o.pageParams.page+1)("numOfPages",o.numOfPages))},dependencies:[s.mk,s.sg,s.O5,s.tP,X.Q,tt.p,pt.Q,Y.h,V.w,it.u,d.gu,s.Ov,s.JJ,m.X$],styles:['.pool-card[_ngcontent-%COMP%]{min-height:84px}.pool-card.active[_ngcontent-%COMP%]{position:relative;background-color:#e6f2ff}.pool-card.active[_ngcontent-%COMP%]:before, .pool-card.active[_ngcontent-%COMP%]:after{content:"";background:linear-gradient(to bottom,#5CC2FE,#005BFF);position:absolute;top:0;display:block;height:100%;width:.25rem}.pool-card.active[_ngcontent-%COMP%]:before{left:0}.pool-card.active[_ngcontent-%COMP%]:after{right:0}.pool-card[_ngcontent-%COMP%]:not(.active):hover{background-color:#efefef}.pool-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]{min-width:230px}.pool-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-img[_ngcontent-%COMP%]{width:70px;height:70px}.pool-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:22px!important;height:22px;min-width:22px}.pool-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;white-space:break-spaces;line-height:1.2}.pool-card[_ngcontent-%COMP%]   app-bidding-progress-bar[_ngcontent-%COMP%]{width:160px;display:block}@media (min-width: 1440px){.pool-card[_ngcontent-%COMP%]   app-bidding-progress-bar[_ngcontent-%COMP%]{width:180px}}.filter-item[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.filter-item.active[_ngcontent-%COMP%]{background-color:rgb(255 126 24 / var(--tw-bg-opacity));--tw-bg-opacity: .1;--tw-text-opacity: 1;color:rgb(255 126 24 / var(--tw-text-opacity))}.filter-item[_ngcontent-%COMP%]:focus-visible{outline:0}.own-pool[_ngcontent-%COMP%]{color:#db46f8;background-color:#fae3ff}.bid-amount[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #cacaca;color:#686868;background-color:#e5e5e5}@media (min-width: 375px) and (max-width: 420px){.right-section[_ngcontent-%COMP%]   .row-1[_ngcontent-%COMP%]:not(.other-won){flex-direction:column;align-items:end;justify-content:center}}@media (min-width: 375px) and (max-width: 767.9px){.right-section[_ngcontent-%COMP%]{margin-top:-64px;width:300px;align-self:flex-end}.right-section[_ngcontent-%COMP%]   app-bidding-progress-bar[_ngcontent-%COMP%]{width:125px}.right-section[_ngcontent-%COMP%]   .row-1[_ngcontent-%COMP%]{justify-content:end}.right-section[_ngcontent-%COMP%]   .row-2[_ngcontent-%COMP%]{align-self:end}.right-section[_ngcontent-%COMP%]   app-bidding-pool-status[_ngcontent-%COMP%]     .you-won{padding-left:.125rem;padding-right:.125rem}.product-img[_ngcontent-%COMP%]{width:50px!important;height:50px!important}}@media (min-width: 375px) and (max-width: 520px){.right-section[_ngcontent-%COMP%]   .row-1.other-won[_ngcontent-%COMP%]{flex-direction:column;align-items:end}}'],changeDetection:0}),n})();const hr=["tabBar"],xr=["tabPopover"];function br(n,r){if(1&n&&(t.TgZ(0,"div",18),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).ngLet;t.xp6(1),t.hij(" ",e>99?"99+":e," ")}}const vr=function(n){return{active:n}};function Pr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15),t.NdJ("click",function(){const a=t.CHM(e).index;t.oxw(2);const l=t.MAs(10),P=t.oxw();return t.KtG(P.handleClick(a,l))}),t.TgZ(2,"span",16),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,br,2,1,"div",17),t.qZA()()}if(2&n){const e=r.$implicit,o=r.index,i=t.oxw().ngLet,a=t.oxw(2);t.Q6J("ngClass",t.VKq(5,vr,a.activeTab===o)),t.xp6(3),t.Oqu(t.lcZ(4,3,e.text)),t.xp6(2),t.Q6J("ngIf","open-pools"==e.text&&i)}}function wr(n,r){if(1&n&&(t.TgZ(0,"div",11,12),t.YNc(2,Pr,6,7,"div",13),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.tabs)}}const Cr=function(n){return{end:n}};function Tr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onPresentTabPopper(i))}),t._UZ(1,"ion-icon",20),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(1,Cr,e.isTabBarEnd))}}const Or=function(n){return{active:n}};function yr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",23),t.NdJ("click",function(){const a=t.CHM(e).index;t.oxw(2);const l=t.MAs(10),P=t.oxw();return t.KtG(P.handleClick(a,l))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=r.$implicit,o=r.index,i=t.oxw(3);t.Q6J("ngClass",t.VKq(4,Or,i.activeTab===o)),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.text)," ")}}function Mr(n,r){if(1&n&&(t.TgZ(0,"div",21),t.YNc(1,yr,3,6,"div",22),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.tabs)}}function Zr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-bidding-open-pools-tab",24),t.NdJ("onLaunchPool",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onLaunchPool.emit(i))})("onChangeFilter",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onChangeFilter(i))})("onFetchData",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.fetchOpenPools(i))}),t.qZA()}if(2&n){const e=t.oxw().ngLet,o=t.oxw();t.Q6J("product",o.product)("isLogin",!!e)("pools",o.openPools)("pageParams",o.openPoolPageParams)}}function Ar(n,r){if(1&n&&t._UZ(0,"app-bidding-closed-pools-tab",25),2&n){const e=t.oxw().ngLet,o=t.oxw();t.Q6J("product",o.product)("isLogin",!!e)}}function kr(n,r){if(1&n&&t._UZ(0,"app-product-images-description",27),2&n){const e=t.oxw(3);t.Q6J("productDetail",e.product)}}function Ir(n,r){if(1&n&&t.YNc(0,kr,1,1,"app-product-images-description",26),2&n){const e=t.oxw(2);t.Q6J("ngIf",2==e.activeTab)}}function Sr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,wr,3,1,"div",3),t.ALo(3,"async"),t.YNc(4,Tr,2,3,"button",4),t.TgZ(5,"ion-popover",5,6),t.NdJ("didDismiss",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.isOpenTabHandler=!1)}),t.YNc(7,Mr,2,1,"ng-template"),t.qZA()(),t.TgZ(8,"div",7)(9,"swiper",8,9),t.YNc(11,Zr,1,4,"ng-template",10),t.YNc(12,Ar,1,2,"ng-template",10),t.YNc(13,Ir,1,1,"ng-template",10),t.qZA()()()}if(2&n){const e=t.oxw();t.ekj("open-pools-container",e.openPools.length),t.xp6(2),t.Q6J("ngLet",t.lcZ(3,7,e.biddingService.openPoolsCount$)),t.xp6(2),t.Q6J("ngIf",e.isTabBarOverflowed),t.xp6(1),t.Q6J("arrow",!1)("isOpen",e.isOpenTabHandler),t.xp6(4),t.Q6J("config",e.slideOpts)}}let Lr=(()=>{class n extends H.V{constructor(e,o,i,a,l){super(),this.biddingService=e,this.userService=o,this.router=i,this.cdr=a,this.activatedRoute=l,this.onLaunchPool=new t.vpe,this.tabs=[{text:"open-pools"},{text:"closed-pools"},{text:"item-description"}],this.slideOpts={slidesPerView:"auto",allowTouchMove:!1},this.tabsMap={0:!0},this.activeTab=0,this.isOpenTabHandler=!1,this.openPools=[],this.openPoolPageParams={page:0,rows:10,sortType:y.N.POOL_SIZE,sortDirection:"desc",total:0,numOfPages:1}}get isTabBarEnd(){if(!this.tabBar?.nativeElement)return!1;const e=this.tabBar.nativeElement;return e.scrollLeft+e.offsetWidth>e.scrollWidth-1}get isTabBarOverflowed(){return!!this.tabBar?.nativeElement&&this.tabBar.nativeElement.offsetWidth<this.tabBar.nativeElement.scrollWidth}ngOnInit(){var e=this;return(0,f.Z)(function*(){yield e.fetchOpenPools(0),e.handleSelectedPool(),e.biddingService.onProductPoolStatusChanged$.pipe((0,u.R)(e.destroyStream$)).subscribe(()=>{e.fetchOpenPools(0)}),e.biddingService.onLaunchFinished$.pipe((0,u.R)(e.destroyStream$)).subscribe((0,f.Z)(function*(){e.paramSubscription&&e.paramSubscription.unsubscribe(),yield e.fetchOpenPools(0),e.handleSelectedPool()}))})()}fetchOpenPools(e){var o=this;return(0,f.Z)(function*(){const i=yield(0,Zi.z)(o.biddingService.getProductPools({...o.openPoolPageParams,page:e,skuId:o.product.productSkuId,status:0}).pipe((0,u.R)(o.destroyStream$),(0,Pt.K)(a=>(0,wt.of)({error:a}))));o.openPools=(i?.rows??[]).map(a=>({poolId:a.id,poolOwner:{id:a.sponsorId,userId:a.sponsorName,avatar:a.sponsorAvatar??"/assets/images/sign-up-user.svg",maskedUserId:o.getMaskedUsername(a.sponsorName)},currentPoolSize:a.currentTickets,currentPoolPercentage:(0,z.DU)(a.currentTickets,a.maxTickets),poolLimit:a.maxTickets,userMaxTickets:o.product.userMaxTickets,bidAmount:a.userTotalTickets,status:a.status})),o.cdr.detectChanges(),o.openPoolPageParams={...o.openPoolPageParams,page:e,total:i?.total??0,numOfPages:Math.ceil((i?.total??0)/o.openPoolPageParams.rows)},o.biddingService.openPoolsCount$.next(o.openPoolPageParams.total),o.cdr.detectChanges()})()}onChangeFilter(e){this.openPoolPageParams={page:0,rows:20,total:0,numOfPages:1,...e},this.fetchOpenPools(0)}handleClick(e,o){if(this.tabsMap[e]=!0,o.swiperRef.slideTo(e),this.activeTab=e,this.isOpenTabHandler=!1,this.tabBar){const i=this.tabBar.nativeElement;if(i){const a=i.children[e];a&&this.tabBar.nativeElement.scrollTo({left:a.offsetLeft-10,behavior:"smooth"})}}}handleSelectedPool(){var e=this;this.paramSubscription&&this.paramSubscription.unsubscribe(),this.paramSubscription=this.activatedRoute.queryParamMap.pipe((0,u.R)(this.destroyStream$)).subscribe(function(){var o=(0,f.Z)(function*(i){const a=i.get("poolId");if(a){const l=e.biddingService.selectedPool$.getValue();if(a&&l?.poolId==a)return;const P=e.openPools.find(D=>D.poolId==a);if(console.log("OPEN POOLS",e.openPools),P)return void e.biddingService.selectedPool$.next(P);console.log("FETCHING POOL WITH ID",l,a);const O=yield(0,T.n)(e.biddingService.getProductPools({page:0,rows:10,poolId:a})),w=O?.rows?O.rows.find(D=>D.id==a):null;if(w)return void e.biddingService.selectedPool$.next({poolId:w.id,poolOwner:{id:w.sponsorId,userId:w.sponsorName,avatar:w.sponsorAvatar??"assets/images/sign-up-user.svg",maskedUserId:e.getMaskedUsername(w.sponsorName)},currentPoolSize:w.currentTickets,currentPoolPercentage:(0,z.DU)(w.currentTickets,w.maxTickets),poolLimit:w.maxTickets,userMaxTickets:e.product.userMaxTickets,bidAmount:w.userTotalTickets,status:w.status,winningTicketId:w.participateId,winnerUserId:w.winnerId,winnerAvatar:w.winnerAvatar,winnerName:w.winnerName,formattedTicketId:e.getFormattedTicketId(w.participateId),hasCurrentUserWon:w.isIWon,scanUrl:w.scanUrl})}else if(e.openPools.length){const l=e.openPools[0];return e.biddingService.selectedPool$.next(l),void(v.Z.isBrowser&&setTimeout(()=>{e.router.navigate([],{relativeTo:e.activatedRoute,queryParams:{poolId:l.poolId},queryParamsHandling:"merge",skipLocationChange:!1,replaceUrl:!0})}))}e.biddingService.selectedPool$.next(null)});return function(i){return o.apply(this,arguments)}}())}hasCurrentUserWon(e,o){return e===y.j.DRAWN&&o==this.userService._userInfo?.id}getMaskedUsername(e){return e.replace(e.substring(2,e.length-2),"***")??"**"}getFormattedTicketId(e,o=6){return e?e.substring(2,2+o)+"..."+e.substring(e.length-o,e.length):""}onPresentTabPopper(e){this.popover.event=e,this.isOpenTabHandler=!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(J.g),t.Y36(E.K),t.Y36(b.F0),t.Y36(t.sBO),t.Y36(b.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bidding-pools"]],viewQuery:function(e,o){if(1&e&&(t.Gf(hr,5),t.Gf(xr,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.tabBar=i.first),t.iGM(i=t.CRH())&&(o.popover=i.first)}},inputs:{product:"product"},outputs:{onLaunchPool:"onLaunchPool"},features:[t.qOj],decls:2,vars:3,consts:[["class","relative rounded-lg bg-white",3,"open-pools-container",4,"ngLet"],[1,"relative","rounded-lg","bg-white"],[1,"tab-container","flex","sticky","top-0","z-10","bg-white","sm:relative","overflow-hidden"],["class","flex tab-bar",4,"ngLet"],["class","relative tab-handler flex flex-none items-center justify-center border-none border-l border-solid z-10 shrink-0 ml-0.5","appRippleEffect","",3,"ngClass","click",4,"ngIf"],["reference","event",1,"tab-popover",3,"arrow","isOpen","didDismiss"],["tabPopover",""],[1,"credit-tabs-body"],[3,"config"],["swiper",""],["swiperSlide",""],[1,"flex","tab-bar"],["tabBar",""],["class","tab-title-wrapper group border-b-4 border-white",3,"ngClass",4,"ngFor","ngForOf"],[1,"tab-title-wrapper","group","border-b-4","border-white",3,"ngClass"],[1,"tab-title","text-center","px-1","xs:px-3","md:px-6","pt-2","pb-1.5","text-xl","font-medium","cursor-pointer","select-none","flex",3,"click"],[1,"group-hover:text-primary","tab-text"],["class","text-white own-pools flex items-center justify-center text-base leading-1 rounded-full h-7 px-1 ml-2",4,"ngIf"],[1,"text-white","own-pools","flex","items-center","justify-center","text-base","leading-1","rounded-full","h-7","px-1","ml-2"],["appRippleEffect","",1,"relative","tab-handler","flex","flex-none","items-center","justify-center","border-none","border-l","border-solid","z-10","shrink-0","ml-0.5",3,"ngClass","click"],["name","ellipsis-vertical-outline"],[1,"menu-container","flex","flex-col","border","border-main-border","text-base"],["class","p-3 text-text-strong dropdown-item font-medium cursor-pointer uppercase",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-3","text-text-strong","dropdown-item","font-medium","cursor-pointer","uppercase",3,"ngClass","click"],[3,"product","isLogin","pools","pageParams","onLaunchPool","onChangeFilter","onFetchData"],[3,"product","isLogin"],["class","introduction mt-3 block",3,"productDetail",4,"ngIf"],[1,"introduction","mt-3","block",3,"productDetail"]],template:function(e,o){1&e&&(t.YNc(0,Sr,14,9,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngLet",t.lcZ(1,1,o.userService.userInfo$))},dependencies:[s.mk,s.sg,s.O5,Y.h,d.gu,d.d8,h.nF,h.YC,At,Xi,fr,s.Ov,m.X$],styles:[".tab-container[_ngcontent-%COMP%]{border-bottom-width:1px;border-top-width:1px;border-color:#eee}.tab-bar[_ngcontent-%COMP%]{overflow-x:auto;-ms-overflow-style:none;scrollbar-width:none}.tab-bar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tab-handler[_ngcontent-%COMP%]{min-width:inherit;height:unset}.tab-handler[_ngcontent-%COMP%]:not(.end){box-shadow:#000000f7 0 0 28px}ion-popover.tab-popover[_ngcontent-%COMP%]{--offset-x: 0px;--offset-y: 0px}ion-popover.tab-popover[_ngcontent-%COMP%]::part(content){border-radius:10px}.dropdown-item.active[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(255 126 24 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 126 24 / var(--tw-text-opacity));background-color:#fff3e7}.tab-title-wrapper[_ngcontent-%COMP%]{display:flex;min-width:-moz-fit-content;min-width:fit-content;align-items:center;white-space:nowrap}.tab-title-wrapper.active[_ngcontent-%COMP%]{background-color:#fff0e9;--tw-border-opacity: 1;border-color:rgb(255 126 24 / var(--tw-border-opacity));--tw-text-opacity: 1;color:rgb(255 126 24 / var(--tw-text-opacity))}.tab-title-wrapper[_ngcontent-%COMP%]   .tab-text[_ngcontent-%COMP%]{transition:color .2s ease}swiper[_ngcontent-%COMP%]     .swiper-slide{width:100%;height:0;display:block}swiper[_ngcontent-%COMP%]     .swiper-slide.swiper-slide-active{height:auto}.own-pools[_ngcontent-%COMP%]{background-color:#047fff;min-width:28px}app-product-images-description[_ngcontent-%COMP%]     .title{display:none}"],changeDetection:0}),n})();function Dr(n,r){if(1&n&&(t.TgZ(0,"div",39),t._UZ(1,"img",40),t.TgZ(2,"div",41),t._uU(3),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("src",e.productDetail.productImages[0].source,t.LSH),t.xp6(2),t.hij(" ",e.productDetail.name," ")}}function Br(n,r){1&n&&t._UZ(0,"img",59)}function Er(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",61),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t._UZ(1,"app-heart-animated",62),t.qZA()}if(2&n){const e=r.isDisabled,o=t.oxw(4);t.Q6J("disabled",e),t.xp6(1),t.Q6J("active",o.isFavorite)}}function Jr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-favorite",60),t.NdJ("isBelongChange",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.handleFavoriteChange(i))}),t.YNc(1,Er,2,2,"ng-template"),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("product",e.productDetail)("skuId",e.productDetail.productSkuId)}}function Ur(n,r){if(1&n&&(t.TgZ(0,"div",48,49)(2,"div",14),t._UZ(3,"app-product-detail-images",50),t.YNc(4,Br,1,0,"img",51),t.qZA(),t.TgZ(5,"div",52)(6,"div",53)(7,"div",54)(8,"div",55),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"app-product-recommend",56),t.qZA()()(),t.TgZ(12,"div",57),t.YNc(13,Jr,2,2,"app-product-favorite",58),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("glowing",e.productDetail.isSpecialSale)("productDetail",e.productDetail),t.xp6(1),t.Q6J("ngIf",e.productDetail.isSpecialSale),t.xp6(5),t.hij(" ",t.lcZ(10,7,"home-recommended-title")," "),t.xp6(2),t.Q6J("relatedProduct",e.productDetail)("isBiddingMode",!0),t.xp6(2),t.Q6J("ngIf",e.productDetail)}}function qr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-launch-pool-button",84),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t.qZA()}if(2&n){const e=t.oxw().ngLet;t.Q6J("canLaunchPool",!!e)}}function Nr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-launch-pool",83),t.NdJ("openLaunchPoolModal",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.handleOpenLaunchPool())}),t.YNc(1,qr,1,1,"ng-template"),t.qZA()}2&n&&t.Q6J("canLaunchPool",!!r.ngLet)("allowDirectLaunch",!0)}function Qr(n,r){}function Fr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",63)(1,"div",64),t.ALo(2,"async"),t._UZ(3,"span",65),t.TgZ(4,"div",66)(5,"div",67)(6,"div",68)(7,"div",69)(8,"h1",70),t._uU(9),t.TgZ(10,"app-copy-icon",71),t.NdJ("copied",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.copied())}),t.qZA()(),t.TgZ(11,"div",72)(12,"div",73)(13,"app-order-rating",74),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.scrollToScoreSection())}),t.qZA(),t.TgZ(14,"div",75),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.scrollToScoreSection())}),t._uU(15),t.qZA(),t.TgZ(16,"div",76),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.scrollToScoreSection())}),t._uU(17),t.ALo(18,"translate"),t.qZA()(),t.YNc(19,Nr,2,2,"app-launch-pool",77),t.ALo(20,"async"),t.qZA()()(),t._UZ(21,"div",78),t.TgZ(22,"div",79),t.YNc(23,Qr,0,0,"ng-template",17),t.qZA(),t.TgZ(24,"app-bidding-main-pool",80),t.NdJ("onLaunchPool",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.handleOpenLaunchPool())})("onBidMore",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.handleBidMore())}),t.qZA()(),t._UZ(25,"app-bidding-entries",81),t.qZA()(),t.TgZ(26,"app-bidding-pools",82),t.NdJ("onLaunchPool",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.handleOpenLaunchPool())}),t.qZA()()}if(2&n){const e=t.oxw(2),o=t.MAs(35);let i;t.xp6(1),t.ekj("closed-pool",(null==(i=t.lcZ(2,14,e.biddingService.selectedPool$))?null:i.status)!=e.poolStatus.OPEN),t.xp6(8),t.hij(" ",e.productDetail.name," "),t.xp6(1),t.s9C("appCopying",e.productDetail.name),t.xp6(3),t.Q6J("stopEvent",!0)("rating",e.getReviewTotal.averageScore),t.xp6(2),t.hij(" (",e.getReviewTotal.total,") "),t.xp6(2),t.AsE(" ",t.lcZ(18,16,"reviews-number-label"),": ",e.getReviewTotal.total," "),t.xp6(2),t.Q6J("ngLet",t.lcZ(20,18,e.biddingService.canLaunchPool$)),t.xp6(4),t.Q6J("ngTemplateOutlet",o),t.xp6(1),t.Q6J("product",e.productDetail),t.xp6(1),t.Q6J("product",e.productDetail),t.xp6(1),t.Q6J("product",e.productDetail)}}const Yr=function(n,r){return{categoryId:n,brandId:r}};function jr(n,r){if(1&n&&t._UZ(0,"app-products-infinite-scroll",85),2&n){const e=t.oxw(2),o=t.MAs(1);t.Q6J("additionalParams",t.WLB(3,Yr,e.productDetail.productCategoryId,e.productDetail.brandId))("scrollContainer",o)("pageSize",10)}}function Rr(n,r){if(1&n&&(t.TgZ(0,"div",42),t.YNc(1,Ur,14,9,"div",43),t.YNc(2,Fr,27,20,"div",44),t.TgZ(3,"div",45)(4,"div",46),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.YNc(7,jr,1,6,"app-products-infinite-scroll",47),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productDetail),t.xp6(1),t.Q6J("ngIf",e.productDetail),t.xp6(3),t.hij(" ",t.lcZ(6,4,"home-recommended-title")," "),t.xp6(2),t.Q6J("ngIf",e.productDetail)}}function Hr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-share-modal",86),t.NdJ("isOpenChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.openShareModal=i)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("isOpen",e.openShareModal)}}function Kr(n,r){1&n&&t._UZ(0,"app-cart-explosion",89)}const Gr=function(n,r){return{"top.px":n,"left.px":r}};function zr(n,r){if(1&n&&(t.TgZ(0,"div",87),t.YNc(1,Kr,1,0,"app-cart-explosion",88),t.qZA()),2&n){const e=t.oxw();t.Q6J("ngStyle",t.WLB(1,Gr,e.top,e.left))}}function $r(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",93)(1,"div",94,95),t.NdJ("click",function(){t.CHM(e),t.oxw(2);const i=t.MAs(1);return t.KtG(i.scrollToTop(300))}),t.TgZ(3,"div",96)(4,"div",97),t._UZ(5,"img",98),t.qZA(),t.TgZ(6,"div",99)(7,"div",100),t._uU(8),t.qZA()()()()()}if(2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("src",null==e.productDetail?null:e.productDetail.productImages[0].source,t.LSH),t.xp6(3),t.hij(" ",null==e.productDetail?null:e.productDetail.name," ")}}const ae=function(n){return{"!hidden":n}};function Wr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-bidding-global-entries",101),t.NdJ("showMyEntriesChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showMyEntries=i)})("isCollapseChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.isCollapse=i)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("showMyEntries",e.showMyEntries)("ngClass",t.VKq(3,ae,e.isCollapse))("isCollapse",e.isCollapse)}}function Vr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-bidding-control-pane",90),t.NdJ("onLaunchPool",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.handleOpenLaunchPool())}),t.YNc(1,$r,9,2,"div",91),t.qZA(),t.YNc(2,Wr,1,5,"app-bidding-global-entries",92)}if(2&n){const e=t.oxw();t.Q6J("allowDirectLaunch",!0)("isPopup",e.isMobile),t.xp6(1),t.Q6J("ngIf",!e.isMobile),t.xp6(1),t.Q6J("ngIf",!e.isMobile)}}function Xr(n,r){if(1&n&&t._UZ(0,"img",108),2&n){const e=t.oxw(4);t.Q6J("src",e.brand.logo,t.LSH)("alt",e.brand.name)}}const ta=function(n){return{brandId:n}};function ea(n,r){if(1&n&&(t.TgZ(0,"a",105),t.YNc(1,Xr,1,2,"img",106),t.TgZ(2,"div",107),t._uU(3),t.qZA()()),2&n){const e=t.oxw(3);t.Q6J("queryParams",t.VKq(4,ta,e.brand.id))("routerLink","/product/search"),t.xp6(1),t.Q6J("ngIf",e.brand.logo),t.xp6(2),t.hij(" ",e.brand.name," ")}}function na(n,r){if(1&n&&(t.TgZ(0,"div",103),t.YNc(1,ea,4,6,"a",104),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.brand)}}function oa(n,r){if(1&n&&t.YNc(0,na,2,1,"div",102),2&n){const e=t.oxw();t.Q6J("ngIf",null==e.productDetail?null:e.productDetail.brandId)}}function ia(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",109),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.openShareModal=!0)}),t.TgZ(1,"span",110),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"img",111),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"shop-product-page-share")," "))}function ra(n,r){1&n&&t._UZ(0,"div",141)}const aa=function(n){return{"w-full":n}};function ca(n,r){1&n&&(t.TgZ(0,"div",142)(1,"div")(2,"span",143),t._uU(3,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),t.qZA()()()),2&n&&t.Q6J("ngClass",t.VKq(1,aa,r.index>0))}const ce=function(){return[]};function sa(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",42)(2,"div",112,49)(4,"div",113),t._UZ(5,"div",114),t.qZA(),t.TgZ(6,"div",115),t.YNc(7,ra,1,0,"div",116),t.qZA()(),t.TgZ(8,"div",117)(9,"div",118)(10,"h1",119)(11,"span",120),t._uU(12," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(13,"div",121)(14,"div"),t.GkF(15,17),t._UZ(16,"div",122),t.qZA()()(),t._UZ(17,"div",123),t.TgZ(18,"div",118)(19,"div",124)(20,"div",125)(21,"span",126),t._uU(22," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(23,"div",127)(24,"span",128),t._uU(25," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(26,"div",125)(27,"span",128),t._uU(28," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(29,"div",129)(30,"span",128),t._uU(31," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(32,"div",130)(33,"span",128),t._uU(34," \xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(35,"div",125)(36,"span",128),t._uU(37," \xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(38,"div",131)(39,"span",128),t._uU(40," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(41,"div",130)(42,"span",128),t._uU(43," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()()()(),t._UZ(44,"div",132),t.TgZ(45,"div",133)(46,"div",134)(47,"span",128),t._uU(48,"\xa0\xa0\xa0\xa0\xa0"),t.qZA()(),t.YNc(49,ca,4,3,"div",135),t.qZA(),t.TgZ(50,"div",136)(51,"button",137),t._UZ(52,"app-cart-icon",138),t.TgZ(53,"span",139),t._uU(54),t.ALo(55,"translate"),t.qZA()()(),t.TgZ(56,"div",140)(57,"span",128),t._uU(58,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),t.qZA()()()(),t.BQk()),2&n){t.oxw(2);const e=t.MAs(37);t.xp6(7),t.Q6J("ngForOf",t.DdM(6,ce).constructor(3).fill(1)),t.xp6(8),t.Q6J("ngTemplateOutlet",e),t.xp6(34),t.Q6J("ngForOf",t.DdM(7,ce).constructor(2).fill(1)),t.xp6(5),t.Oqu(t.lcZ(55,4,"shop-product-page-add"))}}function la(n,r){1&n&&t.YNc(0,sa,59,8,"ng-container",35)}function da(n,r){if(1&n&&(t.TgZ(0,"div",147)(1,"div",148),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",149),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,7,"product-detail-limited-deals")," "),t.xp6(3),t.gL8(" ",t.lcZ(6,9,"product-detail-edns-in"),": ",e.days," ",t.lcZ(7,11,"days")," ",e.hours,":",e.minutes,":",e.seconds," ")}}function pa(n,r){if(1&n&&(t.TgZ(0,"app-countdown",146),t.YNc(1,da,8,13,"ng-template"),t.qZA()),2&n){const e=t.oxw(3);t.Q6J("time",e.productDetail.endTime)}}function ga(n,r){if(1&n&&(t.TgZ(0,"div",147)(1,"div",148),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,7,"product-detail-limited-deals")," "),t.xp6(3),t.gL8(" ",t.lcZ(6,9,"product-detail-limited-start"),": ",e.days," ",t.lcZ(7,11,"days")," ",e.hours,":",e.minutes,":",e.seconds," ")}}function _a(n,r){if(1&n&&(t.TgZ(0,"app-countdown",146),t.YNc(1,ga,8,13,"ng-template"),t.qZA()),2&n){const e=t.oxw(3);t.Q6J("time",e.productDetail.beginTime)}}function ua(n,r){if(1&n&&(t.ynx(0),t.YNc(1,pa,2,1,"app-countdown",145),t.YNc(2,_a,2,1,"app-countdown",145),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.isEventStarted),t.xp6(1),t.Q6J("ngIf",e.isEventNotStarted)}}function ma(n,r){if(1&n&&t.YNc(0,ua,3,2,"ng-container",144),2&n){const e=t.oxw();t.Q6J("ngIf",e.productDetail)}}function fa(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",159),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t.TgZ(1,"ion-label"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=r.isDisabled,o=t.oxw(4);t.Q6J("disabled",e),t.xp6(2),t.Oqu(t.lcZ(3,2,o.isFavorite?"shop-product-page-in-the-wishlist":"shop-product-page-add-to-wishlist"))}}function ha(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",157),t.NdJ("click",function(){const a=t.CHM(e).method,l=t.oxw(4);return t.KtG(l.handleGetHelp(a))}),t.TgZ(1,"ion-label"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"footer-help")))}function xa(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-list",156)(1,"app-product-favorite",60),t.NdJ("isBelongChange",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.handleFavoriteChange(i))}),t.YNc(2,fa,4,4,"ng-template"),t.qZA(),t.TgZ(3,"app-customer-service"),t.YNc(4,ha,4,3,"ng-template"),t.qZA(),t.TgZ(5,"ion-item",157),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return i.openShareModal=!0,t.KtG(i.isMenuOpen=!1)}),t.TgZ(6,"ion-label"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"app-bidding-switch",158),t.NdJ("onSwitchMode",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.isMenuOpen=!1)}),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("product",e.productDetail)("skuId",null==e.selectedSku?null:e.selectedSku.id),t.xp6(6),t.Oqu(t.lcZ(8,3,"product-share-item"))}}function ba(n,r){if(1&n){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"ion-popover",154,155),t.NdJ("didDismiss",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.isMenuOpen=!1)}),t.YNc(2,xa,10,5,"ng-template"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("keepContentsMounted",e.isPopOverDidOpen)("dismissOnSelect",!0)("isOpen",e.isMenuOpen)}}function va(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",150),t.NdJ("click",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.handleMenuClick(i))}),t.O4$(),t.TgZ(1,"svg",151),t._UZ(2,"path",152),t.qZA()(),t.YNc(3,ba,3,3,"ion-popover",153)}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.productDetail)}}function Pa(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-images-lightbox",161),t.NdJ("isOpenChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openReviewLightbox=i)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("isOpen",e.openReviewLightbox)("images",e.reviewImages)("initialSlide",e.lighboxSlideNumber)}}function wa(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Pa,1,3,"app-product-images-lightbox",160),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.openReviewLightbox)}}function Ca(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-launch-pool-modal",162),t.NdJ("isOpenChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.isOpenLaunchPoolModal=i)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("isOpen",e.isOpenLaunchPoolModal)("product",e.productDetail)("getReviewTotal",e.getReviewTotal)}}function Ta(n,r){1&n&&t._UZ(0,"div",163)}const Oa=function(n){return{"entries-collapse":n}},ya=function(n){return{"show-product-name":n}},Ma=function(){return["/"]};let Za=(()=>{class n extends ht{constructor(e,o,i,a,l,P,O,w,D,nt,ot,q,U){super(e,o,i,a,l,P,O,w,D,nt,ot,q),this.productsService=i,this.route=a,this.checkoutService=l,this.biddingService=P,this.userService=O,this.platformId=w,this.scrollToProductService=D,this.toast=nt,this.i18n=ot,this.router=q,this.cdr=U,this.isCollapse=!1,this.showMyEntries=!1,this.isOpenLaunchPoolModal=!1,this.showBiddingInitialLaunchModal=!1,this.showExplosion=!1,this.left=0,this.top=0,this.isMobile=!!v.Z.isBrowser&&window.innerWidth<768,this.showProductName=!1,this.sharerId="",this.previousParams={},this.poolStatus=y.j,this.handleScroll=K=>{super.onContentScroll(K),this.mobileSticky&&K.detail.currentY>68&&(this.mobileSticky.nativeElement.style.transform=`translateY(-${Math.min(100,(K.detail.currentY-68)/10)}%)`),this.mobileSticky&&K.detail.currentY<=68&&(this.mobileSticky.nativeElement.style.transform="translateY(-0px)"),this.stickyReview&&(this.stickyReview.nativeElement.style.height=`${Math.min(K.detail.currentY/8,50)}px`),K.detail.currentY>650?this.showProductName||(this.showProductName=!0):this.showProductName&&(this.showProductName=!1)},this.isBrowser=(0,s.NF)(this.platformId)}ngOnInit(){var e=this;return(0,f.Z)(function*(){e.route.queryParams.pipe((0,u.R)(e.destroyStream$)).subscribe(function(){var o=(0,f.Z)(function*(i){e.productId=i.id||"",e.productId&&(e.sharerId=i.sharerId?i.sharerId:"",i.launchPool?e.router.navigate([],{relativeTo:e.route,queryParams:{bid:!0,launchPool:null,id:e.productId},queryParamsHandling:"merge",skipLocationChange:!1,replaceUrl:!0}).then((0,f.Z)(function*(){yield e.biddingService.refreshPlatformPoolLimit(),e.handleOpenLaunchPool()})):(e.getProductInfo(e.productId),e.productScroll?.clear()))});return function(i){return o.apply(this,arguments)}}()),e.initBiddingMode(),v.Z.isBrowser&&((0,Lo.R)(window,"resize").pipe((0,u.R)(e.destroyStream$),(0,Qt.b)(300)).subscribe(o=>{e.isMobile=o.target.innerWidth<768}),e.previousParams=e.route.snapshot.queryParams||{},e.router.events.pipe((0,u.R)(e.destroyStream$)).subscribe(o=>{if(o instanceof b.m2){if(e.previousParams.id!=e.route.snapshot.queryParams.id)e.iconContent.scrollToTop(500);else if(e.previousParams.poolId!=e.route.snapshot.queryParams.poolId)if(e.isMobile){let i=document.getElementById("main-pool-detail").offsetTop-135;e.iconContent.scrollToPoint(0,i,500)}else e.iconContent.scrollToTop(500);else e.iconContent.scrollToTop(500);e.previousParams=e.route.snapshot.queryParams||{}}}))})()}initBiddingMode(){v.Z.isBrowser&&this.biddingService.biddingClicked$.pipe((0,u.R)(this.destroyStream$),(0,Qt.b)(1e3)).subscribe(e=>{if(this.biddingService.noOfClicks>=3&&this.biddingService.animationTarget){const i=document.querySelectorAll(this.biddingService.animationTarget);if(!i?.length)return;for(let a=0;a<i.length&&(this.top=i[a].getBoundingClientRect().top,this.left=i[a].getBoundingClientRect().left,!(this.left>=0));a++);this.cdr.detectChanges(),this.showExplosion=!0,setTimeout(()=>{this.showExplosion=!1},2500)}this.biddingService.noOfClicks=0}),this.biddingService.onLaunchInitialPool$.pipe((0,u.R)(this.destroyStream$)).subscribe(e=>{this.showBiddingInitialLaunchModal=!0,this.selectedProduct=e}),this.biddingService.refreshPlatformPoolLimit()}ngOnDestroy(){super.ngOnDestroy(),this.biddingService.selectedPool$.next(null),this.clearPoolFromUrl()}clearPoolFromUrl(){this.router.navigate([],{relativeTo:this.route,queryParams:{poolId:null,bid:this.biddingService.isBiddingMode$.getValue()||null},queryParamsHandling:"merge",skipLocationChange:!1,replaceUrl:!0})}handleOpenLaunchPool(){if(this.userService.isLogin()){if(!this.biddingService.canLaunchPool$.getValue())return;this.isOpenLaunchPoolModal=!0}else this.router.navigateByUrl("/auth/login")}handleBidMore(){if(v.Z.isBrowser){const e=document.getElementsByClassName("open-pools-container")[0]??document.getElementsById("recommended-product-container");this.iconContent.scrollToPoint(0,e.offsetTop,1e3)}}getProductInfo(e){var o=this;return(0,f.Z)(function*(){o.productDetail=yield(0,T.n)(o.biddingService.getProductById(e)),o.sharerId&&(0,T.n)(o.biddingService.trackSharer(o.sharerId,o.productDetail?.id)),console.log(o.productDetail,o.productId),o.quantity=1,!v.Z.isServer&&o.productDetail&&(o.brand=yield(0,T.n)(o.productsService.getBrandById(o.productDetail.brandId))),o.isFavorite=o.productDetail?.collect??!1,o.specificationItems=[]})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(ct.s),t.Y36(b.gz),t.Y36(Ot.Z),t.Y36(J.g),t.Y36(E.K),t.Y36(t.Lbi),t.Y36(yt.h),t.Y36(d.yF),t.Y36(m.sK),t.Y36(b.F0),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-detail-bidding"]],features:[t.qOj],decls:48,vars:25,consts:[["id","app-product-detail-bidding","fullscreen","true","scrollEvents","true","backToTopBtn","",3,"ionScroll"],["ionContent",""],[3,"additionalData"],[1,"sticky","top-0","z-20"],["id","product-toolbar","appOverflowVisible","",1,"absolute","top-0","shadow-lg","z-50",3,"ngClass"],["header",""],[3,"hideLogo"],["end","",3,"ngTemplateOutlet"],["start","",1,"header-title","mr-1","flex-1"],[1,"relative",2,"height","32px"],[1,"slide-header","absolute","inset-0","flex","flex-col",3,"ngClass"],[1,"ml-2","mr-1","transition-all","duration-300","transform","opacity-100","slide-item-logo",3,"routerLink"],["class","flex gap-2 items-center slide-item-name",4,"ngIf"],[1,"tyqoon-container","m-auto"],[1,"relative"],[1,"absolute","right-0","left-0","md:left-auto","top-full","flex","justify-center","md:justify-end"],[1,"ticket-wrapper","sticky-section","pt-4","md:ml-auto"],[3,"ngTemplateOutlet"],[1,"page-container"],[1,"tyqoon-container","px-0","md:px-3","xl:px-4","bg-lightblue"],[1,"flex","flex-wrap","md:flex-nowrap","items-start"],[1,"w-full","md:w-8/12","lg:w-9/12","flex-1","flex","flex-wrap"],["class","w-full flex flex-wrap max-constraint",4,"ngIf","ngIfElse"],[1,"w-auto","sticky","top-2","hidden","md:block","z-10",2,"width","234px"],[1,"!fixed","bottom-0","hidden","md:block",3,"showMyEntries","onlyShowHeader","ngClass","showMyEntriesChange","click"],[3,"isOpen","isOpenChange",4,"isBrowser"],["class","explosion-container fixed z-50 pointer-events-none select-none",3,"ngStyle",4,"ngIf"],[1,"mt-4","md:hidden"],[3,"allowDirectLaunch","onLaunchPool"],["controlPane",""],["brandTemplate",""],["shareBtn",""],["skeleton",""],["countdownLimitedDeal",""],["kebabMenu",""],[4,"isBrowser"],[3,"isOpen","product","getReviewTotal","isOpenChange",4,"ngIf"],["biddingAnimations","",4,"isBrowser"],[3,"isOpen","product","isOpenChange"],[1,"flex","gap-2","items-center","slide-item-name"],[1,"h-8",3,"src"],[1,"product-name","leading-4","text-xs","break-all"],[1,"w-full","flex","flex-wrap","max-constraint"],["class","w-full md:w-4/12 my-3 md:px-0 sticky md:static top-0 z-0 md:z-20","id","product-sticky-section",4,"ngIf"],["id","main-pool-detail","class","w-full md:w-8/12 md:px-5 pt-4 bg-white px-4 rounded-t-2xl main-product-info",4,"ngIf"],["id","recommended-product-container",1,"mt-5","pl-3","pr-7"],[1,"font-medium","text-xl","xs:text-2xl","mt-8","mb-2"],[3,"additionalParams","scrollContainer","pageSize",4,"ngIf"],["id","product-sticky-section",1,"w-full","md:w-4/12","my-3","md:px-0","sticky","md:static","top-0","z-0","md:z-20"],["mobileSticky",""],[3,"glowing","productDetail"],["class","absolute fire-animation z-1","src","assets/svgs/fire-animation.svg","alt","",4,"ngIf"],[1,"w-full","relative","hidden","md:flex","flex-wrap","max-constraint","mt-14"],[1,"w-full","hidden","md:block","px-4","md:px-0","bg-white","z-1"],[1,"sticky","top-0"],[1,"text-primary","font-medium","mb-4","text-center"],[3,"relatedProduct","isBiddingMode"],[1,"absolute","mobile-favorite","z-1","md:hidden"],[3,"product","skuId","isBelongChange",4,"ngIf"],["src","assets/svgs/fire-animation.svg","alt","",1,"absolute","fire-animation","z-1"],[3,"product","skuId","isBelongChange"],[1,"rounded-full","border","border-solid","border-[#dddddd]","bg-white","w-full","flex","justify-center","items-center","text-[#dddddd]","p-1",3,"disabled","click"],[3,"active"],["id","main-pool-detail",1,"w-full","md:w-8/12","md:px-5","pt-4","bg-white","px-4","rounded-t-2xl","main-product-info"],[1,"pool-details","relative","mb-6"],[1,"rainbow"],[1,"main-pool-content","bg-white","relative","rounded-2xl","overflow-hidden","-m-2","md:m-0"],[1,"flex","flex-col","p-2"],[1,"flex","flex-wrap","flex-col","xs:flex-row"],[1,"flex-1","mb-1","md:mb-2"],[1,"product-name","text-black","text-xl","break-all","relative","pr-5","-mr-4"],[1,"cursor-pointer","w-8","h-8","absolute","-right-1.5","opacity-40","fill-black","-top-0.5","p-1.5",3,"appCopying","copied"],[1,"flex","flex-wrap","items-center","justify-between"],[1,"md:flex-1","flex","items-center","md:justify-between"],[1,"-ml-1","block","cursor-pointer",3,"stopEvent","rating","click"],[1,"cursor-pointer","opacity-30","text-lg","font-medium","mt-0.5","md:hidden","pl-1",3,"click"],[1,"cursor-pointer","opacity-30","text-lg","font-medium","hidden","md:block",3,"click"],["class","!w-auto ml-1 md:hidden",3,"canLaunchPool","allowDirectLaunch","openLaunchPoolModal",4,"ngLet"],[1,"border","border-bottom","opacity-50","mt-0.5","mb-2.5"],[1,"relative","w-full","bidding-brand-wrapper"],[3,"product","onLaunchPool","onBidMore"],[1,"mt-2",3,"product"],[3,"product","onLaunchPool"],[1,"!w-auto","ml-1","md:hidden",3,"canLaunchPool","allowDirectLaunch","openLaunchPoolModal"],[1,"block","mobile-launch-pool-btn","mx-auto",3,"canLaunchPool","click"],[3,"additionalParams","scrollContainer","pageSize"],[3,"isOpen","isOpenChange"],[1,"explosion-container","fixed","z-50","pointer-events-none","select-none",3,"ngStyle"],["url","assets/images/ticket.png","class","h-1 block pointer-events-none",4,"isBrowser"],["url","assets/images/ticket.png",1,"h-1","block","pointer-events-none"],["elementId","my-tickets-box",3,"allowDirectLaunch","isPopup","onLaunchPool"],["productHeader","",4,"ngIf"],["class","mt-2.5 block",3,"showMyEntries","ngClass","isCollapse","showMyEntriesChange","isCollapseChange",4,"ngIf"],["productHeader",""],[1,"overflow-hidden","sticky-widget-scroll","cursor-pointer",2,"height","0px",3,"click"],["stickyReview",""],[1,"flex"],[1,"sticky-image-preview","rounded-lg","overflow-hidden","border","border-[#dddddd]","mr-2"],["alt","",1,"object-cover","object-center","!w-full","!h-full",3,"src"],[1,"flex-1","self-stretch","relative"],[1,"absolute","inset-0","line-clamp-3","break-all","text-xs"],[1,"mt-2.5","block",3,"showMyEntries","ngClass","isCollapse","showMyEntriesChange","isCollapseChange"],["class","flex items-center h-10 brand-link",4,"ngIf"],[1,"flex","items-center","h-10","brand-link"],["class","flex items-center h-full",3,"queryParams","routerLink",4,"ngIf"],[1,"flex","items-center","h-full",3,"queryParams","routerLink"],["class","h-full mr-1",3,"src","alt",4,"ngIf"],[1,"block","whitespace-nowrap","text-[#0087ff]","font-bold","underline"],[1,"h-full","mr-1",3,"src","alt"],[1,"share-btn","px-4","py-1","text-white","flex","rounded-lg","items-center",3,"click"],[1,"mr-2","whitespace-nowrap"],["src","assets/svgs/paper-plane.svg","alt",""],["id","product-sticky-section",1,"w-full","md:w-4/12","my-3","px-4","md:px-0","sticky","md:static","top-0","z-0"],[1,"image-wrapper","relative","cursor-pointer",2,"padding-top","100%"],[1,"absolute","inset-0","pulSate"],[1,"flex","mt-3","justify-center"],["class","pulSate mx-2","style","width: 40px; height: 40px",4,"ngFor","ngForOf"],[1,"w-full","md:w-8/12","md:px-5","py-4","bg-white","px-4","rounded-t-2xl","z-1"],[1,"flex","flex-wrap"],[1,"text-xl","mb-4","flex-1"],[1,"pulSate","tracking-widest","break-all"],[1,"md:hidden","flex-shrink-0"],[1,"mt-1","text-lg","mb-2","pulSate"],[1,"border","border-bottom","mb-4","hidden","md:block"],[1,"flex-1","mb-2","mr-1"],[1,"leading-4","hidden","md:block"],[1,"pulSate","tracking-widest"],[1,"text-lg","mb-2","hidden","md:block"],[1,"pulSate"],[1,"mb-2"],[1,"text-xs","md:hidden"],[1,"leading-6"],[1,"mt-3","border","border-bottom","opacity-50","mb-4","hidden","md:block"],[1,"flex","flex-wrap","mt-4","md:mt-0"],[1,"md:hidden","mr-2","mt-1"],["class","flex flex-wrap mb-5",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-1","md:hidden"],[1,"rounded-lg","border","border-solid","w-full","flex","justify-center","items-center","py-2.5","add-cart-shadow"],[1,"mr-2"],[1,"font-medium","text-white"],[1,"flex-wrap","mb-3","items-center","hidden","md:flex","py-1"],[1,"pulSate","mx-2",2,"width","40px","height","40px"],[1,"flex","flex-wrap","mb-5",3,"ngClass"],[1,"pulSate","py-1"],[4,"ngIf"],[3,"time",4,"ngIf"],[3,"time"],[1,"mb-4","bg-gradient-primary","flex","px-3","py-2","text-white","md:rounded-md","flex-wrap"],[1,"flex-1","mr-2","limited-deal-text"],[1,""],["id","product-detail-menu-btn",1,"top-nav-btn","mr-1","flex","justify-center","items-center","flex-shrink-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16px","height","16px","viewBox","0 0 16 16","fill","currentColor"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.444 13.832a1 1 0 1 0 1.111-1.663 1 1 0 0 0-1.11 1.662zM8 9a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"],["side","bottom","alignment","center",3,"keepContentsMounted","dismissOnSelect","isOpen","didDismiss",4,"ngIf"],["side","bottom","alignment","center",3,"keepContentsMounted","dismissOnSelect","isOpen","didDismiss"],["popover",""],["lines","full"],["lines","none",1,"cursor-pointer",3,"click"],[3,"onSwitchMode"],["lines","none",1,"cursor-pointer",3,"disabled","click"],[3,"isOpen","images","initialSlide","isOpenChange",4,"ngIf"],[3,"isOpen","images","initialSlide","isOpenChange"],[3,"isOpen","product","getReviewTotal","isOpenChange"],["biddingAnimations",""]],template:function(e,o){if(1&e&&(t.TgZ(0,"ion-content",0,1),t.NdJ("ionScroll",function(a){return o.handleScroll(a)}),t._UZ(2,"app-global-customer-service",2),t.TgZ(3,"div",3)(4,"ion-toolbar",4,5)(6,"app-top-navbar",6),t.GkF(7,7),t.TgZ(8,"div",8)(9,"div",9)(10,"div",10)(11,"a",11),t._UZ(12,"app-tyqoon-icon"),t.qZA(),t.YNc(13,Dr,4,2,"div",12),t.qZA()()()(),t._UZ(14,"app-top-menu"),t.TgZ(15,"div",13)(16,"div",14)(17,"div",15)(18,"div",16),t.GkF(19,17),t.qZA()()()()()(),t.TgZ(20,"div",18)(21,"div",19)(22,"div",20)(23,"div",21),t.YNc(24,Rr,8,6,"div",22),t.qZA(),t.TgZ(25,"div",23)(26,"app-bidding-global-entries",24),t.NdJ("showMyEntriesChange",function(a){return o.showMyEntries=a})("click",function(){return o.isCollapse=!1}),t.qZA()()()(),t.YNc(27,Hr,1,1,"app-product-share-modal",25),t._UZ(28,"app-footer"),t.YNc(29,zr,2,4,"div",26),t.qZA()(),t.TgZ(30,"ion-footer",27)(31,"app-bottom-navbar",28),t.NdJ("onLaunchPool",function(){return o.handleOpenLaunchPool()}),t.qZA()(),t.YNc(32,Vr,3,4,"ng-template",null,29,t.W1O),t.YNc(34,oa,1,1,"ng-template",null,30,t.W1O),t.YNc(36,ia,5,3,"ng-template",null,31,t.W1O),t.YNc(38,la,1,0,"ng-template",null,32,t.W1O),t.YNc(40,ma,1,1,"ng-template",null,33,t.W1O),t.YNc(42,va,4,1,"ng-template",null,34,t.W1O),t.YNc(44,wa,2,1,"ng-container",35),t.YNc(45,Ca,1,3,"app-launch-pool-modal",36),t.YNc(46,Ta,1,0,"div",37),t.TgZ(47,"app-bidding-initial-launch-modal",38),t.NdJ("isOpenChange",function(a){return o.showBiddingInitialLaunchModal=a}),t.qZA()),2&e){const i=t.MAs(33),a=t.MAs(39),l=t.MAs(43);t.xp6(2),t.Q6J("additionalData",o.supportData),t.xp6(2),t.Q6J("ngClass",t.VKq(18,Oa,o.isCollapse)),t.xp6(2),t.Q6J("hideLogo",!0),t.xp6(1),t.Q6J("ngTemplateOutlet",l),t.xp6(3),t.Q6J("ngClass",t.VKq(20,ya,o.showProductName)),t.xp6(1),t.Q6J("routerLink",t.DdM(22,Ma)),t.xp6(2),t.Q6J("ngIf",o.productDetail),t.xp6(6),t.Q6J("ngTemplateOutlet",i),t.xp6(5),t.Q6J("ngIf",!o.isBrowser||o.isBrowser&&(null==o.productDetail?null:o.productDetail.id)===o.productId)("ngIfElse",a),t.xp6(2),t.Q6J("showMyEntries",o.showMyEntries)("onlyShowHeader",!0)("ngClass",t.VKq(23,ae,!o.isCollapse)),t.xp6(3),t.Q6J("ngIf",o.showExplosion),t.xp6(2),t.Q6J("allowDirectLaunch",!0),t.xp6(14),t.Q6J("ngIf",o.productDetail),t.xp6(2),t.Q6J("isOpen",o.showBiddingInitialLaunchModal)("product",o.selectedProduct)}},dependencies:[s.mk,s.sg,s.O5,s.tP,s.PC,Do.R,X.Q,Ft.p,Yt.K,jt.c,Rt.l,Ht.z,Kt.M,tt.p,L.E,Gt.y,zt.H,$t.B,Wt.M,Vt.Z,Y.h,Xt.M,dt.h,Tt.j,te.a,d.W2,d.fr,d.Ie,d.Q$,d.q_,d.sr,d.d8,d.Fo,bt.j,qt,W.b,b.yS,lt.K,Et.z,Bo.z,Nt,vt.O,ee.h,at,It,B,ni,Mi,Lr,s.Ov,m.X$],styles:['[_nghost-%COMP%]{inset:0;display:flex;position:absolute;flex-direction:column;justify-content:space-between;contain:layout size style;overflow:hidden;z-index:0}.bidding-brand-wrapper[_ngcontent-%COMP%]   .brand-link[_ngcontent-%COMP%]{position:absolute;top:-6px;right:0}@media (max-width: 767.9px){ion-toolbar[_ngcontent-%COMP%]{transform:none!important}}.page-container[_ngcontent-%COMP%]{padding-top:58px}@media (min-width: 768px){.page-container[_ngcontent-%COMP%]{padding-top:136px}}.explosion-container[_ngcontent-%COMP%]{width:700px;transform:translate(-250px) translateY(-500px)}.ticket-wrapper[_ngcontent-%COMP%]{width:215px}@media (min-width: 768px){.ticket-wrapper[_ngcontent-%COMP%]{width:234px}}app-tyqoon-icon[_ngcontent-%COMP%]{display:block;height:30px}app-tyqoon-icon[_ngcontent-%COMP%]     .post-logo{display:none}@media only screen and (min-width: 345px){app-tyqoon-icon[_ngcontent-%COMP%]     .pre-logo{display:none}app-tyqoon-icon[_ngcontent-%COMP%]     .post-logo{display:block}}@media (min-width: 340px){app-tyqoon-icon[_ngcontent-%COMP%]     .pre-logo{display:block}app-tyqoon-icon[_ngcontent-%COMP%]     .post-logo{display:block}}.header-title[_ngcontent-%COMP%]{max-height:40px;gap:10px;overflow:hidden}.header-title[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}app-top-navbar[_ngcontent-%COMP%]     app-search-input{width:-moz-fit-content;width:fit-content}app-top-navbar[_ngcontent-%COMP%]     app-search-input .search-mobile{width:100px}app-top-navbar[_ngcontent-%COMP%]     app-search-input .search-mobile.closed{width:-moz-fit-content;width:fit-content}app-bidding-main-pool[_ngcontent-%COMP%]{min-height:100px}app-product-recommend[_ngcontent-%COMP%]     .recommend-swiper{max-height:600px}.slide-header[_ngcontent-%COMP%]{transition:transform .3s;transform:translateY(0)}.slide-header[_ngcontent-%COMP%]   .slide-item-logo[_ngcontent-%COMP%]{margin-bottom:12px;opacity:100;transition:opacity .7s}.slide-header[_ngcontent-%COMP%]   .slide-item-name[_ngcontent-%COMP%]{opacity:0;transition:opacity .7s}.slide-header.show-product-name[_ngcontent-%COMP%]{transform:translateY(-42px)}.slide-header.show-product-name[_ngcontent-%COMP%]   .slide-item-logo[_ngcontent-%COMP%]{opacity:0}.slide-header.show-product-name[_ngcontent-%COMP%]   .slide-item-name[_ngcontent-%COMP%]{opacity:100}@media (min-width: 768px){app-products-infinite-scroll[_ngcontent-%COMP%]     app-product-card app-bid-button .bidding-bar img{height:19px!important}}@media (min-width: 992px){app-products-infinite-scroll[_ngcontent-%COMP%]     app-product-card app-bid-button .bidding-bar img{height:25px}}app-products-infinite-scroll[_ngcontent-%COMP%]     app-product-card app-bid-button .bidding-bar .enter-now{margin-left:20px}@media (min-width: 768px){app-products-infinite-scroll[_ngcontent-%COMP%]     app-product-card app-bid-button .bidding-bar .enter-now{margin-left:26px;font-size:12px}}@media (min-width: 992px){app-products-infinite-scroll[_ngcontent-%COMP%]     app-product-card app-bid-button .bidding-bar .enter-now{margin-left:26px;font-size:16px}}@media (min-width: 1440px){app-products-infinite-scroll[_ngcontent-%COMP%]     app-product-card app-bid-button .bidding-bar .enter-now{margin-left:20px;font-size:18px}}.mobile-launch-pool-btn[_ngcontent-%COMP%]{width:140px}@media (min-width: 340px){.mobile-launch-pool-btn[_ngcontent-%COMP%]{width:140px}}@media (min-width: 375px){.mobile-launch-pool-btn[_ngcontent-%COMP%]{width:160px}}.mobile-launch-pool-btn[_ngcontent-%COMP%]     .content{padding-top:.375rem;padding-bottom:.375rem}.mobile-launch-pool-btn[_ngcontent-%COMP%]     img{height:12px!important}.mobile-launch-pool-btn[_ngcontent-%COMP%]     .star-wrapper{margin-left:.375rem}@media (max-width: 767.9px){.main-product-info[_ngcontent-%COMP%]{position:relative;z-index:1}}.pool-details[_ngcontent-%COMP%]   .main-pool-content[_ngcontent-%COMP%]{border:1px solid rgb(196,90,252)}.pool-details[_ngcontent-%COMP%]   .rainbow[_ngcontent-%COMP%]{position:absolute;inset:5px;filter:blur(15px)}.pool-details[_ngcontent-%COMP%]   .rainbow[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(315deg,#ff005e,#fbff00);animation:neon-block 1.5s linear infinite}.pool-details.closed-pool[_ngcontent-%COMP%]   .main-pool-content[_ngcontent-%COMP%]{border:1px solid rgb(249,177,69)}.pool-details.closed-pool[_ngcontent-%COMP%]   .rainbow[_ngcontent-%COMP%]:after{background:linear-gradient(315deg,#ff005e,#fbff00);animation:neon-closed-block 1.5s linear infinite}@keyframes neon-block{0%{filter:hue-rotate(0deg)}to{filter:hue-rotate(360deg)}}@keyframes neon-closed-block{0%{filter:hue-rotate(302deg)}to{filter:hue-rotate(334deg)}}'],data:{animation:[(0,I.X$)("slideInOut",[(0,I.eR)(":enter",[(0,I.oB)({transform:"translateY(-100%)"}),(0,I.jt)("200ms ease-in",(0,I.oB)({transform:"translateY(0%)"}))]),(0,I.eR)(":leave",[(0,I.jt)("100ms ease-out",(0,I.oB)({transform:"translateY(100%)"}))])])]}}),n})();var Aa=c(70957),ka=c(28137),Ia=c(24719);function Sa(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",17),t.NdJ("click",function(){const a=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.handleImageClick(a))}),t._UZ(1,"img",18),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(1),t.Q6J("src",e,t.LSH)}}function La(n,r){if(1&n&&(t.TgZ(0,"div",15),t.YNc(1,Sa,2,1,"div",16),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.images)}}function Da(n,r){if(1&n&&(t.TgZ(0,"div",19)(1,"div",20),t._uU(2),t.TgZ(3,"span",21),t._uU(4),t.ALo(5,"date"),t.qZA()(),t.TgZ(6,"p"),t._uU(7),t.qZA()()),2&n){const e=r.$implicit,o=t.oxw();t.xp6(2),t.hij(" ",o.storeName," "),t.xp6(2),t.Oqu(t.xi3(5,3,e.createdDate,"YYYY-MM-dd")),t.xp6(3),t.Oqu(e.content)}}let Ba=(()=>{class n{constructor(){this.onImageClick=new t.vpe,this.storeName=""}get images(){let e=JSON.parse(this.review.images||"[]");return"string"==typeof e&&(e=JSON.parse(e)),e.length>0?e:[]}get avatar(){return this.review.memberAvatar?this.review.memberAvatar:"/assets/images/sign-up-user.svg"}get specifications(){return JSON.parse(this.review.specifications||"[]").join(",")}handleImageClick(e){this.onImageClick.emit({images:this.images,index:e})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-review-item"]],inputs:{review:"review",storeName:"storeName"},outputs:{onImageClick:"onImageClick"},decls:21,vars:12,consts:[[1,"border-b","border-[#eaeaea]","py-2"],[1,"flex"],[1,"h-12","w-12","relative","mt-1","mr-2"],[1,"object-fit","object-cover","!h-full","!w-full","rounded-full",3,"src"],[1,"flex-1"],[1,"flex","items-center"],[1,"flex-1","opacity-60","self-end"],[3,"stopEvent","rating"],[1,"mb-1"],["class","flex flex-wrap my-4",4,"ngIf"],[1,"flex","justify-between","items-center","opacity-40","text-sm"],[1,"specifications"],[1,"time"],[1,"pl-20","mt-3"],["class","p-2 mb-2 border border-[#dddddd] bg-[#fafafa] rounded-lg",4,"ngFor","ngForOf"],[1,"flex","flex-wrap","my-4"],["class","h-32 w-32 mr-1 mb-1 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"h-32","w-32","mr-1","mb-1","cursor-pointer",3,"click"],["alt","",1,"object-fit","object-cover","!w-full","!h-full","rounded-md",3,"src"],[1,"p-2","mb-2","border","border-[#dddddd]","bg-[#fafafa]","rounded-lg"],[1,"font-bold","text-sm","amb-2"],[1,"ml-2","opacity-40","font-normal"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6),t._uU(7),t.qZA(),t.TgZ(8,"div"),t._UZ(9,"app-order-rating",7),t.qZA()(),t.TgZ(10,"p",8),t._uU(11),t.qZA(),t.YNc(12,La,2,1,"div",9),t.TgZ(13,"div",10)(14,"div",11),t._uU(15),t.qZA(),t.TgZ(16,"div",12),t._uU(17),t.ALo(18,"date"),t.qZA()()()(),t.TgZ(19,"div",13),t.YNc(20,Da,8,6,"div",14),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("src",o.avatar,t.LSH),t.xp6(4),t.hij(" ",o.review.memberName," "),t.xp6(2),t.Q6J("stopEvent",!0)("rating",o.review.score),t.xp6(2),t.Oqu(o.review.content),t.xp6(1),t.Q6J("ngIf",o.images.length>0),t.xp6(3),t.hij("[",o.specifications,"]"),t.xp6(2),t.hij(" ",t.xi3(18,9,o.review.createdDate,"YYYY-MM-dd")," "),t.xp6(3),t.Q6J("ngForOf",o.review.replies))},dependencies:[lt.K,s.O5,s.sg,s.uU],styles:[".top_review[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;align-items:flex-start;display:flex;flex-flow:row wrap;justify-content:flex-start;flex-wrap:nowrap}.top_review[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:12px}.top_review[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-left:12px}.text[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:500;color:#000;line-height:26px}.text-gray-darker[_ngcontent-%COMP%]{color:#5a5a5a}.text-gray[_ngcontent-%COMP%]{color:#bfbfbf}.content[_ngcontent-%COMP%]{word-break:break-all;line-height:3em}.images[_ngcontent-%COMP%]{width:300px}.replies-item[_ngcontent-%COMP%]{margin-top:12px;line-height:3em}.replies-item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{border-top:1px solid #f2f2f2}.replies-item[_ngcontent-%COMP%]   .replie-content[_ngcontent-%COMP%]{padding-right:16px}"]}),n})(),Ea=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.ez,xt.u5,p.m,d.Pc,h.kz,Lt.I,m.aw,bt.j,qt,W.b,b.Bz.forChild([{path:"",component:ht}]),$n.n,Wn,Vn,st.OrdersModule,Dt.u,Bt.c,j.kb,Et.z,Nt,vt.O,ee.h,ie,Ut.D]}),n})();t.B6R(ht,function(){return[s.mk,s.sg,s.O5,s.tP,xt.JJ,xt.On,X.Q,Ft.p,Yt.K,jt.c,Rt.l,Ht.z,Kt.M,tt.p,L.E,Gt.y,Aa.V,zt.H,pt.Q,ka.I,Ia.q,$t.B,Wt.M,Vt.Z,Xt.M,te.a,d.wI,d.W2,d.fr,d.pK,d.Ie,d.Q$,d.q_,d.Nd,d.t9,d.n0,d.PQ,d.sr,d.d8,d.as,d.QI,d.Fo,bt.j,W.b,b.yS,Ba,lt.K,Dt.u,Bt.c,at,At,It,zn,B,Za]},function(){return[s.Ov,s.OU,s.JJ,s.H9,m.X$]})},35198:(G,S,c)=>{c.d(S,{M:()=>N});var s=c(94650),b=c(17445),d=c(24837),m=c(36895);function p(t,L){}const f=function(t,L,h,M){return{seconds:t,minutes:L,hours:h,days:M}},C=function(t){return{$implicit:t}};let N=(()=>{class t{constructor(h,M,Q){this.platformId=h,this.ngZone=M,this.cdr=Q,this.onTimeEnd=new s.vpe}getTimeDifference(){this.difference=new Date(this.time).getTime()-(new Date).getTime(),this.allocateTimeUnits(this.difference)}ngOnChanges(h){const M=h.time;M&&!M.isFirstChange()&&M.currentValue!==M.previousValue&&(console.log(1313134444),this.restart())}allocateTimeUnits(h){h<=0&&(h=0),this.seconds=Math.floor(h/1e3),this.minutes=Math.floor(this.seconds/60),this.hours=Math.floor(this.minutes/60),this.days=Math.floor(this.hours/24),this.hours%=24,this.minutes%=60,this.seconds%=60,0==this.hours&&0==this.minutes&&0==this.seconds&&(this.onTimeEnd.emit(),this.subscription?.unsubscribe()),this.hours=this.hours<10?"0"+this.hours:this.hours,this.minutes=this.minutes<10?"0"+this.minutes:this.minutes,this.seconds=this.seconds<10?"0"+this.seconds:this.seconds}ngOnInit(){this.restart()}restart(){this.subscription?.unsubscribe(),this.getTimeDifference(),this.cdr.detectChanges(),d.Z.isServer||this.ngZone.runOutsideAngular(()=>{this.subscription=(0,b.F)(1e3).subscribe(h=>{this.getTimeDifference(),this.cdr.detectChanges()})})}ngOnDestroy(){this.subscription?.unsubscribe()}}return t.\u0275fac=function(h){return new(h||t)(s.Y36(s.Lbi),s.Y36(s.R0b),s.Y36(s.sBO))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-countdown"]],contentQueries:function(h,M,Q){if(1&h&&s.Suo(Q,s.Rgc,5),2&h){let _;s.iGM(_=s.CRH())&&(M.templateRef=_.first)}},inputs:{time:"time"},outputs:{onTimeEnd:"onTimeEnd"},features:[s.TTD],decls:2,vars:9,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(h,M){1&h&&(s.ynx(0),s.YNc(1,p,0,0,"ng-template",0),s.BQk()),2&h&&(s.xp6(1),s.Q6J("ngTemplateOutlet",M.templateRef)("ngTemplateOutletContext",s.VKq(7,C,s.l5B(2,f,M.seconds,M.minutes,M.hours,M.days))))},dependencies:[m.tP],encapsulation:2}),t})()},59809:(G,S,c)=>{c.d(S,{I:()=>b});var s=c(94650);let b=(()=>{class d{}return d.\u0275fac=function(p){return new(p||d)},d.\u0275cmp=s.Xpm({type:d,selectors:[["app-product-card-skeleton"]],standalone:!0,features:[s.jDz],decls:9,vars:0,consts:[[1,"cursor-pointer","flex","flex-col","w-full","max-w-[246px]","lg:max-w-[220px]","xl:max-w-[245px]"],[1,"relative","w-full","mb-2",2,"padding-top","100%"],[1,"absolute","inset-0","pulSate","rounded-lg"],[1,"product-title","truncate","mb-1","pulSate","text-sm",2,"letter-spacing","20px"],[1,"text-xs","leading-3","text-center","pulSate",2,"letter-spacing","20px"],[1,"text-base","text-center","pulSate",2,"letter-spacing","20px"]],template:function(p,f){1&p&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"div",2),s.qZA(),s.TgZ(3,"p",3),s._uU(4," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),s.qZA(),s.TgZ(5,"p",4),s._uU(6," \xa0\xa0 "),s.qZA(),s.TgZ(7,"p",5),s._uU(8," \xa0\xa0 "),s.qZA()())}}),d})()},37978:(G,S,c)=>{c.d(S,{u:()=>Q});var s=c(15861),b=c(95133),d=c(5565),m=c(24837),p=c(94650),f=c(36895);const C=["container"];function N(_,B){1&_&&(p.TgZ(0,"div",6),p.Hsn(1,1),p.qZA())}function t(_,B){if(1&_){const x=p.EpF();p.TgZ(0,"ion-popover",4,5),p.NdJ("didPresent",function(){p.CHM(x);const A=p.oxw();return p.KtG(A.handlePresent())})("didDismiss",function(){p.CHM(x);const A=p.oxw();return p.KtG(A.handleDismiss())}),p.YNc(2,N,2,0,"ng-template"),p.qZA()}if(2&_){const x=p.oxw();p.Q6J("isOpen",x.isPopoverOpen)("side",x.side)("showBackdrop",!1)("backdropDismiss",!1)("arrow",!0)}}const L=[[["","tooltipBtn",""]],"*"],h=function(_,B){return{"cursor-pointer":_,hoverBg:B}},M=["[tooltipBtn]","*"];let Q=(()=>{class _ extends d.V{constructor(x,Z){var A;super(),A=this,this.cdr=x,this.ngZone=Z,this.side="bottom",this.disabled=!1,this.hoverBg=!0,this.preventEvent=!1,this.isPopoverOpen=!1,this.isPresented=!1,this.isHoveringTooltipMobile=!1,this.handlePresent=()=>{this.isPresented=!0,document.body.classList.add("has-tooltip-open"),this.ngZone.runOutsideAngular(()=>{window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mousewheel",this.handleMouseWheel),window.addEventListener("touchstart",this.handleTouchStart),window.addEventListener("touchmove",this.handleTouchMove),window.addEventListener("touchend",this.handleTouchEnd)})},this.handleTouchStart=k=>{console.log("touchstart"),this.isHoveringTooltipMobile=this.isHoveringTooltip(k.target),this.handleMouseMove(k)},this.handleTouchMove=k=>{this.isHoveringTooltipMobile||!this.isPresented||this.closeTooltip()},this.handleTouchEnd=k=>{this.isHoveringTooltipMobile=!1},this.handleMouseWheel=k=>{console.log("mousewheel"),this.isPresented&&this.closeTooltip()},this.handleMouseMove=function(){var k=(0,s.Z)(function*($){console.log("mousemove"),!A.isHoveringTooltip($.target)&&A.closeTooltip()});return function($){return k.apply(this,arguments)}}()}ngOnInit(){}handleOpenPopover(x){this.disabled||this.isPopoverOpen||(this.popover.event=x,this.isPopoverOpen=!0)}handleClick(x){this.disabled||this.preventEvent||(x.preventDefault(),x.stopPropagation())}closeTooltip(){var x=this;return(0,s.Z)(function*(){x.isPopoverOpen=!1,yield x.popover.dismiss(),document.body.classList.remove("has-tooltip-open")})()}isHoveringTooltip(x){if(this.container.nativeElement.contains(x))return!0;const Z=this.popover.el;return!(!Z?.contains(x)&&Z!==x)}handleDismiss(){this.isPopoverOpen=!1,this.isPresented=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mousewheel",this.handleMouseWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd)}ngOnDestroy(){var x=this;return(0,s.Z)(function*(){m.Z.isServer||(x.isPopoverOpen=!1,window.removeEventListener("mousemove",x.handleMouseMove),window.removeEventListener("mousewheel",x.handleMouseWheel),window.removeEventListener("touchstart",x.handleTouchStart),window.removeEventListener("touchmove",x.handleTouchMove),window.removeEventListener("touchend",x.handleTouchEnd),yield x.popover?.dismiss())})()}}return _.\u0275fac=function(x){return new(x||_)(p.Y36(p.sBO),p.Y36(p.R0b))},_.\u0275cmp=p.Xpm({type:_,selectors:[["app-tooltip"]],viewQuery:function(x,Z){if(1&x&&(p.Gf(C,5),p.Gf(b.d8,5)),2&x){let A;p.iGM(A=p.CRH())&&(Z.container=A.first),p.iGM(A=p.CRH())&&(Z.popover=A.first)}},inputs:{side:"side",disabled:"disabled",hoverBg:"hoverBg",preventEvent:"preventEvent"},features:[p.qOj],ngContentSelectors:M,decls:5,vars:5,consts:[[1,"app-tooltip",3,"click"],["container",""],[1,"tooltipBtn","flex","items-center",3,"ngClass","click","mouseover","touchstart"],["class","popover-tooltip","alignment","center","mode","ios",3,"isOpen","side","showBackdrop","backdropDismiss","arrow","didPresent","didDismiss",4,"ngIf"],["alignment","center","mode","ios",1,"popover-tooltip",3,"isOpen","side","showBackdrop","backdropDismiss","arrow","didPresent","didDismiss"],["popover",""],[1,"app-tooltip-body","pointer-events-auto"]],template:function(x,Z){1&x&&(p.F$t(L),p.TgZ(0,"div",0,1),p.NdJ("click",function(k){return Z.handleClick(k)}),p.TgZ(2,"div",2),p.NdJ("click",function(k){return Z.handleClick(k)})("mouseover",function(k){return Z.handleOpenPopover(k)})("touchstart",function(k){return Z.handleOpenPopover(k)}),p.Hsn(3),p.qZA()(),p.YNc(4,t,3,5,"ion-popover",3)),2&x&&(p.xp6(2),p.Q6J("ngClass",p.WLB(2,h,!Z.disabled,Z.hoverBg)),p.xp6(2),p.Q6J("ngIf",!Z.disabled))},dependencies:[f.mk,f.O5,b.d8],styles:["[_nghost-%COMP%]{position:relative;z-index:1}.app-tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block;z-index:1}ion-popover[_ngcontent-%COMP%]{--width: auto;--max-width: 50vw;--offset-y: -3px;--background: black}@media (min-width: 768px){ion-popover[_ngcontent-%COMP%]{--max-width: 80vw}}ion-popover[_ngcontent-%COMP%]::part(backdrop){pointer-events:none}ion-popover[_ngcontent-%COMP%]::part(arrow){width:23px;height:18px;transform:translateY(1px);z-index:11;pointer-events:auto}ion-popover[_ngcontent-%COMP%]::part(arrow):after{background:black;left:3px;top:9px;width:15px;height:15px;border:1px solid black;border-radius:6px 0;transform:rotate(67.5deg) skew(45deg) scaleY(.70711)}ion-popover.popover-bottom[_ngcontent-%COMP%]{--offset-y: 3px}ion-popover.popover-bottom[_ngcontent-%COMP%]::part(arrow){transform:translateY(-1px)}ion-popover.popover-bottom[_ngcontent-%COMP%]::part(arrow):after{top:-9px}  body.has-tooltip-open app-base-chart{pointer-events:none}.app-tooltip-body[_ngcontent-%COMP%]{max-width:100%;color:#fff}.app-tooltip-body[_ngcontent-%COMP%]    >*{max-width:100%}ion-popover[_ngcontent-%COMP%]::part(content){border-radius:.75rem;border-width:1px;border-style:solid;--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}ion-popover[_ngcontent-%COMP%]{pointer-events:none}.tooltipBtn.hoverBg[_ngcontent-%COMP%]{border-radius:.5rem}.tooltipBtn.hoverBg[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}"]}),_})()},15720:(G,S,c)=>{c.d(S,{i:()=>b});var s=c(94650);let b=(()=>{class d{constructor(){}ngOnInit(){}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275cmp=s.Xpm({type:d,selectors:[["app-facebook-icon"]],decls:3,vars:0,consts:[["viewBox","0 0 60 60","fill","none"],["width","60","height","60","rx","9","fill","#1D5B9E"],["d","M37.8761 60V37.6488H45.5418L46.6895 28.9383H37.8761V23.3767C37.8761 20.8547 38.5918 19.1361 42.287 19.1361L47 19.134V11.3434C46.1845 11.2372 43.387 11 40.1325 11C33.3372 11 28.6853 15.0594 28.6853 22.5143V28.9383H21V37.6488H28.6853V60H37.8761Z","fill","white"]],template:function(p,f){1&p&&(s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"rect",1)(2,"path",2),s.qZA())},encapsulation:2}),d})()},55758:(G,S,c)=>{c.d(S,{G:()=>b});var s=c(94650);let b=(()=>{class d{constructor(){}ngOnInit(){}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275cmp=s.Xpm({type:d,selectors:[["app-twitter-icon"]],decls:3,vars:0,consts:[["viewBox","0 0 60 60","fill","none"],["width","60","height","60","rx","9","fill","#00B8ED"],["d","M51 18.0184C49.5022 18.6889 47.9134 19.1291 46.2866 19.3242C47.9811 18.2979 49.2822 16.6727 49.8948 14.7362C48.284 15.7022 46.5216 16.3828 44.6838 16.7486C43.1867 15.137 41.0541 14.1298 38.6936 14.1298C34.1614 14.1298 30.4869 17.8428 30.4869 22.4224C30.4869 23.0724 30.5595 23.7053 30.6994 24.3124C23.8791 23.9664 17.8322 20.665 13.7845 15.6478C13.0783 16.8725 12.6736 18.2972 12.6736 19.8168C12.6736 22.694 14.1225 25.2321 16.3244 26.7193C15.0212 26.6781 13.7466 26.3224 12.6072 25.682C12.6067 25.7167 12.6067 25.7514 12.6067 25.7863C12.6067 29.8043 15.4355 33.1561 19.1895 33.9179C17.9811 34.25 16.7135 34.2986 15.4836 34.06C16.5278 37.3546 19.5586 39.7521 23.1495 39.8192C20.3409 42.0433 16.8023 43.3692 12.9577 43.3692C12.2952 43.3692 11.642 43.3299 11 43.2533C14.6317 45.6062 18.9453 46.9791 23.5797 46.9791C38.6745 46.9791 46.9287 34.3426 46.9287 23.3841C46.9287 23.0244 46.9209 22.6668 46.905 22.3112C48.5116 21.1376 49.8983 19.6839 51 18.0184Z","fill","white"]],template:function(p,f){1&p&&(s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"rect",1)(2,"path",2),s.qZA())},encapsulation:2}),d})()},69847:(G,S,c)=>{c.d(S,{k:()=>b});var s=c(94650);let b=(()=>{class d{constructor(){}ngOnInit(){}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275cmp=s.Xpm({type:d,selectors:[["app-wechat-icon"]],decls:3,vars:0,consts:[["viewBox","0 0 60 60","fill","none"],["width","60","height","60","rx","9","fill","#00C200"],["d","M40.9084 21.7199C41.2656 21.7199 41.6229 21.732 41.974 21.7502C40.4967 13.9578 32.3895 8 22.6051 8C11.7793 8 3 15.302 3 24.3113C3 29.2217 5.63984 33.6477 9.7752 36.6387C9.94576 36.7591 10.0849 36.9188 10.1808 37.1042C10.2766 37.2897 10.3265 37.4955 10.3262 37.7043C10.3262 37.8496 10.2959 37.9828 10.2596 38.1221C9.92656 39.3512 9.39981 41.3189 9.37559 41.4098C9.3332 41.5672 9.27266 41.7246 9.27266 41.8881C9.27266 42.2453 9.56328 42.542 9.92656 42.542C10.0658 42.542 10.1809 42.4875 10.302 42.4209L14.5947 39.9445C14.9156 39.7568 15.2607 39.6418 15.6361 39.6418C15.8299 39.6418 16.0236 39.6721 16.2113 39.7266C18.2154 40.3018 20.377 40.6227 22.6111 40.6227C22.9744 40.6227 23.3316 40.6166 23.6889 40.5984C23.259 39.327 23.0289 37.9889 23.0289 36.6023C23.0289 28.3801 31.0332 21.7199 40.9084 21.7199ZM29.1441 16.4826C30.5852 16.4826 31.7598 17.6512 31.7598 19.0922C31.7598 20.5332 30.5912 21.7018 29.1441 21.7018C27.7031 21.7018 26.5285 20.5332 26.5285 19.0922C26.5285 17.6512 27.7031 16.4826 29.1441 16.4826ZM16.0721 21.7018C14.6311 21.7018 13.4564 20.5332 13.4564 19.0922C13.4564 17.6512 14.625 16.4826 16.0721 16.4826C17.5191 16.4826 18.6877 17.6512 18.6877 19.0922C18.6877 20.5332 17.5131 21.7018 16.0721 21.7018ZM51.601 46.865C55.0461 44.3705 57.2439 40.6893 57.2439 36.5902C57.2439 29.0824 49.9299 22.9975 40.9023 22.9975C31.8809 22.9975 24.5607 29.0824 24.5607 36.5902C24.5607 44.098 31.8748 50.183 40.9023 50.183C42.7672 50.183 44.5715 49.9166 46.2365 49.4383C46.3939 49.3898 46.5514 49.3656 46.7148 49.3656C47.0297 49.3656 47.3143 49.4625 47.5807 49.6139L51.159 51.6725C51.2619 51.733 51.3588 51.7754 51.4738 51.7754C51.5456 51.776 51.6168 51.7624 51.6833 51.7353C51.7498 51.7083 51.8103 51.6684 51.8613 51.618C51.9118 51.5669 51.9517 51.5064 51.9787 51.4399C52.0057 51.3734 52.0193 51.3022 52.0187 51.2305C52.0187 51.0973 51.9643 50.9641 51.934 50.8309C51.9158 50.7582 51.4738 49.1174 51.1953 48.0881C51.165 47.973 51.1408 47.858 51.1408 47.743C51.1469 47.3857 51.3285 47.0648 51.601 46.865ZM35.4652 34.4227C34.2604 34.4227 33.2855 33.4479 33.2855 32.249C33.2855 31.0502 34.2604 30.0754 35.4652 30.0754C36.6701 30.0754 37.6449 31.0502 37.6449 32.249C37.6449 33.4479 36.6641 34.4227 35.4652 34.4227ZM46.3576 34.4227C45.1527 34.4227 44.1779 33.4479 44.1779 32.249C44.1779 31.0502 45.1527 30.0754 46.3576 30.0754C47.5625 30.0754 48.5373 31.0502 48.5373 32.249C48.5344 32.8257 48.3037 33.3778 47.8953 33.785C47.487 34.1922 46.9343 34.4214 46.3576 34.4227Z","fill","white"]],template:function(p,f){1&p&&(s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"rect",1)(2,"path",2),s.qZA())},encapsulation:2}),d})()}}]);