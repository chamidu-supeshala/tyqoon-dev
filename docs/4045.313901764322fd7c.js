"use strict";(self.webpackChunkangular_tyqoon_client=self.webpackChunkangular_tyqoon_client||[]).push([[4045],{94045:(I,h,n)=>{n.r(h),n.d(h,{ShippingAddressModule:()=>U});var a=n(36895),x=n(95133),g=n(44466),u=n(54463),m=n(24006),S=n(7507),C=n(15861),o=n(37340),v=n(82722),Z=n(5565),e=n(94650),l=n(92340),A=n(54004),y=n(80529);let _=(()=>{class s{constructor(t){this.http=t}getShippingAddresses(t){return this.http.get(`${l.N.BASE_URL}/user/receiver/getReceiverAddress`,{params:t}).pipe((0,A.U)(({data:d})=>d))}getShippingAddressDetails(t){return this.http.get(`${l.N.BASE_URL}/user/receiver/getReceiverAddressDetails`,{params:t}).pipe((0,A.U)(({data:d})=>d))}deleteShippingAddress(t){return this.http.post(`${l.N.BASE_URL}/user/receiver/delReceiverAddress`,t)}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(y.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),b=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-remove-icon"]],decls:2,vars:0,consts:[["viewBox","64 64 896 896","focusable","false","fill","currentColor","width","1em","height","1em","data-icon","delete","aria-hidden","true"],["d","M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"]],template:function(t,d){1&t&&(e.O4$(),e.TgZ(0,"svg",0),e._UZ(1,"path",1),e.qZA())},encapsulation:2}),s})();var f=n(39172);function w(s,i){1&s&&(e.TgZ(0,"div",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"checkout-shipping-change-default")," "))}function O(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div",10),e.NdJ("click",function(){const p=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.editAddress(p))}),e.TgZ(1,"div",11)(2,"div",12)(3,"span",13),e._uU(4),e.qZA()(),e.TgZ(5,"div",14),e.YNc(6,w,3,3,"div",15),e.TgZ(7,"p",16),e._uU(8),e.qZA()()(),e.TgZ(9,"p",17),e._uU(10),e.qZA(),e.TgZ(11,"p",18),e._uU(12),e.qZA(),e.TgZ(13,"div",19)(14,"app-remove-icon",20),e.NdJ("click",function(r){const c=e.CHM(t).$implicit,R=e.oxw();return e.KtG(R.deleteAddress(c,r))}),e.qZA()()()}if(2&s){const t=i.$implicit;e.xp6(4),e.Oqu(t.consignee),e.xp6(2),e.Q6J("ngIf",t.isDefault),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(t.areaName),e.xp6(2),e.Oqu(t.zipCode)}}function T(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"app-edit-address-modal",22),e.NdJ("onSuccess",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.handleSubmitAddressSuccess())})("isOpenChange",function(r){e.CHM(t);const p=e.oxw();return e.KtG(p.shippingAddressModalShown=r)}),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("currAddress",t.selectedAddress)("isOpen",t.shippingAddressModalShown)}}const M=[{path:"list",component:(()=>{class s extends Z.V{constructor(t){super(),this.addressService=t,this.shippingAddressParams={rows:30,page:0},this.shippingAddressModalShown=!1,this.selectedAddress=null}ngOnInit(){this.getShippingAddresses()}getShippingAddresses(){this.addressService.getShippingAddresses(this.shippingAddressParams).pipe((0,v.R)(this.destroyStream$)).subscribe(t=>{t&&(this.shippingAddresses=t.rows)})}editAddress(t){this.selectedAddress=t,this.shippingAddressModalShown=!0}deleteAddress(t,d){d.stopPropagation(),this.addressService.deleteShippingAddress({id:t.id}).pipe((0,v.R)(this.destroyStream$)).subscribe(r=>{this.getShippingAddresses()})}handleSubmitAddressSuccess(){var t=this;return(0,C.Z)(function*(){yield t.getShippingAddresses(),t.shippingAddressModalShown=!1})()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(_))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-shipping-address"]],features:[e.qOj],decls:15,vars:9,consts:[[1,"px-3","lg:px-0","address-wrapper","my-3","md:mt-0"],[1,"mb-5","flex","justify-between"],[1,"text-2xl","font-semi-bold","hidden","md:flex"],[1,"block","relative"],[1,"grid","grid-cols-1","md:grid-cols-2","xl:grid-cols-3","gap-5","mt-0","lg:mt-4","relative"],[1,"w-full","card","relative","bg-white","p-5","rounded-lg","border","border-dashed","border-gray-300","hover:border-primary","cursor-pointer","flex","items-center","justify-center","text-zinc-400","hover:text-primary",3,"click"],[1,"text-xl"],[1,"text-lg"],["class","w-full card relative bg-white p-5 rounded-lg border cursor-pointer hover:border-primary",3,"click",4,"ngFor","ngForOf"],[3,"currAddress","isOpen","onSuccess","isOpenChange",4,"ngIf"],[1,"w-full","card","relative","bg-white","p-5","rounded-lg","border","cursor-pointer","hover:border-primary",3,"click"],[1,"flex","flex-row","justify-between","mb-2"],[1,"flex","flex-row","gap-5"],[1,"font-bold","title","line-clamp-1","break-all"],[1,"flex","flex-col","items-end"],["class","bg-blue-500 text-white text-xs font-semibold px-2.5 py-1 rounded-full text-center items-center",4,"ngIf"],[1,"text-neutral-500","text-sm","p-1"],[1,"text-neutral-700","text-sm"],[1,"text-neutral-700","text-sm","line-clamp-1","break-all",2,"max-width","90%"],[1,"flex","absolute","right-5","bottom-5"],[1,"text-zinc-800","p-2","rounded-full","bg-zinc-100","hover:text-primary","hover:bg-red-50",3,"click"],[1,"bg-blue-500","text-white","text-xs","font-semibold","px-2.5","py-1","rounded-full","text-center","items-center"],[3,"currAddress","isOpen","onSuccess","isOpenChange"]],template:function(t,d){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5),e.NdJ("click",function(){return d.selectedAddress=null,d.shippingAddressModalShown=!0}),e.TgZ(8,"span",6),e._uU(9,"+\xa0"),e.qZA(),e.TgZ(10,"span",7),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.YNc(13,O,15,5,"div",8),e.qZA()()(),e.YNc(14,T,1,2,"app-edit-address-modal",9)),2&t){let r;e.xp6(3),e.hij(" ",e.lcZ(4,5,"account-shipping-address-page-title")," "),e.xp6(3),e.Q6J("@listAnimation",(null!==(r=null==d.shippingAddresses?null:d.shippingAddresses.length)&&void 0!==r?r:0)+1),e.xp6(5),e.Oqu(e.lcZ(12,7,"account-shipping-address-page-add")),e.xp6(2),e.Q6J("ngForOf",d.shippingAddresses),e.xp6(1),e.Q6J("ngIf",d.shippingAddressModalShown)}},dependencies:[a.sg,a.O5,b,f.c,u.X$],styles:[".address-wrapper[_ngcontent-%COMP%]{background:#f3f3f3}.address-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{min-height:126px}.address-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{filter:drop-shadow(0px 3px 1px rgba(0,0,0,.03))}"],data:{animation:[(0,o.X$)("listAnimation",[(0,o.eR)("* => *",[(0,o.IO)(":enter",[(0,o.oB)({opacity:0}),(0,o.EY)("150ms ease-in-out",[(0,o.jt)(100,(0,o.oB)({opacity:1}))])],{optional:!0})])])]}}),s})()}];let U=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[a.ez,S.Bz.forChild(M),x.Pc,g.m,g.m,m.u5,m.UX,u.aw,f.c]}),s})()}}]);