(self.webpackChunkangular_tyqoon_client=self.webpackChunkangular_tyqoon_client||[]).push([[9501],{46854:(B,J,s)=>{"use strict";s.d(J,{p:()=>w});var o=s(92340),p=s(54004),u=s(94650),M=s(80529);let w=(()=>{class C{constructor(_){this.http=_}getOrders(_){return this.http.get(`${o.N.BASE_URL}/user/order/getUserOrders`,{params:_}).pipe((0,p.U)(({data:k})=>k))}getOrderDetails(_){return this.http.get(`${o.N.BASE_URL}/user/order/getOrderDetails`,{params:_}).pipe((0,p.U)(({data:k})=>k))}buyGiftCode(_){return this.http.post(`${o.N.BASE_URL}/user/order/buyGiftCode`,_)}buyTicketsGiftCode(_){return this.http.post(`${o.N.BASE_URL}/user/order/buyTicketsGift`,_)}confirmReceipt(_){return this.http.post(`${o.N.BASE_URL}/user/order/confirmReceipt`,_)}increaseReceivingTime(_){return this.http.post(`${o.N.BASE_URL}/user/order/increaseReceivingTime`,_)}cancellationOrder(_){return this.http.post(`${o.N.BASE_URL}/user/order/cancellationOrder`,_)}}return C.\u0275fac=function(_){return new(_||C)(u.LFG(M.eN))},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},93883:(B,J,s)=>{"use strict";s.d(J,{t:()=>p});var o=s(94650);let p=(()=>{class u{constructor(){}ngOnInit(){}}return u.\u0275fac=function(w){return new(w||u)},u.\u0275cmp=o.Xpm({type:u,selectors:[["app-upload-anim-icon"]],standalone:!0,features:[o.jDz],decls:13,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 50 50","width","50","height","50"],["id","line","transform","matrix(-1,0,0,-1,50,64)"],["transform","matrix(1,0,0,1,0,0)"],["d"," M25,26 C25,26 25,42 25,42"],["id","arrow","transform","matrix(-1,0,0,-1,50,64)"],["id","right-arrow","transform","matrix(1,0,0,1,22.5,41)"],["d"," M2.5,2.5 C2.5,2.5 -2.5,-2.5 -2.5,-2.5"],["id","left-arrow","transform","matrix(1,0,0,1,27.5,41)"],["d"," M2.5,-2.5 C2.5,-2.5 -2.5,2.5 -2.5,2.5"],["id","cloud","transform","matrix(1,0,0,1,0,0)"],["transform","matrix(1,0,0,1,25,20)"],["d"," M7,15 C7,15 14.01200008392334,15 14.01200008392334,15 C18.635000228881836,15 21.972999572753906,11.4399995803833 21.999000549316406,7 C22.025999069213867,2.431999921798706 18.16699981689453,-0.43799999356269836 15.734000205993652,-0.8069999814033508 C15.734000205993652,-0.8069999814033508 15.907999992370605,-1.4769999980926514 15.932999610900879,-1.5820000171661377 C15.958000183105469,-1.687000036239624 16.003000259399414,-2.496999979019165 16.003000259399414,-2.496999979019165 C15.875,-6.458000183105469 12.666999816894531,-8 10.50100040435791,-8 C8.145000457763672,-8 6.395999908447266,-6.354000091552734 6.290999889373779,-6.035999774932861 C5.541999816894531,-8.729000091552734 1.687000036239624,-14.038000106811523 -4.994999885559082,-14.001999855041504 C-13.229000091552734,-13.958000183105469 -17.375,-6.540999889373779 -16.964000701904297,-1.25600004196167 C-20.25,0.16699999570846558 -21.958999633789062,3.3340001106262207 -21.999000549316406,6.504000186920166 C-22.05900001525879,11.208000183105469 -18.25200080871582,14.987000465393066 -13.50100040435791,15 C-13.50100040435791,15 -7,15 -7,15"]],template:function(w,C){1&w&&(o.O4$(),o.TgZ(0,"svg",0)(1,"g")(2,"g",1)(3,"g",2),o._UZ(4,"path",3),o.qZA()(),o.TgZ(5,"g",4)(6,"g",5),o._UZ(7,"path",6),o.qZA(),o.TgZ(8,"g",7),o._UZ(9,"path",8),o.qZA()(),o.TgZ(10,"g",9)(11,"g",10),o._UZ(12,"path",11),o.qZA()()()())},styles:["path[_ngcontent-%COMP%]{stroke-width:2px;stroke-linejoin:round;stroke-linecap:round;fill-opacity:0;stroke:#000}#arrow[_ngcontent-%COMP%]{animation:upload-bounce 1s infinite alternate ease}#line[_ngcontent-%COMP%]{animation:upload-grow 1s infinite alternate ease}@keyframes upload-grow{0%{transform:matrix(-1,0,0,-1,50,69)}to{transform:matrix(-1,0,0,-1,50,64)}}@keyframes upload-bounce{0%{transform:matrix(-1,0,0,-1,50,69)}to{transform:matrix(-1,0,0,-1,50,64)}}"]}),u})()},61977:(B,J,s)=>{"use strict";s.d(J,{K:()=>Q});var o=s(94650),p=s(36895),u=s(95133);function M(g,y){1&g&&o._UZ(0,"ion-icon",6)}function w(g,y){if(1&g&&o._UZ(0,"ion-icon",7),2&g){const Z=o.oxw(2);o.Q6J("name",Z.floorRating!==Z.trueRating?"star-half":"star")}}function C(g,y){1&g&&o._UZ(0,"ion-icon",8)}const L=function(){return[]};function _(g,y){if(1&g&&(o.TgZ(0,"div",2),o.YNc(1,M,1,0,"ion-icon",3),o.YNc(2,w,1,1,"ion-icon",4),o.YNc(3,C,1,0,"ion-icon",5),o.qZA()),2&g){const Z=o.oxw();o.xp6(1),o.Q6J("ngForOf",o.DdM(3,L).constructor(Z.max(Z.ceilRating-1,0))),o.xp6(1),o.Q6J("ngIf",Z.ceilRating>0),o.xp6(1),o.Q6J("ngForOf",o.DdM(4,L).constructor(5-Z.ceilRating))}}function k(g,y){if(1&g){const Z=o.EpF();o.TgZ(0,"ion-icon",12),o.NdJ("mouseover",function(){const I=o.CHM(Z).index,x=o.oxw(2);return o.KtG(x.onHoverStar(I+1))})("click",function(){const I=o.CHM(Z).index,x=o.oxw(2);return o.KtG(x.onClickStar(I+1))}),o.qZA()}}function S(g,y){if(1&g){const Z=o.EpF();o.TgZ(0,"ion-icon",13),o.NdJ("mouseover",function(){const I=o.CHM(Z).index,x=o.oxw(2);return o.KtG(x.onHoverStar(x.viewRating+I+1))})("click",function(){const I=o.CHM(Z).index,x=o.oxw(2);return o.KtG(x.onClickStar(x.viewRating+I+1))}),o.qZA()}}function $(g,y){if(1&g){const Z=o.EpF();o.TgZ(0,"div",9),o.NdJ("mouseleave",function(){o.CHM(Z);const t=o.oxw();return o.KtG(t.onRatingOut())}),o.YNc(1,k,1,0,"ion-icon",10),o.YNc(2,S,1,0,"ion-icon",11),o.qZA()}if(2&g){const Z=o.oxw();o.xp6(1),o.Q6J("ngForOf",o.DdM(2,L).constructor(Z.viewRating)),o.xp6(1),o.Q6J("ngForOf",o.DdM(3,L).constructor(5-Z.viewRating))}}let Q=(()=>{class g{constructor(Z){this._decimalPipe=Z,this.rating=-1,this.stopEvent=!1,this.ratingChanged=new o.vpe,this.viewRating=5,this.max=Math.max}ngOnInit(){}get trueRating(){return this.round(this.rating,.5)}get floorRating(){return Math.floor(this.trueRating)}get ceilRating(){return Math.ceil(this.trueRating)}round(Z,Y){Y||(Y=1);let t=1/Y;return Math.round(Z*t)/t}onRatingOut(){this.viewRating=this.rating}onHoverStar(Z){this.viewRating=Z}onClickStar(Z){this.viewRating=Z,this.rating=Z,this.ratingChanged.emit(this.rating)}}return g.\u0275fac=function(Z){return new(Z||g)(o.Y36(p.JJ))},g.\u0275cmp=o.Xpm({type:g,selectors:[["app-order-rating"]],inputs:{rating:"rating",stopEvent:"stopEvent"},outputs:{ratingChanged:"ratingChanged"},features:[o._Bn([p.JJ])],decls:3,vars:2,consts:[["class","flex",4,"ngIf","ngIfElse"],["normal",""],[1,"flex"],["class","p-1 text-yellow-400 w-5 h-5","name","star",4,"ngFor","ngForOf"],["class","p-1 text-yellow-400 w-5 h-5",3,"name",4,"ngIf"],["class","p-1 text-slate-400 w-5 h-5","name","star-outline",4,"ngFor","ngForOf"],["name","star",1,"p-1","text-yellow-400","w-5","h-5"],[1,"p-1","text-yellow-400","w-5","h-5",3,"name"],["name","star-outline",1,"p-1","text-slate-400","w-5","h-5"],[1,"flex",3,"mouseleave"],["class","p-1 text-yellow-400 w-5 h-5","name","star",3,"mouseover","click",4,"ngFor","ngForOf"],["class","p-1 text-slate-400 w-5 h-5","name","star-outline",3,"mouseover","click",4,"ngFor","ngForOf"],["name","star",1,"p-1","text-yellow-400","w-5","h-5",3,"mouseover","click"],["name","star-outline",1,"p-1","text-slate-400","w-5","h-5",3,"mouseover","click"]],template:function(Z,Y){if(1&Z&&(o.YNc(0,_,4,5,"div",0),o.YNc(1,$,3,4,"ng-template",null,1,o.W1O)),2&Z){const t=o.MAs(2);o.Q6J("ngIf",Y.stopEvent)("ngIfElse",t)}},dependencies:[p.sg,p.O5,u.gu]}),g})()},99501:(B,J,s)=>{"use strict";s.r(J),s.d(J,{OrdersModule:()=>mn});var o=s(36895),p=s(7507),u=s(95133),M=s(54463),w=s(99485),C=s(24006),L=s(44466),_=s(37340),k=s(77579),S=s(82722),$=s(4128),Q=s(54004),g=s(96948),y=s(82655);const Z=[{url:"/member/my-orders/list",queryParams:null,name:"my-orders-header-all"},{url:"/member/my-orders/list",queryParams:{status:y.i.PendingPayment},name:"my-orders-header-waiting-pay"},{url:"/member/my-orders/list",queryParams:{status:y.i.PendingShipment},name:"my-orders-header-waiting-delivery"},{url:"/member/my-orders/list",queryParams:{status:y.i.Shipped},name:"my-orders-header-shipped"},{url:"/member/my-orders/list",queryParams:{status:y.i.Completed},name:"my-orders-header-completed"},{url:"/member/my-orders/list",queryParams:{status:y.i.Canceled},name:"my-orders-header-cancelled"}],Y={createdDate:{title:"order-details-creation-time",format:"date"},paymentMethodName:{title:"order-details-payment-method",format:"translate"},shippingMethodName:{title:"order-details-delivery-method",format:"translate"},price:{title:"order-details-price",format:"currency"},freight:{title:"order-details-freight",format:"currency"},promotionDiscount:{title:"\u4fc3\u9500\u6298\u6263",format:"currency",filter:n=>n>0},couponDiscount:{title:"\u4f18\u60e0\u5238\u6298\u6263",format:"currency",filter:n=>n>0},refundAmount:{title:"\u9000\u6b3e\u91d1\u989d",format:"currency",filter:n=>n>0},amountPayable:{title:"\u5e94\u4ed8\u91d1\u989d",format:"currency",filter:n=>n>0,className:"text-primary"},rewardPoint:{title:"\u83b7\u5f97\u79ef\u5206",filter:n=>n>0},deductionPoint:{title:"\u62b5\u6263\u79ef\u5206",filter:n=>n>0},exchangePoint:{title:"\u5151\u6362\u79ef\u5206",filter:n=>n>0},couponCode:{title:"\u4f18\u60e0\u5238"},memo:{title:"order-details-postscript"}};var t=s(94650),I=s(46854),x=s(23372),U=s(44336),R=s(38323),b=s(23556),T=s(71764),K=s.n(T),nt=s(36730),f=s(47781);const l=["filterModal"],d=["filterDesktop"];function h(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",17)(1,"div",18)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"ion-fab-button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.clearOrderDateRange())}),t._UZ(6,"ion-icon",20),t.qZA()(),t._UZ(7,"ion-input",21),t.ALo(8,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,3,"my-orders-date-range"),":"),t.xp6(4),t.Q6J("placeholder",t.lcZ(8,5,"my-orders-date-range"))("value",e.orderDateRange)}}function c(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",17)(1,"div",18)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"ion-fab-button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.clearOrderSn())}),t._UZ(6,"ion-icon",20),t.qZA()(),t._UZ(7,"ion-input",21),t.ALo(8,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,3,"my-orders-order-number"),":"),t.xp6(4),t.Q6J("placeholder",t.lcZ(8,5,"my-orders-order-number-placeholder"))("value",e.orderParams.orderSn)}}function O(n,i){1&n&&t.GkF(0)}function v(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"a",31),t.NdJ("click",function(){const m=t.CHM(e).$implicit,P=t.oxw(2);return t.KtG(P.selectStatus(m))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=i.$implicit,r=t.oxw(2);t.ekj("active",r.isActiveStatus(e)),t.xp6(1),t.hij(" ",t.lcZ(2,3,e.name)," ")}}function A(n,i){if(1&n&&(t.TgZ(0,"div",22)(1,"div",23),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"div",24)(5,"div",25),t._UZ(6,"div",26),t.YNc(7,v,3,5,"a",27),t.qZA()()(),t._UZ(8,"ion-icon",28),t.TgZ(9,"span",29),t._UZ(10,"ion-icon",30),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,2,e.selectedStatus)," "),t.xp6(5),t.Q6J("ngForOf",e.orderPageNavigation)}}function q(n,i){1&n&&t.GkF(0)}const D=function(n){return{initial:n}};let F=(()=>{class n{constructor(e,r){this.route=e,this.router=r,this.isFilterModalOpen=!1,this.defaultParams={rows:15,page:1,status:y.i.All,endTime:K()().format("YYYY-MM-DD")},this.orderParams=this.defaultParams,this.selectedStatus="my-orders-header-all",this.orderPageNavigation=Z}ngOnInit(){this.route.queryParams.subscribe(e=>{this.orderParams=e,this.selectedStatus=this.orderPageNavigation.find(r=>r.queryParams?.status==e.status)?.name??this.orderPageNavigation[0].name,console.log(this.selectedStatus)})}get orderDateRange(){return this.orderParams.beginTime?`${this.orderParams?.beginTime}-${this.orderParams?.endTime}`:""}get hasFiltered(){return this.orderParams.orderSn||this.orderParams.beginTime||"my-orders-header-all"!=this.selectedStatus}isActiveStatus(e){return(this.orderParams?.status||y.i.All)===(e.queryParams?.status||y.i.All)}selectStatus(e){this.selectedStatus=e.name,this.setFilter(null!=e.queryParams?.status?{status:e.queryParams.status}:{status:y.i.All},!0)}setFilter(e,r=!1){const a=this.router.url.split("?")[0];this.router.navigate([a],{queryParams:{page:1,...e},queryParamsHandling:"merge"}),this.isFilterModalOpen=r}onOpenFilter(){this.isFilterModalOpen=!0}showFilterModal(e){this.isFilterModalOpen=e}clearOrderSn(){if(this.orderFilterModal.orderSnControl.setValue(""),this.orderFilterDesktop.orderSnControl.setValue(""),this.orderParams.orderSn){const e={...this.orderParams,orderSn:void 0},r=this.router.url.split("?")[0];this.router.navigate([r],{queryParams:e})}}clearOrderDateRange(){if(this.orderFilterModal.dateRange=void 0,this.orderFilterDesktop.dateRange=void 0,this.orderParams.beginTime){const e={...this.orderParams,beginTime:void 0,endTime:K()().format("YYYY-MM-DD")},r=this.router.url.split("?")[0];this.router.navigate([r],{queryParams:e})}}clearFilter(){const e=this.router.url.split("?")[0];this.router.navigate([e],{queryParams:this.defaultParams}),this.isFilterModalOpen=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz),t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order-header"]],viewQuery:function(e,r){if(1&e&&(t.Gf(l,5),t.Gf(d,5)),2&e){let a;t.iGM(a=t.CRH())&&(r.orderFilterModal=a.first),t.iGM(a=t.CRH())&&(r.orderFilterDesktop=a.first)}},decls:22,vars:13,consts:[[1,"order-header","flex","flex-col","lg:flex-row","lg:justify-between","w-full","my-3","md:mt-0","gap-y-2"],[1,"flex","w-full","lg:w-auto","justify-between"],[1,"text-2xl","font-semi-bold","flex"],[1,"hidden","md:block"],[1,"flex","items-center","w-full","sm:hidden"],[1,"flex","flex-auto","gap-x-1","xs:gap-x-2"],["class","mobile-filter-item flex flex-col flex-auto",4,"ngIf"],["size","small",1,"flex-none",3,"ngClass","click"],["name","options-outline"],[1,"hidden","sm:flex","lg:hidden"],[4,"ngTemplateOutlet"],[1,"hidden","sm:block",3,"filterParams","searchEvent","clearEvent"],["filterDesktop",""],["filterDropdown",""],[3,"isModalOpen","filterModalAction"],[3,"filterParams","searchEvent","clearEvent"],["filterModal",""],[1,"mobile-filter-item","flex","flex-col","flex-auto"],[1,"mobile-filter-item__header","flex","justify-between","items-center","w-full","text-xs"],[3,"click"],["name","close-outline",1,"w-full"],["readonly","",1,"font-medium","truncate",3,"placeholder","value"],[1,"filter","relative","group","flex","items-center","justify-center","w-full","bg-blue-500","rounded-full","sm:w-auto","text-white","sm:text-inherit","sm:rounded-md","py-2","mb-4","sm:mb-0"],[1,"relative"],[1,"filter-dropdown","absolute","top-0","left-1/2","-translate-x-1/2","sm:top-1","sm:-translate-x-3/4","z-50","w-max","transition-opacity","duration-150","opacity-0","group-hover:opacity-100","pointer-events-none","group-hover:pointer-events-auto"],[1,"filter-dropdown__items","relative","mt-8","p-2","bg-white","rounded-lg","shadow-md"],[1,"bg-white","h-4","w-4","absolute","-top-2","left-1/2","sm:left-3/4","transfrom","-translate-x-1/2","rotate-45"],["class","flex py-3 px-3 sm:py-1.5 font-medium items-center relative z-20 rounded-md cursor-pointer transition-colors duration-300 ease-in-out hover:text-primary hover:bg-primary hover:bg-opacity-10",3,"active","click",4,"ngFor","ngForOf"],["name","caret-down-outline",1,"hidden","sm:block","h-2","w-2","ml-2","text-white","sm:text-gray-700"],[1,"absolute","right-2","w-6","h-6"],["name","chevron-down-outline",1,"block","sm:hidden","w-full","h-full"],[1,"flex","py-3","px-3","sm:py-1.5","font-medium","items-center","relative","z-20","rounded-md","cursor-pointer","transition-colors","duration-300","ease-in-out","hover:text-primary","hover:bg-primary","hover:bg-opacity-10",3,"click"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"div",3),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,h,9,7,"div",6),t.YNc(9,c,9,7,"div",6),t.qZA(),t.TgZ(10,"ion-fab-button",7),t.NdJ("click",function(){return r.onOpenFilter()}),t._UZ(11,"ion-icon",8),t.qZA()(),t.TgZ(12,"div",9),t.YNc(13,O,1,0,"ng-container",10),t.qZA()(),t.TgZ(14,"app-order-filter",11,12),t.NdJ("searchEvent",function(m){return r.setFilter(m)})("clearEvent",function(){return r.clearFilter()}),t.qZA()(),t.YNc(16,A,11,4,"ng-template",null,13,t.W1O),t.TgZ(18,"app-order-filter-modal",14),t.NdJ("filterModalAction",function(m){return r.showFilterModal(m)}),t.YNc(19,q,1,0,"ng-container",10),t.TgZ(20,"app-order-filter",15,16),t.NdJ("searchEvent",function(m){return r.setFilter(m)})("clearEvent",function(){return r.clearFilter()}),t.qZA()()),2&e){const a=t.MAs(17);t.xp6(4),t.hij(" ",t.lcZ(5,9,"account-menu-title-info")," "),t.xp6(4),t.Q6J("ngIf",r.orderParams.beginTime),t.xp6(1),t.Q6J("ngIf",r.orderParams.orderSn),t.xp6(1),t.Q6J("ngClass",t.VKq(11,D,!r.hasFiltered)),t.xp6(3),t.Q6J("ngTemplateOutlet",a),t.xp6(1),t.Q6J("filterParams",r.orderParams),t.xp6(4),t.Q6J("isModalOpen",r.isFilterModalOpen),t.xp6(1),t.Q6J("ngTemplateOutlet",a),t.xp6(1),t.Q6J("filterParams",r.orderParams)}},dependencies:[o.mk,o.sg,o.O5,o.tP,u.W4,u.gu,u.pK,u.j9,nt.F,f.$,M.X$],styles:[".order-header[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{transition:all .5s cubic-bezier(.075,.82,.165,1);padding:5px 24px;border-radius:20px}@media (min-width: 640px){.order-header[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{background-color:#e1e1e1}}.order-header[_ngcontent-%COMP%]   .filter__dropdown[_ngcontent-%COMP%]{min-width:10rem}.order-header[_ngcontent-%COMP%]   .filter__dropdown__items[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#fb88111f;color:#fb8811}.mobile-filter-item[_ngcontent-%COMP%]{max-width:max-content}.mobile-filter-item__header[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{--background: #e1e1e1;--color: #5a5858;--box-shadow: none;width:14px;height:14px}.mobile-filter-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-start: 0;--placeholder-color: #abb1bb;--color: #3880ff}ion-fab-button[_ngcontent-%COMP%]{--box-shadow: none}ion-fab-button.initial[_ngcontent-%COMP%]{--background: transparent;--color: #66696d;--border-width: 1px;--border-style: solid;--border-color: #e5e7eb}"]}),n})();var N=s(15861),j=s(22775),z=s(10556),V=s(28137),G=s(24719),E=s(68514);function H(n,i){if(1&n&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.orderItem.specifications," ")}}function rt(n,i){if(1&n&&(t.TgZ(0,"span",9),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.orderItem.price),"")}}const X=function(){return["/product","detail"]},dt=function(n){return{id:n}};function ht(n,i){if(1&n&&(t.TgZ(0,"div",1)(1,"a",2),t._UZ(2,"img",3),t.qZA(),t.TgZ(3,"a",4)(4,"div",5),t._uU(5),t.qZA(),t.YNc(6,H,2,1,"div",6),t.YNc(7,rt,3,3,"span",7),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("routerLink",t.DdM(9,X))("queryParams",t.VKq(10,dt,e.orderItem.productId)),t.xp6(1),t.Q6J("src",e.orderItem.thumbnail,t.LSH)("alt",e.orderItem.productName),t.xp6(1),t.Q6J("routerLink",t.DdM(12,X))("queryParams",t.VKq(13,dt,e.orderItem.productId)),t.xp6(2),t.hij(" ",e.orderItem.productName," "),t.xp6(1),t.Q6J("ngIf","[]"!==e.orderItem.specifications),t.xp6(1),t.Q6J("ngIf",e.orderItem.price>0)}}let vt=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order-card-item"]],inputs:{orderItem:"orderItem"},decls:1,vars:1,consts:[["class","flex items-start",4,"ngIf"],[1,"flex","items-start"],[1,"peer","flex-shrink-0","w-12","h-12","rounded-md",3,"routerLink","queryParams"],[1,"object-cover","object-center","w-full","h-full",3,"src","alt"],[1,"min-w-0","text-left","pl-4",3,"routerLink","queryParams"],[1,"order-product-name","peer-hover:text-primary","text-sm","line-clamp-1","mb-1","text-black","hover:text-primary","w-fit","font-medium","max-w-full"],["class","order-specifications text-sm line-clamp-1 text-neutral-500",4,"ngIf"],["class","sm:hidden font-bold text-sm",4,"ngIf"],[1,"order-specifications","text-sm","line-clamp-1","text-neutral-500"],[1,"sm:hidden","font-bold","text-sm"]],template:function(e,r){1&e&&t.YNc(0,ht,8,15,"div",0),2&e&&t.Q6J("ngIf",r.orderItem)},dependencies:[o.O5,u.Fo,p.yS,o.H9],styles:[".order-product-name[_ngcontent-%COMP%]{max-width:10rem}@media (min-width: 340px){.order-product-name[_ngcontent-%COMP%]{max-width:8rem}}@media (min-width: 640px){.order-product-name[_ngcontent-%COMP%]{max-width:16rem}}@media (min-width: 768px){.order-product-name[_ngcontent-%COMP%]{max-width:none}}.order-specifications[_ngcontent-%COMP%]{max-width:10rem}@media (min-width: 340px){.order-specifications[_ngcontent-%COMP%]{max-width:8rem}}@media (min-width: 640px){.order-specifications[_ngcontent-%COMP%]{max-width:16rem}}@media (min-width: 768px){.order-specifications[_ngcontent-%COMP%]{max-width:none}}"]}),n})();function Ct(n,i){if(1&n&&(t.TgZ(0,"span",11),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("ngClass",e.customClass),t.xp6(1),t.Oqu(t.lcZ(2,2,"my-orders-status-waiting-payment"))}}function Ot(n,i){if(1&n&&(t.TgZ(0,"span",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("ngClass",e.customClass),t.xp6(1),t.Oqu(t.lcZ(2,2,"after-sales-status-pending"))}}function yt(n,i){if(1&n&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("ngClass",e.customClass),t.xp6(1),t.Oqu(t.lcZ(2,2,"my-orders-status-waiting-delivery"))}}function bt(n,i){if(1&n&&(t.TgZ(0,"span",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("ngClass",e.customClass),t.xp6(1),t.Oqu(t.lcZ(2,2,"my-orders-header-shipped"))}}function Zt(n,i){if(1&n&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("ngClass",e.customClass),t.xp6(1),t.Oqu(t.lcZ(2,2,"my-orders-status-recieved"))}}function wt(n,i){if(1&n&&(t.TgZ(0,"span",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("ngClass",e.customClass),t.xp6(1),t.Oqu(t.lcZ(2,2,"my-orders-status-complete"))}}function Tt(n,i){if(1&n&&(t.TgZ(0,"span",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("ngClass",e.customClass),t.xp6(1),t.Oqu(t.lcZ(2,2,"order-canceled"))}}function Mt(n,i){if(1&n&&(t.TgZ(0,"span",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("ngClass",e.customClass),t.xp6(1),t.Oqu(t.lcZ(2,2,"my-orders-status-cancelled"))}}function Pt(n,i){if(1&n&&(t.TgZ(0,"span",19),t._uU(1,"\u5df2\u62d2\u7edd"),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("ngClass",e.customClass)}}function At(n,i){if(1&n&&(t.TgZ(0,"div",1),t.YNc(1,Ct,3,4,"span",2),t.YNc(2,Ot,3,4,"span",3),t.YNc(3,yt,3,4,"span",4),t.YNc(4,bt,3,4,"span",5),t.YNc(5,Zt,3,4,"span",6),t.YNc(6,wt,3,4,"span",7),t.YNc(7,Tt,3,4,"span",8),t.YNc(8,Mt,3,4,"span",9),t.YNc(9,Pt,2,1,"span",10),t.qZA()),2&n){const e=t.oxw();t.Q6J("ngSwitch",e.status),t.xp6(1),t.Q6J("ngSwitchCase",0),t.xp6(1),t.Q6J("ngSwitchCase",1),t.xp6(1),t.Q6J("ngSwitchCase",2),t.xp6(1),t.Q6J("ngSwitchCase",3),t.xp6(1),t.Q6J("ngSwitchCase",4),t.xp6(1),t.Q6J("ngSwitchCase",5),t.xp6(1),t.Q6J("ngSwitchCase",6),t.xp6(1),t.Q6J("ngSwitchCase",7),t.xp6(1),t.Q6J("ngSwitchCase",8)}}let ct=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order-status"]],inputs:{status:"status",customClass:"customClass"},decls:1,vars:1,consts:[["class","order-status",3,"ngSwitch",4,"ngIf"],[1,"order-status",3,"ngSwitch"],["class","bg-yellow-100 text-yellow-700",3,"ngClass",4,"ngSwitchCase"],["class","bg-yellow-200 text-yellow-800",3,"ngClass",4,"ngSwitchCase"],["class","bg-blue-100 text-blue-800",3,"ngClass",4,"ngSwitchCase"],["class","bg-indigo-100 text-indigo-800",3,"ngClass",4,"ngSwitchCase"],["class","bg-purple-100 text-purple-800",3,"ngClass",4,"ngSwitchCase"],["class","bg-green-100 text-green-800",3,"ngClass",4,"ngSwitchCase"],["class","bg-pink-100 text-pink-800",3,"ngClass",4,"ngSwitchCase"],["class","bg-red-100 text-red-800",3,"ngClass",4,"ngSwitchCase"],["class","bg-gray-100 text-gray-800",3,"ngClass",4,"ngSwitchCase"],[1,"bg-yellow-100","text-yellow-700",3,"ngClass"],[1,"bg-yellow-200","text-yellow-800",3,"ngClass"],[1,"bg-blue-100","text-blue-800",3,"ngClass"],[1,"bg-indigo-100","text-indigo-800",3,"ngClass"],[1,"bg-purple-100","text-purple-800",3,"ngClass"],[1,"bg-green-100","text-green-800",3,"ngClass"],[1,"bg-pink-100","text-pink-800",3,"ngClass"],[1,"bg-red-100","text-red-800",3,"ngClass"],[1,"bg-gray-100","text-gray-800",3,"ngClass"]],template:function(e,r){1&e&&t.YNc(0,At,10,10,"div",0),2&e&&t.Q6J("ngIf",null!=r.status)},dependencies:[o.mk,o.O5,o.RF,o.n9,M.X$],styles:[".order-status[_ngcontent-%COMP%]{margin-bottom:.5rem;display:flex;justify-content:flex-end}@media (min-width: 640px){.order-status[_ngcontent-%COMP%]{margin-bottom:0;justify-content:center}}.order-status[_ngcontent-%COMP%]{min-width:100px}.order-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;border-radius:.25rem;padding:.25rem .625rem;text-align:center;font-size:.75rem;line-height:1rem;font-weight:600;min-width:95px}"]}),n})();function It(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){const m=t.CHM(e).method,P=t.oxw(2);return t.KtG(P.onContactCustomerService(m))}),t._UZ(1,"img",22),t.qZA()}}function Dt(n,i){1&n&&t._UZ(0,"app-order-card-item",23),2&n&&t.Q6J("orderItem",i.$implicit)}function kt(n,i){if(1&n&&(t.TgZ(0,"ion-button",24),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" +",e.moreItemCount," more ")}}function St(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(a){const P=t.CHM(e).method;return a.preventDefault(),a.stopPropagation(),t.KtG(P())}),t.TgZ(1,"span",27),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=i.isLoading,r=t.oxw(3);t.Q6J("targetSelector","#member-product-toolbar .badge-cart-desktop")("thumbnail",r.order.orderItems[0].thumbnail)("disabled",e),t.xp6(2),t.hij(" ",t.lcZ(3,4,"shop-product-page-add")," ")}}function qt(n,i){if(1&n&&(t.TgZ(0,"app-add-to-cart",25),t.YNc(1,St,4,6,"ng-template"),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("sku",e.order.orderItems[0].sku)("quantity",1)}}const it=function(n){return["/member/my-orders/details",n]};function Lt(n,i){if(1&n&&(t.TgZ(0,"a",28),t._UZ(1,"img",29),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("routerLink",t.VKq(4,it,e.order.id)),t.xp6(2),t.hij(" ",t.lcZ(3,2,"my-orders-see-details")," ")}}const Ut=function(n){return{moreItem:n}};function Nt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"a",1)(1,"div",2)(2,"a",3)(3,"div"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"div",4)(7,"span",5),t._uU(8),t.qZA(),t.TgZ(9,"button",6),t.NdJ("copied",function(a){t.CHM(e);const m=t.oxw();return t.KtG(m.copied(a))}),t._UZ(10,"app-copy-icon",7),t.qZA()()(),t.TgZ(11,"app-customer-service"),t.YNc(12,It,2,0,"ng-template"),t.qZA(),t.TgZ(13,"div",8),t._uU(14),t.ALo(15,"currency"),t.qZA()(),t.TgZ(16,"div",9)(17,"div",10),t.YNc(18,Dt,1,1,"app-order-card-item",11),t.YNc(19,kt,2,1,"ion-button",12),t.qZA(),t.TgZ(20,"div",13)(21,"div",14),t._UZ(22,"app-order-status",15),t.qZA(),t.TgZ(23,"div",16)(24,"div",17),t.YNc(25,qt,2,2,"app-add-to-cart",18),t.YNc(26,Lt,4,6,"a",19),t.qZA(),t.TgZ(27,"span",20),t._uU(28),t.ALo(29,"currency"),t.qZA()()()()()}if(2&n){const e=t.oxw();t.Q6J("routerLink",t.VKq(20,it,e.order.id)),t.xp6(2),t.Q6J("routerLink",t.VKq(22,it,e.order.id)),t.xp6(2),t.hij(" ",t.xi3(5,13,e.order.createdDate,"YYYY-MM-dd")," "),t.xp6(4),t.hij(" #",e.order.sn," "),t.xp6(1),t.s9C("appCopying",e.order.sn),t.xp6(5),t.hij(" ",t.lcZ(15,16,e.order.amount)," "),t.xp6(3),t.Q6J("ngClass",t.VKq(24,Ut,e.moreItemCount>0)),t.xp6(1),t.Q6J("ngForOf",e.maxOrderItems),t.xp6(1),t.Q6J("ngIf",e.moreItemCount>0),t.xp6(3),t.Q6J("status",e.order.status),t.xp6(3),t.Q6J("ngIf",e.order.status===e.OrderStatus.Failed||e.order.status===e.OrderStatus.Canceled),t.xp6(1),t.Q6J("ngIf",e.order.status===e.OrderStatus.Completed||e.order.status===e.OrderStatus.PendingPayment),t.xp6(2),t.hij(" ",t.lcZ(29,18,e.order.amount)," ")}}let Jt=(()=>{class n{constructor(e,r){this.toast=e,this.i18n=r,this.OrderStatus=y.i,this.maxItemCount=2,this.onContactCustomerService=a=>{a({imageName:"order.png",type:"custom",msgtype:{order:{title:"\u6211\u7684\u8ba2\u5355\uff1a",order_title:this.order?.sn,price:this.order?.amount,desc:this.order?.orderItems?this.order.orderItems[0].productName:this.order?.orderItems[0].name,img_url:this.order?.orderItems?this.order?.orderItems[0].thumbnail:""}}})}}get maxOrderItems(){return(this.order?.orderItems.length||0)>this.maxItemCount?this.order?.orderItems.slice(0,this.maxItemCount+1):this.order?.orderItems}get moreItemCount(){return(this.order?.orderItems.length||0)-this.maxItemCount}toastError(e){var r=this;return(0,N.Z)(function*(){yield r.presentToast({position:"bottom",message:e,icon:"alert-circle-outline",duration:1e3,color:"danger"})})()}toastSuccess(e){var r=this;return(0,N.Z)(function*(){yield r.presentToast({position:"bottom",message:e,duration:1e3,icon:"checkmark-circle-outline",color:"success"})})()}presentToast(e){var r=this;return(0,N.Z)(function*(){yield(yield r.toast.create(e)).present()})()}copied(e){this.toastSuccess(this.i18n.instant("order-button-copied"))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.yF),t.Y36(M.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order-card"]],inputs:{order:"order"},decls:1,vars:1,consts:[["class","bg-white rounded-md flex items-center flex-col cursor-pointer",3,"routerLink",4,"ngIf"],[1,"bg-white","rounded-md","flex","items-center","flex-col","cursor-pointer",3,"routerLink"],[1,"order-card-header","w-full","pt-3","sm:pt-4","pb-2","px-3.5","sm:px-4","gap-3","sm:gap-5","flex","border-b","border-slate-100","text-neutral-500"],[1,"flex","gap-0","sm:gap-5","flex-col","sm:flex-row",3,"routerLink"],[1,"flex","gap-2"],[1,"order-sn","truncate"],[1,"flex",3,"appCopying","copied"],[1,"h-3.5","w-3.5","block"],[1,"ml-auto","text-base","font-semibold","text-black","hidden","sm:block","-mt-0.5"],[1,"flex","flex-col","xs:flex-row","w-full","items-start","flex-1","px-3","md:px-4","pt-3.5","pb-1","sm:pt-4","sm:pb-3"],[1,"order-items","relative","w-full","xs:flex-auto","xs:w-auto","sm:w-7/12","mb-2","md:mb-0","flex","gap-1","flex-col",3,"ngClass"],[3,"orderItem",4,"ngFor","ngForOf"],["class","flex w-20 normal-case absolute bottom-0 left-16 z-10","color","light","shape","round","size","small",4,"ngIf"],[1,"md:pl-2","w-full","xs:w-auto","sm:w-5/12","grid","grid-cols-2","xs:grid-cols-1","sm:grid-cols-2"],[1,"sm:justify-self-center"],[1,"inline-flex",3,"status"],[1,"flex","flex-col","justify-center"],[1,"flex-shrink-0","flex","flex-col","ml-auto"],[3,"sku","quantity",4,"ngIf"],["class","text-center gap-1 sm:gap-2 w-24 md:w-32 font-medium text-sm md:text-base rounded-xl bg-white text-primary hover:opacity-80 px-2 hidden sm:flex",3,"routerLink",4,"ngIf"],[1,"hidden","xs:block","sm:hidden","font-bold","mr-2","ml-auto","mb-0.5"],[1,"flex","ml-auto","sm:ml-0",3,"click"],["src","/assets/images/contact-support.png","alt","Contact Support",1,"h-8","w-8","sm:h-4","sm:w-4"],[3,"orderItem"],["color","light","shape","round","size","small",1,"flex","w-20","normal-case","absolute","bottom-0","left-16","z-10"],[3,"sku","quantity"],["flyToCart","",1,"text-center","font-medium","text-sm","md:text-base","rounded-lg","text-white","py-1.5","sm:py-2","px-3","md:px-6","mb-2","sm:mb-0","bg-gradient-primary-1","hover:bg-gradient-primary",3,"targetSelector","thumbnail","disabled","click"],[1,"font-medium"],[1,"text-center","gap-1","sm:gap-2","w-24","md:w-32","font-medium","text-sm","md:text-base","rounded-xl","bg-white","text-primary","hover:opacity-80","px-2","hidden","sm:flex",3,"routerLink"],["src","/assets/svgs/search-icon.svg","alt","Contact Support",1,"h-3","w-3","md:h-3.5","md:w-3.5","mt-1"]],template:function(e,r){1&e&&t.YNc(0,Nt,30,26,"a",0),2&e&&t.Q6J("ngIf",r.order)},dependencies:[o.mk,o.sg,o.O5,u.YG,u.Fo,j.Q,z.p,V.I,G.q,E.M,p.yS,vt,ct,o.H9,o.uU,M.X$],styles:[".order-card-header[_ngcontent-%COMP%]{font-size:13px}.order-card-header[_ngcontent-%COMP%]   .order-sn[_ngcontent-%COMP%]{max-width:8rem}.order-items.moreItem[_ngcontent-%COMP%]:after{width:100%;height:calc(100% - 50px);background:linear-gradient(180deg,transparent,white);position:absolute;bottom:0;left:0;content:close-quote}@media only screen and (min-width: 480px){.order-sn[_ngcontent-%COMP%]{max-width:none}}"]}),n})();function Yt(n,i){if(1&n&&(t._uU(0),t.ALo(1,"translate")),2&n){const e=t.oxw().$implicit;t.Oqu(t.lcZ(1,1,e.name))}}function Ft(n,i){if(1&n&&(t.TgZ(0,"app-tab",7),t.YNc(1,Yt,2,3,"ng-template"),t.qZA()),2&n){const e=i.$implicit;t.Q6J("link",e.url)("queryParams",e.queryParams)("count",e.count||0)}}function Et(n,i){1&n&&t.GkF(0)}function $t(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",16)(1,"app-pagination",17),t.NdJ("onPageClick",function(a){t.CHM(e);const m=t.oxw(3);return t.KtG(m.loadOrdersByPage(a))}),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("curPage",e.page)("numOfPages",e.numOfPages)}}function Qt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-chip",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.clearStatus())}),t.TgZ(1,"ion-label"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"ion-icon",19),t.qZA()}if(2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,1,e.selectedStatusName))}}function Rt(n,i){1&n&&t._UZ(0,"app-order-card",22),2&n&&t.Q6J("order",i.$implicit)}function jt(n,i){if(1&n&&(t.TgZ(0,"div",20),t.YNc(1,Rt,1,1,"app-order-card",21),t.qZA()),2&n){const e=t.oxw(3);t.Q6J("@pageEnterTransition",void 0),t.xp6(1),t.Q6J("ngForOf",e.orders)}}function Ht(n,i){1&n&&(t.TgZ(0,"div",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"order-pagination-no-more-result")," "))}function Kt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",24)(1,"app-pagination",17),t.NdJ("onPageClick",function(a){t.CHM(e);const m=t.oxw(3);return t.KtG(m.loadOrdersByPage(a))}),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("curPage",e.page)("numOfPages",e.numOfPages)}}function Bt(n,i){if(1&n&&(t.TgZ(0,"div",9),t.YNc(1,$t,2,2,"div",10),t.TgZ(2,"div",11),t.YNc(3,Qt,5,3,"ion-chip",12),t.qZA(),t.YNc(4,jt,2,2,"div",13),t.YNc(5,Ht,3,3,"div",14),t.YNc(6,Kt,2,2,"div",15),t.qZA()),2&n){const e=t.oxw(2),r=t.MAs(8);t.xp6(1),t.Q6J("ngIf",e.numOfPages>1),t.xp6(2),t.Q6J("ngIf",e.selectedStatusName),t.xp6(1),t.Q6J("ngIf",!e.isLoading)("ngIfElse",r),t.xp6(1),t.Q6J("ngIf",!e.isLoading&&e.page===e.numOfPages),t.xp6(1),t.Q6J("ngIf",e.numOfPages>1)}}function zt(n,i){if(1&n&&t.YNc(0,Bt,7,6,"div",8),2&n){const e=t.oxw(),r=t.MAs(10);t.Q6J("ngIf",!e.isLoading&&e.orders.length||e.isLoading)("ngIfElse",r)}}function Gt(n,i){1&n&&t._UZ(0,"app-loading-spinner",26)}function Wt(n,i){if(1&n&&t.YNc(0,Gt,1,0,"app-loading-spinner",25),2&n){const e=t.oxw();t.Q6J("ngIf",e.isLoading)}}function Vt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-chip",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.clearStatus())}),t.TgZ(1,"ion-label"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"ion-icon",19),t.qZA()}if(2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,1,e.selectedStatusName))}}function Xt(n,i){1&n&&(t.TgZ(0,"p",33),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"my-orders-placeholder-text")," "))}function te(n,i){1&n&&(t.ynx(0),t.TgZ(1,"a",34),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"footer-start-shopping")," "))}function ee(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-button",35),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.clearFilter())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"clear-filters")," "))}function ne(n,i){if(1&n&&(t.TgZ(0,"div",28)(1,"div",11),t.YNc(2,Vt,5,3,"ion-chip",12),t.qZA(),t._UZ(3,"img",29),t.YNc(4,Xt,3,3,"p",30),t.YNc(5,te,4,3,"ng-container",31),t.YNc(6,ee,3,3,"ng-template",null,32,t.W1O),t.qZA()),2&n){const e=t.MAs(7),r=t.oxw(2);t.Q6J("ngClass",r.selectedStatusName?"pt-4":"pt-9"),t.xp6(2),t.Q6J("ngIf",r.selectedStatusName),t.xp6(2),t.Q6J("ngIf",!r.totalAllOrders),t.xp6(1),t.Q6J("ngIf",!r.totalAllOrders)("ngIfElse",e)}}function re(n,i){if(1&n&&t.YNc(0,ne,8,5,"div",27),2&n){const e=t.oxw();t.Q6J("ngIf",!(null!=e.orders&&e.orders.length))}}let oe=(()=>{class n{constructor(e,r,a,m){this.ref=e,this.router=r,this.route=a,this.orderService=m,this.page=1,this.hasAllLoad=!1,this.orders=[],this.totalOrders=0,this.totalAllOrders=0,this.totalPendingPayments=0,this.orderParams={rows:15,page:1,status:y.i.All,endTime:(0,g.Z)().format("YYYY-MM-DD")},this.$active=new k.x,this.orderPageNavigation=Z}ngOnInit(){this.route.queryParams.pipe((0,S.R)(this.$active)).subscribe(e=>{const r=e;this.page=Number(r.page||1),this.orderParams.status=r.status||y.i.All,this.getOrders(r)})}ngOnDestroy(){this.$active.next(),this.$active.complete()}get numOfPages(){return Math.ceil(this.totalOrders/15)}get selectedStatusName(){return this.orderPageNavigation.find(e=>e.queryParams?.status==this.orderParams.status)?.name||""}trackTab(e,r){return r.count}getOrders(e){this.isLoading=!0;const r=[this.orderService.getOrders({...this.orderParams,...e,page:this.page-1}),this.orderService.getOrders({...this.orderParams,...e,page:0,status:y.i.PendingPayment})];this.hasAllLoad||r.push(this.orderService.getOrders({rows:10,page:1,status:y.i.All,endTime:(0,g.Z)().format("YYYY-MM-DD")})),(0,$.D)(r).pipe((0,S.R)(this.$active)).pipe((0,Q.U)(a=>(this.orderPageNavigation[1].count=0,this.ref.detectChanges(),a[1]&&(this.orderPageNavigation[1].count=a[1].total),this.hasAllLoad||(this.totalAllOrders=a[2].total,this.hasAllLoad=!0),a[0]))).subscribe(a=>{a&&(this.isLoading=!1,this.totalOrders=a.total,this.orders=a.rows,this.ref.markForCheck())})}loadOrdersByPage(e){this.page=e;const r=this.router.url.split("?")[0];this.router.navigate([r],{queryParams:{page:e},queryParamsHandling:"merge"})}clearFilter(){const e=this.router.url.split("?")[0];this.router.navigate([e],{queryParams:{rows:10,page:1,status:y.i.All,endTime:(0,g.Z)().format("YYYY-MM-DD")}})}clearStatus(){const e=this.router.url.split("?")[0];this.router.navigate([e],{queryParams:{status:null},queryParamsHandling:"merge"})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(p.F0),t.Y36(p.gz),t.Y36(I.p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-orders"]],decls:11,vars:3,consts:[[1,"px-3","lg:px-0"],["customNavClass","border-b border-slate-200 w-full hidden lg:block","customTabClass","text-[15px]","customActiveTabClass","active"],[3,"link","queryParams","count",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet"],["orderList",""],["loading",""],["ordersEmpty",""],[3,"link","queryParams","count"],["class","relative flex flex-col gap-y-2 mt-0 lg:mt-4 2xl:mt-0",4,"ngIf","ngIfElse"],[1,"relative","flex","flex-col","gap-y-2","mt-0","lg:mt-4","2xl:mt-0"],["class","pagination-wrapper relative 2xl:absolute flex justify-center sm:justify-end",4,"ngIf"],[1,"self-end"],["color","primary",3,"click",4,"ngIf"],["class","flex flex-col gap-y-4",4,"ngIf","ngIfElse"],["class","text-center",4,"ngIf"],["class","flex justify-center mb-8 mt-2",4,"ngIf"],[1,"pagination-wrapper","relative","2xl:absolute","flex","justify-center","sm:justify-end"],[3,"curPage","numOfPages","onPageClick"],["color","primary",3,"click"],["name","close-circle"],[1,"flex","flex-col","gap-y-4"],["class","w-full",3,"order",4,"ngFor","ngForOf"],[1,"w-full",3,"order"],[1,"text-center"],[1,"flex","justify-center","mb-8","mt-2"],["text","loading",4,"ngIf"],["text","loading"],["class","no-orders w-full h-full bg-white px-5 pb-9 items-center justify-center flex flex-col rounded-xl mt-5",3,"ngClass",4,"ngIf"],[1,"no-orders","w-full","h-full","bg-white","px-5","pb-9","items-center","justify-center","flex","flex-col","rounded-xl","mt-5",3,"ngClass"],["src","/assets/images/order-placeholder.png","alt","No orders"],["class","text-xl font-extrabold text-zinc-300 mt-2",4,"ngIf"],[4,"ngIf","ngIfElse"],["clearFilterBtn",""],[1,"text-xl","font-extrabold","text-zinc-300","mt-2"],["routerLink","/",1,"text-center","font-medium","text-base","rounded-xl","text-white","py-2","px-6","mt-4","mb-3","bg-gradient-primary-1","hover:bg-gradient-primary"],["fill","clear",1,"sm:hidden","text-red-600","bg-red-200","font-semibold","rounded-lg",3,"click"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-order-header"),t.TgZ(2,"app-tabs",1),t.YNc(3,Ft,2,3,"app-tab",2),t.qZA(),t.YNc(4,Et,1,0,"ng-container",3),t.qZA(),t.YNc(5,zt,1,2,"ng-template",null,4,t.W1O),t.YNc(7,Wt,1,1,"ng-template",null,5,t.W1O),t.YNc(9,re,1,1,"ng-template",null,6,t.W1O)),2&e){const a=t.MAs(6);t.xp6(3),t.Q6J("ngForOf",r.orderPageNavigation)("ngForTrackBy",r.trackTab),t.xp6(1),t.Q6J("ngTemplateOutlet",a)}},dependencies:[o.mk,o.sg,o.O5,o.tP,u.YG,u.hM,u.gu,u.Q$,u.Fo,x.g,U.n,R.i,b.Q,p.yS,F,Jt,M.X$],styles:[".no-orders[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:216px}@media (min-width: 640px){.no-orders[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:250px}}@media (min-width: 1024px){.no-orders[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}}@media (min-width: 1440px){.pagination-wrapper[_ngcontent-%COMP%]{top:-42px;right:0}}"],data:{animation:[(0,_.X$)("pageEnterTransition",[(0,_.eR)(":enter",[(0,_.oB)({transform:"translateX(100%)"}),(0,_.jt)("400ms ease-in-out",(0,_.oB)({transform:"translateX(0)"}))])])]},changeDetection:0}),n})();var ot=s(18110),W=s(15439),ie=s(5565),ae=s(80164),se=s(69975),lt=s(49808),de=s(11481),at=s(92340),ce=s(18505),le=s(80529);let pe=(()=>{class n{constructor(e){this.http=e}getUserReviewList(){return this.http.get(`${at.N.BASE_URL}/user/review/getUserReviewList`,{}).pipe((0,Q.U)(e=>(console.log(e),e)),(0,ce.b)(e=>{console.log(e)}))}saveProductReview(e,r,a,m,P,tt,et){return this.http.post(`${at.N.BASE_URL}/user/review/saveProductReview`,{content:r,score:e,images:a,productId:m,storeId:P,orderItemId:tt,specifications:et}).pipe((0,Q.U)(st=>st))}uploadReviewImages(e){const r=new FormData;return r.append("file",e),r.append("dir","review"),this.http.post(`${at.N.BASE_URL}/shop/storage/fileStore`,r,{reportProgress:!0,observe:"events"})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(le.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var me=s(38461),ue=s(75073),pt=s(93883),mt=s(61977);function _e(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",34),t._UZ(1,"img",35),t.ALo(2,"fileToImage"),t.TgZ(3,"button",36),t.NdJ("click",function(){const m=t.CHM(e).$implicit,P=t.oxw(3);return t.KtG(P.removeImage(m))}),t._UZ(4,"app-close-icon",37),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(1),t.Q6J("src",t.lcZ(2,1,e),t.LSH)}}const ut=function(){return["/product","detail"]},_t=function(n){return{id:n}};function ge(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",14),t.NdJ("fileDropped",function(a){t.CHM(e);const m=t.oxw(2);return t.KtG(m.onFileDropped(a))}),t.TgZ(1,"div",15)(2,"a",16),t._UZ(3,"img",17),t.qZA(),t.TgZ(4,"a",18),t._uU(5),t.qZA(),t.TgZ(6,"p",19),t._uU(7),t.qZA()(),t.TgZ(8,"form",20)(9,"div"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",21)(13,"app-order-rating",22),t.NdJ("ratingChanged",function(a){t.CHM(e);const m=t.oxw(2);return t.KtG(m.onRatingChanged(a))}),t.qZA()(),t.TgZ(14,"div"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"div",21),t._UZ(18,"ion-textarea",23),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"div"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"div",24)(24,"div",25)(25,"input",26),t.NdJ("change",function(a){t.CHM(e);const m=t.oxw(2);return t.KtG(m.fileBrowseHandler(a))}),t.qZA(),t.TgZ(26,"label",27),t._UZ(27,"ion-icon",28),t._uU(28),t.ALo(29,"translate"),t.qZA()()(),t.TgZ(30,"div",29),t.YNc(31,_e,5,3,"div",30),t.qZA(),t.TgZ(32,"div",31)(33,"div",32),t._UZ(34,"app-upload-anim-icon"),t.TgZ(35,"div",33),t._uU(36),t.ALo(37,"translate"),t.qZA()()()()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("routerLink",t.DdM(29,ut))("queryParams",t.VKq(30,_t,null==e.product?null:e.product.id)),t.xp6(1),t.Q6J("src",e.orderItem.thumbnail,t.LSH)("alt",e.orderItem.name),t.xp6(1),t.Q6J("routerLink",t.DdM(32,ut))("queryParams",t.VKq(33,_t,null==e.product?null:e.product.id)),t.xp6(1),t.hij(" ",e.orderItem.name," "),t.xp6(2),t.hij(" ",e.orderItem.specifications," "),t.xp6(3),t.hij("",t.lcZ(11,17,"Evaluation-product"),":"),t.xp6(3),t.Q6J("rating",e.rating),t.xp6(2),t.hij("",t.lcZ(16,19,"Evaluation-evaluation-of-sunshine"),":"),t.xp6(3),t.s9C("placeholder",t.lcZ(19,21,"Evaluation-share-feeling")),t.Q6J("formControl",e.reviewTextControl),t.xp6(3),t.hij(" ",t.lcZ(22,23,"Evaluation-evaluation-of-sunshine-picture"),": "),t.xp6(7),t.hij(" ",t.lcZ(29,25,"account-info-upload-photo")," "),t.xp6(3),t.Q6J("ngForOf",e.fileList),t.xp6(5),t.hij(" ",t.lcZ(37,27,"account-info-upload-photo")," ")}}function fe(n,i){1&n&&(t.TgZ(0,"div",38),t._uU(1,"Empty order item"),t.qZA())}function xe(n,i){1&n&&(t.TgZ(0,"div",39),t._UZ(1,"span"),t.qZA())}function he(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"p",4),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"button",5),t.NdJ("click",function(){t.CHM(e),t.oxw();const a=t.MAs(1);return t.KtG(a.dismiss(!1))}),t._UZ(6,"app-close-icon",6),t.qZA()(),t.TgZ(7,"div",7),t.YNc(8,ge,38,35,"div",8),t.YNc(9,fe,2,0,"ng-template",null,9,t.W1O),t.qZA(),t.TgZ(11,"div",10)(12,"ion-button",11),t.NdJ("click",function(){t.CHM(e),t.oxw();const a=t.MAs(1);return t.KtG(a.dismiss())}),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"ion-button",12),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onAddComment())}),t.YNc(16,xe,2,0,"div",13),t._uU(17),t.ALo(18,"translate"),t.qZA()()()}if(2&n){const e=t.MAs(10),r=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,7,"modal-title-Evaluation")," "),t.xp6(5),t.Q6J("ngIf",r.orderItem)("ngIfElse",e),t.xp6(5),t.hij(" ",t.lcZ(14,9,"account-info-remove-cancel")," "),t.xp6(2),t.Q6J("disabled",!r.reviewTextControl.value||r.isLoading),t.xp6(1),t.Q6J("ngIf",r.isLoading),t.xp6(1),t.hij(" ",t.lcZ(18,11,"account-change-password-confirm")," ")}}let ve=(()=>{class n{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(e))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(de.H7,16))},n.\u0275pipe=t.Yjl({name:"fileToImage",type:n,pure:!0}),n})(),Ce=(()=>{class n{constructor(e){this.reviewService=e,this.isOpen=!1,this.isOpenChange=new t.vpe,this.addComment=new t.vpe,this.isUploading=!1,this.rating=5,this.reviewTextControl=new C.NI(""),this.fileList=[],this.isLoading=!1}ngOnInit(){}onAddComment(){var e=this;return(0,N.Z)(function*(){try{e.isLoading=!0;const r=yield e.uploadFile(),a=JSON.stringify(r.filter(m=>!!m));yield(0,lt.n)(e.reviewService.saveProductReview(e.rating,e.reviewTextControl.value,a,e.product?.id||"",e.product?.storeId||"",e.orderItem?.id||"",e.orderItem?.specifications||"")),e.addComment.emit({success:!0}),e.isLoading=!1}catch{e.isLoading=!1}})()}removeImage(e){this.fileList=this.fileList.filter(r=>r!==e)}initialize(){this.isLoading=!1,this.rating=5,this.fileList=[],this.reviewTextControl.setValue("")}onRatingChanged(e){this.rating=e}fileBrowseHandler(e){this.handleFiles(e.target.files)}uploadFinished(){this.isUploading=!1}onFileDropped(e){this.handleFiles(e)}handleFiles(e){var r=this;return(0,N.Z)(function*(){for(let a=0;a<e.length;a++){const m=e[a];-1===r.fileList.findIndex(P=>P.name===m.name&&P.lastModified===m.lastModified)&&r.fileList.push(m)}})()}uploadFile(){var e=this;return(0,N.Z)(function*(){const r=[];for(let a=0;a<e.fileList.length;a++)r.push((0,lt.n)(e.reviewService.uploadReviewImages(e.fileList[a])).then(P=>0===P.body.code?P.body.data[0]:null));return yield Promise.all(r)})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(pe))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order-comment-modal"]],inputs:{isOpen:"isOpen",orderItem:"orderItem",product:"product"},outputs:{isOpenChange:"isOpenChange",addComment:"addComment"},decls:3,vars:1,consts:[[1,"visible",3,"isOpen","didDismiss"],["modal",""],[1,"flex","flex-col","rounded-xl","overflow-visible"],["id","modal-header",1,"flex","items-center","bg-[#f4f4f4]","p-2","rounded-t-xl","w-full"],[1,"font-medium","text-xl","ml-2","tracking-tighter"],[1,"rounded-md","bg-[#ff2145]","p-1","ml-auto","w-7","flex","items-center","justify-center","outline-none",3,"click"],[1,"w-5","text-white"],["id","modal-body",1,"bg-white","w-full","h-full","overflow-visible","px-4","py-3"],["appDragAndDrop","","class","-my-3 -mx-4 px-4 py-3 relative",3,"fileDropped",4,"ngIf","ngIfElse"],["emptyOrderItem",""],["id","modal-footer",1,"flex","justify-between","sm:justify-end","w-full","p-2","border-t","border-slate-200","bg-white","rounded-b-xl"],["fill","outline",1,"cancel-btn",3,"click"],[1,"ok-btn","items-center",3,"disabled","click"],["class","loader-container -ml-1",4,"ngIf"],["appDragAndDrop","",1,"-my-3","-mx-4","px-4","py-3","relative",3,"fileDropped"],[1,"flex","items-center"],[1,"peer","mr-4","flex-shrink-0","w-12","h-12","rounded-md",3,"routerLink","queryParams"],[1,"object-cover","object-center","w-full","h-full",3,"src","alt"],[1,"product-name","peer-hover:text-primary","h-7","text-md","line-clamp-1","text-slate-600","hover:text-primary","w-fit","font-medium",3,"routerLink","queryParams"],[1,"product-spec","line-clamp-1","text-xs","text-slate-400"],[1,"relative"],[1,"mb-4"],[3,"rating","ratingChanged"],[1,"rounded-md","border","border-slate-300","selection:bg-primary","caret-primary",3,"placeholder","formControl"],[1,"mb-4","mt-2"],[1,"relative","w-32","h-20","z-40"],["id","upload-avatar","type","file","accept","image/*","multiple","",1,"hidden",3,"change"],["for","upload-avatar",1,"flex","flex-col","items-center","justify-center","w-full","h-full","text-sm","rounded-md","overflow-hidden","border","border-dashed","cursor-pointer","z-40","hover:border-[#3880ff]"],["name","add-outline",1,"w-8","h-8"],[1,"flex","flex-wrap"],["class","h-10 w-10 relative mr-2",4,"ngFor","ngForOf"],[1,"drop-zone-container","h-36","w-full","absolute","left-0","right-0","bottom-0","flex","items-center","justify-center"],[1,"z-50","relative","block"],[1,"text-black","font-bold"],[1,"h-10","w-10","relative","mr-2"],["alt","review image",1,"object-cover","!w-full","!h-full","rounded",3,"src"],[1,"clear-btn","absolute","-right-2","-top-2","rounded-full","w-5","h-5","p-1","bg-gray-300","cursor-pointer",3,"click"],[1,"block"],[1,"p-6"],[1,"loader-container","-ml-1"]],template:function(e,r){1&e&&(t.TgZ(0,"ion-modal",0,1),t.NdJ("didDismiss",function(){return r.isOpenChange.emit(!1)}),t.YNc(2,he,19,13,"ng-template"),t.qZA()),2&e&&t.Q6J("isOpen",r.isOpen)},dependencies:[o.sg,o.O5,C._Y,C.JJ,C.JL,C.F,C.oH,u.YG,u.gu,u.g2,u.ki,u.j9,u.Fo,me.D,ue.z,p.yS,pt.t,mt.K,M.X$,ve],styles:['ion-modal[_ngcontent-%COMP%]{--width: 520px}ion-modal.modal-medium[_ngcontent-%COMP%]{--width: 480px}ion-modal[_ngcontent-%COMP%]   #ng-deep[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: .5rem;--border-width: 1px;font-size:1rem;margin:.5rem}ion-button.ok-btn[_ngcontent-%COMP%]{--background: #fb8811}ion-button.ok-btn[disabled][_ngcontent-%COMP%]{--color: black;--background: #dddddd}ion-button.cancel-btn[_ngcontent-%COMP%]{--color: #000000d9;--border-color: #e5e0e0;--transition: background-color .4s ease, color .4s ease, border-color .4s ease}ion-button.cancel-btn[_ngcontent-%COMP%]:hover{--color: #ffa73b;--border-color: #ffa73b}ion-textarea[_ngcontent-%COMP%]{--border-radius: .5rem}.product-name[_ngcontent-%COMP%]{max-width:15rem}.drop-zone-container[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3880ff 50%,transparent 0) repeat-x,linear-gradient(90deg,#3880ff 50%,transparent 0) repeat-x,linear-gradient(0deg,#3880ff 50%,transparent 0) repeat-y,linear-gradient(0deg,#3880ff 50%,transparent 0) repeat-y;background-size:16px 3px,16px 3px,3px 16px,3px 16px;background-position:0 0,0 100%,0 0,100% 0;animation:linearGradientMove .3s infinite linear;display:none}.fileover[_ngcontent-%COMP%]   .drop-zone-container[_ngcontent-%COMP%]{display:flex}[appDragAndDrop][_ngcontent-%COMP%]:before{position:absolute;inset:0;z-index:1;background-color:#00000030;opacity:0;content:"";transition-duration:.2s;pointer-events:none}[appDragAndDrop].fileover[_ngcontent-%COMP%]:before{opacity:1}.drop-zone-container[_ngcontent-%COMP%]{padding:6px;z-index:41;pointer-events:none}.drop-zone-container[_ngcontent-%COMP%]:before{content:"";display:block;inset:0;position:absolute;background-color:#fff;z-index:2;background:linear-gradient(90deg,#3880ff 50%,transparent 0) repeat-x,linear-gradient(90deg,#3880ff 50%,transparent 0) repeat-x,linear-gradient(0deg,#3880ff 50%,transparent 0) repeat-y,linear-gradient(0deg,#3880ff 50%,transparent 0) repeat-y;background-size:16px 3px,16px 3px,3px 16px,3px 16px;background-position:0 0,0 100%,0 0,100% 0;animation:linearGradientMove .3s infinite linear}.drop-zone-container[_ngcontent-%COMP%]:after{content:"";display:block;inset:0;position:absolute;background-color:#fff;z-index:1}div.drop-zone-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none}@keyframes linearGradientMove{to{background-position:16px 0,-16px 100%,0 -16px,100% 16px}}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;height:32px;width:32px;clip:rect(16px,32px,32px,0);margin:auto;inset:0;animation:loader-2-2 1.5s linear infinite}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;inset:0;margin:auto;height:20px;width:20px;border:2px solid transparent;border-top:2px solid rgba(0,0,0,.3);border-radius:50%;animation:loader-2-3 1.5s linear infinite}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;inset:0;margin:auto;height:20px;width:20px;border:2px solid rgba(0,0,0,.3);border-radius:50%}']}),n})();const Oe=["orderAddCommentModal"];function ye(n,i){if(1&n&&(t.TgZ(0,"div",21),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.orderItem.specifications," ")}}function be(n,i){if(1&n&&(t.TgZ(0,"div",22),t._uU(1),t.ALo(2,"currency"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,t.xi3(3,3,e.orderItem.price/e.orderItem.quantity,"1.1-1"))," ")}}function Ze(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE(" ",e.orderItem.exchangePoint," ",t.lcZ(2,2,"order-detail-exchange-point")," ")}}function we(n,i){1&n&&(t.TgZ(0,"span",23),t._uU(1,"+"),t.qZA())}function Te(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"currency"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,t.xi3(3,3,e.orderItem.price/e.orderItem.quantity,"1.1-1")))}}function Me(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.orderItem.exchangePoint*e.orderItem.quantity,"\u79ef\u5206 ")}}function Pe(n,i){1&n&&(t.TgZ(0,"span",23),t._uU(1," + "),t.qZA())}function Ae(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,e.orderItem.price))}}function Ie(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showCommentModal())}),t._UZ(1,"app-order-rating",25),t.TgZ(2,"div",26),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&n&&(t.xp6(1),t.Q6J("stopEvent",!0)("rating",5),t.xp6(2),t.Oqu(t.lcZ(4,3,"review-btn")))}const gt=function(){return["/product","detail"]},ft=function(n){return{id:n}};function De(n,i){if(1&n&&(t.TgZ(0,"div",3)(1,"div",4)(2,"a",5),t._UZ(3,"img",6),t.qZA(),t.TgZ(4,"div",7)(5,"a",8),t._uU(6),t.qZA(),t.YNc(7,ye,2,1,"div",9),t.TgZ(8,"div",10),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.YNc(11,be,4,6,"div",11),t.qZA()(),t.TgZ(12,"div",12),t.YNc(13,Ze,3,4,"span",13),t.YNc(14,we,2,0,"span",14),t.YNc(15,Te,4,6,"span",13),t.qZA(),t.TgZ(16,"div",15)(17,"span",16),t._uU(18),t.qZA()(),t.TgZ(19,"div",17)(20,"span",18),t.YNc(21,Me,2,1,"span",13),t.YNc(22,Pe,2,0,"span",14),t.YNc(23,Ae,3,3,"span",13),t.qZA()(),t.TgZ(24,"div",19),t.YNc(25,Ie,5,5,"button",20),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("routerLink",t.DdM(21,gt))("queryParams",t.VKq(22,ft,null==e.product?null:e.product.id)),t.xp6(1),t.Q6J("src",e.orderItem.thumbnail,t.LSH)("alt",e.orderItem.name),t.xp6(2),t.Q6J("routerLink",t.DdM(24,gt))("queryParams",t.VKq(25,ft,null==e.product?null:e.product.id)),t.xp6(1),t.hij(" ",e.orderItem.name," "),t.xp6(1),t.Q6J("ngIf","[]"!==e.orderItem.specifications),t.xp6(2),t.AsE(" ",t.lcZ(10,19,"order-details-quantity"),": \xa0 ",e.orderItem.quantity," "),t.xp6(2),t.Q6J("ngIf",e.orderItem.price),t.xp6(2),t.Q6J("ngIf",e.orderItem.exchangePoint&&e.orderItem.exchangePoint>0),t.xp6(1),t.Q6J("ngIf",e.orderItem.exchangePoint&&e.orderItem.exchangePoint>0&&e.orderItem.price>0),t.xp6(1),t.Q6J("ngIf",e.orderItem.price),t.xp6(3),t.Oqu(e.orderItem.quantity),t.xp6(3),t.Q6J("ngIf",e.orderItem.exchangePoint&&e.orderItem.exchangePoint>0),t.xp6(1),t.Q6J("ngIf",e.orderItem.exchangePoint&&e.orderItem.exchangePoint>0&&e.orderItem.price>0),t.xp6(1),t.Q6J("ngIf",e.orderItem.price),t.xp6(2),t.Q6J("ngIf",(e.orderStatus===e.orderStatuses.Completed||e.orderStatus===e.orderStatuses.Received)&&!e.orderItem.reviewed)}}let ke=(()=>{class n{constructor(e){this.toastController=e,this.orderStatuses=y.i,this.isAddCommentModalShown=!1}showMessage(e,r,a,m){var P=this;return(0,N.Z)(function*(){yield(yield P.toastController.create({message:e,duration:r,position:a,color:m})).present()})()}showCommentModal(){this.isAddCommentModalShown=!0,this.addModal.initialize()}onAddComment(e){this.isAddCommentModalShown=!1,this.showMessage("\u8bc4\u8bba\u6210\u529f",3e3,"top","success")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.yF))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order-details-item"]],viewQuery:function(e,r){if(1&e&&t.Gf(Oe,5),2&e){let a;t.iGM(a=t.CRH())&&(r.addModal=a.first)}},inputs:{orderItem:"orderItem",product:"product",orderStatus:"orderStatus"},decls:3,vars:4,consts:[["class","grid grid-cols-12 mt-4",4,"ngIf"],[3,"isOpen","orderItem","product","isOpenChange","addComment"],["orderAddCommentModal",""],[1,"grid","grid-cols-12","mt-4"],[1,"order-product","flex","items-start","col-span-8","lg:col-span-5","pr-4"],[1,"product-image","mr-4","flex-shrink-0","w-12","h-12","rounded-md",3,"routerLink","queryParams"],[1,"object-cover","object-center","w-full","h-full",3,"src","alt"],[1,"min-w-0","text-left"],[1,"product-name","text-sm","line-clamp-1","mb-1","text-black","hover:text-primary","w-fit","font-medium",3,"routerLink","queryParams"],["class","text-sm line-clamp-1 text-neutral-500",4,"ngIf"],[1,"lg:hidden","text-sm"],["class","lg:hidden font-bold text-sm",4,"ngIf"],[1,"col-span-2","hidden","lg:inline-block"],[4,"ngIf"],["class","symbol-plus",4,"ngIf"],[1,"col-span-1","hidden","lg:inline-block"],[1,""],[1,"col-span-4","lg:col-span-2","text-right","lg:text-left","text-lg","lg:text-base"],[1,"specifications","text-overflow","pc-show","font-bold","lg:font-normal"],[1,"col-start-10","col-end-13","lg:col-span-2"],["class","capitalize text-center rounded-md text-black font-bold pt-0.5 px-3 bg-[#fafafa] border border-[#dbdbdb] float-right lg:float-left",3,"click",4,"ngIf"],[1,"text-sm","line-clamp-1","text-neutral-500"],[1,"lg:hidden","font-bold","text-sm"],[1,"symbol-plus"],[1,"capitalize","text-center","rounded-md","text-black","font-bold","pt-0.5","px-3","bg-[#fafafa]","border","border-[#dbdbdb]","float-right","lg:float-left",3,"click"],[1,"flex","justify-center",3,"stopEvent","rating"],[1,"-mt-1"]],template:function(e,r){1&e&&(t.YNc(0,De,26,27,"div",0),t.TgZ(1,"app-order-comment-modal",1,2),t.NdJ("isOpenChange",function(m){return r.isAddCommentModalShown=m})("addComment",function(m){return r.onAddComment(m)}),t.qZA()),2&e&&(t.Q6J("ngIf",r.orderItem),t.xp6(1),t.Q6J("isOpen",r.isAddCommentModalShown)("orderItem",r.orderItem)("product",r.product))},dependencies:[o.O5,u.Fo,p.yS,Ce,mt.K,o.JJ,o.H9,M.X$],styles:[".order-product[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(255 126 24 / var(--tw-text-opacity))}@media only screen and (max-width: 1023px){.comment-btn[_ngcontent-%COMP%]{margin-top:-35px;display:block}}app-order-rating[_ngcontent-%COMP%]     ion-icon{width:14px;height:14px;padding:2px}"]}),n})();var Se=s(94128);function qe(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t._UZ(2,"img",3),t.TgZ(3,"div",4),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"img",5)(7,"img",6),t.qZA(),t.TgZ(8,"div",7),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.getVoucher())}),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"button",9),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.handleConfirm())}),t._uU(15),t.ALo(16,"translate"),t.qZA()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,4,"Hold Up!")),t.xp6(5),t.Oqu(t.lcZ(10,6,"confirm-receipt-tips-v1-1")),t.xp6(3),t.Oqu(t.lcZ(13,8,"order-detail-confirm-receipt")),t.xp6(3),t.Oqu(t.lcZ(16,10,"account-info-remove-cancel")))}let Le=(()=>{class n{constructor(e){this.cartService=e,this.isOpenChange=new t.vpe,this.confirm=new t.vpe}getVoucher(){this.confirm.emit(),this.isOpenChange.emit(!1)}handleConfirm(){this.isOpenChange.emit(!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Se.N))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order-hold-up"]],inputs:{isOpen:"isOpen",realCashback:"realCashback",totalCashback:"totalCashback"},outputs:{isOpenChange:"isOpenChange",confirm:"confirm"},decls:2,vars:1,consts:[[3,"isOpen","didDismiss"],[1,"p-6"],[1,"flex","justify-center","items-center","mb-8"],["src","assets/images/cart-stop.png","alt","",1,"h-14","md:h-20"],[1,"ml-2","text-4xl","md:text-6xl","font-extrabold","whitespace-nowrap"],["src","assets/images/shape.png","alt","",1,"-ml-10"],["src","assets/images/mascot-stop.png","alt","",1,"h-14","md:h-20"],[1,"text-xl","text-center","font-bold","mb-8"],[1,"btn-get-vouchers","block","text-white","m-auto","py-3","text-3xl","md:text-5xl","font-extrabold","px-12","rounded-xl",3,"click"],[1,"btn-continue","text-red-500","text-xl","md:text-2xl","py-2","font-bold","block","m-auto",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"ion-modal",0),t.NdJ("didDismiss",function(){return r.isOpenChange.emit(!1)}),t.YNc(1,qe,17,12,"ng-template"),t.qZA()),2&e&&t.Q6J("isOpen",r.isOpen)},dependencies:[u.ki,M.X$],styles:["ion-modal[_ngcontent-%COMP%]{--background: white;--border-radius: 15px;--max-width: 550px}.title[_ngcontent-%COMP%]{font-size:50px}.yellow[_ngcontent-%COMP%]{color:#f8ae02}.btn-get-vouchers[_ngcontent-%COMP%]{background-color:#008aff}"],changeDetection:0}),n})();function Ue(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.reOrder())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"order-detail-reorder")," "))}function Ne(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.afterSales())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"after-sales-apply")," "))}function Je(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.lateReceive())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"order-late-shipping-v1-1")," "))}function Ye(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showConfirm())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"order-detail-confirm-receipt")," "))}function Fe(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.payment())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"order-detail-order-payment")," "))}function Ee(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.cancellationOrder())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"order-details-cancel-order")," "))}function $e(n,i){if(1&n&&t._UZ(0,"app-order-status",51),2&n){const e=t.oxw(2);t.Q6J("status",e.order.status)}}function Qe(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",52),t.NdJ("click",function(){const m=t.CHM(e).method,P=t.oxw(2);return t.KtG(P.onContactCustomerService(m))}),t._UZ(1,"img",53),t.qZA()}}function Re(n,i){if(1&n&&(t.TgZ(0,"div",54),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.LateReceivecount())}}function je(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw().$implicit,r=t.oxw(2);t.xp6(1),t.hij(" ",t.xi3(2,1,r.getOrderInfoValue(e),"YYYY-MM-dd HH:mm:ss")," ")}}function He(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&n){const e=t.oxw().$implicit,r=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,r.getOrderInfoValue(e))," ")}}function Ke(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw().$implicit,r=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,r.getOrderInfoValue(e))," ")}}function Be(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,r=t.oxw(2);t.xp6(1),t.Oqu(r.getOrderInfoValue(e))}}function ze(n,i){if(1&n&&(t.TgZ(0,"div",55)(1,"span",56),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",57),t.YNc(5,je,3,4,"span",58),t.YNc(6,He,3,3,"span",58),t.YNc(7,Ke,3,3,"span",58),t.YNc(8,Be,2,1,"span",59),t.qZA()()),2&n){const e=i.$implicit,r=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,5,r.orderInfoList[e].title),": "),t.xp6(2),t.Q6J("ngSwitch",r.orderInfoList[e].format),t.xp6(1),t.Q6J("ngSwitchCase","date"),t.xp6(1),t.Q6J("ngSwitchCase","currency"),t.xp6(1),t.Q6J("ngSwitchCase","translate")}}function Ge(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",", "+e.additionalValue," ")}}function We(n,i){if(1&n&&(t.TgZ(0,"div",62)(1,"span",56),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",63)(5,"span"),t._uU(6),t.qZA(),t.YNc(7,Ge,2,1,"span",64),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,3,e.title),": "),t.xp6(4),t.Oqu(e.value),t.xp6(1),t.Q6J("ngIf",e.additionalValue)}}function Ve(n,i){if(1&n&&(t.TgZ(0,"div",60)(1,"h4",38),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",39),t.YNc(5,We,8,5,"div",61),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,2,"order-details-delivery-information")," "),t.xp6(3),t.Q6J("ngForOf",e.displayAddressInfoKeys)}}function Xe(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",21),t.YNc(2,$e,1,1,"app-order-status",22),t.TgZ(3,"div",23)(4,"span",24),t._uU(5),t.qZA(),t.TgZ(6,"button",25),t.NdJ("copied",function(a){t.CHM(e);const m=t.oxw();return t.KtG(m.copied(a))}),t._UZ(7,"app-copy-icon",26),t.qZA()(),t.TgZ(8,"app-customer-service"),t.YNc(9,Qe,2,0,"ng-template"),t.qZA(),t.TgZ(10,"div",27)(11,"span",28),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"span",29),t._uU(15),t.ALo(16,"currency"),t.qZA()()(),t.TgZ(17,"div",30),t.YNc(18,Re,2,1,"div",31),t.qZA(),t.TgZ(19,"div",32)(20,"div",33)(21,"span",34),t._uU(22),t.qZA(),t.TgZ(23,"button",25),t.NdJ("copied",function(a){t.CHM(e);const m=t.oxw();return t.KtG(m.copied(a))}),t._UZ(24,"app-copy-icon",26),t.qZA()(),t.TgZ(25,"div",35)(26,"div",36)(27,"div",37)(28,"h4",38),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"div",39),t.YNc(32,ze,9,7,"div",40),t.qZA()(),t.YNc(33,Ve,6,4,"div",41),t.qZA(),t.TgZ(34,"div",42)(35,"div",43)(36,"div",44)(37,"span",45),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"span",46),t._uU(41),t.ALo(42,"currency"),t.qZA()(),t.TgZ(43,"div",47)(44,"span",45),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"span",48),t._uU(48),t.ALo(49,"currency"),t.qZA()(),t.TgZ(50,"div",44)(51,"span",49),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"span",50),t._uU(55),t.ALo(56,"currency"),t.qZA()()()()()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.order),t.xp6(3),t.hij(" #",e.order.sn," "),t.xp6(1),t.s9C("appCopying",e.order.sn),t.xp6(6),t.hij(" ",t.lcZ(13,18,"order-details-order-amount")," "),t.xp6(3),t.hij(" ",t.lcZ(16,20,e.order.price)," "),t.xp6(3),t.Q6J("ngIf",e.showLateReceiptBtn),t.xp6(4),t.hij(" #",e.order.sn," "),t.xp6(1),t.s9C("appCopying",e.order.sn),t.xp6(6),t.hij(" ",t.lcZ(30,22,"order-details-order-information")," "),t.xp6(3),t.Q6J("ngForOf",e.displayOrderInfoKeys),t.xp6(1),t.Q6J("ngIf",e.isDelivery),t.xp6(5),t.hij(" ",t.lcZ(39,24,"order-detail-Payment-Price")," "),t.xp6(2),t.Q6J("ngClass",e.hasPaymentAmount?"text-red-700 blinking":"text-gray-500"),t.xp6(1),t.hij(" ",t.lcZ(42,26,e.order.amountPaid)," "),t.xp6(4),t.hij(" ",t.lcZ(46,28,"tqc-rebate-credits-v1-1")," "),t.xp6(3),t.hij(" ",t.lcZ(49,30,e.order.exchangeCashback)," "),t.xp6(4),t.hij(" ",t.lcZ(53,32,"order-details-origin-price-v1-1")," "),t.xp6(3),t.hij(" ",t.lcZ(56,34,e.order.price)," ")}}function tn(n,i){1&n&&t._UZ(0,"img",76),2&n&&t.Q6J("src",i.$implicit,t.LSH)}function en(n,i){if(1&n&&t._UZ(0,"span"),2&n){const e=t.oxw().$implicit;t.Gre("action-",e.action,""),t.ekj("action",e.action)}}function nn(n,i){1&n&&(t.TgZ(0,"span",83),t._uU(1,"\u25cf"),t.qZA())}function rn(n,i){if(1&n&&(t.TgZ(0,"div",77)(1,"div",78)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"div",79),t.YNc(5,en,1,5,"span",80),t.YNc(6,nn,2,0,"span",81),t.qZA(),t.TgZ(7,"div",82)(8,"span"),t._uU(9),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.qZA()()()),2&n){const e=i.$implicit;t.xp6(3),t.Oqu(e.acceptTime),t.xp6(2),t.Q6J("ngIf","304"!==e.action),t.xp6(1),t.Q6J("ngIf","304"===e.action),t.xp6(3),t.Oqu(e.actionName),t.xp6(2),t.Oqu(e.acceptStation)}}function on(n,i){if(1&n&&(t.TgZ(0,"div",68)(1,"div",69)(2,"div",70)(3,"div",71),t.YNc(4,tn,1,1,"img",72),t.qZA(),t.TgZ(5,"div",73)(6,"p"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"p"),t._uU(10),t.ALo(11,"translate"),t.qZA()()(),t.TgZ(12,"div",74),t.YNc(13,rn,12,5,"div",75),t.qZA()()()),2&n){const e=i.$implicit;t.xp6(4),t.Q6J("ngForOf",e.image),t.xp6(3),t.AsE(" ",t.lcZ(8,6,"order-detail-delivery-name"),": ",e.item.deliveryName," "),t.xp6(3),t.AsE(" ",t.lcZ(11,8,"order-detail-express-num"),": ",e.item.expressNum," "),t.xp6(3),t.Q6J("ngForOf",e.itemsTraces)}}function an(n,i){if(1&n&&(t.TgZ(0,"div",65)(1,"h4",38),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",66),t.YNc(5,on,14,10,"div",67),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,2,"aftesale-detail-logistics-status")," "),t.xp6(3),t.Q6J("ngForOf",e.expressNumData)}}function sn(n,i){if(1&n&&t._UZ(0,"app-order-details-item",91),2&n){const e=i.$implicit,r=t.oxw(2);t.Q6J("orderItem",e.orderItem)("product",e.product)("orderStatus",null==r.order?null:r.order.status)}}function dn(n,i){if(1&n&&(t.TgZ(0,"div",65)(1,"div",84)(2,"div",85)(3,"span",86),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"span",87),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"span",88),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"span",87),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"span",87),t._uU(16),t.ALo(17,"translate"),t.qZA()(),t.TgZ(18,"div",89),t.YNc(19,sn,1,3,"app-order-details-item",90),t.qZA()()()),2&n){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,6,"order-details-product")," "),t.xp6(3),t.Oqu(t.lcZ(8,8,"order-details-price")),t.xp6(3),t.hij(" ",t.lcZ(11,10,"order-details-quantity")," "),t.xp6(3),t.hij(" ",t.lcZ(14,12,"order-details-subtotal")," "),t.xp6(3),t.hij(" ",t.lcZ(17,14,"order-details-review")," "),t.xp6(3),t.Q6J("ngForOf",e.orderItems)}}const xt=function(){return["/member/my-orders/list"]};let cn=(()=>{class n extends ie.V{constructor(e,r,a,m,P,tt,et){super(),this.route=e,this.orderService=r,this.CheckoutService=a,this.router=m,this.toast=P,this.i18n=tt,this.location=et,this.$active=new k.x,this.orderInfoList=Y,this.openHoldUpModal=!1,this.onContactCustomerService=st=>{console.log(this.order,this.orderItems),st({imageName:"order.png",type:"custom",msgtype:{order:{title:"\u6211\u7684\u8ba2\u5355\uff1a",order_title:this.order?.sn,price:this.order?.amount,desc:this.orderItems?this.orderItems[0].product.name:"",img_url:this.orderItems?this.orderItems[0].orderItem.thumbnail:""}}})}}get isDelivery(){return this.orderItems?.some(e=>e.orderItem.isDelivery)}get displayOrderInfoKeys(){return this.filterDisplayKeys(this.order,this.orderInfoList)}get showReOrderBtn(){return Object.is(this.order?.status,y.i.Canceled)}get hasPaymentAmount(){return Number(this.order?.amountPaid)>0}get displayAddressInfoKeys(){return[{title:"order-details-reciever",value:this.order?.consignee},{title:"order-details-post-code",value:this.order?.zipCode},{title:"order-details-address",value:this.order?.areaName,additionalValue:this.order?.address},{title:"order-details-phone",value:this.order?.phone}]}ngOnInit(){this.route.paramMap.pipe((0,S.R)(this.$active)).subscribe(e=>{e.get("id")&&this.getOrderDetails(Number(e.get("id")))})}ngOnDestroy(){this.$active.next(),this.$active.complete()}get showAfterSalesBtn(){return this.order?.isAllowAfterSale}get showReceiveBtn(){return[y.i.PendingShipment,y.i.Shipped].includes(this?.order?.status)}get showPayBtn(){return[y.i.PendingPayment].includes(this?.order?.status)}get showCancelBtn(){return[y.i.PendingPayment,y.i.PendingReview].includes(this?.order?.status)&&![y.i.Canceled,y.i.Denied].includes(this?.order?.status)}get hasExpired(){return this.order?.expire&&W(this.order.expire).isBefore(W())&&Object.is(this.order.status,y.i.PendingPayment)}get showLateReceiptBtn(){return Object.is(this.order?.status,y.i.Shipped)&&1e3*this.order?.estimatedReceivingTime<(new Date).getTime()+2592e6&&1e3*this.order?.estimatedReceivingTime>(new Date).getTime()}LateReceivecount(){const e=W(1e3*this.order?.estimatedReceivingTime).unix()-W().unix(),r=this.convertToDecimal(W.duration(e,"seconds").days()),a=this.convertToDecimal(W.duration(e,"seconds").hours());return this.convertToDecimal(W.duration(e,"seconds").minutes()),this.convertToDecimal(W.duration(e,"seconds").seconds()),`TYQOON\u4f1a\u5728${r}\u5929${a}\u5c0f\u65f6\u540e\u81ea\u52a8\u786e\u8ba4\u6536\u8d27`}cancellationOrder(){const e=this?.order?.id;this.orderService.cancellationOrder({orderId:e}).subscribe(r=>{0===r.code?(this.toastSuccess("\u53d6\u6d88\u6210\u529f"),this.location.back()):this.toastError(r.message)},r=>{this.toastError(r.message),console.error(r)}).add(()=>{})}convertToDecimal(e){return e<10&&(e=0+e.toString()),e}copied(e){this.toastSuccess(this.i18n.instant("order-button-copied"))}lateReceive(){const e=this?.order?.id;this.orderService.increaseReceivingTime({orderId:e}).pipe((0,S.R)(this.destroyStream$)).subscribe(r=>{console.log(r),0===r.code?(this.toastSuccess(this.i18n.instant("delaued-receipt-success-v1-1")),this.getOrderDetails(Number(this.order?.id))):this.toastError(r.message)},r=>{})}toastError(e){var r=this;return(0,N.Z)(function*(){yield r.presentToast({position:"bottom",message:e,icon:"alert-circle-outline",duration:1e3,color:"danger"})})()}toastSuccess(e){var r=this;return(0,N.Z)(function*(){yield r.presentToast({position:"bottom",message:e,duration:1e3,icon:"checkmark-circle-outline",color:"success"})})()}presentToast(e){var r=this;return(0,N.Z)(function*(){yield(yield r.toast.create(e)).present()})()}payment(){this.router.navigate(["/order/pay"],{queryParams:{orderId:this.order?.id}})}showConfirm(){this.openHoldUpModal=!0}confirmOrder(){this.orderService.confirmReceipt({orderId:this.order?.id}).subscribe(()=>{this.router.navigate(["/member/my-orders/list"])},e=>{this.toastError(e.message),console.error(e)}).add(()=>{})}getExpress(e){const r=this.order?.id,a=Array.from(new Set(e.reduce((m,P)=>m.concat(P.expressNum),[])));console.log(a,r),this.expressNumData=[],a.forEach(m=>{this.CheckoutService.getExpress(r,m).pipe((0,S.R)(this.destroyStream$)).subscribe(P=>{this.expressNumData=this.expressNumData.concat(...P.data.map(tt=>({image:e.filter(et=>et.expressNum.includes(m)).map(et=>et.orderItemImg),item:tt,itemsTraces:JSON.parse(tt.traces)})))},P=>{console.error(P)})})}reOrder(){this.router.navigate(["/order/confirm"],{queryParams:(0,ot.Jc)([{storeId:this.order?.storeId?.toString(),productOrder:this.orderItems.map(e=>({skuId:(e.orderItem.skuId||"").toString(),cover:e.orderItem.thumbnail||"",quantity:e.orderItem.quantity,productName:e.orderItem.name}))}])})}afterSales(){this.router.navigate(["/member/aftersales/apply"],{queryParams:{orderId:this.order.id,orderSn:this.order.sn}})}getOrderDetails(e){this.orderService.getOrderDetails({orderId:e}).pipe((0,S.R)(this.$active)).subscribe(r=>{r&&(this.order=r.orders,this.orderItems=r.item,console.log(r.item),this.expressItems=r.item.filter(a=>a.expressNum&&a.expressNum.length>0).map(a=>({orderItemImg:a.orderItem.thumbnail,expressNum:a.expressNum})),console.log(this.expressItems),this.expressItems.length>0&&this.getExpress(this.expressItems))})}filterDisplayKeys(e,r){return Object.entries(r).reduce((a,[m,P])=>P.filter?(P.filter(e[m])&&a.push(m),a):((0,ot.le)(e[m])||a.push(m),a),[])}getOrderInfoValue(e){const r=this.order?(0,ot.sF)(e)(this.order):null;return""===r||(0,ot.le)(r)?"-":r}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz),t.Y36(I.p),t.Y36(ae.Z),t.Y36(p.F0),t.Y36(u.yF),t.Y36(M.sK),t.Y36(o.Ye))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order-details"]],features:[t._Bn([o.H9]),t.qOj],decls:27,vars:23,consts:[[1,"px-3","lg:px-0","flex","order-details","flex-col","mt-3","md:mt-0"],[1,"order-details-header","flex","w-full","items-center"],[1,"cursor-pointer","h-fit","pt-1","md:pb-1","md:bg-zinc-300","rounded-md","md:pl-2","pr-2","mr-2","md:mr-4","flex","items-center",3,"routerLink"],[1,"back-icon"],[1,"ml-2","text-sm","font-bold","text-zinc-600","hidden","md:block"],[1,"breadcrumb","items-center","mr-4","hidden","md:flex"],[3,"routerLink"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6","text-gray-400"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],[1,"text-2xl","mt-px","font-semi-bold","flex"],[1,"button-pane"],["class","text-center font-medium text-sm md:text-base rounded-xl text-white py-1.5 px-3 md:px-6 flex  ml-2 bg-gradient-primary-1 hover:bg-gradient-primary",3,"click",4,"ngIf"],["class","text-center font-medium text-sm md:text-base rounded-xl text-white py-1.5 px-3 md:px-6 ml-2 flex bg-gradient-primary-1 hover:bg-gradient-primary",3,"click",4,"ngIf"],["id","open-popover","class","text-center font-medium text-sm md:text-base rounded-xl text-white py-1.5 px-3 md:px-6 ml-2 flex bg-gradient-primary-1 hover:bg-gradient-primary",3,"click",4,"ngIf"],["class","content-card flex w-full",4,"ngIf"],["class","order-items-card mt-6 p-3.5 sm:p-4 bg-white rounded-md",4,"ngIf"],[3,"isOpen","isOpenChange","confirm"],[1,"text-center","font-medium","text-sm","md:text-base","rounded-xl","text-white","py-1.5","px-3","md:px-6","flex","ml-2","bg-gradient-primary-1","hover:bg-gradient-primary",3,"click"],[1,"text-center","font-medium","text-sm","md:text-base","rounded-xl","text-white","py-1.5","px-3","md:px-6","ml-2","flex","bg-gradient-primary-1","hover:bg-gradient-primary",3,"click"],["id","open-popover",1,"text-center","font-medium","text-sm","md:text-base","rounded-xl","text-white","py-1.5","px-3","md:px-6","ml-2","flex","bg-gradient-primary-1","hover:bg-gradient-primary",3,"click"],[1,"content-card","flex","w-full"],[1,"content-card-header","w-full","pt-3","sm:pt-4","pb-3","px-3.5","sm:px-4","gap-3","sm:gap-5","flex","items-center","border-b","border-slate-100","text-neutral-500","font-medium"],["class","flex items-center",3,"status",4,"ngIf"],[1,"gap-0","sm:gap-2","flex-col","sm:flex-row","items-center","hidden","lg:flex"],[1,"border","rounded-md","px-4","py-1","!border-primary","text-primary"],[1,"flex","items-center",3,"appCopying","copied"],[1,"h-5","w-5","block"],[1,"ml-auto","-mt-0.5","flex","flex-col"],[1,"text-xs","text-gray-300"],[1,"text-xl","font-semibold","text-black"],[1,"content-card-header","w-full","pt-3","sm:pt-4","pb-3","px-3.5","sm:px-4","gap-3","sm:gap-5","flex","items-center","border-slate-100","text-neutral-500","font-medium"],["class","flex items-center",4,"ngIf"],[1,"content-card-body"],[1,"flex","gap-2","lg:hidden","mb-8"],[1,"border","rounded-md","px-4","py-1","!border-primary","text-primary","text-sm"],[1,"flex","w-full","justify-between","flex-col-reverse","sm:flex-row"],[1,"order-info"],[1,"order-main-details"],[1,"sub-title","mb-4"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-x-16","gap-y-1","lg:gap-y-0"],["class","flex space-x-2 lg:flex-col 2xl:flex-row lg:py-1 2xl:py-0",4,"ngFor","ngForOf"],["class","delivery-info mt-8",4,"ngIf"],[1,"price-info","mb-6","2xl:mb-0","h-fit","p-6","text-center","sm:text-left"],[1,"flex","flex-col","mx-auto","justify-between","space-y-5"],[1,"flex","flex-col","font-bold"],[1,"opacity-60","font-medium","leading-4","text-sm"],[1,"letter-tight","text-2xl",3,"ngClass"],[1,"flex","flex-col","font-bold","border-b","pb-4"],[1,"letter-tight","text-gray-500","text-2xl"],[1,"opacity-60","font-medium","leading-4"],[1,"letter-tight","text-black","text-3xl","mt-1"],[1,"flex","items-center",3,"status"],[1,"flex","ml-0","items-center",3,"click"],["src","/assets/images/contact-support.png","alt","Contact Support",1,"h-6","w-6"],[1,"flex","items-center"],[1,"flex","space-x-2","lg:flex-col","2xl:flex-row","lg:py-1","2xl:py-0"],[1,"info-key","font-medium","py-1"],[1,"info-value","font-medium",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"delivery-info","mt-8"],["class","flex space-x-2",4,"ngFor","ngForOf"],[1,"flex","space-x-2"],[1,"info-value","font-medium"],[4,"ngIf"],[1,"order-items-card","mt-6","p-3.5","sm:p-4","bg-white","rounded-md"],[1,"tracker",2,"padding-top","0px"],["class","good",4,"ngFor","ngForOf"],[1,"good"],[1,"express-data"],[1,"express-data__wrap"],[1,"img-container"],["alt","Good Cover",3,"src",4,"ngFor","ngForOf"],[1,"express-data__content"],[1,"express-data__traces"],["class","express-data__traces-item",4,"ngFor","ngForOf"],["alt","Good Cover",3,"src"],[1,"express-data__traces-item"],[1,"accept-time"],[1,"circle"],[3,"class","action",4,"ngIf"],["class","circle-elem",4,"ngIf"],[1,"accept-info"],[1,"circle-elem"],[1,"flex","w-full","justify-between","flex-col"],[1,"table-header","py-4","px-2","rounded-lg","grid-cols-12","font-medium","hidden","lg:grid"],[1,"col-span-5"],[1,"col-span-2"],[1,"col-span-1"],[1,"order-items"],[3,"orderItem","product","orderStatus",4,"ngFor","ngForOf"],[3,"orderItem","product","orderStatus"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t._UZ(3,"app-chevron-right-icon",3),t.TgZ(4,"span",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",5)(8,"a",6),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.O4$(),t.TgZ(11,"svg",7),t._UZ(12,"path",8),t.qZA()(),t.kcU(),t.TgZ(13,"h3",9),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"div",10),t.YNc(17,Ue,3,3,"button",11),t.YNc(18,Ne,3,3,"button",11),t.YNc(19,Je,3,3,"button",12),t.YNc(20,Ye,3,3,"button",12),t.YNc(21,Fe,3,3,"button",11),t.YNc(22,Ee,3,3,"button",13),t.qZA()(),t.YNc(23,Xe,57,36,"div",14),t.YNc(24,an,6,4,"div",15),t.YNc(25,dn,20,16,"div",15),t.qZA(),t.TgZ(26,"app-order-hold-up",16),t.NdJ("isOpenChange",function(m){return r.openHoldUpModal=m})("confirm",function(){return r.confirmOrder()}),t.qZA()),2&e&&(t.xp6(2),t.Q6J("routerLink",t.DdM(21,xt)),t.xp6(3),t.hij(" ",t.lcZ(6,15,"game-go-back")," "),t.xp6(3),t.Q6J("routerLink",t.DdM(22,xt)),t.xp6(1),t.hij(" ",t.lcZ(10,17,"account-menu-title-info")," "),t.xp6(5),t.hij(" ",t.lcZ(15,19,"order-details-heading")," "),t.xp6(3),t.Q6J("ngIf",r.showReOrderBtn),t.xp6(1),t.Q6J("ngIf",r.showAfterSalesBtn),t.xp6(1),t.Q6J("ngIf",r.showLateReceiptBtn),t.xp6(1),t.Q6J("ngIf",r.showReceiveBtn),t.xp6(1),t.Q6J("ngIf",r.showPayBtn&&!r.hasExpired),t.xp6(1),t.Q6J("ngIf",r.showCancelBtn),t.xp6(1),t.Q6J("ngIf",r.order),t.xp6(1),t.Q6J("ngIf",r.expressNumData),t.xp6(1),t.Q6J("ngIf",r.orderItems),t.xp6(1),t.Q6J("isOpen",r.openHoldUpModal))},dependencies:[o.mk,o.sg,o.O5,o.RF,o.n9,o.ED,u.Fo,j.Q,se.B,z.p,E.M,p.yS,ct,ke,Le,o.H9,o.uU,M.X$],styles:['.tracker[_ngcontent-%COMP%]{padding-top:100px}.button-pane[_ngcontent-%COMP%]{display:flex;margin-left:auto}.good[_ngcontent-%COMP%]:not(:last-child){margin-bottom:50px}.express-data[_ngcontent-%COMP%]{display:flex;align-items:flex-start}@media (max-width: 1024px){.express-data[_ngcontent-%COMP%]{flex-direction:column}}.express-data__wrap[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-right:24px}@media (max-width: 1024px){.express-data__wrap[_ngcontent-%COMP%]{margin-right:0;margin-bottom:16px;align-self:stretch;text-align:right}}.express-data__wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;height:auto;display:block}.express-data__content[_ngcontent-%COMP%]{padding-left:8px;padding-top:16px}.express-data__content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap}@media (max-width: 1024px){.express-data__content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{align-items:flex-end;flex-direction:column;margin-left:10px}}.express-data__traces[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse}.express-data__traces-item[_ngcontent-%COMP%]{display:flex;align-items:stretch}.express-data__traces-item[_ngcontent-%COMP%]:first-child   .circle[_ngcontent-%COMP%]:before{bottom:8px}.express-data__traces-item[_ngcontent-%COMP%]:last-child   .circle[_ngcontent-%COMP%]:before{top:8px}.express-data__traces[_ngcontent-%COMP%]   .accept-time[_ngcontent-%COMP%]{margin-right:10px}.express-data__traces[_ngcontent-%COMP%]   .accept-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap}.express-data__traces[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{position:relative;min-width:20px;max-width:20px;margin-right:10px}.express-data__traces[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;z-index:2}.express-data__traces[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:50%;transform:translate(-50%);bottom:0;width:1px;height:100%;background:gray;z-index:1}.express-data__traces[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .circle-elem[_ngcontent-%COMP%]{font-size:10px;line-height:10px;display:flex;align-items:flex-start;padding-top:6.5px;color:gray;background-color:unset}.express-data__traces[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{background-size:80%;background-position:center;background-repeat:no-repeat;min-width:20px;min-height:20px;max-height:20px;max-width:20px;background-color:gray;border-radius:100%}.express-data__traces[_ngcontent-%COMP%]   .accept-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.express-data__traces[_ngcontent-%COMP%]   .accept-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-word}.order-details[_ngcontent-%COMP%]{background-color:#f3f3f3}.order-details[_ngcontent-%COMP%]   .order-details-header[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]{display:block;height:auto;width:.75rem;--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));transition-duration:75ms;transition-timing-function:cubic-bezier(.4,0,.2,1)}@media (min-width: 768px){.order-details[_ngcontent-%COMP%]   .order-details-header[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]{width:.375rem}}.order-details[_ngcontent-%COMP%]   .order-details-header[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]{color:#919191}@media only screen and (min-width: 768px){.order-details[_ngcontent-%COMP%]   .order-details-header[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]{color:#52525b}}.order-details[_ngcontent-%COMP%]   .primart-btn[_ngcontent-%COMP%]{z-index:9999;color:#fff!important;border-color:#fb8811;background:#fb8811;text-shadow:0 -1px 0 rgba(0,0,0,.12);box-shadow:0 2px #0000000a;padding:5px 12px;border-radius:3px;font-size:10px;cursor:pointer}.order-details[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]{margin-top:1rem;display:flex;flex-direction:column;align-items:center;border-radius:.375rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding-bottom:1rem}.order-details[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .content-card-body[_ngcontent-%COMP%]{width:100%;padding:.875rem}@media (min-width: 640px){.order-details[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .content-card-body[_ngcontent-%COMP%]{padding:1rem}}.order-details[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .content-card-body[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem;font-weight:500}.order-details[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .content-card-body[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]{width:100%;border-radius:.5rem;border-width:1px;border-color:#eaeaea;background-color:#f8f8f8}@media only screen and (min-width: 641px){.order-details[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .content-card-body[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]{max-width:-moz-fit-content;max-width:fit-content;min-width:180px}}.order-details[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .content-card-body[_ngcontent-%COMP%]   .info-key[_ngcontent-%COMP%]{color:#919191;width:140px}@media only screen and (min-width: 1440px){.order-details[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .content-card-body[_ngcontent-%COMP%]   .info-key[_ngcontent-%COMP%]{width:150px}}.order-details[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .content-card-body[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{margin-left:0;height:-moz-fit-content;height:fit-content;width:100%;border-radius:.25rem;padding:.25rem .75rem}@media (min-width: 1024px){.order-details[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .content-card-body[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}@media (min-width: 1440px){.order-details[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .content-card-body[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{padding-left:.75rem;padding-right:.75rem}}.order-details[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .content-card-body[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{max-width:180px}.order-details[_ngcontent-%COMP%]   .order-items-card[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{background-color:#fafafa}']}),n})();var ln=s(16424);const pn=[{path:"list",component:oe},{path:"details/:id",component:cn}];let mn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[o.ez,C.u5,C.UX,u.Pc,w.kz,M.aw,L.m,ln.g,p.Bz.forChild(pn),pt.t]}),n})()},28137:(B,J,s)=>{"use strict";s.d(J,{I:()=>Y});var o=s(15861),p=s(94650),u=s(49808),M=s(82722),w=s(5565),C=s(45329),L=s(94128),_=s(95133),k=s(36895),S=s(63225),$=s(60753);function Q(t,I){}function g(t,I){if(1&t){const x=p.EpF();p.TgZ(0,"app-require-login-modal",3),p.NdJ("isOpenChange",function(R){p.CHM(x);const b=p.oxw(2);return p.KtG(b.openRequireLoginModal=R)}),p.qZA()}if(2&t){const x=p.oxw(2);p.Q6J("isOpen",x.openRequireLoginModal)}}function y(t,I){if(1&t&&(p.ynx(0),p.YNc(1,g,1,1,"app-require-login-modal",2),p.BQk()),2&t){const x=p.oxw();p.xp6(1),p.Q6J("ngIf",x.openRequireLoginModal)}}const Z=function(t,I,x){return{method:t,isLoading:I,isOnCart:x}};let Y=(()=>{class t extends w.V{constructor(x,U,R){var b;super(),b=this,this.userService=x,this.cartService=U,this.toast=R,this.openRequireLoginModal=!1,this.isLoading=!1,this.isOnCart=!1,this.cartList=[],this.handleClick=(0,o.Z)(function*(){if(b.userService.isLogin()){if(b.sku)try{b.isLoading=!0;const T=b.cartService.cartList?.find(f=>f.skuId===b.sku?.id),K=T?T.quantity:0;yield(0,u.n)(b.cartService.addCartItem(b.sku.id,b.quantity+K)),yield(0,u.n)(b.cartService.getCartItem()),b.isLoading=!1,b.presentToast({position:"bottom",message:"\u6dfb\u52a0\u6210\u529f",duration:1e3,icon:"checkmark-circle-outline",color:"success"})}catch(T){b.isLoading=!1,b.presentToast({position:"bottom",message:T?.message,icon:"alert-circle-outline",duration:1e3,color:"danger"})}}else b.openRequireLoginModal=!0})}ngOnInit(){this.cartService.cartList$.pipe((0,M.R)(this.destroyStream$)).subscribe(x=>{this.cartList=x,this.isOnCart=this.cartList?.some(U=>U.productId===this.sku?.productId)||!1})}ngOnChanges(x){x.sku.currentValue!==x.sku.previousValue&&(this.isOnCart=this.cartList?.some(U=>U.productId===this.sku?.productId)||!1)}presentToast(x){var U=this;return(0,o.Z)(function*(){yield(yield U.toast.create(x)).present()})()}}return t.\u0275fac=function(x){return new(x||t)(p.Y36(C.K),p.Y36(L.N),p.Y36(_.yF))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-add-to-cart"]],contentQueries:function(x,U,R){if(1&x&&p.Suo(R,p.Rgc,5),2&x){let b;p.iGM(b=p.CRH())&&(U.templateRef=b.first)}},inputs:{sku:"sku",quantity:"quantity"},features:[p.qOj,p.TTD],decls:3,vars:6,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"isBrowser"],[3,"isOpen","isOpenChange",4,"ngIf"],[3,"isOpen","isOpenChange"]],template:function(x,U){1&x&&(p.ynx(0),p.YNc(1,Q,0,0,"ng-template",0),p.YNc(2,y,2,1,"ng-container",1),p.BQk()),2&x&&(p.xp6(1),p.Q6J("ngTemplateOutlet",U.templateRef)("ngTemplateOutletContext",p.kEZ(2,Z,U.handleClick,U.isLoading,U.isOnCart)))},dependencies:[k.O5,k.tP,S.E,$.C],encapsulation:2}),t})()},75073:(B,J,s)=>{"use strict";s.d(J,{z:()=>p});var o=s(94650);let p=(()=>{class u{constructor(){this.fileOver=!1,this.fileDropped=new o.vpe}onDragOver(w){w.preventDefault(),w.stopPropagation(),this.fileOver=!0}onDragLeave(w){w.preventDefault(),w.stopPropagation(),this.fileOver=!1}onDrop(w){w.preventDefault(),w.stopPropagation(),this.fileOver=!1,w.dataTransfer&&this.fileDropped.emit(w.dataTransfer.files)}}return u.\u0275fac=function(w){return new(w||u)},u.\u0275dir=o.lG2({type:u,selectors:[["","appDragAndDrop",""]],hostVars:2,hostBindings:function(w,C){1&w&&o.NdJ("dragover",function(_){return C.onDragOver(_)})("dragleave",function(_){return C.onDragLeave(_)})("drop",function(_){return C.onDrop(_)}),2&w&&o.ekj("fileover",C.fileOver)},outputs:{fileDropped:"fileDropped"}}),u})()},24719:(B,J,s)=>{"use strict";s.d(J,{q:()=>w});var o=s(94650),p=s(45329);let w=(()=>{class C{constructor(_){this.userService=_}handleClick(_){if(!this.userService.isLogin())return;let k=document.querySelector(this.targetSelector);if(!k||!this.flyProduct&&!this.thumbnail)return;let Q,S=_.clientY-25,$=_.clientX-25;Q=this.flyProduct?this.flyProduct.productImages instanceof Object?this.flyProduct.productImages[0].thumbnail:JSON.parse(this.flyProduct.productImages)[0].thumbnail:this.thumbnail;var g=document.createElement("div");g.style.backgroundImage=`url(${Q})`,g.style.backgroundSize="cover",g.style.width="50px",g.style.height="50px",g.style.borderRadius="100%",g.style.position="fixed",g.style.zIndex="100",g.style.transformOrigin="center bottom",g.style.transform="scale(1)",g.style.boxShadow="0px 3px 5px 2px rgba(0,0,0,0.2)",g.style.top=`${S}px`,g.style.left=`${$}px`,g.style.opacity="1",g.style.transition="\n      all 0.55s ease,\n      top 0.85s ease,\n      left 0.55s ease,\n      transform 0.55s ease 0.54s\n    ",document.body.appendChild(g),g.style.top=`\n      ${k.getBoundingClientRect().top+k.offsetHeight-16}px\n    `,g.style.left=`\n      ${k.getBoundingClientRect().left+k.offsetWidth-16}px\n    `,g.style.height="1rem",g.style.width="1rem",g.style.transform="scale(0)",setTimeout(()=>{g.remove()},825)}}return C.\u0275fac=function(_){return new(_||C)(o.Y36(p.K))},C.\u0275dir=o.lG2({type:C,selectors:[["","flyToCart",""]],hostBindings:function(_,k){1&_&&o.NdJ("click",function($){return k.handleClick($)})},inputs:{flyProduct:"flyProduct",thumbnail:"thumbnail",targetSelector:"targetSelector"}}),C})()},71764:function(B){B.exports=function(){"use strict";var s=6e4,o=36e5,p="millisecond",u="second",M="minute",w="hour",C="day",L="week",_="month",k="quarter",S="year",$="date",Q="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Z={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(f){var l=["th","st","nd","rd"],d=f%100;return"["+f+(l[(d-20)%10]||l[d]||l[0])+"]"}},Y=function(f,l,d){var h=String(f);return!h||h.length>=l?f:""+Array(l+1-h.length).join(d)+f},t={s:Y,z:function(f){var l=-f.utcOffset(),d=Math.abs(l),h=Math.floor(d/60),c=d%60;return(l<=0?"+":"-")+Y(h,2,"0")+":"+Y(c,2,"0")},m:function f(l,d){if(l.date()<d.date())return-f(d,l);var h=12*(d.year()-l.year())+(d.month()-l.month()),c=l.clone().add(h,_),O=d-c<0,v=l.clone().add(h+(O?-1:1),_);return+(-(h+(d-c)/(O?c-v:v-c))||0)},a:function(f){return f<0?Math.ceil(f)||0:Math.floor(f)},p:function(f){return{M:_,y:S,w:L,d:C,D:$,h:w,m:M,s:u,ms:p,Q:k}[f]||String(f||"").toLowerCase().replace(/s$/,"")},u:function(f){return void 0===f}},I="en",x={};x[I]=Z;var U=function(f){return f instanceof K},R=function f(l,d,h){var c;if(!l)return I;if("string"==typeof l){var O=l.toLowerCase();x[O]&&(c=O),d&&(x[O]=d,c=O);var v=l.split("-");if(!c&&v.length>1)return f(v[0])}else{var A=l.name;x[A]=l,c=A}return!h&&c&&(I=c),c||!h&&I},b=function(f,l){if(U(f))return f.clone();var d="object"==typeof l?l:{};return d.date=f,d.args=arguments,new K(d)},T=t;T.l=R,T.i=U,T.w=function(f,l){return b(f,{locale:l.$L,utc:l.$u,x:l.$x,$offset:l.$offset})};var K=function(){function f(d){this.$L=R(d.locale,null,!0),this.parse(d)}var l=f.prototype;return l.parse=function(d){this.$d=function(h){var c=h.date,O=h.utc;if(null===c)return new Date(NaN);if(T.u(c))return new Date;if(c instanceof Date)return new Date(c);if("string"==typeof c&&!/Z$/i.test(c)){var v=c.match(g);if(v){var A=v[2]-1||0,q=(v[7]||"0").substring(0,3);return O?new Date(Date.UTC(v[1],A,v[3]||1,v[4]||0,v[5]||0,v[6]||0,q)):new Date(v[1],A,v[3]||1,v[4]||0,v[5]||0,v[6]||0,q)}}return new Date(c)}(d),this.$x=d.x||{},this.init()},l.init=function(){var d=this.$d;this.$y=d.getFullYear(),this.$M=d.getMonth(),this.$D=d.getDate(),this.$W=d.getDay(),this.$H=d.getHours(),this.$m=d.getMinutes(),this.$s=d.getSeconds(),this.$ms=d.getMilliseconds()},l.$utils=function(){return T},l.isValid=function(){return this.$d.toString()!==Q},l.isSame=function(d,h){var c=b(d);return this.startOf(h)<=c&&c<=this.endOf(h)},l.isAfter=function(d,h){return b(d)<this.startOf(h)},l.isBefore=function(d,h){return this.endOf(h)<b(d)},l.$g=function(d,h,c){return T.u(d)?this[h]:this.set(c,d)},l.unix=function(){return Math.floor(this.valueOf()/1e3)},l.valueOf=function(){return this.$d.getTime()},l.startOf=function(d,h){var c=this,O=!!T.u(h)||h,v=T.p(d),A=function(G,E){var H=T.w(c.$u?Date.UTC(c.$y,E,G):new Date(c.$y,E,G),c);return O?H:H.endOf(C)},q=function(G,E){return T.w(c.toDate()[G].apply(c.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(E)),c)},D=this.$W,F=this.$M,N=this.$D,j="set"+(this.$u?"UTC":"");switch(v){case S:return O?A(1,0):A(31,11);case _:return O?A(1,F):A(0,F+1);case L:var z=this.$locale().weekStart||0,V=(D<z?D+7:D)-z;return A(O?N-V:N+(6-V),F);case C:case $:return q(j+"Hours",0);case w:return q(j+"Minutes",1);case M:return q(j+"Seconds",2);case u:return q(j+"Milliseconds",3);default:return this.clone()}},l.endOf=function(d){return this.startOf(d,!1)},l.$set=function(d,h){var c,O=T.p(d),v="set"+(this.$u?"UTC":""),A=(c={},c[C]=v+"Date",c[$]=v+"Date",c[_]=v+"Month",c[S]=v+"FullYear",c[w]=v+"Hours",c[M]=v+"Minutes",c[u]=v+"Seconds",c[p]=v+"Milliseconds",c)[O],q=O===C?this.$D+(h-this.$W):h;if(O===_||O===S){var D=this.clone().set($,1);D.$d[A](q),D.init(),this.$d=D.set($,Math.min(this.$D,D.daysInMonth())).$d}else A&&this.$d[A](q);return this.init(),this},l.set=function(d,h){return this.clone().$set(d,h)},l.get=function(d){return this[T.p(d)]()},l.add=function(d,h){var c,O=this;d=Number(d);var v=T.p(h),A=function(F){var N=b(O);return T.w(N.date(N.date()+Math.round(F*d)),O)};if(v===_)return this.set(_,this.$M+d);if(v===S)return this.set(S,this.$y+d);if(v===C)return A(1);if(v===L)return A(7);var q=(c={},c[M]=s,c[w]=o,c[u]=1e3,c)[v]||1,D=this.$d.getTime()+d*q;return T.w(D,this)},l.subtract=function(d,h){return this.add(-1*d,h)},l.format=function(d){var h=this,c=this.$locale();if(!this.isValid())return c.invalidDate||Q;var O=d||"YYYY-MM-DDTHH:mm:ssZ",v=T.z(this),A=this.$H,q=this.$m,D=this.$M,F=c.weekdays,N=c.months,j=function(E,H,rt,X){return E&&(E[H]||E(h,O))||rt[H].slice(0,X)},z=function(E){return T.s(A%12||12,E,"0")},V=c.meridiem||function(E,H,rt){var X=E<12?"AM":"PM";return rt?X.toLowerCase():X},G={YY:String(this.$y).slice(-2),YYYY:this.$y,M:D+1,MM:T.s(D+1,2,"0"),MMM:j(c.monthsShort,D,N,3),MMMM:j(N,D),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:j(c.weekdaysMin,this.$W,F,2),ddd:j(c.weekdaysShort,this.$W,F,3),dddd:F[this.$W],H:String(A),HH:T.s(A,2,"0"),h:z(1),hh:z(2),a:V(A,q,!0),A:V(A,q,!1),m:String(q),mm:T.s(q,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:v};return O.replace(y,function(E,H){return H||G[E]||v.replace(":","")})},l.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},l.diff=function(d,h,c){var O,v=T.p(h),A=b(d),q=(A.utcOffset()-this.utcOffset())*s,D=this-A,F=T.m(this,A);return F=(O={},O[S]=F/12,O[_]=F,O[k]=F/3,O[L]=(D-q)/6048e5,O[C]=(D-q)/864e5,O[w]=D/o,O[M]=D/s,O[u]=D/1e3,O)[v]||D,c?F:T.a(F)},l.daysInMonth=function(){return this.endOf(_).$D},l.$locale=function(){return x[this.$L]},l.locale=function(d,h){if(!d)return this.$L;var c=this.clone(),O=R(d,h,!0);return O&&(c.$L=O),c},l.clone=function(){return T.w(this.$d,this)},l.toDate=function(){return new Date(this.valueOf())},l.toJSON=function(){return this.isValid()?this.toISOString():null},l.toISOString=function(){return this.$d.toISOString()},l.toString=function(){return this.$d.toUTCString()},f}(),nt=K.prototype;return b.prototype=nt,[["$ms",p],["$s",u],["$m",M],["$H",w],["$W",C],["$M",_],["$y",S],["$D",$]].forEach(function(f){nt[f[1]]=function(l){return this.$g(l,f[0],f[1])}}),b.extend=function(f,l){return f.$i||(f(l,K,b),f.$i=!0),b},b.locale=R,b.isDayjs=U,b.unix=function(f){return b(1e3*f)},b.en=x[I],b.Ls=x,b.p={},b}()}}]);