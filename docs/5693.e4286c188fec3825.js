"use strict";(self.webpackChunkangular_tyqoon_client=self.webpackChunkangular_tyqoon_client||[]).push([[5693],{85693:(at,Y,c)=>{c.r(Y),c.d(Y,{ProductDetailModule:()=>oc});var l=c(36895),T=c(81212),d=c(95133),h=c(54463),p=c(44466),_=c(15861),k=c(68879),X=c(94464),t=c(94650),Q=c(63225),b=c(99485);function S(n,r){if(1&n&&t._UZ(0,"img",9),2&n){const e=t.oxw().$implicit;t.Q6J("src",e,t.LSH)}}function tt(n,r){1&n&&t.YNc(0,S,1,1,"ng-template",8)}function q(n,r){if(1&n&&(t.TgZ(0,"button",1),t._uU(1," \u2715 "),t.qZA(),t.TgZ(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"swiper",4,5),t.YNc(6,tt,1,0,null,6),t.qZA(),t._UZ(7,"div",7),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("config",e.slideOpts),t.xp6(2),t.Q6J("ngForOf",e.images)}}k.ZP.use([k.W_,k.pt,k.N1,k.tl,k.LW,k.LG,X.L$]);let z=(()=>{class n{constructor(e){this.platformId=e,this.images=[],this.initialSlide=0,this.isOpenChange=new t.vpe,this.navigation={prevEl:".lightbox-prev-btn",nextEl:".lightbox-next-btn"},this.slideOpts={slidesPerView:"auto",speed:400,navigation:this.navigation},this.activeIndex=0}ngOnInit(){this.slideOpts.initialSlide=this.initialSlide}onClick(e){const o=document.querySelectorAll(".lightbox-next-btn, .lightbox-prev-btn, .lightbox-image");for(let i=0;i<o.length;i++)if(!o[i]||o[i].contains(e.target))return;this.modal.dismiss()}handleKeyboardEvent(e){if(this.isOpen)switch(e.key){case"ArrowLeft":this.swiper?.swiperRef.slidePrev();break;case"ArrowRight":this.swiper?.swiperRef.slideNext()}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Lbi))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-images-lightbox"]],viewQuery:function(e,o){if(1&e&&(t.Gf(d.ki,5),t.Gf(b.nF,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.modal=i.first),t.iGM(i=t.CRH())&&(o.swiper=i.first)}},hostBindings:function(e,o){1&e&&t.NdJ("click",function(a){return o.onClick(a)},!1,t.evT)("keydown",function(a){return o.handleKeyboardEvent(a)},!1,t.evT)},inputs:{productDetail:"productDetail",images:"images",initialSlide:"initialSlide",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},decls:2,vars:1,consts:[[3,"isOpen","didDismiss"],[1,"absolute","top-0","right-0","text-5xl","z-10","mt-2","mr-2","text-primary"],[1,"light-box-modal","flex","items-center"],[1,"swiper-button-prev","lightbox-prev-btn","mr-2","flex-shrink-0"],[1,"big-swiper","flex-1","overflow-hidden",3,"config"],["swiper",""],[4,"ngFor","ngForOf"],[1,"swiper-button-next","lightbox-next-btn","ml-2","flex-shrink-0"],["swiperSlide",""],[1,"lightbox-image",3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-modal",0),t.NdJ("didDismiss",function(){return o.isOpenChange.emit(!1)}),t.YNc(1,q,8,2,"ng-template"),t.qZA()),2&e&&t.Q6J("isOpen",o.isOpen)},dependencies:[l.sg,d.ki,b.nF,b.YC],styles:["ion-modal[_ngcontent-%COMP%]{--backdrop-opacity: .8;--height: 100%}.light-box-modal[_ngcontent-%COMP%]{height:100%}swiper[_ngcontent-%COMP%]{height:100%;width:100vw}swiper[_ngcontent-%COMP%]     .swiper-wrapper{align-items:center}swiper[_ngcontent-%COMP%]     .swiper-slide{height:600px;max-height:90vh}.swiper-button-next.lightbox-next-btn[_ngcontent-%COMP%], .swiper-button-prev.lightbox-prev-btn[_ngcontent-%COMP%]{pointer-events:auto;--swiper-navigation-color: #ff7e18;background-image:none!important;width:calc(var(--swiper-navigation-size) / 44 * 27);height:var(--swiper-navigation-size);margin-top:0!important;transform:translateY(-50%)}@media (min-width: 1024px){.swiper-button-next.lightbox-next-btn[_ngcontent-%COMP%], .swiper-button-prev.lightbox-prev-btn[_ngcontent-%COMP%]{--swiper-navigation-size: 70px}}.swiper-button-next.lightbox-next-btn.swiper-button-disabled[_ngcontent-%COMP%], .swiper-button-prev.lightbox-prev-btn.swiper-button-disabled[_ngcontent-%COMP%]{opacity:0}.swiper-button-prev.lightbox-prev-btn[_ngcontent-%COMP%]{padding:80px 80px 80px 20px;left:0}@media (min-width: 768px){.swiper-button-prev.lightbox-prev-btn[_ngcontent-%COMP%]{padding-left:80px}}@media (min-width: 1280px){.swiper-button-prev.lightbox-prev-btn[_ngcontent-%COMP%]{transform:translate(100%,-50%)}}@media (min-width: 1440px){.swiper-button-prev.lightbox-prev-btn[_ngcontent-%COMP%]{transform:translate(15vw,-50%)}}.swiper-button-next.lightbox-next-btn[_ngcontent-%COMP%]{padding:80px 20px 80px 80px;right:0}@media (min-width: 768px){.swiper-button-next.lightbox-next-btn[_ngcontent-%COMP%]{padding-right:80px}}@media (min-width: 1280px){.swiper-button-next.lightbox-next-btn[_ngcontent-%COMP%]{transform:translate(-100%,-50%)}}@media (min-width: 1440px){.swiper-button-next.lightbox-next-btn[_ngcontent-%COMP%]{transform:translate(calc(0px - 15vw),-50%)}}"]}),n})();const f=["largeSwiper"],A=["smallSwiper"];function B(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",12),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,a=t.oxw();return t.KtG(a.handleImageClick(i))}),t.TgZ(1,"div",13),t._UZ(2,"img",14),t.qZA()()}if(2&n){const e=t.oxw(),o=e.$implicit,i=e.index,a=t.oxw();t.xp6(2),t.Q6J("src",o.source,t.LSH)("alt",a.productDetail.name+" "+i)}}function D(n,r){1&n&&t.YNc(0,B,3,2,"ng-template",11)}const gt=function(n){return{active:n}};function Oe(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",15),t.NdJ("mouseenter",function(){t.CHM(e);const i=t.oxw().index,a=t.oxw();return t.KtG(a.handleSelect(i))})("click",function(){t.CHM(e);const i=t.oxw().index,a=t.oxw();return t.KtG(a.handleImageClick(i))}),t._UZ(1,"img",16),t.qZA()}if(2&n){const e=t.oxw(),o=e.index,i=e.$implicit,a=t.oxw();t.Q6J("ngClass",t.VKq(3,gt,a.activeIndex===o)),t.xp6(1),t.Q6J("src",i.source,t.LSH)("alt",a.productDetail.name+" "+o)}}function Me(n,r){1&n&&t.YNc(0,Oe,2,5,"ng-template",11)}function Ze(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-images-lightbox",18),t.NdJ("isOpenChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openLightbox=i)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("isOpen",e.openLightbox)("images",e.images)("initialSlide",e.lighboxSlideNumber)}}function ke(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Ze,1,3,"app-product-images-lightbox",17),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.openLightbox)}}const Ae=function(n){return{"glowing-active":n}};k.ZP.use([k.W_,k.pt,k.N1,k.tl,k.LW,k.LG,X.L$]);let Jt=(()=>{class n{constructor(){this.lighboxSlideNumber=0,this.openLightbox=!1,this.navigation={prevEl:".custom-prev-btn",nextEl:".custom-next-btn"},this.slideOpts={slidesPerView:"auto",speed:400},this.smallSwiperOpts={slidesPerView:"auto",speed:400,spaceBetween:10,navigation:this.navigation,autoplay:{delay:2e3,disableOnInteraction:!1,pauseOnMouseEnter:!0}},this.activeIndex=0}handleSelect(e){this.largeSwiper?.swiperRef.slideTo(e),this.smallSpwiper?.swiperRef.slideTo(e),this.activeIndex=e}handleSlideChange(e){var o=this;return(0,_.Z)(function*(){o.activeIndex=e[0].activeIndex||0,o.smallSpwiper?.swiperRef.slideTo(o.activeIndex)})()}handleImageClick(e){var o=this;return(0,_.Z)(function*(){o.lighboxSlideNumber=e,o.openLightbox=!0})()}get images(){return this.productDetail.productImages.map(e=>e.source)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-detail-images"]],viewQuery:function(e,o){if(1&e&&(t.Gf(f,5),t.Gf(A,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.largeSwiper=i.first),t.iGM(i=t.CRH())&&(o.smallSpwiper=i.first)}},inputs:{productDetail:"productDetail",glowing:"glowing"},decls:13,vars:7,consts:[[1,"glowing-container",3,"ngClass"],[1,"glowing-content","large-swiper","border","border-[#dddddd]","rounded-2xl","overflow-hidden",3,"config","activeIndexChange"],["largeSwiper",""],[4,"ngFor","ngForOf"],[1,"flex","justify-center"],[1,"flex","items-center","mt-3","max-w-7/12","max-w-full"],[1,"swiper-button-prev","custom-prev-btn","mr-2","flex-shrink-0"],[1,"small-swiper","flex-1","overflow-hidden",3,"config"],["smallSwiper",""],[1,"swiper-button-next","custom-next-btn","ml-2","flex-shrink-0"],[4,"isBrowser"],["swiperSlide",""],[1,"image-wrapper","relative","cursor-pointer",3,"click"],[1,"absolute","inset-0"],[1,"object-cover","object-center","!w-full","!h-full",3,"src","alt"],[1,"preview-wrapper","overflow-hidden","cursor-pointer",3,"ngClass","mouseenter","click"],[1,"object-contain","object-center","!w-full","!h-full",3,"src","alt"],[3,"isOpen","images","initialSlide","isOpenChange",4,"ngIf"],[3,"isOpen","images","initialSlide","isOpenChange"]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"swiper",1,2),t.NdJ("activeIndexChange",function(a){return o.handleSlideChange(a)}),t.YNc(4,D,1,0,null,3),t.qZA()(),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"div",6),t.TgZ(8,"swiper",7,8),t.YNc(10,Me,1,0,null,3),t.qZA(),t._UZ(11,"div",9),t.qZA()()(),t.YNc(12,ke,2,1,"ng-container",10)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(5,Ae,o.glowing)),t.xp6(1),t.Q6J("config",o.slideOpts),t.xp6(2),t.Q6J("ngForOf",o.productDetail.productImages),t.xp6(4),t.Q6J("config",o.smallSwiperOpts),t.xp6(2),t.Q6J("ngForOf",o.productDetail.productImages))},dependencies:[l.mk,l.sg,l.O5,Q.E,b.nF,b.YC,z],styles:['.large-swiper[_ngcontent-%COMP%]     .swiper-slide{width:100%!important;height:auto}.large-swiper[_ngcontent-%COMP%]     .swiper-wrapper{align-items:center}.large-swiper[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{width:100%;padding-top:100%}.small-swiper[_ngcontent-%COMP%]{height:40px}.small-swiper[_ngcontent-%COMP%]     .swiper-slide{width:auto!important}.preview-wrapper[_ngcontent-%COMP%]{width:40px;height:40px}.preview-wrapper.active[_ngcontent-%COMP%]{border-radius:.375rem;border-width:2px;--tw-border-opacity: 1;border-color:rgb(255 126 24 / var(--tw-border-opacity))}.custom-next-btn[_ngcontent-%COMP%], .custom-prev-btn[_ngcontent-%COMP%]{position:static;--swiper-navigation-color: #999;--swiper-pagination-color: #999;--swiper-navigation-size: 24px;margin-top:0;background-image:none!important;width:calc(var(--swiper-navigation-size) / 44 * 27);height:var(--swiper-navigation-size)}.glowing-container[_ngcontent-%COMP%]{position:relative;border-radius:1rem}.glowing-container.glowing-active[_ngcontent-%COMP%]{padding:2px;box-shadow:0 0 8px 3px #ffd80099;margin:2px}@media (min-width: 768px){.glowing-container.glowing-active[_ngcontent-%COMP%]{margin:3px}}.glowing-container.glowing-active[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;z-index:1;border-radius:inherit;border-radius:1rem;background:linear-gradient(to top,#f68104,#ffd800)}'],changeDetection:0}),n})();var P=c(82722),I=c(49808),Ie=c(24499),x=c(24837),ut=(()=>{return(n=ut||(ut={}))[n.ShopScoreTypeByAll=0]="ShopScoreTypeByAll",n[n.ShopScoreTypeByNice=1]="ShopScoreTypeByNice",n[n.ShopScoreTypeByAverage=2]="ShopScoreTypeByAverage",n[n.ShopScoreTypeByBad=3]="ShopScoreTypeByBad",ut;var n})(),vt=c(85898),Se=c(6104),Le=c(51304),st=c(35482),qt=c(80164),U=c(56889),F=c(94830),Nt=c(10118);const Be=["popover"],De=["mobileSticky"],Ue=["stickyReview"],Je=["productBiddingPageComp"];function qe(n,r){1&n&&t._UZ(0,"img",54)}function Ne(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",56),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t._UZ(1,"app-heart-animated",57),t.qZA()}if(2&n){const e=r.isDisabled,o=t.oxw(5);t.Q6J("disabled",e),t.xp6(1),t.Q6J("active",o.isFavorite)}}function Ee(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-favorite",55),t.NdJ("isBelongChange",function(i){t.CHM(e);const a=t.oxw(4);return t.KtG(a.handleFavoriteChange(i))}),t.YNc(1,Ne,2,2,"ng-template"),t.qZA()}if(2&n){const e=t.oxw(4);t.Q6J("product",e.productDetail)("skuId",null==e.selectedSku?null:e.selectedSku.id)}}function Qe(n,r){if(1&n&&(t.TgZ(0,"div",48,49)(2,"div",9),t._UZ(3,"app-product-detail-images",50),t.YNc(4,qe,1,0,"img",51),t.qZA(),t.TgZ(5,"div",52),t.YNc(6,Ee,2,2,"app-product-favorite",53),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(3),t.Q6J("glowing",e.productDetail.isSpecialSale)("productDetail",e.productDetail),t.xp6(1),t.Q6J("ngIf",e.productDetail.isSpecialSale),t.xp6(2),t.Q6J("ngIf",e.productDetail)}}function Fe(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",93)(1,"app-order-rating",94),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.scrollToScoreSection())}),t.qZA(),t.TgZ(2,"div",95),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.scrollToScoreSection())}),t._uU(3),t.qZA(),t.TgZ(4,"div",96),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.scrollToScoreSection())}),t._uU(5),t.ALo(6,"translate"),t.qZA()()}if(2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("stopEvent",!0)("rating",e.getReviewTotal.averageScore),t.xp6(2),t.hij("(",e.getReviewTotal.total,")"),t.xp6(2),t.AsE("",t.lcZ(6,5,"reviews-number-label"),": ",e.getReviewTotal.total,"")}}function Ye(n,r){if(1&n&&(t.TgZ(0,"div",97),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij(" ",t.lcZ(2,1,null==e.selectedSku?null:e.selectedSku.price)," ")}}function je(n,r){if(1&n&&(t.TgZ(0,"span",104),t._uU(1),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.hij("",null==e.selectedSku?null:e.selectedSku.exchangePoint," \u79ef\u5206 + ")}}function He(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",73),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",98),t._uU(5),t.ALo(6,"currency"),t.qZA(),t.TgZ(7,"div",99),t._uU(8),t.ALo(9,"translate"),t.TgZ(10,"div",100),t._uU(11," ? "),t.qZA()(),t.TgZ(12,"div",101),t.YNc(13,je,2,1,"span",75),t.TgZ(14,"div",76)(15,"strong",102),t._uU(16),t.ALo(17,"currency"),t.qZA(),t._UZ(18,"img",103),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.hij(" ",t.lcZ(3,5,"item-price-from-retailers"),": "),t.xp6(3),t.hij(" ",t.lcZ(6,7,null==e.selectedSku?null:e.selectedSku.price)," "),t.xp6(3),t.hij(" ",t.lcZ(9,9,"tqc-discount")," "),t.xp6(5),t.Q6J("ngIf",null==e.selectedSku?null:e.selectedSku.exchangePoint),t.xp6(3),t.hij("-",t.lcZ(17,11,null==e.selectedSku?null:e.selectedSku.cashBack)," ")}}function Re(n,r){if(1&n&&(t.TgZ(0,"span",104),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij("",null==e.selectedSku?null:e.selectedSku.exchangePoint," \u79ef\u5206 + ")}}function ze(n,r){1&n&&t._UZ(0,"ion-spinner",108)}function Ge(n,r){if(1&n&&(t.TgZ(0,"span",116),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"currency"),t.qZA()),2&n){const e=t.oxw(6);t.xp6(1),t.hij(" ",e.areaCanBuy?"\u542b\u8fd0\u8d39\uff08 "+t.lcZ(3,3,e.shippingFee)+"\uff09":t.lcZ(2,1,"product-page-not-available-buy"),"")}}function Ke(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",117),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(6);return t.KtG(i.isOpenChangeAddressModal=!0)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"product-page-switch-address")," "))}function We(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",118),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(6);return t.KtG(i.isOpenEditAddressModal=!0)}),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()}2&n&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"checkout-shipping-add-btn"),"",t.lcZ(3,4,"order-details-address")," "))}const $e=function(n){return{"text-red-500":n}};function Ve(n,r){if(1&n&&(t.TgZ(0,"div",109)(1,"div",110),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",111)(5,"div",112),t._uU(6),t.qZA()(),t.YNc(7,Ge,4,5,"span",113),t.qZA(),t.YNc(8,Ke,3,3,"div",114),t.YNc(9,We,4,6,"ng-template",null,115,t.W1O)),2&n){const e=t.MAs(10);t.oxw();const o=t.MAs(3),i=t.oxw(4);t.xp6(1),t.Q6J("ngClass",t.VKq(8,$e,!o)),t.xp6(1),t.hij(" ",t.lcZ(3,6,"product-page-delivery-to"),": "),t.xp6(4),t.Oqu(null==i.selectedReceiver?null:i.selectedReceiver.areaName),t.xp6(1),t.Q6J("ngIf",i.selectedReceiver),t.xp6(1),t.Q6J("ngIf",i.selectedReceiver)("ngIfElse",e)}}function Xe(n,r){if(1&n&&(t.TgZ(0,"div",105),t.YNc(1,ze,1,0,"ion-spinner",106),t.YNc(2,Ve,11,10,"ng-template",null,107,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.oxw(4);t.xp6(1),t.Q6J("ngIf",!o.areaCanBuy)("ngIfElse",e)}}function tn(n,r){if(1&n&&(t.TgZ(0,"div",119),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"product-place-of-origin"),"\uff1a",e.productDetail.productArea," ")}}const en=function(n){return{"!border-primary text-primary":n}};function nn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",124),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw().$implicit,u=t.oxw(4);return t.KtG(u.specificationChange(a.id,s.name))}),t._uU(1),t.qZA()}if(2&n){const e=r.$implicit,o=t.oxw().$implicit,i=t.oxw(4);t.Q6J("ngClass",t.VKq(2,en,i.specificationMap["specification-"+o.name]==e.id)),t.xp6(1),t.hij(" ",e.value," ")}}const Et=function(n){return{"w-full":n}};function on(n,r){if(1&n&&(t.TgZ(0,"div",120)(1,"div",121),t._uU(2),t.qZA(),t.TgZ(3,"div",122)(4,"div",69),t.YNc(5,nn,2,4,"div",123),t.qZA()()()),2&n){const e=r.$implicit;t.Q6J("ngClass",t.VKq(3,Et,r.index>0)),t.xp6(2),t.hij(" ",e.name,": "),t.xp6(3),t.Q6J("ngForOf",e.entries)}}function rn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",125),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t._UZ(1,"app-cart-icon",126),t.TgZ(2,"span",127),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"translate"),t.qZA()()}if(2&n){const e=r.isOnCart,o=r.isLoading,i=t.oxw(4);t.Q6J("targetSelector","#product-toolbar .badge-cart-mobile")("flyProduct",i.productDetail)("disabled",o||!i.canBuy),t.xp6(3),t.Oqu(i.canBuy?t.lcZ(5,6,e?"shop-product-page-in-the-cart":"shop-product-page-add"):t.lcZ(4,4,i.areaCanBuy?"shop-product-page-sku-stock-out":"product-page-not-available-buy"))}}function an(n,r){}function sn(n,r){}const cn=function(n){return{"product-info-disabled":n}};function ln(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",58)(1,"div",59)(2,"div",60)(3,"h1",61),t._uU(4),t.TgZ(5,"app-copy-icon",62),t.NdJ("copied",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.copied())}),t.qZA()(),t.YNc(6,Fe,7,7,"div",63),t.qZA(),t.TgZ(7,"div",64)(8,"div",65),t.GkF(9,11),t.YNc(10,Ye,3,3,"div",66),t.qZA()()(),t.TgZ(11,"div",67),t.GkF(12,11),t.qZA(),t._UZ(13,"div",68),t.TgZ(14,"div",69)(15,"div",70),t.YNc(16,He,19,13,"ng-container",71),t.TgZ(17,"div",72),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"div",73),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"div",74),t.YNc(24,Re,2,1,"span",75),t.TgZ(25,"div",76)(26,"strong",77),t._uU(27),t.ALo(28,"currency"),t.qZA()()()()(),t._UZ(29,"div",78),t.YNc(30,Xe,4,2,"div",79),t.YNc(31,tn,3,4,"div",80),t.TgZ(32,"div",81)(33,"div",82),t.GkF(34,11),t.qZA(),t.YNc(35,on,6,5,"div",83),t.qZA(),t.TgZ(36,"div",84)(37,"app-add-to-cart",85),t.YNc(38,rn,6,8,"ng-template"),t.qZA()(),t.TgZ(39,"div",86),t.YNc(40,an,0,0,"ng-template",11),t.qZA(),t.TgZ(41,"div",87)(42,"div",88),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"div",89)(46,"ion-input",90),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.quantity=i)})("ionBlur",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.setQuantity(i))}),t.qZA()(),t._UZ(47,"div",91),t.TgZ(48,"div",92),t.YNc(49,sn,0,0,"ng-template",11),t.qZA()()()}if(2&n){t.oxw(2);const e=t.MAs(54),o=t.MAs(58),i=t.MAs(46),a=t.MAs(50),s=t.oxw();t.xp6(4),t.hij(" ",s.productDetail.name," "),t.xp6(1),t.s9C("appCopying",s.productDetail.name),t.xp6(1),t.Q6J("ngIf",s.productDetail.type!==s.productTypes.ShopProductTypeGoldenPackage),t.xp6(3),t.Q6J("ngTemplateOutlet",e),t.xp6(1),t.Q6J("ngIf",s.productDetail.type!==s.productTypes.ShopProductTypeGoldenPackage),t.xp6(2),t.Q6J("ngTemplateOutlet",o),t.xp6(3),t.Q6J("ngClass",t.VKq(33,cn,s.stockCount<=0)),t.xp6(1),t.Q6J("ngIf",s.productDetail.type!==s.productTypes.ShopProductTypeGoldenPackage),t.xp6(2),t.hij(" ",t.lcZ(19,25,"actual-price-you-pay"),": "),t.xp6(3),t.hij(" ",t.lcZ(22,27,"actual-price-you-pay"),": "),t.xp6(3),t.Q6J("ngIf",null==s.selectedSku?null:s.selectedSku.exchangePoint),t.xp6(3),t.hij(" ",t.lcZ(28,29,s.actualPrice)," "),t.xp6(3),t.Q6J("ngIf",s.isLogin),t.xp6(1),t.Q6J("ngIf",s.productDetail.productArea),t.xp6(3),t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Q6J("ngForOf",s.specificationItems),t.xp6(2),t.Q6J("sku",s.selectedSku)("quantity",s.realQuantity),t.xp6(3),t.Q6J("ngTemplateOutlet",a),t.xp6(3),t.hij(" ",t.lcZ(44,31,"add-to-cart-qty"),"\uff1a "),t.xp6(3),t.Q6J("ngModel",s.quantity)("min",1)("max",s.stockCount)("disabled",s.stockCount<=0),t.xp6(3),t.Q6J("ngTemplateOutlet",a)}}function dn(n,r){if(1&n&&(t.TgZ(0,"div",22),t.YNc(1,Qe,7,4,"div",46),t.YNc(2,ln,50,35,"div",47),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.productDetail),t.xp6(1),t.Q6J("ngIf",e.productDetail)}}function pn(n,r){1&n&&(t.TgZ(0,"div",132),t._UZ(1,"div",133),t.TgZ(2,"div",134),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"div",135),t.qZA()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"product-detail-point-type-review")))}function gn(n,r){if(1&n&&(t.TgZ(0,"ion-row",136)(1,"ion-col",137)(2,"h5",138),t._uU(3,"\u8bc4\u5206"),t.qZA(),t.TgZ(4,"div",139),t._uU(5),t.ALo(6,"number"),t.qZA(),t._UZ(7,"app-order-rating",140),t.qZA(),t.TgZ(8,"ion-col",141)(9,"div",142),t._uU(10),t.ALo(11,"translate"),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(5),t.Oqu(t.xi3(6,5,e.getReviewTotal.averageScore,"1.1-1")),t.xp6(2),t.Q6J("stopEvent",!0)("rating",e.getReviewTotal.averageScore),t.xp6(3),t.AsE("",t.lcZ(11,8,"reviews-number-label"),"\uff1a",e.getReviewTotal.total,"")}}function un(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-review-item",145),t.NdJ("onImageClick",function(i){t.CHM(e);const a=t.oxw(4);return t.KtG(a.handleReviewImageClick(i))}),t.qZA()}if(2&n){const e=r.$implicit;t.Q6J("review",e)("storeName",e.storeName)}}function _n(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",146)(1,"app-pagination",147),t.NdJ("onPageClick",function(i){t.CHM(e);const a=t.oxw(4);return t.KtG(a.loadAftersalesByPage(i))}),t.qZA()()}if(2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("curPage",e.currentReviewPage)("numOfPages",e.reviewTotalPages)}}function mn(n,r){if(1&n&&(t.ynx(0),t.YNc(1,un,1,2,"app-product-review-item",143),t.YNc(2,_n,2,2,"div",144),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.reviewList),t.xp6(1),t.Q6J("ngIf",e.reviewTotalPages>1)}}function fn(n,r){if(1&n&&(t.TgZ(0,"div",128),t._UZ(1,"app-product-images-description",129),t.YNc(2,pn,6,3,"div",130),t.YNc(3,gn,12,10,"ion-row",131),t.YNc(4,mn,3,2,"ng-container",71),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("productDetail",e.productDetail),t.xp6(1),t.Q6J("ngIf",e.reviewList.length>0),t.xp6(1),t.Q6J("ngIf",e.productDetail&&e.reviewList.length>0),t.xp6(1),t.Q6J("ngIf",e.reviewList.length>0)}}const hn=function(n,r){return{categoryId:n,brandId:r}};function xn(n,r){if(1&n&&t._UZ(0,"app-products-infinite-scroll",148),2&n){t.oxw();const e=t.MAs(2),o=t.oxw();t.Q6J("additionalParams",t.WLB(3,hn,o.productDetail.productCategoryId,o.productDetail.brandId))("scrollContainer",e)("shoppingModePageSize",10)}}function bn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-share-modal",149),t.NdJ("isOpenChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openShareModal=i)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("isOpen",e.openShareModal)}}function vn(n,r){if(1&n&&(t.TgZ(0,"ion-select-option",152),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,"add-to-cart-qty")+": "+e," ")}}function wn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-select",150),t.NdJ("ionChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.handleSelectQuantity(i))}),t.ALo(1,"translate"),t.YNc(2,vn,3,4,"ion-select-option",151),t.ALo(3,"slice"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("value",e.quantity)("placeholder",t.lcZ(1,4,"add-to-cart-qty"))("disabled",!e.canBuy),t.xp6(2),t.Q6J("ngForOf",t.Dn7(3,6,e.stockCountList,0,99))}}function Pn(n,r){if(1&n&&(t.TgZ(0,"strong",164),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Oqu(t.lcZ(2,1,null==e.selectedSku?null:e.selectedSku.price))}}function Cn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",165),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t._UZ(1,"app-cart-icon",126),t.TgZ(2,"span",166),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"translate"),t.qZA()()}if(2&n){const e=r.isOnCart,o=r.isLoading,i=t.oxw(3);t.Q6J("targetSelector","#product-toolbar .badge-cart-desktop")("flyProduct",i.productDetail)("disabled",o||!i.canBuy),t.xp6(3),t.Oqu(i.canBuy?t.lcZ(5,6,e?"shop-product-page-in-the-cart":"shop-product-page-add"):t.lcZ(4,4,i.areaCanBuy?"shop-product-page-sku-stock-out":"product-page-not-available-buy"))}}function Tn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",167),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t._UZ(1,"app-heart-animated",57),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()}if(2&n){const e=r.isDisabled,o=t.oxw(4);t.Q6J("disabled",e),t.xp6(1),t.Q6J("active",o.isFavorite),t.xp6(2),t.Oqu(t.lcZ(4,3,o.isFavorite?"shop-product-page-in-the-wishlist":"shop-product-page-add-to-wishlist"))}}function yn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-favorite",55),t.NdJ("isBelongChange",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.handleFavoriteChange(i))}),t.YNc(1,Tn,5,5,"ng-template"),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("product",e.productDetail)("skuId",null==e.selectedSku?null:e.selectedSku.id)}}function On(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",153,154),t.NdJ("click",function(){t.CHM(e),t.oxw();const i=t.MAs(2);return t.KtG(i.scrollToTop(300))}),t.TgZ(2,"div",155)(3,"div",156),t._UZ(4,"img",157),t.qZA(),t.TgZ(5,"div",158)(6,"div",159),t._uU(7),t.qZA()()(),t._UZ(8,"div",160),t.qZA(),t.YNc(9,Pn,3,3,"strong",161),t.TgZ(10,"div",162),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.GkF(13,11),t.TgZ(14,"div",163)(15,"app-add-to-cart",85),t.YNc(16,Cn,6,8,"ng-template"),t.qZA()(),t.TgZ(17,"div",163),t.YNc(18,yn,2,2,"app-product-favorite",53),t.qZA(),t.TgZ(19,"div"),t.GkF(20,11),t.qZA()}if(2&n){t.oxw();const e=t.MAs(46),o=t.MAs(54),i=t.oxw();t.xp6(4),t.Q6J("src",null==i.productDetail?null:i.productDetail.productImages[0].source,t.LSH),t.xp6(3),t.hij(" ",null==i.productDetail?null:i.productDetail.name," "),t.xp6(2),t.Q6J("ngIf",(null==i.productDetail?null:i.productDetail.type)!==i.productTypes.ShopProductTypeGoldenPackage),t.xp6(2),t.hij(" ",t.lcZ(12,9,i.actualPrice)," "),t.xp6(2),t.Q6J("ngTemplateOutlet",e),t.xp6(2),t.Q6J("sku",i.selectedSku)("quantity",i.realQuantity),t.xp6(3),t.Q6J("ngIf",i.productDetail),t.xp6(2),t.Q6J("ngTemplateOutlet",o)}}function Mn(n,r){if(1&n&&t._UZ(0,"img",174),2&n){const e=t.oxw(5);t.Q6J("src",e.brand.logo,t.LSH)("alt",e.brand.name)}}const Zn=function(n){return{brandId:n}};function kn(n,r){if(1&n&&(t.TgZ(0,"a",171),t.YNc(1,Mn,1,2,"img",172),t.TgZ(2,"div",173),t._uU(3),t.qZA()()),2&n){const e=t.oxw(4);t.Q6J("queryParams",t.VKq(4,Zn,e.brand.id))("routerLink","/product/search"),t.xp6(1),t.Q6J("ngIf",e.brand.logo),t.xp6(2),t.hij(" ",e.brand.name," ")}}function An(n,r){if(1&n&&(t.TgZ(0,"div",169),t.YNc(1,kn,4,6,"a",170),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.brand)}}function In(n,r){if(1&n&&t.YNc(0,An,2,1,"div",168),2&n){const e=t.oxw(2);t.Q6J("ngIf",null==e.productDetail?null:e.productDetail.brandId)}}function Sn(n,r){if(1&n&&(t.TgZ(0,"div",175)(1,"div",176)(2,"div",177),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",76,178),t._UZ(7,"img",179),t.TgZ(8,"div",180,38),t._uU(10),t.ALo(11,"number"),t.qZA()(),t.TgZ(12,"div",177),t._uU(13),t.ALo(14,"translate"),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,4,"cash-back-reward"),": "),t.xp6(7),t.hij(" ",t.xi3(11,6,null==e.selectedSku?null:e.selectedSku.cashBack,"0.2-2")," "),t.xp6(3),t.AsE(" +",e.cashbackByDays,"/",t.lcZ(14,9,"shop-product-page-reward-days-45")," ")}}function Ln(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",181),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.openShareModal=!0)}),t.TgZ(1,"span",182),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"img",183),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"shop-product-page-share")," "))}function Bn(n,r){1&n&&t._UZ(0,"div",206)}function Dn(n,r){1&n&&(t.TgZ(0,"div",207)(1,"div")(2,"span",208),t._uU(3,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),t.qZA()()()),2&n&&t.Q6J("ngClass",t.VKq(1,Et,r.index>0))}const Qt=function(){return[]};function Un(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",22)(2,"div",184,49)(4,"div",185),t._UZ(5,"div",186),t.qZA(),t.TgZ(6,"div",187),t.YNc(7,Bn,1,0,"div",188),t.qZA()(),t.TgZ(8,"div",189)(9,"div",69)(10,"h1",190)(11,"span",191),t._uU(12," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(13,"div",64)(14,"div"),t.GkF(15,11),t._UZ(16,"div",192),t.qZA()()(),t._UZ(17,"div",193),t.TgZ(18,"div",69)(19,"div",194)(20,"div",195)(21,"span",196),t._uU(22," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(23,"div",197)(24,"span",198),t._uU(25," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(26,"div",195)(27,"span",198),t._uU(28," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(29,"div",101)(30,"span",198),t._uU(31," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(32,"div",199)(33,"span",198),t._uU(34," \xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(35,"div",195)(36,"span",198),t._uU(37," \xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(38,"div",74)(39,"span",198),t._uU(40," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(41,"div",199)(42,"span",198),t._uU(43," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()()()(),t._UZ(44,"div",200),t.TgZ(45,"div",201)(46,"div",82)(47,"span",198),t._uU(48,"\xa0\xa0\xa0\xa0\xa0"),t.qZA()(),t.YNc(49,Dn,4,3,"div",202),t.qZA(),t.TgZ(50,"div",84)(51,"button",203),t._UZ(52,"app-cart-icon",126),t.TgZ(53,"span",204),t._uU(54),t.ALo(55,"translate"),t.qZA()()(),t.TgZ(56,"div",205)(57,"span",198),t._uU(58,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),t.qZA()()()(),t.BQk()),2&n){t.oxw(2);const e=t.MAs(54);t.xp6(7),t.Q6J("ngForOf",t.DdM(6,Qt).constructor(3).fill(1)),t.xp6(8),t.Q6J("ngTemplateOutlet",e),t.xp6(34),t.Q6J("ngForOf",t.DdM(7,Qt).constructor(2).fill(1)),t.xp6(5),t.Oqu(t.lcZ(55,4,"shop-product-page-add"))}}function Jn(n,r){1&n&&t.YNc(0,Un,59,8,"ng-container",45)}function qn(n,r){if(1&n&&(t.TgZ(0,"div",211)(1,"div",212),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",213),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,7,"product-detail-limited-deals")," "),t.xp6(3),t.gL8(" ",t.lcZ(6,9,"product-detail-edns-in"),": ",e.days," ",t.lcZ(7,11,"days")," ",e.hours,":",e.minutes,":",e.seconds," ")}}function Nn(n,r){if(1&n&&(t.TgZ(0,"app-countdown",210),t.YNc(1,qn,8,13,"ng-template"),t.qZA()),2&n){const e=t.oxw(4);t.Q6J("time",e.productDetail.endTime)}}function En(n,r){if(1&n&&(t.TgZ(0,"div",211)(1,"div",212),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,7,"product-detail-limited-deals")," "),t.xp6(3),t.gL8(" ",t.lcZ(6,9,"product-detail-limited-start"),": ",e.days," ",t.lcZ(7,11,"days")," ",e.hours,":",e.minutes,":",e.seconds," ")}}function Qn(n,r){if(1&n&&(t.TgZ(0,"app-countdown",210),t.YNc(1,En,8,13,"ng-template"),t.qZA()),2&n){const e=t.oxw(4);t.Q6J("time",e.productDetail.beginTime)}}function Fn(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Nn,2,1,"app-countdown",209),t.YNc(2,Qn,2,1,"app-countdown",209),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.isEventStarted),t.xp6(1),t.Q6J("ngIf",e.isEventNotStarted)}}function Yn(n,r){if(1&n&&t.YNc(0,Fn,3,2,"ng-container",71),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.productDetail)}}function jn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",223),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t.TgZ(1,"ion-label"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=r.isDisabled,o=t.oxw(5);t.Q6J("disabled",e),t.xp6(2),t.Oqu(t.lcZ(3,2,o.isFavorite?"shop-product-page-in-the-wishlist":"shop-product-page-add-to-wishlist"))}}function Hn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",221),t.NdJ("click",function(){const a=t.CHM(e).method,s=t.oxw(5);return t.KtG(s.handleGetHelp(a))}),t.TgZ(1,"ion-label"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"footer-help")))}function Rn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",224),t.NdJ("click",function(){const a=t.CHM(e).method,s=t.oxw(5);return a(),t.KtG(s.isMenuOpen=!1)}),t.TgZ(1,"ion-label"),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA()()}if(2&n){const e=r.isOnCart,o=t.oxw(5);t.Q6J("disabled",!o.canBuy)("targetSelector","#product-toolbar .badge-cart-mobile")("flyProduct",o.productDetail),t.xp6(2),t.Oqu(o.canBuy?t.lcZ(4,6,e?"shop-product-page-in-the-cart":"shop-product-page-add"):t.lcZ(3,4,"shop-product-page-sku-stock-out"))}}function zn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-list",220)(1,"app-product-favorite",55),t.NdJ("isBelongChange",function(i){t.CHM(e);const a=t.oxw(4);return t.KtG(a.handleFavoriteChange(i))}),t.YNc(2,jn,4,4,"ng-template"),t.qZA(),t.TgZ(3,"app-customer-service"),t.YNc(4,Hn,4,3,"ng-template"),t.qZA(),t.TgZ(5,"ion-item",221),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return i.openShareModal=!0,t.KtG(i.isMenuOpen=!1)}),t.TgZ(6,"ion-label"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"app-add-to-cart",85),t.YNc(10,Rn,5,8,"ng-template"),t.qZA(),t.TgZ(11,"app-bidding-switch",222),t.NdJ("onSwitchMode",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.isMenuOpen=!1)}),t.qZA()()}if(2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("product",e.productDetail)("skuId",null==e.selectedSku?null:e.selectedSku.id),t.xp6(6),t.Oqu(t.lcZ(8,5,"product-share-item")),t.xp6(2),t.Q6J("sku",e.selectedSku)("quantity",e.realQuantity)}}function Gn(n,r){if(1&n){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"ion-popover",218,219),t.NdJ("didDismiss",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.isMenuOpen=!1)}),t.YNc(2,zn,12,7,"ng-template"),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("keepContentsMounted",e.isPopOverDidOpen)("dismissOnSelect",!0)("isOpen",e.isMenuOpen)}}function Kn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",214),t.NdJ("click",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.handleMenuClick(i))}),t.O4$(),t.TgZ(1,"svg",215),t._UZ(2,"path",216),t.qZA()(),t.YNc(3,Gn,3,3,"ion-popover",217)}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",e.productDetail)}}function Wn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-change-address-modal",225),t.NdJ("addNewAddress",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.openCreateAddressModal())})("onSelected",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.handleSelectAddress(i))})("isOpenChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.isOpenChangeAddressModal=i)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("selectedAddress",e.selectedReceiver||null)("addressList",e.shippingAddrs)("isOpen",e.isOpenChangeAddressModal)}}function $n(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-edit-address-modal",226),t.NdJ("onSuccess",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.handleSubmitAddressSuccess())})("isOpenChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.isOpenEditAddressModal=i)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("currAddress",e.currAddress)("isOpen",e.isOpenEditAddressModal)}}function Vn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-images-lightbox",228),t.NdJ("isOpenChange",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.openReviewLightbox=i)}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("isOpen",e.openReviewLightbox)("images",e.reviewImages)("initialSlide",e.lighboxSlideNumber)}}function Xn(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Vn,1,3,"app-product-images-lightbox",227),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.openReviewLightbox)}}function to(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"ion-content",2,3),t.NdJ("ionScroll",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.handleScroll(i))}),t._UZ(3,"app-global-customer-service",4),t.TgZ(4,"ion-toolbar",5,6)(6,"app-top-navbar"),t.GkF(7,7),t.qZA(),t._UZ(8,"app-top-menu"),t.TgZ(9,"div",8)(10,"div",9)(11,"div",10),t.NdJ("click",function(){t.CHM(e);const i=t.MAs(2);return t.KtG(i.scrollToTop(500))}),t.GkF(12,11),t.qZA()()(),t.TgZ(13,"div",12)(14,"div",9)(15,"div",13)(16,"div",14)(17,"div",15),t.GkF(18,11),t.qZA()()()()()(),t.TgZ(19,"div",16)(20,"div",17)(21,"div",18),t.YNc(22,dn,3,2,"div",19),t.TgZ(23,"div",20),t._UZ(24,"app-product-related",21),t.qZA(),t.TgZ(25,"div",22)(26,"div",23)(27,"div",24)(28,"div",25),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._UZ(31,"app-product-recommend",26),t.qZA()(),t.YNc(32,fn,5,4,"div",27),t.qZA(),t.TgZ(33,"div",28),t._UZ(34,"app-product-related",29),t.TgZ(35,"div",30),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.YNc(38,xn,1,6,"app-products-infinite-scroll",31),t.qZA()(),t._UZ(39,"div",32),t.qZA()(),t.YNc(40,bn,1,1,"app-product-share-modal",33),t._UZ(41,"app-footer")(42,"app-new-year-dragons"),t.qZA(),t.TgZ(43,"ion-footer",34),t._UZ(44,"app-bottom-navbar"),t.qZA(),t.YNc(45,wn,4,10,"ng-template",null,35,t.W1O),t.YNc(47,On,21,11,"ng-template",null,36,t.W1O),t.YNc(49,In,1,1,"ng-template",null,37,t.W1O),t.YNc(51,Sn,15,11,"ng-template",null,38,t.W1O),t.YNc(53,Ln,5,3,"ng-template",null,39,t.W1O),t.YNc(55,Jn,1,0,"ng-template",null,40,t.W1O),t.YNc(57,Yn,1,1,"ng-template",null,41,t.W1O),t.YNc(59,Kn,4,1,"ng-template",null,42,t.W1O),t.YNc(61,Wn,1,3,"app-change-address-modal",43),t.YNc(62,$n,1,2,"app-edit-address-modal",44),t.YNc(63,Xn,2,1,"ng-container",45),t.BQk()}if(2&n){const e=t.MAs(48),o=t.MAs(56),i=t.MAs(58),a=t.MAs(60),s=t.oxw();t.xp6(3),t.Q6J("additionalData",s.supportData),t.xp6(4),t.Q6J("ngTemplateOutlet",a),t.xp6(5),t.Q6J("ngTemplateOutlet",i),t.xp6(6),t.Q6J("ngTemplateOutlet",e),t.xp6(4),t.Q6J("ngIf",!s.isBrowser||s.isBrowser&&(null==s.productDetail?null:s.productDetail.id)===s.productId)("ngIfElse",o),t.xp6(2),t.Q6J("productId",s.productId)("product",s.productDetail),t.xp6(5),t.hij(" ",t.lcZ(30,18,"home-recommended-title")," "),t.xp6(2),t.Q6J("relatedProduct",s.productDetail),t.xp6(1),t.Q6J("ngIf",s.productDetail),t.xp6(2),t.Q6J("isRandom",!0)("productId",s.productId)("product",s.productDetail),t.xp6(2),t.hij(" ",t.lcZ(37,20,"home-recommended-title")," "),t.xp6(2),t.Q6J("ngIf",s.productDetail),t.xp6(23),t.Q6J("ngIf",s.isOpenChangeAddressModal),t.xp6(1),t.Q6J("ngIf",s.isOpenEditAddressModal)}}function eo(n,r){1&n&&t._UZ(0,"app-product-detail-bidding",null,229)}let wt=(()=>{class n extends Ie.c{constructor(e,o,i,a,s,u,C,g,m,O,K,E){super(e,o),this.productsService=i,this.route=a,this.checkoutService=s,this.biddingService=u,this.userService=C,this.platformId=g,this.scrollToProductService=m,this.toast=O,this.i18n=K,this.router=E,this.isPopOverDidOpen=!1,this.isMenuOpen=!1,this.productId="",this.productDetail=null,this.reviewList=[],this.skuList=[],this.specificationMap={},this.specificationItems=[],this.stockCountList=[],this.quantity=1,this.openShareModal=!1,this.isFavorite=!1,this.shippingAddrs=null,this.selectedAddress=null,this.shippingFee=null,this.areaCanBuy=!1,this.isOpenChangeAddressModal=!1,this.currAddress=null,this.isOpenEditAddressModal=!1,this.DictKey=Se.f,this.reviewTotal={averageScore:"0",total:0},this.productTypes=Le.k,this.productReviewPage=0,this.isReviewLoading=!1,this.reviewTotalRows=0,this.currentReviewPage=1,this.reviewPageSize=5,this.handleScroll=J=>{super.onContentScroll(J),this.mobileSticky&&J.detail.currentY>68&&(this.mobileSticky.nativeElement.style.transform=`translateY(-${Math.min(100,(J.detail.currentY-68)/10)}%)`),this.mobileSticky&&J.detail.currentY<=68&&(this.mobileSticky.nativeElement.style.transform="translateY(-0px)"),this.stickyReview&&(this.stickyReview.nativeElement.style.height=`${Math.min(J.detail.currentY/8,72)}px`)},this.handleFavoriteChange=J=>{this.isFavorite=J},this.openReviewLightbox=!1,this.reviewImages=[],this.lighboxSlideNumber=0,this.isBrowser=(0,l.NF)(this.platformId)}onPopState(e){this.scrollToProductService.setProductIdToFocus(this.productId)}ngOnInit(){var e=this;return(0,_.Z)(function*(){e.route.queryParams.pipe((0,P.R)(e.destroyStream$)).subscribe(function(){var o=(0,_.Z)(function*(i){e.productId=i.id||"",console.log(i),e.productId&&!i.bid&&(e.getProductInfo(e.productId),e.productScroll?.clear()),i.bid||(yield e.getShippingAddress())});return function(i){return o.apply(this,arguments)}}())})()}getProductInfo(e){var o=this;return(0,_.Z)(function*(){[o.productDetail,o.skuList]=yield Promise.all([(0,I.n)(o.productsService.getProductById(e)),(0,I.n)(o.productsService.getSkusByProductId(e)),o.getProductReview(1,!0)]),o.quantity=1,x.Z.isServer||(o.brand=yield(0,I.n)(o.productsService.getBrandById(o.productDetail.brandId))),o.isFavorite=o.productDetail.collect,o.specificationItems=JSON.parse(o.productDetail.specificationItems||"[]").map(a=>({...a,entries:a.entries.filter(s=>s.isSelected)}));const i=JSON.parse(o.productDetail?.defaultSku?.specificationValues||"[]").map(a=>a.id);if(o.specificationMap=o.specificationItems.reduce((a,s)=>{const u=s.entries.find(C=>i.includes(C.id));return a[`specification-${s.name}`]=u?u.id:void 0,a},{}),o.skuList.length){for(let a=1;a<=o.skuList[0].stock;a++)o.stockCountList.push(a);o.selectedSku=o.skuList.find(a=>a.specifications.every(s=>Object.values(o.specificationMap).includes(s.id)))}yield o.getShippingFee(),yield o.getProductAreaCanBuy()})()}get reviewTotalPages(){return Math.ceil(this.reviewTotalRows/this.reviewPageSize)}loadAftersalesByPage(e){var o=this;return(0,_.Z)(function*(){yield o.getProductReview(e),o.currentReviewPage=e})()}getProductReview(e=1,o=!1){var i=this;return(0,_.Z)(function*(){o&&(i.productReviewPage=0,i.isReviewLoading=!1,i.reviewTotalRows=0,i.reviewList=[]);try{i.isReviewLoading=!0;const a=yield(0,I.n)(i.productsService.getProductReview(i.productId,ut.ShopScoreTypeByAll,e-1,i.reviewPageSize));i.isReviewLoading=!1,i.reviewTotal=a.reviewTotal,i.reviewList=a.rows,i.reviewTotalRows=a.total}catch{i.isReviewLoading=!1}})()}get isLogin(){return this.userService.isLogin()}get getReviewTotal(){return{averageScore:Number(this.reviewTotal.averageScore),total:this.reviewTotal.total}}get isEventStarted(){return!!(this.productDetail?.isSpecialSale&&Number(this.productDetail.beginTime)<(new Date).getTime())}get isEventNotStarted(){return!!(this.productDetail?.isSpecialSale&&Number(this.productDetail.beginTime)>(new Date).getTime())}get actualPrice(){return this.selectedSku?this.selectedSku?.price-this.selectedSku?.cashBack+(this.shippingFee||0):null}get canBuy(){return this.stockCount>0&&this.areaCanBuy}get stockCount(){return this.selectedSku?.stock||0}getShippingAddress(e){var o=this;return(0,_.Z)(function*(){if(o.shippingAddrs=(yield(0,I.n)(o.checkoutService.getShippingAddress()))?.data?.rows||null,o.shippingAddrs?.length){o.selectedAddress=o.shippingAddrs[o.shippingAddrs.length-1];const i=o.shippingAddrs.find(a=>a.isDefault)||o.shippingAddrs[0];if(e)return void(o.receiverId=o.shippingAddrs[o.shippingAddrs.length-1].id);o.receiverId=o.editAddressId?o.editAddressId:i.id}})()}getShippingFee(){var e=this;return(0,_.Z)(function*(){!e.receiverId||(e.shippingFee=(yield(0,I.n)(e.checkoutService.getShippingFee(e.receiverId,e?.selectedSku?.id,e.quantity)))?.data||null,e.shippingFee=Number(e.shippingFee))})()}getProductAreaCanBuy(){var e=this;return(0,_.Z)(function*(){e.areaCanBuy=!e.receiverId||(yield(0,I.n)(e.checkoutService.getAreaCanBuy(e.receiverId,e?.selectedSku?.id,e.quantity)))?.data||null})()}handleSelectAddress(e){var o=this;return(0,_.Z)(function*(){o.receiverId=e.id,yield o.getShippingFee(),yield o.getProductAreaCanBuy()})()}openCreateAddressModal(){this.currAddress=null,this.isCreateAddress=!0,this.isOpenEditAddressModal=!0}handleSubmitAddressSuccess(){var e=this;return(0,_.Z)(function*(){if(e.isCreateAddress)return yield e.getShippingAddress(!0),e.isOpenEditAddressModal=!1,e.isCreateAddress=!1,yield e.getShippingFee(),void(yield e.getProductAreaCanBuy());e.editAddressId=e.receiverId,yield e.getShippingAddress(),e.isOpenEditAddressModal=!1,yield e.getShippingFee(),yield e.getProductAreaCanBuy(),e.editAddressId=""})()}specificationChange(e,o){this.specificationMap["specification-"+o]=e,this.selectedSku=this.skuList.find(i=>i.specifications.every(a=>Object.values(this.specificationMap).includes(a.id))),this.quantity=this.stockCount<1?0:Math.min(this.quantity,this.stockCount)}get selectedReceiver(){if(this.receiverId)return this.shippingAddrs.find(e=>Object.is(e.id,this.receiverId))}get specificationSelectable(){const e=Object.values(this.specificationMap);return this.specificationItems.length<2?new Set(this.specificationItems[0].entries.map(o=>o.id)):this.skuList.reduce((o,i)=>{const a=i.specifications.map(s=>s.id);return a.some(s=>e.includes(s))&&e.forEach(s=>{a.filter(u=>!Object.is(s,u)).forEach(u=>o.add(u))}),o},new Set)}setQuantity(e){this.quantity=Math.min(this.quantity,this.stockCount)}get cashbackByDays(){return(Number(this.selectedSku?.cashBack)/45).toFixed(4)}handleSelectQuantity(e){this.quantity=e.target.value}get realQuantity(){return Math.min(this.quantity,this.stockCount)}handleMenuClick(e){this.isPopOverDidOpen=!0,this.popover.event=e,this.isMenuOpen=!0}get supportData(){return x.Z.isServer?{}:{imageName:this.productDetail?.name,type:"custom",msgtype:{track:{title:"\u6211\u6b63\u5728\u770b\uff1a",price:`\uffe5${this.productDetail?.price}`,desc:this.productDetail?.name,img_url:this.productDetail?.productImages[0].thumbnail,item_url:window.location.href}}}}handleGetHelp(e){e(this.supportData)}handleReviewImageClick(e){this.openReviewLightbox=!0,this.reviewImages=e.images||[],this.lighboxSlideNumber=e.index}scrollToScoreSection(){let e=document.getElementById("score-section").offsetTop;this.iconContent.scrollToPoint(0,e,1e3)}copied(){this.presentToast({position:"bottom",message:this.i18n.instant("order-button-copied"),duration:3e3,icon:"checkmark-circle-outline",color:"success"})}presentToast(e){var o=this;return(0,_.Z)(function*(){yield(yield o.toast.create(e)).present()})()}ionViewDidEnter(){this.biddingPage?.ionViewDidEnter()}ionViewWillLeave(){this.biddingPage?.ionViewWillLeave()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(st.s),t.Y36(T.gz),t.Y36(qt.Z),t.Y36(U.g),t.Y36(F.K),t.Y36(t.Lbi),t.Y36(Nt.h),t.Y36(d.yF),t.Y36(h.sK),t.Y36(T.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-detail"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Be,5),t.Gf(vt.b,5),t.Gf(De,5),t.Gf(Ue,5),t.Gf(d.W2,5),t.Gf(Je,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.popover=i.first),t.iGM(i=t.CRH())&&(o.productScroll=i.first),t.iGM(i=t.CRH())&&(o.mobileSticky=i.first),t.iGM(i=t.CRH())&&(o.stickyReview=i.first),t.iGM(i=t.CRH())&&(o.iconContent=i.first),t.iGM(i=t.CRH())&&(o.biddingPage=i.first)}},hostBindings:function(e,o){1&e&&t.NdJ("popstate",function(a){return o.onPopState(a)},!1,t.Jf7)},features:[t.qOj],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["biddingPage",""],["id","app-product-detail","scrollTop","","fullscreen","true","scrollEvents","true","backToTopBtn","",3,"ionScroll"],["ionContent",""],[3,"additionalData"],["id","product-toolbar","appOverflowVisible","",1,"sticky","top-0","shadow-lg","z-50"],["header",""],["end","",3,"ngTemplateOutlet"],[1,"m-auto","md:hidden"],[1,"relative"],[1,"absolute","top-full","cursor-pointer",2,"left","-4px","right","-4px",3,"click"],[3,"ngTemplateOutlet"],[1,"tyqoon-container","m-auto","hidden","md:block"],[1,"absolute","right-0","top-full"],[1,"sticky-section","pt-4","ml-auto",2,"width","234px"],[1,"p-4","border","border-[#eaeaea]","bg-[#f8f8f8]","rounded-xl"],[1,"tyqoon-container","px-0","md:px-3","xl:px-4","bg-lightblue"],[1,"flex","flex-wrap","md:flex-nowrap"],[1,"w-full","md:w-8/12","lg:w-9/12","flex-1","flex","flex-wrap"],["class","w-full flex flex-wrap max-constraint",4,"ngIf","ngIfElse"],[1,"w-full","pb-2","bg-white","px-4","md:pr-5","md:px-0","z-1","max-constraint"],[1,"block",3,"productId","product"],[1,"w-full","flex","flex-wrap","max-constraint"],[1,"w-full","md:w-4/12","hidden","md:block","px-4","md:px-0","bg-white","z-1"],[1,"sticky","top-0"],[1,"text-primary","font-medium","mb-4","text-center"],[3,"relatedProduct"],["class","w-full md:w-8/12 px-4 bg-white z-1",4,"ngIf"],[1,"w-full","py-3","bg-white","px-4","md:pr-5","md:px-0","z-1","max-constraint"],[1,"mt-4","block",3,"isRandom","productId","product"],[1,"font-medium","text-xl","xs:text-2xl","mt-8","mb-2"],[3,"additionalParams","scrollContainer","shoppingModePageSize",4,"ngIf"],[1,"w-auto","mt-3",2,"width","234px"],[3,"isOpen","isOpenChange",4,"isBrowser"],[1,"mt-4","md:hidden"],["quantitySelect",""],["stickySection",""],["brandTemplate",""],["cashback",""],["shareBtn",""],["skeleton",""],["countdownLimitedDeal",""],["kebabMenu",""],[3,"selectedAddress","addressList","isOpen","addNewAddress","onSelected","isOpenChange",4,"ngIf"],[3,"currAddress","isOpen","onSuccess","isOpenChange",4,"ngIf"],[4,"isBrowser"],["class","w-full md:w-4/12 my-3 md:px-0 sticky md:static top-0 z-0 md:z-20","id","product-sticky-section",4,"ngIf"],["class","w-full md:w-8/12 md:px-5 pt-4 bg-white px-4 rounded-t-2xl z-1 border-t md:border-none border-[#ddd]",4,"ngIf"],["id","product-sticky-section",1,"w-full","md:w-4/12","my-3","md:px-0","sticky","md:static","top-0","z-0","md:z-20"],["mobileSticky",""],[3,"glowing","productDetail"],["class","absolute fire-animation z-1","src","assets/svgs/fire-animation.svg","alt","",4,"ngIf"],[1,"absolute","mobile-favorite","z-1","md:hidden"],[3,"product","skuId","isBelongChange",4,"ngIf"],["src","assets/svgs/fire-animation.svg","alt","",1,"absolute","fire-animation","z-1"],[3,"product","skuId","isBelongChange"],[1,"rounded-full","border","border-solid","border-[#dddddd]","bg-white","w-full","flex","justify-center","items-center","text-[#dddddd]","p-1",3,"disabled","click"],[3,"active"],[1,"w-full","md:w-8/12","md:px-5","pt-4","bg-white","px-4","rounded-t-2xl","z-1","border-t","md:border-none","border-[#ddd]"],[1,"flex","flex-wrap","flex-col","xs:flex-row"],[1,"flex-1","mb-1","md:mb-2"],[1,"product-name","text-black","text-xl","break-all","relative","pr-5","-mr-4"],[1,"cursor-pointer","w-8","h-8","absolute","-right-1.5","opacity-40","fill-black","-top-0.5","p-1.5",3,"appCopying","copied"],["class","flex items-center md:justify-between",4,"ngIf"],[1,"md:hidden","flex-shrink-0"],[1,"flex","justify-between","flex-row-reverse","items-end","mb-2","xs:block","xs:mb-0","xs:items-center","md:mb-4"],["class","text-[#ff1a44] text-center font-bold text-lg line-through",4,"ngIf"],[1,"hidden","md:block"],[1,"border","border-bottom","opacity-50","mb-4","hidden","md:block"],[1,"flex","flex-wrap"],[1,"flex-1","mr-1",3,"ngClass"],[4,"ngIf"],[1,"opacity-60","font-medium","text-xs","md:hidden"],[1,"opacity-60","font-medium","leading-4","hidden","md:block"],[1,"leading-6"],["class","text-xl font-medium opacity-60",4,"ngIf"],[1,"flex","items-center"],[1,"letter-tight","text-4xl","text-[#424242]"],[1,"border","border-bottom","opacity-50","mt-3","mb-4","hidden","md:block"],["class","flex justify-between items-center flex-nowrap mt-2 mb-5 md:mt-0","style","position: relative",4,"ngIf"],["class","mt-2 mb-2 md:mt-0",4,"ngIf"],[1,"flex","flex-wrap","mt-2","md:mt-0"],[1,"md:hidden","mr-2","mt-1"],["class","flex flex-wrap mb-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-1","md:hidden"],[3,"sku","quantity"],[1,"md:hidden","mt-2"],[1,"flex-wrap","items-center","hidden","md:flex"],[1,"mr-2","my-1","flex-shrink-0","self-center"],[1,"my-1","mr-2"],["type","number",1,"quantity-txt",3,"ngModel","min","max","disabled","ngModelChange","ionBlur"],[1,"flex-1"],[1,"flex","items-center","my-2"],[1,"flex","items-center","md:justify-between"],[1,"-ml-1","block","cursor-pointer",3,"stopEvent","rating","click"],[1,"cursor-pointer","opacity-30","text-lg","font-medium","mt-0.5","md:hidden","pl-1",3,"click"],[1,"cursor-pointer","opacity-30","text-lg","font-medium","hidden","md:block",3,"click"],[1,"text-[#ff1a44]","text-center","font-bold","text-lg","line-through"],[1,"text-[#ff1a44]","font-bold","mb-2","line-through","text-3xl","hidden","md:block"],[1,"opacity-60","font-medium","leading-4"],[1,"mb-1","text-xs","w-3","h-3","text-center","rounded-full","border","border-black","text-black","opacity-70","inline-block",2,"line-height","10px"],[1,"mb-2"],[1,"text-3xl","letter-tight","text-[#FEB000]","animated-gradient-golden-text"],["src","assets/images/circle-credit-small.png","alt","",1,"h-7","ml-2"],[1,"text-xl","font-medium","opacity-60"],[1,"flex","justify-between","items-center","flex-nowrap","mt-2","mb-5","md:mt-0",2,"position","relative"],["name","circles","color","primary","size","large","style","text-align: center; width: 100%",4,"ngIf","ngIfElse"],["canBuy",""],["name","circles","color","primary","size","large",2,"text-align","center","width","100%"],[1,"flex","items-center","flex-nowrap","overflow-hidden","whitespace-nowrap","text-ellipsis"],[1,"mr-2","whitespace-nowrap",3,"ngClass"],[1,"button_style","overflow-hidden","whitespace-nowrap","text-ellipsis"],[1,"px-4","py-1","cursor-pointer"],["class","opacity-70 font-medium leading-4 text-sm text-red-500 shipping_included",4,"ngIf"],["class","block ml-5 whitespace-nowrap text-[#0087ff] font-bold underline cursor-pointer",3,"click",4,"ngIf","ngIfElse"],["addReceiver",""],[1,"opacity-70","font-medium","leading-4","text-sm","text-red-500","shipping_included"],[1,"block","ml-5","whitespace-nowrap","text-[#0087ff]","font-bold","underline","cursor-pointer",3,"click"],[1,"block","whitespace-nowrap","ml-5","text-[#0087ff]","font-bold","underline","cursor-pointer",3,"click"],[1,"mt-2","mb-2","md:mt-0"],[1,"flex","flex-wrap","mb-2",3,"ngClass"],[1,"mr-2","my-1","flex-shrink-0","self-center","hidden","md:block"],[1,"flex-auto"],["class","border mr-2 my-1 border-[#ddd] rounded-md px-4 py-1 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"border","mr-2","my-1","border-[#ddd]","rounded-md","px-4","py-1","cursor-pointer",3,"ngClass","click"],["flyToCart","",1,"btn-add-to-cart","mt-1","rounded-lg","border","border-solid","text-white","w-full","flex","justify-center","items-center","py-2.5",3,"targetSelector","flyProduct","disabled","click"],[1,"mr-2"],[1,"font-medium"],[1,"w-full","md:w-8/12","px-4","bg-white","z-1"],[1,"introduction",3,"productDetail"],["id","score-section","class","flex mb-4",4,"ngIf"],["class","score score-style",4,"ngIf"],["id","score-section",1,"flex","mb-4"],[1,"border-b","border-primary","first-divider","mb-2","opacity-50"],[1,"shrink-0","text-primary","mx-3"],[1,"border-b","border-primary","flex-1","mb-2","opacity-50"],[1,"score","score-style"],["size","auto",1,"score-level","score-item-style",2,"white-space","nowrap"],[1,"text-2xl"],[1,"num","text-3xl"],[2,"display","flex","justify-content","center",3,"stopEvent","rating"],["size","auto",1,"score-count","score-item-style"],[1,"count","text-gray"],["style","box-sizing: border-box",3,"review","storeName","onImageClick",4,"ngFor","ngForOf"],["class","flex justify-end mt-4",4,"ngIf"],[2,"box-sizing","border-box",3,"review","storeName","onImageClick"],[1,"flex","justify-end","mt-4"],[3,"curPage","numOfPages","onPageClick"],[3,"additionalParams","scrollContainer","shoppingModePageSize"],[3,"isOpen","isOpenChange"],["interface","popover",1,"quantity-select","rounded-lg","px-2","py-1","border","border-[#dddddd]","mb-3",3,"value","placeholder","disabled","ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"overflow-hidden","sticky-widget-scroll","cursor-pointer",2,"height","0px",3,"click"],["stickyReview",""],[1,"flex"],[1,"sticky-image-preview","rounded-lg","overflow-hidden","border","border-[#dddddd]","mr-2"],["alt","",1,"object-cover","object-center","!w-full","!h-full",3,"src"],[1,"flex-1","self-stretch","relative"],[1,"absolute","inset-0","line-clamp-3","break-all","text-xs"],[1,"border","border-bottom","opacity-50","mt-3","mb-2"],["class","letter-tight text-[#ff1a44] line-through font-bold",4,"ngIf"],[1,"font-bold","mb-2","text-3xl","text-[#424242]"],[1,"mb-3"],[1,"letter-tight","text-[#ff1a44]","line-through","font-bold"],["flyToCart","",1,"btn-add-to-cart","font-bold","rounded-md","border","border-solid","bg-gradient-primary","w-full","flex","justify-center","items-center","py-1",3,"targetSelector","flyProduct","disabled","click"],[1,"mt-1"],[1,"rounded-md","border","border-solid","border-[#c4c4c4]","w-full","flex","justify-center","items-center",3,"disabled","click"],["class","flex items-center h-10",4,"ngIf"],[1,"flex","items-center","h-10"],["class","flex items-center h-full",3,"queryParams","routerLink",4,"ngIf"],[1,"flex","items-center","h-full",3,"queryParams","routerLink"],["class","h-full mr-1",3,"src","alt",4,"ngIf"],[1,"block","whitespace-nowrap","text-[#0087ff]","font-bold","underline"],[1,"h-full","mr-1",3,"src","alt"],[1,"cashback","mb-2","border-animated"],[1,"content"],[1,"text-center","text-sm"],["cashbackContainer",""],["src","/assets/images/TYD-small.png","alt","TYD",1,"mr-2"],[1,"text-3xl","font-bold","text-[#36d690]","animated-gradient-green-text","tracking-tighter"],[1,"share-btn","px-4","py-1","text-white","flex","rounded-lg","items-center",3,"click"],[1,"mr-2","whitespace-nowrap"],["src","assets/svgs/paper-plane.svg","alt",""],["id","product-sticky-section",1,"w-full","md:w-4/12","my-3","px-4","md:px-0","sticky","md:static","top-0","z-0"],[1,"image-wrapper","relative","cursor-pointer",2,"padding-top","100%"],[1,"absolute","inset-0","pulSate"],[1,"flex","mt-3","justify-center"],["class","pulSate mx-2","style","width: 40px; height: 40px",4,"ngFor","ngForOf"],[1,"w-full","md:w-8/12","md:px-5","py-4","bg-white","px-4","rounded-t-2xl","z-1"],[1,"text-xl","mb-4","flex-1"],[1,"pulSate","tracking-widest","break-all"],[1,"mt-1","text-lg","mb-2","pulSate"],[1,"border","border-bottom","mb-4","hidden","md:block"],[1,"flex-1","mb-2","mr-1"],[1,"leading-4","hidden","md:block"],[1,"pulSate","tracking-widest"],[1,"text-lg","mb-2","hidden","md:block"],[1,"pulSate"],[1,"text-xs","md:hidden"],[1,"mt-3","border","border-bottom","opacity-50","mb-4","hidden","md:block"],[1,"flex","flex-wrap","mt-4","md:mt-0"],["class","flex flex-wrap mb-5",3,"ngClass",4,"ngFor","ngForOf"],[1,"rounded-lg","border","border-solid","w-full","flex","justify-center","items-center","py-2.5","add-cart-shadow"],[1,"font-medium","text-white"],[1,"flex-wrap","mb-3","items-center","hidden","md:flex","py-1"],[1,"pulSate","mx-2",2,"width","40px","height","40px"],[1,"flex","flex-wrap","mb-5",3,"ngClass"],[1,"pulSate","py-1"],[3,"time",4,"ngIf"],[3,"time"],[1,"mb-4","bg-gradient-primary","flex","px-3","py-2","text-white","md:rounded-md","flex-wrap"],[1,"flex-1","mr-2","limited-deal-text"],[1,""],["id","product-detail-menu-btn",1,"top-nav-btn","mr-1","flex","justify-center","items-center","flex-shrink-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16px","height","16px","viewBox","0 0 16 16","fill","currentColor"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.444 13.832a1 1 0 1 0 1.111-1.663 1 1 0 0 0-1.11 1.662zM8 9a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"],["side","bottom","alignment","center",3,"keepContentsMounted","dismissOnSelect","isOpen","didDismiss",4,"ngIf"],["side","bottom","alignment","center",3,"keepContentsMounted","dismissOnSelect","isOpen","didDismiss"],["popover",""],["lines","full"],["lines","none",1,"cursor-pointer",3,"click"],[3,"onSwitchMode"],["lines","none",1,"cursor-pointer",3,"disabled","click"],["flyToCart","","lines","none",1,"cursor-pointer",3,"disabled","targetSelector","flyProduct","click"],[3,"selectedAddress","addressList","isOpen","addNewAddress","onSelected","isOpenChange"],[3,"currAddress","isOpen","onSuccess","isOpenChange"],[3,"isOpen","images","initialSlide","isOpenChange",4,"ngIf"],[3,"isOpen","images","initialSlide","isOpenChange"],["productBiddingPageComp",""]],template:function(e,o){if(1&e&&(t.YNc(0,to,64,22,"ng-container",0),t.ALo(1,"async"),t.YNc(2,eo,2,0,"ng-template",null,1,t.W1O)),2&e){const i=t.MAs(3);t.Q6J("ngIf",!t.lcZ(1,2,o.biddingService.isBiddingMode$))("ngIfElse",i)}},styles:['.introduction[_ngcontent-%COMP%]{max-width:700px!important}.introduction[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{max-width:100%!important}.introduction[_ngcontent-%COMP%]     .ssd-module-wrap{width:auto!important}.introduction[_ngcontent-%COMP%]     .ssd-module-wrap>div{max-width:100%!important}.introduction[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 1100px){.introduction[_ngcontent-%COMP%]{max-width:580px!important}}@media (max-width: 950px){.introduction[_ngcontent-%COMP%]{max-width:400px!important}.introduction[_ngcontent-%COMP%]     .ssd-module-wrap>div{height:464px!important}}@media (max-width: 690px){.introduction[_ngcontent-%COMP%]{max-width:580px!important}}@media (max-width: 591px){.introduction[_ngcontent-%COMP%]{max-width:380px!important}.introduction[_ngcontent-%COMP%]     .ssd-module-wrap>div{height:464px!important}}[_nghost-%COMP%]   ion-progress-bar[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     ion-progress-bar{--background: green;--buffer-background: red;--progress-background: linear-gradient(to right,#FFFFFB,#FFFFA7,#FFF38D,#FFDC80,#FFBE75,#FFA76C)}[_nghost-%COMP%]   ion-toolbar[appOverflowVisible][_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     ion-toolbar[appOverflowVisible]{contain:none}[_nghost-%COMP%]   .product-info-disabled[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .product-info-disabled{color:#9c9c9c!important;opacity:.5}[_nghost-%COMP%]   .quantity-txt[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .quantity-txt{width:100px;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(221 221 221 / var(--tw-border-opacity))}[_nghost-%COMP%]   .quantity-txt[_ngcontent-%COMP%]     input, app-product-detail-bidding[_ngcontent-%COMP%]     .quantity-txt   input{padding-top:4px;padding-bottom:4px}[_nghost-%COMP%]   .score-style[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-style{flex-direction:column!important;margin:0!important;padding:30px 0!important}@media (max-width: 1023px){[_nghost-%COMP%]   .score-style[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-style{flex-direction:column!important;margin:0!important;padding:30px 0!important}[_nghost-%COMP%]   .score-item-style[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-item-style{max-width:100%!important;margin:7px 0!important}[_nghost-%COMP%]   .main-detail-product[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .main-detail-product{justify-content:unset}[_nghost-%COMP%]   .product-detail-style.ant-col-12[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .product-detail-style.ant-col-12{flex:0 0 66%;max-width:66%}}[_nghost-%COMP%]   .score[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score{padding:48px 0}[_nghost-%COMP%]   .score[_ngcontent-%COMP%]   .text-gray[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score .text-gray{color:#bfbfbf}[_nghost-%COMP%]   .score[_ngcontent-%COMP%]   .text-item[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score .text-item{flex:1;text-align:center}[_nghost-%COMP%]   .score-level[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-level{text-align:center}[_nghost-%COMP%]   .score-level[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-level .num{font-weight:800}[_nghost-%COMP%]   .score-graph[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-graph{flex:1}[_nghost-%COMP%]   .score-graph[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-graph .tag{width:28px;height:18px;line-height:18px;display:block;position:relative;margin-left:-14px;color:#fff;font-style:normal;text-align:center;background:linear-gradient(180deg,#fed3a7,#fb8811)}[_nghost-%COMP%]   .score-graph[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]   .caret[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-graph .tag .caret{display:inline-block;width:0;height:0;vertical-align:middle;border-top:4px dashed;border-top:4px solid \\\t;border-right:4px solid transparent;border-left:4px solid transparent;margin-left:-4px;position:absolute;bottom:-4px;left:50%;color:#fb8811}[_nghost-%COMP%]   .score-graph[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-graph .text{display:flex;justify-content:center;position:relative}[_nghost-%COMP%]   .score-graph[_ngcontent-%COMP%]   .text-item[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-graph .text-item{flex:1;text-align:center}[_nghost-%COMP%]   .score-count[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .score-count{text-align:center}[_nghost-%COMP%]   .cashback[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .cashback .content{border-radius:.75rem;padding:.25rem .75rem;border:1px solid #12cc73;box-shadow:0 0 5px #12cc72;min-width:160px}[_nghost-%COMP%]   .cashback[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .cashback img{width:40px}[_nghost-%COMP%]   .quantity-select[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .quantity-select{width:100px;background-color:#f2f4f3}[_nghost-%COMP%]   app-cart-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   app-heart-icon[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     app-cart-icon, app-product-detail-bidding[_ngcontent-%COMP%]     app-heart-icon{width:24px}[_nghost-%COMP%]   .sticky-section[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .sticky-section{float:right}[_nghost-%COMP%]   button[disabled][_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     button[disabled]{opacity:.5}[_nghost-%COMP%]   .share-btn[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .share-btn{background:linear-gradient(90deg,#067bff,#081fff);border:1px solid #63d3fd}[_nghost-%COMP%]   .share-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .share-btn img{height:24px}[_nghost-%COMP%]   .border-animated[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .border-animated{position:relative}[_nghost-%COMP%]   .border-animated[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .border-animated .content{position:relative;z-index:2;background-color:#fff}[_nghost-%COMP%]   .border-animated[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .border-animated[_ngcontent-%COMP%]:after, app-product-detail-bidding[_ngcontent-%COMP%]     .border-animated:before, app-product-detail-bidding[_ngcontent-%COMP%]     .border-animated:after{content:"";position:absolute;left:-2px;top:-2px;background:linear-gradient(45deg,#58ccae 40%,#62f6cb 50%,#58ccae 60%);background-size:400%;width:calc(100% + 4px);height:calc(100% + 4px);z-index:1;border-radius:12px;border-radius:.75rem;animation:bordersteam 2s linear infinite}@keyframes bordersteam{0%{background-position:150% 0}to{background-position:0% 0}}[_nghost-%COMP%]   .border-animated[_ngcontent-%COMP%]:after, app-product-detail-bidding[_ngcontent-%COMP%]     .border-animated:after{filter:blur(5px)}[_nghost-%COMP%]   .add-cart-shadow[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .add-cart-shadow{box-shadow:0 0 6px 1px #ff7e1880}[_nghost-%COMP%]   .bg-lightblue[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .bg-lightblue{background-color:#eff4fa}@media (min-width: 768px){[_nghost-%COMP%]   .bg-lightblue[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .bg-lightblue{background-color:transparent}}[_nghost-%COMP%]   #product-sticky-section[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     #product-sticky-section{transition:transform .05s}@media (min-width: 768px){[_nghost-%COMP%]   #product-sticky-section[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     #product-sticky-section{transform:none!important}}[_nghost-%COMP%]   .z-0[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .z-0{z-index:0}[_nghost-%COMP%]   .z-1[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .z-1{z-index:1}[_nghost-%COMP%]   app-product-related[_ngcontent-%COMP%]     swiper, app-product-detail-bidding[_ngcontent-%COMP%]     app-product-related   swiper{margin-right:-1rem}@media (min-width: 768px){[_nghost-%COMP%]   app-product-related[_ngcontent-%COMP%]     swiper, app-product-detail-bidding[_ngcontent-%COMP%]     app-product-related   swiper{margin-right:0}}[_nghost-%COMP%]   .letter-tight[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .letter-tight{letter-spacing:-.04em}[_nghost-%COMP%]   .pulSate[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .pulSate{word-break:break-word;letter-spacing:40px}[_nghost-%COMP%]   .mobile-favorite[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .mobile-favorite{bottom:68px;right:32px}[_nghost-%COMP%]   .max-constraint[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .max-constraint{max-width:1075px}[_nghost-%COMP%]   .sticky-image-preview[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .sticky-image-preview{width:50px;height:50px}[_nghost-%COMP%]   .sticky-widget-scroll[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .sticky-widget-scroll{min-width:200px}@media only screen and (max-width: 399px){[_nghost-%COMP%]   .limited-deal-text[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .limited-deal-text{display:none}}[_nghost-%COMP%]   .fire-animation[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .fire-animation{width:50px;bottom:62px;left:0}[_nghost-%COMP%]   .animated-gradient-golden-text[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .animated-gradient-golden-text{background:linear-gradient(to right,#feb000 20%,#ffda84 40%,#ffda84 40%,#feb000 80%);background-size:200% auto;color:#000;background-clip:text;text-fill-color:transparent;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shine 2s linear infinite}[_nghost-%COMP%]   .product-detail-menu-btn[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .product-detail-menu-btn{width:45px;height:45px;background-color:#fafafa}[_nghost-%COMP%]   ion-popover[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     ion-popover{--backdrop-opacity: 0;--max-width: 180px}[_nghost-%COMP%]   app-heart-animated[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     app-heart-animated{height:36px}[_nghost-%COMP%]   .btn-add-to-cart[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .btn-add-to-cart{border:1px solid #00d2ff;background:#007eff}@media (min-width: 768px){[_nghost-%COMP%]   .btn-add-to-cart[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .btn-add-to-cart{border:1px solid #ffd200;background:#ffdf00}}[_nghost-%COMP%]   app-products-infinite-scroll[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     app-products-infinite-scroll .grid{grid-template-columns:repeat(2,minmax(0,1fr))}@media (min-width: 340px){[_nghost-%COMP%]   app-products-infinite-scroll[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     app-products-infinite-scroll .grid{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width: 640px){[_nghost-%COMP%]   app-products-infinite-scroll[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     app-products-infinite-scroll .grid{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (min-width: 768px){[_nghost-%COMP%]   app-products-infinite-scroll[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     app-products-infinite-scroll .grid{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (min-width: 1024px){[_nghost-%COMP%]   app-products-infinite-scroll[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     app-products-infinite-scroll .grid{grid-template-columns:repeat(5,minmax(0,1fr))}}[_nghost-%COMP%]   .loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .loader-container span{display:block;position:absolute;height:32px;width:32px;clip:rect(16px,32px,32px,0);margin:auto;inset:0;animation:loader-2-2 1.5s linear infinite}[_nghost-%COMP%]   .loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before, app-product-detail-bidding[_ngcontent-%COMP%]     .loader-container span:before{content:"";display:block;position:absolute;inset:0;margin:auto;height:20px;width:20px;border:2px solid transparent;border-top:2px solid rgba(0,0,0,.3);border-radius:50%;animation:loader-2-3 1.5s linear infinite}[_nghost-%COMP%]   .loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after, app-product-detail-bidding[_ngcontent-%COMP%]     .loader-container span:after{content:"";display:block;position:absolute;inset:0;margin:auto;height:20px;width:20px;border:2px solid rgba(0,0,0,.3);border-radius:50%}[_nghost-%COMP%]   .product-name[_ngcontent-%COMP%]   app-copy-icon[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .product-name app-copy-icon{display:none}@media (min-width: 768px){[_nghost-%COMP%]   .product-name[_ngcontent-%COMP%]:hover   app-copy-icon[_ngcontent-%COMP%], app-product-detail-bidding[_ngcontent-%COMP%]     .product-name:hover app-copy-icon{display:block}}']}),n})();var no=c(11481),W=c(90147),_t=c(7228);function oo(n,r){1&n&&(t.TgZ(0,"div",9),t._UZ(1,"app-loading-animation",10),t.qZA())}function io(n,r){if(1&n&&(t._UZ(0,"div",11),t.ALo(1,"translate")),2&n){const e=t.oxw(2);t.Q6J("innerHTML",t.xi3(1,1,e.statementKey,e.statementValue),t.oJD)}}function ro(n,r){if(1&n&&(t.TgZ(0,"div",1),t.YNc(1,oo,2,0,"div",2),t.TgZ(2,"div")(3,"div",3),t._UZ(4,"div",4),t.TgZ(5,"div",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t._UZ(8,"div",6),t.qZA(),t._UZ(9,"div",7),t.YNc(10,io,2,4,"div",8),t.qZA()()),2&n){const e=r.ngLet,o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.isLoading&&e),t.xp6(1),t.ekj("invisible",o.isLoading&&e),t.xp6(4),t.Oqu(t.lcZ(7,6,"shop-product-page-description")),t.xp6(3),t.Q6J("innerHTML",o.introductionHTML,t.oJD),t.xp6(1),t.Q6J("ngIf",o.statementKey)}}k.ZP.use([k.W_,k.pt,k.N1,k.tl,k.LW,k.LG,X.L$]);let Ft=(()=>{class n{constructor(e,o,i,a){this.sanitizer=e,this.biddingService=o,this.productsService=i,this.cdr=a,this.isLoading=!0}ngOnChanges(e){this.introductionHTML=this.sanitizer.bypassSecurityTrustHtml(this.productDetail?.introduction||"")}ngOnInit(){this.isLoading=!0,this.cdr.detectChanges(),this.queryProductDetail()}ngAfterViewInit(){x.Z.isBrowser&&setTimeout(()=>{this.isLoading=!1,this.cdr.detectChanges()},3500)}queryProductDetail(){var e=this;return(0,_.Z)(function*(){const o=yield(0,I.n)(e.productsService.queryProductDetail(e.productDetail.id));e.statementKey=o.statementI18nKey,e.statementValue=o.statementI18nVal})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(no.H7),t.Y36(U.g),t.Y36(st.s),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-images-description"]],inputs:{productDetail:"productDetail"},features:[t.TTD],decls:2,vars:3,consts:[["class","relative w-full",4,"ngLet"],[1,"relative","w-full"],["class","loading absolute w-full top-5",4,"ngIf"],[1,"flex","mb-4","title"],[1,"border-b","border-primary","first-divider","mb-2","opacity-50"],[1,"shrink-0","text-primary","mx-3"],[1,"border-b","border-primary","flex-1","mb-2","opacity-50"],[3,"innerHTML"],["class","product-statement",3,"innerHTML",4,"ngIf"],[1,"loading","absolute","w-full","top-5"],[1,"w-fit","mx-auto","block"],[1,"product-statement",3,"innerHTML"]],template:function(e,o){1&e&&(t.YNc(0,ro,11,8,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngLet",t.lcZ(1,1,o.biddingService.isBiddingMode$))},dependencies:[l.O5,W.h,_t.r,l.Ov,h.X$],styles:[".first-divider[_ngcontent-%COMP%]{width:20px}app-loading-animation[_ngcontent-%COMP%]     .knight-rider-bar{height:.32em;width:.22em;background-color:#8e8e8e}app-loading-animation[_ngcontent-%COMP%]     .knight-rider-loader{font-size:35px;line-height:35px}.product-statement[_ngcontent-%COMP%]{padding:12px;font-size:12px}"],changeDetection:0}),n})();var N=c(5963),et=c(83905),ct=c(39646),nt=c(95698),lt=c(70262),v=c(93379),G=c(18110),ot=c(60928),dt=c(10709),pt=c(70325);function ao(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-bid-button",15),t.NdJ("onPoolCompleted",function(i){t.CHM(e);const a=t.oxw(5);return t.KtG(a.onPoolCompleted(i))})("onPoolUpdated",function(i){t.CHM(e);const a=t.oxw(5);return t.KtG(a.onPoolUpdated(i))}),t.qZA()}if(2&n){const e=t.oxw(2),o=e.$implicit,i=e.index,a=t.oxw(2).ngLet,s=t.oxw();t.s9C("id","product-details-recommend-"+o.id),t.MGl("animationTarget","#product-details-recommend-",o.id,""),t.Q6J("product",o)("pool",s.biddingPools[i])("isLogin",!!a)}}const Yt=function(){return["/product","detail"]},so=function(n){return{id:n}};function co(n,r){if(1&n&&(t.TgZ(0,"a",16),t._UZ(1,"img",17),t.TgZ(2,"span",18),t._uU(3),t.ALo(4,"currency"),t.qZA(),t.TgZ(5,"div",19),t._uU(6),t.ALo(7,"currency"),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.Q6J("routerLink",t.DdM(8,Yt))("queryParams",t.VKq(9,so,e.id)),t.xp6(3),t.hij(" ",t.lcZ(4,4,e.price)," "),t.xp6(3),t.hij(" ",t.lcZ(7,6,e.marketPrice)," ")}}function lo(n,r){if(1&n&&(t.TgZ(0,"div",20)(1,"div",21),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",e.name," ")}}function po(n,r){if(1&n&&(t.TgZ(0,"p",27),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw(3).index,o=t.oxw(3);t.xp6(1),t.hij(" ",t.xi3(2,1,o.biddingPools[e].currentPoolPercentage,"0.0-0"),"% ")}}function go(n,r){if(1&n&&t._UZ(0,"app-bidding-pool-status",28),2&n){const e=t.oxw(3).index,o=t.oxw(3);t.Q6J("pool",o.biddingPools[e])}}function uo(n,r){if(1&n&&(t.TgZ(0,"div",22)(1,"p",23),t._uU(2),t.qZA(),t._UZ(3,"app-bidding-progress-bar",24),t.YNc(4,po,3,4,"p",25),t.YNc(5,go,1,1,"ng-template",null,26,t.W1O),t.qZA()),2&n){const e=t.MAs(6),o=t.oxw(2),i=o.$implicit,a=o.index,s=t.oxw(3);t.xp6(2),t.hij(" ",i.name," "),t.xp6(1),t.Q6J("currentPoolPercentage",s.biddingPools[a].currentPoolPercentage)("hasEntered",s.biddingPools[a].bidAmount>0),t.xp6(1),t.Q6J("ngIf",s.biddingPools[a].currentPoolPercentage<100)("ngIfElse",e)}}const _o=function(n,r){return{id:n,poolId:r}},mo=function(n){return{"rounded-lg overflow-hidden":n}};function fo(n,r){if(1&n&&(t.TgZ(0,"div",5)(1,"div",6)(2,"a",7)(3,"div",8)(4,"div",9),t._UZ(5,"img",10),t.qZA()()(),t.YNc(6,ao,1,5,"app-bid-button",11),t.qZA(),t.YNc(7,co,8,11,"a",12),t.YNc(8,lo,3,1,"div",13),t.YNc(9,uo,7,5,"ng-template",null,14,t.W1O),t.qZA()),2&n){const e=t.MAs(10),o=t.oxw(),i=o.$implicit,a=o.index,s=t.oxw(3);t.xp6(2),t.Q6J("routerLink",t.DdM(9,Yt))("queryParams",t.WLB(10,_o,i.id,s.isBiddingMode?s.biddingPools[a].poolId||0:null))("queryParamsHandling","merge")("ngClass",t.VKq(13,mo,s.isBiddingMode)),t.xp6(3),t.Q6J("src",i.productImages[0].source,t.LSH),t.xp6(1),t.Q6J("ngIf",s.isBiddingMode),t.xp6(1),t.Q6J("ngIf",!s.isBiddingMode),t.xp6(1),t.Q6J("ngIf",!s.isBiddingMode)("ngIfElse",e)}}function ho(n,r){1&n&&t.YNc(0,fo,11,15,"ng-template",4)}function xo(n,r){if(1&n&&(t.TgZ(0,"swiper",2),t.YNc(1,ho,1,0,null,3),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("config",e.swiperOpts),t.xp6(1),t.Q6J("ngForOf",e.productList)("ngForTrackBy",e.trackByFn)}}function bo(n,r){if(1&n&&(t.ynx(0),t.YNc(1,xo,2,3,"swiper",1),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productList.length>0)}}let jt=(()=>{class n{constructor(e,o,i,a){this.productsService=e,this.userService=o,this.cdr=i,this.biddingService=a,this.productList=[],this.biddingPools=[],this.loading=!1,this.swiperOpts={direction:"vertical",slidesPerView:"auto",speed:400,autoplay:{delay:5e3,disableOnInteraction:!0,pauseOnMouseEnter:!0},noSwipingSelector:"app-bid-button"}}ngOnInit(){}ngOnChanges(e){var o=this;return(0,_.Z)(function*(){if(!x.Z.isServer&&e.relatedProduct.currentValue&&e.relatedProduct.currentValue!==e.relatedProduct.previousValue){const i=o.isBiddingMode?yield(0,I.n)(o.biddingService.getProductsWithPoolInfo({page:0,rows:15,isRecommended:!0,productCategoryId:o.relatedProduct?.productCategoryId})):yield(0,I.n)(o.productsService.getProductsByMetaParamsV2({rows:10,page:Math.floor(10*Math.random()),isRecommended:!0,categoryId:o.relatedProduct?.productCategoryId,traceId:o.userService.traceId}));o.isBiddingMode&&o.setPoolConfig(i.rows),o.productList=i.rows,o.cdr.markForCheck()}})()}trackByFn(e,o){return o.id}setPoolConfig(e){const o=[];e.forEach(i=>{o.push({poolId:i.poolId,poolOwner:{id:i.sponsorId,userId:i.sponsorName,avatar:i.sponsorAvatar??"assets/images/sign-up-user.svg"},currentPoolSize:i.currentTickets,currentPoolPercentage:(0,G.DU)(i.currentTickets,i.maxTickets),poolLimit:i.maxTickets,userMaxTickets:i.userMaxTickets,bidAmount:i.userTotalTickets,status:i.status})}),this.biddingPools=o}onPoolCompleted(e){var o=this;return(0,_.Z)(function*(){console.log("Pool completed!"),x.Z.isBrowser&&(e.status=2,o.cdr.detectChanges(),yield(0,I.n)((0,N.H)(3e3)),e.status=100,o.cdr.detectChanges(),yield(0,I.n)((0,N.H)(2e3))),o.getNewProductPool(e),o.cdr.detectChanges()})()}onPoolUpdated(e){var o=this;return(0,_.Z)(function*(){const i=yield(0,et.z)(o.biddingService.getProductPools({rows:1,page:0,poolId:e.poolId}).pipe((0,nt.q)(1))),a=i?.rows?i.rows.find(s=>s.id==e?.poolId):null;a&&(e.currentPoolSize=a.currentTickets,e.currentPoolPercentage=(0,G.DU)(a.currentTickets,a.maxTickets),e.bidAmount=a.userTotalTickets,console.log("Pool updated!"),o.cdr.detectChanges())})()}getNewProductPool(e){var o=this;return(0,_.Z)(function*(){const i=o.productList.find(s=>s.poolId==e.poolId);if(!i)return;const a=yield(0,et.z)(o.biddingService.getProductPools({rows:1,page:0,skuId:i.productSkuId,status:0}).pipe((0,lt.K)(s=>(0,ct.of)({error:s}))));if(a?.rows?.length>0){const s=a.rows[0];e.poolId=s.id,e.poolOwner={id:s.sponsorId,userId:s.sponsorName,avatar:s.sponsorAvatar??"/assets/images/sign-up-user.svg"},e.currentPoolSize=s.currentTickets,e.currentPoolPercentage=(0,G.DU)(s.currentTickets,s.maxTickets),e.poolLimit=s.maxTickets,e.userMaxTickets=i.userMaxTickets,e.bidAmount=s.userTotalTickets,e.status=s.status}else e.poolId="",e.poolOwner={id:0,userId:"",avatar:"/assets/images/sign-up-user.svg"},e.currentPoolSize=0,e.currentPoolPercentage=0,e.bidAmount=0,e.status=v.j1.OPEN;o.cdr.detectChanges()})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(st.s),t.Y36(F.K),t.Y36(t.sBO),t.Y36(U.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-recommend"]],inputs:{relatedProduct:"relatedProduct",isBiddingMode:"isBiddingMode"},features:[t.TTD],decls:2,vars:3,consts:[[4,"ngLet"],["class","recommend-swiper",3,"config",4,"ngIf"],[1,"recommend-swiper",3,"config"],[4,"ngFor","ngForOf","ngForTrackBy"],["swiperSlide",""],[1,"w-full","product-recommended-card"],[1,"relative"],[1,"w-full",3,"routerLink","queryParams","queryParamsHandling","ngClass"],[1,"product-img"],[1,"absolute","inset-0"],[1,"object-cover","!w-full","!h-full",3,"src"],["class","w-full",3,"id","product","pool","isLogin","animationTarget","onPoolCompleted","onPoolUpdated",4,"ngIf"],["class","flex justify-center items-center",3,"routerLink","queryParams",4,"ngIf"],["class","relative w-full h-6",4,"ngIf","ngIfElse"],["biddingInfo",""],[1,"w-full",3,"id","product","pool","isLogin","animationTarget","onPoolCompleted","onPoolUpdated"],[1,"flex","justify-center","items-center",3,"routerLink","queryParams"],["src","assets/svgs/fire-animation.svg","alt","",1,"!h-6"],[1,"mx-2","text-primary","text-sm","font-medium"],[1,"line-through","opacity-20"],[1,"relative","w-full","h-6"],[1,"absolute","truncate","inset-0","opacity-70"],[1,"cursor-default","mt-1.5"],[1,"product-title","truncate","text-black","text-center","font-medium","mb-2.5","text-sm","select-none"],[3,"currentPoolPercentage","hasEntered"],["class","invisible -mt-1 text-black font-bold mb-px text-center whitespace-nowrap text-sm select-none",4,"ngIf","ngIfElse"],["drawingWinner",""],[1,"invisible","-mt-1","text-black","font-bold","mb-px","text-center","whitespace-nowrap","text-sm","select-none"],[3,"pool"]],template:function(e,o){1&e&&(t.YNc(0,bo,2,1,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngLet",t.lcZ(1,1,o.userService.userInfo$))},dependencies:[l.mk,l.sg,l.O5,W.h,ot.w,dt.u,pt.P,d.Fo,b.nF,b.YC,T.yS,l.Ov,l.JJ,l.H9],styles:[".recommend-swiper[_ngcontent-%COMP%]{max-height:900px}.recommend-swiper[_ngcontent-%COMP%]     .swiper-wrapper{align-items:center}.recommend-swiper[_ngcontent-%COMP%]     .swiper-slide{height:auto;min-height:150px;max-width:220px;margin-bottom:1rem;align-items:flex-start}app-bid-button[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}app-bid-button[_ngcontent-%COMP%]     .bidding-bar{width:100%;border-top-left-radius:0;border-top-right-radius:0;border:none;height:40px}app-bidding-pool-status[_ngcontent-%COMP%]     .pool-status{margin-bottom:1px;margin-top:-.25rem;font-size:.875rem;line-height:1.25rem}.swiper-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:220px}@media (min-width: 768px){.swiper-wrapper[_ngcontent-%COMP%]     .bidding-bar .no-login{margin-left:12px}}.swiper-wrapper[_ngcontent-%COMP%]:hover     .bidding-bar.can-bid{transform:scaleY(1.3);transform-origin:bottom}.swiper-wrapper[_ngcontent-%COMP%]:hover     .bidding-bar.can-bid img, .swiper-wrapper[_ngcontent-%COMP%]:hover     .bidding-bar.can-bid .bid-amount, .swiper-wrapper[_ngcontent-%COMP%]:hover     .bidding-bar.can-bid .enter-now{transform:scaleY(.76)}.product-img[_ngcontent-%COMP%]{width:100%;padding-top:100%;position:relative;overflow:hidden}  .bidding-mode-global app-product-recommend .product-img{border:1px solid #ebebeb;border-radius:9px;background-color:#fff}  .bidding-mode-global .product-recommended-card{padding:3px;border:1px solid transparent}  .bidding-mode-global .product-recommended-card:hover{border-radius:9px;background:#ECF0F2;border:1px solid #dddddd}"],changeDetection:0}),n})();var Pt=c(54004),vo=c(23284),Ht=c(59809);function wo(n,r){if(1&n&&t._UZ(0,"app-product-card",5),2&n){const e=t.oxw().$implicit,o=t.oxw(2).ngLet;t.Q6J("product",e)("isLogin",!!o)}}function Po(n,r){1&n&&t.YNc(0,wo,1,2,"ng-template",4)}function Co(n,r){if(1&n&&(t.TgZ(0,"swiper",2),t.YNc(1,Po,1,0,null,3),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("config",e.slideOpts),t.xp6(1),t.Q6J("ngForOf",e.relatedProducts.rows)("ngForTrackBy",e.identify)}}function To(n,r){1&n&&t._UZ(0,"app-product-card-skeleton",7)}function yo(n,r){1&n&&t.YNc(0,To,1,0,"ng-template",4)}const Oo=function(){return[]};function Mo(n,r){if(1&n&&(t.TgZ(0,"swiper",2),t.YNc(1,yo,1,0,null,6),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("config",e.slideOpts),t.xp6(1),t.Q6J("ngForOf",t.DdM(2,Oo).constructor(7).fill(1))}}function Zo(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Co,2,3,"swiper",1),t.YNc(2,Mo,2,3,"swiper",1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isLoading&&e.relatedProducts),t.xp6(1),t.Q6J("ngIf",e.isLoading)}}let ko=(()=>{class n{constructor(e,o,i,a){this.productsService=e,this.cdr=o,this.userService=i,this.biddingService=a,this.isRandom=!1,this.slideOpts={slidesPerView:"auto",autoplay:{delay:2e3,disableOnInteraction:!0,pauseOnMouseEnter:!0}},this.isLoading=!0}ngOnInit(){}identify(e,o){return o.id}ngOnChanges(e){this.isRandom?e.productId?.currentValue!==e.productId?.previousValue&&this.fetchData():e.product?.currentValue!==e.product?.previousValue&&this.product&&this.fetchData({categoryId:this.product.productCategoryId,brandId:this.product.brandId})}fetchData(e={}){var o=this;return(0,_.Z)(function*(){if(o.isLoading=!0,o.cdr.markForCheck(),!x.Z.isServer){if(!o.isRandom&&!o.product)return;o.productsService.getProductsByMetaParamsV2({page:Math.floor(5*Math.random()),rows:Math.floor(14*Math.random())+7,...e}).pipe((0,Pt.U)(i=>({...i,rows:i.rows.filter(a=>a.id!==o.productId)}))).subscribe({next:i=>{o.relatedProducts=i,o.isLoading=!1,o.cdr.markForCheck()},complete:()=>{o.isLoading=!1,o.cdr.markForCheck()},error:()=>{o.isLoading=!1,o.cdr.markForCheck()}})}})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(st.s),t.Y36(t.sBO),t.Y36(F.K),t.Y36(U.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-related"]],inputs:{productId:"productId",product:"product",isRandom:"isRandom"},features:[t.TTD],decls:2,vars:3,consts:[[4,"ngLet"],["class","related-swiper",3,"config",4,"ngIf"],[1,"related-swiper",3,"config"],[4,"ngFor","ngForOf","ngForTrackBy"],["swiperSlide",""],[1,"w-full",3,"product","isLogin"],[4,"ngFor","ngForOf"],[1,"w-full"]],template:function(e,o){1&e&&(t.YNc(0,Zo,3,2,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngLet",t.lcZ(1,1,o.userService.userInfo$))},dependencies:[l.sg,l.O5,vo.Y,W.h,b.nF,b.YC,Ht.I,l.Ov],styles:[".related-swiper[_ngcontent-%COMP%]     .swiper-wrapper{margin-left:-.125rem;margin-right:-.125rem;padding-top:.25rem}@media only screen and (min-width: 279px){.related-swiper[_ngcontent-%COMP%]     .swiper-wrapper{margin-left:-.25rem;margin-right:-.25rem}}.related-swiper[_ngcontent-%COMP%]     .swiper-slide{width:150px;padding-left:.125rem;padding-right:.125rem}@media only screen and (min-width: 260px){.related-swiper[_ngcontent-%COMP%]     .swiper-slide{padding-left:.25rem;padding-right:.25rem}}@media (min-width: 1024px){.related-swiper[_ngcontent-%COMP%]     .swiper-slide{width:20%}}@media (min-width: 1280px){.related-swiper[_ngcontent-%COMP%]     .swiper-slide{width:16.8067226891%}}.related-swiper[_ngcontent-%COMP%]     .swiper-slide app-product-card .product-title, .related-swiper[_ngcontent-%COMP%]     .swiper-slide app-product-card-skeleton .product-title{height:24px;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}"],changeDetection:0}),n})();var Ct=c(24006),Tt=c(7858),Ao=c(1927),yt=c(97717);let Io=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.ez,d.Pc,h.aw,p.m,yt.O]}),n})();var mt=c(99501);let So=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.m,d.Pc,mt.OrdersModule]}),n})();var Rt=c(48910),zt=c(39172),Gt=c(98667),j=c(65433),y=c(37340),Kt=c(49770),Lo=c(60515),Bo=c(54482),Wt=c(25403),Do=c(38421);function $t(n){let e,r=1/0;return null!=n&&("object"==typeof n?({count:r=1/0,delay:e}=n):r=n),r<=0?()=>Lo.E:(0,Bo.e)((o,i)=>{let s,a=0;const u=()=>{if(s?.unsubscribe(),s=null,null!=e){const g="number"==typeof e?(0,N.H)(e):(0,Do.Xf)(e(a)),m=(0,Wt.x)(i,()=>{m.unsubscribe(),C()});g.subscribe(m)}else C()},C=()=>{let g=!1;s=o.subscribe((0,Wt.x)(i,void 0,()=>{++a<r?s?u():g=!0:i.complete()})),g&&u()};C()})}var H=c(5565),Vt=c(76821);function Uo(n,r){if(1&n&&(t.TgZ(0,"div",5),t._UZ(1,"img",6),t.TgZ(2,"div",7),t._uU(3," x "),t._UZ(4,"app-odometer",8),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("input",e.entry.tickets)("disableInitialAnimation",!0)}}function Jo(n,r){1&n&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"view-pool")," "))}let qo=(()=>{class n{constructor(e){this.cdr=e,this.showTicketCount=!0,this.someField=!1}ngOnChanges(e){const o=e.entry;o&&!o.isFirstChange()&&o.previousValue!==o.currentValue&&o.currentValue?.tickets>o.previousValue.tickets&&(this.someField=!0,setTimeout(()=>{this.someField=!1,this.cdr.markForCheck()},1100))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-global-entry-item"]],hostVars:2,hostBindings:function(e,o){2&e&&t.ekj("isChanging",o.someField)},inputs:{entry:"entry",showTicketCount:"showTicketCount"},standalone:!0,features:[t.TTD,t.jDz],decls:7,vars:4,consts:[[1,"font-medium","text-black","flex","flex-nowrap","items-center"],[1,"mr-1","object-cover","rounded-sm","avatar","!h-5","!w-5",3,"src"],[1,"truncate","product-name","flex-1"],["class","font-medium text-gray-600 flex flex-nowrap items-start amount",4,"ngIf","ngIfElse"],["viewPool",""],[1,"font-medium","text-gray-600","flex","flex-nowrap","items-start","amount"],["src","assets/images/ticket.png",1,"ticket-image","mr-1","object-cover","!h-6","!w-6"],[1,"ticket","overflow-hidden","whitespace-nowrap"],["format","d",3,"input","disableInitialAnimation"],[1,"view-pool","font-semibold","text-gray-600","flex","flex-nowrap","items-start","w-fit","py-0.5","px-1","rounded"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.qZA(),t.TgZ(2,"div",2),t._uU(3),t.qZA(),t.YNc(4,Uo,5,2,"div",3),t.YNc(5,Jo,3,3,"ng-template",null,4,t.W1O)),2&e){const i=t.MAs(6);t.xp6(1),t.Q6J("src",o.entry.productImage,t.LSH),t.xp6(2),t.hij(" ",null==o.entry?null:o.entry.productName," "),t.xp6(1),t.Q6J("ngIf",o.showTicketCount)("ngIfElse",i)}},dependencies:[l.ez,l.O5,p.m,Vt.D,h.aw,h.X$],styles:[".amount[_ngcontent-%COMP%]{width:84px}app-odometer[_ngcontent-%COMP%]{display:inline-block;width:40px}.view-pool[_ngcontent-%COMP%]{background-color:#eff8ff;border:1px solid #cbd9e7;color:#22211e;font-size:13px}"]}),n})();function No(n,r){if(1&n&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngLet;t.xp6(1),t.hij(" ",e>99?"99+":e," ")}}function Eo(n,r){if(1&n&&(t.TgZ(0,"div",8),t._uU(1),t.ALo(2,"translate"),t.YNc(3,No,2,1,"div",9),t.qZA()),2&n){const e=r.ngLet;t.xp6(1),t.hij(" ",t.lcZ(2,2,"my-entries")," "),t.xp6(2),t.Q6J("ngIf",e)}}function Qo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",18)(1,"app-global-entry-item",19),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.handleClick(a))}),t.qZA()()}if(2&n){const e=r.$implicit;t.Q6J("@scrollItem",void 0),t.xp6(1),t.Q6J("entry",e)}}function Fo(n,r){if(1&n&&(t.TgZ(0,"ng-scrollbar",15)(1,"div",16),t.YNc(2,Qo,2,2,"div",17),t.ALo(3,"slice"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",t.Dn7(3,2,e.entries,0,50))("ngForTrackBy",e.identifyEntries)}}function Yo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",18)(1,"app-global-entry-item",25),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.handleClick(a))}),t.qZA()()}if(2&n){const e=r.$implicit;t.Q6J("@scrollItem",void 0),t.xp6(1),t.Q6J("entry",e)("showTicketCount",!1)}}const jo=function(){return["/member","my-entries","list"]};function Ho(n,r){if(1&n&&(t.TgZ(0,"div",20)(1,"ng-scrollbar",21)(2,"div",16),t.YNc(3,Yo,2,3,"div",17),t.ALo(4,"slice"),t.qZA()(),t.TgZ(5,"div",22)(6,"a",23),t._uU(7),t.ALo(8,"translate"),t._UZ(9,"ion-icon",24),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",t.Dn7(4,4,e.myEntries,0,50))("ngForTrackBy",e.identifyMyEntries),t.xp6(3),t.Q6J("routerLink",t.DdM(10,jo)),t.xp6(1),t.hij(" ",t.lcZ(8,8,"see-all")," ")}}function Ro(n,r){if(1&n&&(t.TgZ(0,"div",11)(1,"swiper",12,13),t.YNc(3,Fo,4,6,"ng-template",14),t.YNc(4,Ho,10,11,"ng-template",14),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("config",e.slideOpts)}}const zo=function(n){return{isCollapse:n}};let Xt=(()=>{class n extends H.V{constructor(e,o,i,a,s){super(),this.biddingService=e,this.userService=o,this.router=i,this.activatedRoute=a,this.cdr=s,this.onlyShowHeader=!1,this.isCollapse=!1,this._showMyEntries=!1,this.showMyEntriesChange=new t.vpe,this.isCollapseChange=new t.vpe,this.entries=[],this.myEntries=[],this.slideOpts={slidesPerView:"auto",allowTouchMove:!1}}set showMyEntries(e){this._showMyEntries=e,this.swiper?.swiperRef.slideTo(e?1:0)}get showMyEntries(){return this._showMyEntries}get itemsList(){return this.showMyEntries?this.myEntries:this.entries}ngOnInit(){this.onlyShowHeader||(this.loadData(),this.userService.userInfo$.pipe((0,P.R)(this.destroyStream$)).subscribe(e=>{e&&this.biddingService.refreshOwnEntries().subscribe()}),this.biddingService.myEntries$.pipe((0,P.R)(this.destroyStream$)).subscribe(e=>{this.myEntries=e}))}cookData(e,o){for(let i=o.length-1;i>=0;i--){const a=o[i];let s=e.find(u=>u.id===a.id);s?s.lastModifiedDate!==a.lastModifiedDate&&(a.tickets=Math.max(a.currentTickets-s.currentTickets,1),e.unshift(a)):e.unshift(a)}return e.slice(0,200)}changeTab(e=!1){this.isCollapse?this.isCollapse=!1:this.showMyEntries===e&&(this.isCollapse=!this.isCollapse),e&&this.biddingService.refreshOwnEntries().subscribe(),this.showMyEntries=e,this.isCollapseChange.emit(this.isCollapse),this.showMyEntriesChange.emit(this.showMyEntries)}handleCollapse(){this.isCollapse=!this.isCollapse,this.isCollapseChange.emit(this.isCollapse)}loadData(){this.subscription&&this.subscription.unsubscribe(),this.getEntries(),this.initPollEntries()}getEntries(){var e=this;this.biddingService.getProductPools({page:0,rows:100,status:0,sortType:4}).pipe((0,P.R)(this.destroyStream$),(0,Pt.U)(o=>({...o,rows:o.rows?.map(i=>({...i,productId:i.productId,productName:i.productName,productImage:JSON.parse(i.productImages||"{}")[0]?.source,tickets:i.currentTickets,poolId:i.id}))})),(0,lt.K)(o=>(0,ct.of)({error:o}))).subscribe(function(){var o=(0,_.Z)(function*(i){i?.rows&&(e.entries=e.cookData(e.entries,i.rows),e.cdr.detectChanges())});return function(i){return o.apply(this,arguments)}}())}initPollEntries(){x.Z.isBrowser&&(this.subscription&&this.subscription.unsubscribe(),this.subscription=(0,Kt.P)(()=>(0,N.H)(1e3*(0,G.xT)(2,4))).pipe($t(),(0,P.R)(this.destroyStream$)).subscribe(()=>{this.showMyEntries?this.biddingService.refreshOwnEntries().subscribe():this.getEntries()}))}identifyEntries(e,o){return o.id+""+o.lastModifiedDate}identifyMyEntries(e,o){return o.id}handleClick(e){this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{id:e.productId,poolId:e.poolId,bid:!0},queryParamsHandling:"merge",skipLocationChange:!1})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.g),t.Y36(F.K),t.Y36(T.F0),t.Y36(T.gz),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bidding-global-entries"]],viewQuery:function(e,o){if(1&e&&t.Gf(b.nF,5),2&e){let i;t.iGM(i=t.CRH())&&(o.swiper=i.first)}},inputs:{onlyShowHeader:"onlyShowHeader",isCollapse:"isCollapse",showMyEntries:"showMyEntries"},outputs:{showMyEntriesChange:"showMyEntriesChange",isCollapseChange:"isCollapseChange"},standalone:!0,features:[t.qOj,t.jDz],decls:12,vars:14,consts:[[1,"main-container","relative","mt-2.5",3,"ngClass"],[1,"w-5","h-5","hidden","md:flex","cursor-pointer","rounded-full","border","border-[#dddddd]","items-center","justify-center","absolute","right-0","top-0","transform","translate-x-1/2","-translate-y-1/2","bg-white","z-20",3,"click"],["name","chevron-down-outline",1,"arrow-icon",2,"color","#c6c1c1"],[1,"tab-container","border","rounded-t-xl","border-b","flex","top-0","z-10","bg-white","relative","overflow-hidden"],[1,"tab-title-wrapper","group","border-b-4","border-white","flex-1","flex","justify-center",3,"click"],[1,"tab-title","text-center","group-hover:text-primary","px-1","xs:px-3","md:px-6","pt-2","pb-1.5","font-medium","cursor-pointer","select-none"],["class","tab-title text-center group-hover:text-primary px-1 xs:px-3 pt-2 pb-1.5 font-medium cursor-pointer select-none flex justify-center",4,"ngLet"],["class","credit-tabs-body relative border border-t-0 text-sm rounded-b-xl overflow-hidden bg-white flex flex-col",4,"ngIf"],[1,"tab-title","text-center","group-hover:text-primary","px-1","xs:px-3","pt-2","pb-1.5","font-medium","cursor-pointer","select-none","flex","justify-center"],["class","text-white own-entries flex items-center justify-center rounded-full h-6 px-1 ml-2",4,"ngIf"],[1,"text-white","own-entries","flex","items-center","justify-center","rounded-full","h-6","px-1","ml-2"],[1,"credit-tabs-body","relative","border","border-t-0","text-sm","rounded-b-xl","overflow-hidden","bg-white","flex","flex-col"],[1,"absolute","inset-0","h-full","w-full",3,"config"],["swiper",""],["swiperSlide",""],["visibility","hover",1,"w-full","flex-1","text-sm","text-left"],[1,"entries","w-full"],["class","line-entry",4,"ngFor","ngForOf","ngForTrackBy"],[1,"line-entry"],[1,"absolute","entry","cursor-pointer","bottom-0","left-0","entry","w-full","gap-2","justify-start","flex","px-1","border-t","border-slate-200","py-1.5",3,"entry","click"],[1,"h-full","flex","flex-col","text-sm","text-left"],["visibility","hover",1,"w-full","flex-1"],[1,"flex","justify-end","capitalize","text-base","font-medium","border-t","border-slate-200","px-1"],["href","",1,"flex","items-center","py-1.5",3,"routerLink"],["name","chevron-forward-outline",1,"text-lg"],[1,"absolute","entry","cursor-pointer","bottom-0","left-0","entry","w-full","gap-2","justify-start","items-center","flex","px-1","border-t","border-slate-200","py-1.5",3,"entry","showTicketCount","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return o.handleCollapse()}),t._UZ(2,"ion-icon",2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4),t.NdJ("click",function(){return o.changeTab(!1)}),t.TgZ(5,"div",5),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"div",4),t.NdJ("click",function(){return o.changeTab(!0)}),t.YNc(9,Eo,4,4,"div",6),t.ALo(10,"async"),t.qZA()(),t.YNc(11,Ro,5,1,"div",7),t.qZA()),2&e&&(t.Q6J("ngClass",t.VKq(12,zo,o.isCollapse)),t.xp6(4),t.ekj("active",!o.showMyEntries),t.xp6(2),t.hij(" ",t.lcZ(7,8,"entries")," "),t.xp6(2),t.ekj("active",o.showMyEntries),t.xp6(1),t.Q6J("ngLet",t.lcZ(10,10,o.biddingService.myEntriesCount$)),t.xp6(2),t.Q6J("ngIf",!o.onlyShowHeader))},dependencies:[l.ez,l.mk,l.sg,l.O5,l.Ov,l.OU,d.Pc,d.gu,d.Fo,h.aw,h.X$,qo,j.kb,j.KC,T.Bz,T.yS,p.m,W.h,b.kz,b.nF,b.YC],styles:["[_nghost-%COMP%]{position:relative}.tab-container[_ngcontent-%COMP%], .credit-tabs-body[_ngcontent-%COMP%]{border-color:#ddd}.tab-title-wrapper[_ngcontent-%COMP%]{display:flex;min-width:-moz-fit-content;min-width:fit-content;align-items:center;white-space:nowrap}.tab-title-wrapper.active[_ngcontent-%COMP%]{background-color:#fff0e9;--tw-border-opacity: 1;border-color:rgb(255 126 24 / var(--tw-border-opacity));--tw-text-opacity: 1;color:rgb(255 126 24 / var(--tw-text-opacity))}.tab-title-wrapper[_ngcontent-%COMP%]   .tab-text[_ngcontent-%COMP%]{transition:color .2s ease}.credit-tabs-body[_ngcontent-%COMP%]{background:rgb(249,249,249);height:calc(100vh - 510px);min-height:270px;transition:height .3s,min-height .3s}@media (min-width: 1440px){.credit-tabs-body[_ngcontent-%COMP%]{height:calc(100vh - 530px)}}.arrow-icon[_ngcontent-%COMP%]{transition:transform .2s}.main-container[_ngcontent-%COMP%]{position:relative;transition:.3s top .3s}@media (min-width: 768px){.main-container.isCollapse[_ngcontent-%COMP%]{position:fixed;bottom:0}.main-container.isCollapse[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.main-container.isCollapse[_ngcontent-%COMP%]   .credit-tabs-body[_ngcontent-%COMP%]{height:0;min-height:0px}}.own-entries[_ngcontent-%COMP%]{background-color:#047fff;min-width:24px;font-size:15px}.line-entry[_ngcontent-%COMP%]{position:relative;height:37px;overflow:hidden}ng-scrollbar[_ngcontent-%COMP%]     .ng-scroll-content{display:block}app-global-entry-item[_ngcontent-%COMP%]{background-color:transparent;transition:background-color 1s}app-global-entry-item.isChanging[_ngcontent-%COMP%]{background-color:#bacbf9}swiper[_ngcontent-%COMP%]     .swiper-slide{width:100%;display:block;height:100%}"],data:{animation:[(0,y.X$)("scrollItem",[(0,y.eR)(":enter",[(0,y.oB)({height:"0px"}),(0,y.jt)("0.3s 0ms linear",(0,y.oB)({height:"37px"}))]),(0,y.eR)(":leave",[(0,y.IO)(".entry",(0,y.oB)({bottom:"unset",top:"0px"})),(0,y.jt)("0.3s 0ms linear",(0,y.oB)({height:"0px"}))])])]},changeDetection:0}),n})();var Ot=c(40866),Go=c(23482),$=c(22775),V=c(10556),Ko=c(15720),Wo=c(55758),$o=c(69847),Vo=c(79277),Xo=c(31525);const ti=function(n){return{userId:n}};function ei(n,r){if(1&n&&(t.TgZ(0,"div",44),t._UZ(1,"img",45),t.TgZ(2,"div",46),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("src",e.pool.poolOwner.avatar,t.LSH),t.xp6(2),t.hij(" ",t.xi3(4,2,"users-pool",t.VKq(5,ti,e.pool.poolOwner.maskedUserId))," ")}}function ni(n,r){1&n&&t.GkF(0)}const oi=function(n){return{$implicit:n}};function ii(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",14)(2,"div",15),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",16),t._UZ(6,"div",17),t.TgZ(7,"div",18)(8,"div",19),t._UZ(9,"img",20),t.TgZ(10,"div",21)(11,"div",22),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.YNc(14,ei,5,7,"div",23),t.qZA()(),t.TgZ(15,"div",24)(16,"div",25),t.YNc(17,ni,1,0,"ng-container",26),t.qZA(),t._UZ(18,"app-bid-button",27),t.qZA()(),t._UZ(19,"div",28),t.TgZ(20,"div",29)(21,"p",30),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"div",31)(25,"p",32),t._uU(26),t.qZA()(),t.TgZ(27,"div",33)(28,"button",34),t.NdJ("copied",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.copied())}),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"button",35),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.isOpenInviteQRModal=!0)}),t._UZ(32,"app-qr-copy-icon",36),t.qZA()()()()(),t.TgZ(33,"div",37)(34,"div",38)(35,"p",39),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"div",40)(39,"app-facebook-icon",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onShareFb())}),t.qZA(),t.TgZ(40,"app-twitter-icon",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onShareTwitter())}),t.qZA(),t.TgZ(41,"app-wechat-icon",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onShareWechat())}),t.qZA()()(),t.TgZ(42,"div",42)(43,"button",43),t.NdJ("click",function(){t.CHM(e),t.oxw(2);const i=t.MAs(1);return t.KtG(i.dismiss())}),t._uU(44),t.ALo(45,"translate"),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw(2),o=t.MAs(4);t.xp6(3),t.hij(" ",t.lcZ(4,15,"launch-pool-succeed"),"! "),t.xp6(6),t.Q6J("src",e.product.productImages?e.product.productImages[0].source:"",t.LSH),t.xp6(3),t.hij(" ",t.lcZ(13,17,e.product.name)," "),t.xp6(2),t.Q6J("ngIf",e.pool),t.xp6(3),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(27,oi,e.pool)),t.xp6(1),t.Q6J("isReadOnly",!0)("product",e.product)("pool",e.pool),t.xp6(4),t.hij(" ",t.lcZ(23,19,"pool-sharing-link")," "),t.xp6(4),t.hij(" ",e.shareLink," "),t.xp6(2),t.s9C("appCopying",e.shareLink),t.xp6(1),t.hij(" ",t.lcZ(30,21,e.successTitle)," "),t.xp6(7),t.hij(" ",t.lcZ(37,23,"game-social-media-share")," "),t.xp6(8),t.hij(" ",t.lcZ(45,25,"finished")," ")}}function ri(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t._UZ(3,"img",8),t.qZA(),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",9),t.NdJ("click",function(){t.CHM(e),t.oxw();const i=t.MAs(1);return t.KtG(i.dismiss())}),t.O4$(),t.TgZ(7,"svg",10),t._UZ(8,"path",11),t.qZA()()(),t.kcU(),t.TgZ(9,"ng-scrollbar",12),t.YNc(10,ii,46,29,"ng-container",13),t.qZA()}if(2&n){const e=t.oxw(),o=t.MAs(6);t.xp6(4),t.hij(" ",t.lcZ(5,4,e.launchSuccess?"launch-pool":"launching-pool")," "),t.xp6(5),t.Q6J("autoHeightDisabled",!1),t.xp6(1),t.Q6J("ngIf",e.launchSuccess)("ngIfElse",o)}}function ai(n,r){if(1&n&&(t.TgZ(0,"div",47)(1,"div",48),t._UZ(2,"app-bidding-progress-bar",49),t.qZA(),t.TgZ(3,"div",50)(4,"div",51),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"button",52),t._UZ(8,"app-copy-icon",53),t.qZA()()()),2&n){const e=r.$implicit;t.xp6(2),t.Q6J("currentPoolPercentage",e.currentPoolPercentage)("hasEntered",e.bidAmount>0),t.xp6(3),t.AsE(" ",t.lcZ(6,5,"pool-id"),": ",e.poolId," "),t.xp6(2),t.s9C("appCopying",e.poolId)}}function si(n,r){1&n&&(t.TgZ(0,"div",54),t._UZ(1,"img",55),t.TgZ(2,"div",56)(3,"div",57),t._UZ(4,"img",58),t.qZA()(),t.TgZ(5,"div",59),t._uU(6),t.ALo(7,"translate"),t.qZA()()),2&n&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"launching-pool-desc")," "))}function ci(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-invite-qr-modal",60),t.NdJ("isOpenChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.isOpenInviteQRModal=i)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("isOpen",e.isOpenInviteQRModal)("shareLink",e.shareLink)}}let li=(()=>{class n extends H.V{constructor(e,o,i,a,s){super(),this.biddingService=e,this.userService=o,this.translate=i,this.toast=a,this.router=s,this.isOpenChange=new t.vpe,this.inviteTextKey="share-meta-content",this.successTitle="shop-product-page-share-modal",this.launchSuccess=!1,this.isOpenInviteQRModal=!1}ngOnInit(){this.launchSuccess=!1,this.handleLaunch()}handleLaunch(){this.biddingService.launchPool({skuId:this.product.productSkuId,ticketsAmount:this.pool.bidAmount}).pipe((0,P.R)(this.destroyStream$),(0,lt.K)(e=>(0,ct.of)({error:e}))).subscribe(e=>{0==e?.code&&e.data?.groupBuyingId?this.afterLaunch(e.data.groupBuyingId):(e?.message&&this.toastError(e?.message),this.modal.dismiss())})}afterLaunch(e){this.pool.poolId=e.toString(),this.biddingService.onChangePoolTab$.next(v.T7.OPEN),this.shareLink=`${Ot.R4}/product/detail?bid=true&id=${this.product.id}&poolId=${this.pool?.poolId}`,this.translate.get(this.inviteTextKey).subscribe(o=>{!o||(this.inviteText=o)}),this.biddingService.onLaunchFinished$.next(!0),setTimeout(()=>{this.launchSuccess=!0},6e3)}toastError(e){var o=this;return(0,_.Z)(function*(){yield o.presentToast({position:"bottom",message:e,icon:"alert-circle-outline",duration:1e3,color:"danger"})})()}presentToast(e){var o=this;return(0,_.Z)(function*(){yield(yield o.toast.create(e)).present()})()}copied(){if(x.Z.isBrowser){const e=this.successTitle;this.successTitle="order-button-copied",(0,N.H)(2e3).subscribe(()=>{this.successTitle=e})}}onShareFb(){const e=new URL("https://www.facebook.com/sharer/sharer.php");e.searchParams.set("u",Ot.R4),e.searchParams.set("quote",this.inviteText),e.searchParams.set("image",`${Ot.R4}/assets/images/social-media-share-image-v2.jpg`);let o=window.open(e,"share-popup","height=350,width=600");return o?.focus&&o.focus(),!1}onShareTwitter(){const o=`${this.translate.instant("game-invite-friends-copy-text")}\n${this.shareLink}`,i=new URL("https://twitter.com/share");i.searchParams.set("text",this.inviteText),i.searchParams.set("url",o);let a=window.open(i,"share-popup","height=350,width=600");a?.focus&&a.focus()}onShareWechat(){const o=`${this.translate.instant("game-invite-friends-copy-text")}\n${this.shareLink}`,i=new URL("https://www.shareaholic.com/share/wechat/");i.searchParams.set("link",this.inviteText),i.searchParams.set("notes",o);let a=window.open(i,"share-popup","height=350,width=600");a?.focus&&a.focus()}didDismiss(){this.isOpenChange.emit(!1),this.router.navigate(["product/detail"],{queryParams:{bid:!0,id:this.product.id,poolId:this.pool.poolId},queryParamsHandling:"merge",skipLocationChange:!1})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.g),t.Y36(F.K),t.Y36(h.sK),t.Y36(d.yF),t.Y36(T.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-launch-pool-success-modal"]],viewQuery:function(e,o){if(1&e&&t.Gf(d.ki,5),2&e){let i;t.iGM(i=t.CRH())&&(o.modal=i.first)}},inputs:{isOpen:"isOpen",product:"product",pool:"pool"},outputs:{isOpenChange:"isOpenChange"},standalone:!0,features:[t.qOj,t.jDz],decls:8,vars:4,consts:[[3,"isOpen","didDismiss"],["modal",""],["progress",""],["launchingPool",""],["fileName","join-pool",3,"isOpen","shareLink","isOpenChange",4,"ngIf"],[1,"flex","bg-[#f4f4f4]","items-center","p-2"],[1,"fade-in-from-right","flex-1","font-bold","text-3xl","flex",2,"--duration","200ms"],[1,"mr-2","mt-0.5","relative","h-8","w-8","flex","justify-center","items-center","bg-black","rounded-full"],["src","assets/images/bidding/star-inverted.png",1,"h-4"],[1,"w-8","p-1","rounded","cursor-pointer","bg-[#ff2145]","text-white",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],["visibility","hover",2,"max-height","85vh",3,"autoHeightDisabled"],[4,"ngIf","ngIfElse"],[1,"px-1","xs:px-3","md:px-4","mt-3","flex","flex-col","items-start","justify-center"],[1,"fade-in-from-top","title-text","text-black","font-medium",2,"--duration","200ms","--delay","50ms","--distance","-50px"],[1,"md:px-14","mt-4","w-full"],[1,"border","border-bottom","opacity-50","mb-2"],[1,"fade-in-from-bottom","flex","gap-2","items-center","justify-between","flex-col","lg:flex-row","w-full",2,"--duration","200ms","--delay","100ms","--distance","50px"],[1,"product-info","flex","flex-1","gap-1","justify-start","items-start","w-full"],[1,"product-img","mr-1","rounded","object-cover","rounded-lg",3,"src"],[1,"flex","flex-col","justify-between","items-start","gap-1"],[1,"product-name","font-medium","text-gray-800","text-left","pr-1.5","mb-0.5","pool-text"],["class","font-medium flex flex-nowrap items-center mt-0.5",4,"ngIf"],[1,"flex","justify-between","items-center","gap-2","w-full","flex-col","md:flex-row"],[1,"flex"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"isReadOnly","product","pool"],[1,"border","border-bottom","opacity-50","mt-2"],[1,"flex","flex-col","justify-center","items-center","mt-4"],[1,"fade-in-from-top","title-text","text-black","font-medium",2,"--duration","200ms","--delay","100ms","--distance","-50px"],[1,"fade-in-from-bottom","font-medium","border","rounded-md","font-medium","link-field","w-full","mt-1",2,"--duration","200ms","--delay","100ms","--distance","50px"],[1,"p-4","text-base","leading-4","text-center","font-bold","break-all"],[1,"fade-in","flex","items-stretch","copy-btn","mt-4",2,"--duration","200ms","--delay","200ms"],["successTitle","copied","type","button",1,"copy","bg-gradient-primary","hover:bg-gradient-primary-1","p-2.5","mr-1","text-xl","text-white","font-bold",3,"appCopying","copied"],[1,"bg-gradient-primary","hover:bg-gradient-primary-1","py-2","px-4","text-sm","text-white",3,"click"],[1,"block","w-10","text-white"],[1,"px-1","xs:px-3","md:px-4","flex","items-center","justify-between","gap-1","md:gap-4","pb-4","mt-3","md:mt-0","bg-white"],[1,"flex","flex-col","fade-in-from-right",2,"--duration","300ms","--delay","200ms"],[1,"mb-2","font-bold","tracking-tighter"],[1,"flex","mb-4","space-x-2"],[1,"cursor-pointer","invite-modal__icon","hover:opacity-90",3,"click"],[1,"fade-in-from-left",2,"--duration","300ms","--delay","250ms"],[1,"finish-btn","px-6","md:px-8","py-3","text-2xl","sm:text-3xl","font-bold","text-white","capitalize","rounded-lg","md:mt-4",3,"click"],[1,"font-medium","flex","flex-nowrap","items-center","mt-0.5"],[1,"mr-1","object-cover","rounded-full","avatar",3,"src"],[1,"truncate","text-sm","text-black"],[1,"flex","w-full","flex-col","lg:flex-row","lg:flex-col","justify-between","lg:justify-center","items-center","mt-2","lg:mt-0"],[1,"flex","flex-row-reverse","lg:flex-col","w-full","justify-center","lg:justify-end","lg:justify-center","items-center","gap-2","lg:gap-0"],[3,"currentPoolPercentage","hasEntered"],[1,"pool-id","flex","gap-1","mt-1.5","flex-nowrap","justify-center"],[1,"truncate","select-none","-mt-px","whitespace-nowrap","text-sm"],[1,"flex",3,"appCopying"],[1,"h-4","w-4","block","text-gray-600","opacity-60"],[1,"p-4","flex","flex-col","items-center","justify-center"],["src","assets/images/Mascot TICKETS 512w-min.png",1,"h-72","fade-in-from-left",2,"--duration","200ms","--delay","100ms"],[1,"flex-1","w-full","flex","items-center","justify-center","overflow-hidden","mt-10"],[1,"dot-floating","relative","inline"],["src","assets/images/ticket.png","alt","",1,"w-5"],[1,"text-black","animated-elipsis","font-medium","text-center","text-2xl","md:text-3xl","my-5","fade-in-from-left",2,"--duration","200ms","--delay","150ms"],["fileName","join-pool",3,"isOpen","shareLink","isOpenChange"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-modal",0,1),t.NdJ("didDismiss",function(){return o.didDismiss()}),t.YNc(2,ri,11,6,"ng-template"),t.qZA(),t.YNc(3,ai,9,7,"ng-template",null,2,t.W1O),t.YNc(5,si,8,3,"ng-template",null,3,t.W1O),t.YNc(7,ci,1,2,"app-invite-qr-modal",4)),2&e&&(t.ekj("launch-success",o.launchSuccess),t.Q6J("isOpen",o.isOpen),t.xp6(7),t.Q6J("ngIf",o.shareLink&&o.isOpen))},dependencies:[l.ez,l.O5,l.tP,h.aw,h.X$,j.kb,j.KC,d.Pc,d.ki,mt.OrdersModule,p.m,$.Q,V.p,Ko.i,Wo.G,$o.k,Vo.a,ot.w,pt.P,Go.o,Xo.B],styles:['@charset "UTF-8";ion-modal[_ngcontent-%COMP%]{--background: white;--border-radius: 8px;--width: 600px}ion-modal.launch-success[_ngcontent-%COMP%]{--width: 784px}.product-info[_ngcontent-%COMP%]{min-width:220px}.product-info[_ngcontent-%COMP%]   .product-img[_ngcontent-%COMP%]{width:65px;height:65px}.product-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:20px!important;height:20px;min-width:20px}.product-info[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;white-space:break-spaces;line-height:1.2}app-bidding-progress-bar[_ngcontent-%COMP%]{width:160px;display:block}@media (min-width: 1440px){app-bidding-progress-bar[_ngcontent-%COMP%]{width:180px}}.pool-text[_ngcontent-%COMP%]{font-size:15px}.title-text[_ngcontent-%COMP%]{font-size:21px}.finish-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(7,121,255),rgb(9,35,255))}.finish-btn[_ngcontent-%COMP%]:disabled{opacity:.8}app-facebook-icon[_ngcontent-%COMP%], app-twitter-icon[_ngcontent-%COMP%], app-wechat-icon[_ngcontent-%COMP%]{width:40px}@media (min-width: 640px){app-facebook-icon[_ngcontent-%COMP%], app-twitter-icon[_ngcontent-%COMP%], app-wechat-icon[_ngcontent-%COMP%]{width:55px}}.link-field[_ngcontent-%COMP%]{border-color:#d4d4d4;background-color:#f5f7f9}.copy-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:5px}.copy-btn[_ngcontent-%COMP%]   button.copy[_ngcontent-%COMP%]{width:150px}.pool-id[_ngcontent-%COMP%]{width:260px;max-width:260px}.animated-elipsis[_ngcontent-%COMP%]:after{overflow:hidden;display:inline-block;vertical-align:bottom;animation:ellipsis-animation steps(1,end) 2s infinite;content:"\\2026";transform:translate(-3px)}@keyframes ellipsis-animation{0%{clip-path:inset(0 100% 0 0)}25%{clip-path:inset(0 66.6% 0 0)}50%{clip-path:inset(0 33.3% 0 0)}75%{clip-path:inset(0 0 0 0)}}.dot-floating[_ngcontent-%COMP%]{position:relative;animation:dot-floating 2s infinite cubic-bezier(.15,.6,.9,.1)}.dot-floating[_ngcontent-%COMP%]:before, .dot-floating[_ngcontent-%COMP%]:after{content:"";background:url(/assets/images/ticket.png);background-size:cover;display:inline-block;position:absolute;top:0;width:100%;height:100%}.dot-floating[_ngcontent-%COMP%]:before{left:-12px;animation:dot-floating-before 2s infinite ease-in-out}.dot-floating[_ngcontent-%COMP%]:after{left:-24px;animation:dot-floating-after 2s infinite cubic-bezier(.4,0,1,1)}@keyframes dot-floating{0%{left:calc(-50% - 5px)}75%{left:calc(50% + 80px)}to{left:calc(50% + 80px)}}@keyframes dot-floating-before{0%{left:-50px}50%{left:-30px}75%{left:-50px}to{left:0}}@keyframes dot-floating-after{0%{left:-100px}50%{left:-60px}75%{left:-100px}to{left:0}}']}),n})();var Mt=c(61977),di=c(44365),ft=c(55896);const pi=function(n){return{userId:n}};function gi(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",14)(2,"div",15),t._UZ(3,"img",16),t.qZA(),t.TgZ(4,"div",17)(5,"div",18)(6,"h1",19),t._uU(7),t.qZA(),t.TgZ(8,"div",20),t._UZ(9,"app-order-rating",21),t.TgZ(10,"div",22),t._uU(11),t.qZA(),t.TgZ(12,"div",23),t._uU(13),t.ALo(14,"translate"),t.qZA()()(),t._UZ(15,"div",24),t.TgZ(16,"div",25)(17,"div",26),t._UZ(18,"img",27),t.TgZ(19,"div",28),t._uU(20),t.ALo(21,"translate"),t.qZA()(),t.TgZ(22,"div",29),t._UZ(23,"app-bidding-progress-bar",30),t.qZA(),t.TgZ(24,"div",31)(25,"div",32)(26,"div",33)(27,"p",34),t._uU(28),t.ALo(29,"number"),t.qZA()()(),t.TgZ(30,"div",35)(31,"app-bidding-ticket-count",36),t.NdJ("onChangeBidAmount",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.onChangeBidAmount(i))}),t.qZA(),t._UZ(32,"app-bid-button",37),t.qZA()()()()(),t.TgZ(33,"div",38),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"div",39)(37,"button",40),t.NdJ("click",function(){t.CHM(e),t.oxw(3);const i=t.MAs(1);return t.KtG(i.dismiss())}),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"div",41)(41,"app-launch-pool-button",42),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3),a=t.MAs(1);return t.KtG(i.handleLaunch(a))}),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(3),t.Q6J("src",e.product.productImages[0].source,t.LSH),t.xp6(4),t.hij(" ",e.product.name," "),t.xp6(2),t.Q6J("stopEvent",!0)("rating",e.getReviewTotal.averageScore),t.xp6(2),t.hij("(",e.getReviewTotal.total,")"),t.xp6(2),t.AsE("",t.lcZ(14,23,"reviews-number-label"),": ",e.getReviewTotal.total,""),t.xp6(5),t.Q6J("src",e.pool.poolOwner.avatar,t.LSH),t.xp6(2),t.hij(" ",t.xi3(21,25,"users-pool",t.VKq(35,pi,e.pool.poolOwner.maskedUserId))," "),t.xp6(3),t.Q6J("currentPoolPercentage",e.pool.currentPoolPercentage)("hasEntered",e.pool.bidAmount>0),t.xp6(1),t.s9C("id","main-pool-product-"+e.product.id),t.xp6(4),t.hij(" ",t.xi3(29,28,e.pool.currentPoolPercentage,"0.0-0"),"% "),t.xp6(3),t.Q6J("customBidAmount",e.bidAmount),t.xp6(1),t.Q6J("product",e.product)("pool",e.pool)("customBidAmount",e.bidAmount)("disableFlyingAnimation",!0),t.xp6(1),t.ekj("invisible",e.pool.currentPoolSize>0),t.xp6(1),t.hij(" ",t.lcZ(35,31,"launch-pool-min-tickets")," "),t.xp6(4),t.hij(" ",t.lcZ(39,33,"cancel")," "),t.xp6(3),t.Q6J("canLaunch",e.pool.currentPoolSize>0)}}function ui(n,r){if(1&n&&(t.ynx(0),t.YNc(1,gi,42,37,"ng-container",11),t.BQk()),2&n){t.oxw();const e=t.MAs(14),o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.canLaunch)("ngIfElse",e)}}function _i(n,r){1&n&&(t.TgZ(0,"div",43),t._UZ(1,"app-loading-animation"),t.qZA())}function mi(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",44),t._UZ(1,"img",45),t.TgZ(2,"div",46),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",47)(6,"button",48),t.NdJ("click",function(){t.CHM(e),t.oxw(2);const i=t.MAs(1);return t.KtG(i.dismiss())}),t._uU(7),t.ALo(8,"translate"),t.qZA()()}2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,2,"cannot-launch-now")," "),t.xp6(4),t.hij(" ",t.lcZ(8,4,"close")," "))}function fi(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5),t._UZ(3,"img",6),t.qZA(),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",7),t.NdJ("click",function(){t.CHM(e),t.oxw();const i=t.MAs(1);return t.KtG(i.dismiss())}),t.O4$(),t.TgZ(7,"svg",8),t._UZ(8,"path",9),t.qZA()()(),t.kcU(),t.TgZ(9,"ng-scrollbar",10),t.YNc(10,ui,2,2,"ng-container",11),t.YNc(11,_i,2,0,"ng-template",null,12,t.W1O),t.YNc(13,mi,9,6,"ng-template",null,13,t.W1O),t.qZA()}if(2&n){const e=t.MAs(12),o=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,4,"launch-pool")," "),t.xp6(5),t.Q6J("autoHeightDisabled",!1),t.xp6(1),t.Q6J("ngIf",!o.isLoading)("ngIfElse",e)}}function hi(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-launch-pool-success-modal",49),t.NdJ("isOpenChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.isOpenLaunchSuccessModal=i)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("isOpen",e.isOpenLaunchSuccessModal)("product",e.product)("pool",e.pool)}}let te=(()=>{class n extends H.V{constructor(e,o){super(),this.userService=e,this.biddingService=o,this.isOpenChange=new t.vpe,this.isOpenLaunchSuccessModal=!1,this.bidAmount=1,this.launchStarted=!1,this.isLoading=!1,this.canLaunch=!1}ngOnChanges(e){e.isOpen&&this.isOpen&&this.initPool()}onChangeBidAmount(e){this.bidAmount=e}initPool(){var e=this;return(0,_.Z)(function*(){e.isLoading=!0,console.log(e.product.name,e.product.id),e.canLaunch=yield(0,et.z)(e.biddingService.canLaunchPool(e.product.id)),console.log(e.product.name,e.product.id,e.canLaunch),e.isLoading=!1,e.canLaunch&&(e.pool={poolId:"0",currentPoolSize:0,currentPoolPercentage:0,bidAmount:0,poolLimit:e.product.maxTickets,userMaxTickets:e.product.userMaxTickets,poolOwner:{userId:e.userService._userInfo.username,avatar:e.userService._userInfo.avatar,maskedUserId:e.getMaskedUserId(e.userService._userInfo.username)},status:0})})()}getMaskedUserId(e){return e?.replace(e.substring(2,e.length-2),"*".repeat(e.length-2-2))??"**"}handleLaunch(e){this.launchStarted=!0,e.dismiss().then(()=>{this.isOpenLaunchSuccessModal=!0})}didDismiss(){this.launchStarted||(this.userService.updateUserInfo(),this.biddingService.onProductPoolStatusChanged$.next(!0)),this.isOpenChange.emit(!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(F.K),t.Y36(U.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-launch-pool-modal"]],viewQuery:function(e,o){if(1&e&&t.Gf(d.ki,5),2&e){let i;t.iGM(i=t.CRH())&&(o.modal=i.first)}},inputs:{isOpen:"isOpen",product:"product",getReviewTotal:"getReviewTotal"},outputs:{isOpenChange:"isOpenChange"},standalone:!0,features:[t.qOj,t.TTD,t.jDz],decls:4,vars:4,consts:[[3,"isOpen","didDismiss"],["modal",""],[3,"isOpen","product","pool","isOpenChange",4,"ngIf"],[1,"flex","bg-[#f4f4f4]","items-center","p-2"],[1,"fade-in-from-right","flex-1","font-bold","text-3xl","flex",2,"--duration","200ms"],[1,"mr-2","mt-0.5","relative","h-8","w-8","flex","justify-center","items-center","bg-black","rounded-full"],["src","assets/images/bidding/star-inverted.png",1,"h-4"],[1,"w-8","p-1","rounded","cursor-pointer","bg-[#ff2145]","text-white",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],["visibility","hover",2,"max-height","85vh",3,"autoHeightDisabled"],[4,"ngIf","ngIfElse"],["loader",""],["cannotLaunch",""],[1,"px-1","xs:px-3","sm:px-4","mt-3","flex","flex-col","md:flex-row","items-start","justify-center"],[1,"fade-in-from-left","flex","w-full","md:w-4/12",2,"--duration","200ms","--delay","50ms"],[1,"product-image","rounded-lg","obj-cover","border","border-[#dddddd]","max-md:mx-auto","max-md:mb-4",3,"src"],[1,"flex","flex-wrap","flex-col","w-full","md:w-8/12","md:pl-3.5"],[1,"flex-1","fade-in-from-top",2,"--duration","200ms","--delay","100ms","--distance","-50px"],[1,"product-name","text-black","text-lg","break-all","relative","pr-5","-mr-4"],[1,"flex","items-center","md:justify-between"],[1,"-ml-1","block","cursor-pointer",3,"stopEvent","rating"],[1,"cursor-pointer","opacity-30","text-base","font-medium","mt-0.5","md:hidden","pl-1"],[1,"cursor-pointer","opacity-30","text-base","font-medium","hidden","md:block"],[1,"border","border-bottom","opacity-50","mb-2"],[1,"flex","flex-col","gap-2"],[1,"fade-in-from-left","font-medium","flex","flex-nowrap","items-center",2,"--duration","200ms","--delay","150ms","--distance","-50px"],[1,"mr-1","object-cover","rounded-full","h-6","w-6",3,"src"],[1,"truncate","text-black"],[1,"relative","fade-in-from-bottom",2,"--duration","200ms","--delay","200ms","--distance","50px"],[3,"currentPoolPercentage","hasEntered"],[1,"flex","flex-col","sm:flex-row","justify-between","mt-1",3,"id"],[1,"lg:ml-6","fade-in",2,"--duration","200ms","--delay","200ms"],[1,"text-black","-mt-1","font-medium","sm:absolute","flex","sm:flex-col","justify-center","items-center","gap-2","sm:gap-0"],[1,"invisible","mb-px","sm:-mt-1","text-center","whitespace-nowrap","text-2xl","select-none"],[1,"flex","gap-2","justify-center"],[1,"fade-in-from-right",2,"--duration","200ms","--delay","200ms",3,"customBidAmount","onChangeBidAmount"],[1,"fade-in-from-left",2,"--duration","200ms","--delay","200ms",3,"product","pool","customBidAmount","disableFlyingAnimation"],[1,"error","text-base","font-medium","text-center","mt-4","fade-in",2,"--duration","200ms","--delay","250ms"],[1,"flex","flex-wrap","justify-between","gap-4","p-4","pt-2","bg-white"],[1,"fade-in-from-right","border","border-[#dddddd]","bg-slate-100","rounded-lg","font-bold","px-6","py-2","text-lg","2xs:text-2xl","md:text-2xl","capitalize",2,"--duration","200ms","--delay","250ms",3,"click"],[1,"fade-in-from-left",2,"--duration","300ms","--delay","250ms"],[1,"block",3,"canLaunch","click"],[1,"w-full","flex","items-center","justify-center","h-full",2,"min-height","368px"],[1,"p-4","flex","flex-col","items-center","justify-center"],["src","assets/images/mascot-sad.png",1,"h-72","fade-in-from-left",2,"--duration","200ms","--delay","100ms"],[1,"text-black","font-medium","text-center","text-base","md:text-xl","my-5","fade-in-from-left",2,"--duration","200ms","--delay","150ms","min-height","56px"],[1,"flex","justify-between","gap-4","p-4","pt-2","bg-white"],[1,"fade-in-from-right","border","border-[#dddddd]","bg-slate-100","rounded-lg","font-bold","px-6","py-2.5","text-lg","xs:text-2xl","md:text-3xl","capitalize",2,"--duration","200ms","--delay","250ms",3,"click"],[3,"isOpen","product","pool","isOpenChange"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-modal",0,1),t.NdJ("didDismiss",function(){return o.didDismiss()}),t.YNc(2,fi,15,6,"ng-template"),t.qZA(),t.YNc(3,hi,1,3,"app-launch-pool-success-modal",2)),2&e&&(t.ekj("expanded",!o.isLoading&&o.canLaunch),t.Q6J("isOpen",o.isOpen),t.xp6(3),t.Q6J("ngIf",o.isOpenLaunchSuccessModal))},dependencies:[l.ez,l.O5,l.JJ,h.aw,h.X$,j.kb,j.KC,d.Pc,d.ki,mt.OrdersModule,Mt.K,p.m,_t.r,ot.w,pt.P,di.h,ft.h,li],styles:["ion-modal[_ngcontent-%COMP%]{--background: white;--border-radius: 8px;--width: 600px}ion-modal.expanded[_ngcontent-%COMP%]{--width: 740px}.product-image[_ngcontent-%COMP%]{max-width:250px}@media (min-width: 768px){.product-image[_ngcontent-%COMP%]{max-width:100%}}app-bidding-progress-bar[_ngcontent-%COMP%]     .progress-bar{height:2.75rem;border-width:2px}app-order-rating[_ngcontent-%COMP%]     ion-icon{height:1rem;width:1rem}.pool-text[_ngcontent-%COMP%]{font-size:15px}.launch-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(7,121,255),rgb(9,35,255))}.launch-btn[_ngcontent-%COMP%]:disabled{color:#8d8d8d;background:rgba(237,235,235,.5);border:1px solid #ddd;cursor:default!important}app-bidding-ticket-count[_ngcontent-%COMP%]{width:125px}app-bidding-ticket-count[_ngcontent-%COMP%]     .bid-amount{height:100%}app-launch-pool-button[_ngcontent-%COMP%]    {width:180px}@media (min-width: 450px){app-launch-pool-button[_ngcontent-%COMP%]    {width:220px}}@media (min-width: 768px){app-launch-pool-button[_ngcontent-%COMP%]    {width:224px}}app-launch-pool-button[_ngcontent-%COMP%]     .content .title{font-size:1.125rem;line-height:1.75rem}@media (min-width: 450px){app-launch-pool-button[_ngcontent-%COMP%]     .content .title{font-size:1.5rem;line-height:2rem}}@media (min-width: 768px){app-launch-pool-button[_ngcontent-%COMP%]     .content .title{font-size:1.5rem;line-height:2rem}}"]}),n})();var ee=c(54968),Zt=c(78372),xi=c(17445),bi=c(69975),kt=c(16879),ht=c(37978);let At=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-hyperlink-icon"]],decls:3,vars:0,consts:[["viewBox","0 0 24 24","fill","none",1,"w-full"],["id","Vector","d","M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(e,o){1&e&&(t.O4$(),t.TgZ(0,"svg",0)(1,"g"),t._UZ(2,"path",1),t.qZA()())},encapsulation:2}),n})();var It=c(92974),ne=c(8316);let oe=(()=>{class n{constructor(e){this.ngZone=e,this.repeat=0,this.repeatDelay=1.5}ngOnInit(){x.Z.isServer||this.ngZone.runOutsideAngular(()=>{this.playConfetti()})}getRndInteger(e,o){return Math.floor(Math.random()*(o-e+1))+e}randomFloatBetween(e,o,i){return typeof i>"u"&&(i=2),parseFloat(Math.min(e+Math.random()*(o-e),o).toFixed(i))}playConfetti(){(0,ne.Z)({gsap:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"}).gsap.onLoad(()=>{document.querySelectorAll("#app-global-confetti path, svg g").forEach(function(C){C.removeAttribute("data-name")}),document.querySelectorAll('#app-global-confetti [id*="_Group"], svg [id*="_Path"]').forEach(function(C){C.removeAttribute("id")});const{TweenLite:o,Sine:i,TimelineMax:s}=window;o.randomEase=i.easeInOut,this.confetti=new s({repeat:this.repeat,repeatDelay:this.repeatDelay});const{confetti:u}=this;console.log(222,u),u.to("#app-global-confetti #confetti-particles",.5,{opacity:1}),document.querySelectorAll("#app-global-confetti #confetti-particles rect").forEach((C,g)=>{let m=new s({});var O=this.getRndInteger(-400,400),K=this.getRndInteger(200,800),E=this.randomFloatBetween(2,3),J=this.randomFloatBetween(.8,1.5);let L="-="+E/3;m.to(C,E,{x:O},0).fromTo(C,E/3,{y:100},{y:-K,ease:"power3.out"},0).to(C,E/2,{y:100,ease:"power1.in"},E/3).to(C,.5,{opacity:0},L).to(C,J,{transformOrigin:"50% 50%",rotation:Math.random()>.5?-360:360,repeat:1.5,ease:"linear"},0),u.add(m,0)})})}ngOnDestroy(){x.Z.isServer||(this.confetti?.pause(),this.confetti?.kill())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-global-confetti-animation"]],inputs:{repeat:"repeat",repeatDelay:"repeatDelay"},standalone:!0,features:[t.jDz],decls:45,vars:0,consts:[["id","app-global-confetti","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 800 800"],["confetti",""],["id","confetti-particles",2,"opacity","0"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#42bcec"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#ed1d63"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#fcb316"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#7452a2"]],template:function(e,o){1&e&&(t.O4$(),t.TgZ(0,"svg",0,1)(2,"g",2),t._UZ(3,"rect",3)(4,"rect",4)(5,"rect",5)(6,"rect",5)(7,"rect",6)(8,"rect",4)(9,"rect",6)(10,"rect",3)(11,"rect",3)(12,"rect",3)(13,"rect",4)(14,"rect",5)(15,"rect",6)(16,"rect",5)(17,"rect",6)(18,"rect",6)(19,"rect",6)(20,"rect",3)(21,"rect",3)(22,"rect",3)(23,"rect",6)(24,"rect",3)(25,"rect",3)(26,"rect",3)(27,"rect",4)(28,"rect",5)(29,"rect",6)(30,"rect",5)(31,"rect",6)(32,"rect",6)(33,"rect",6)(34,"rect",3)(35,"rect",3)(36,"rect",3)(37,"rect",6)(38,"rect",4)(39,"rect",6)(40,"rect",3)(41,"rect",4)(42,"rect",3)(43,"rect",5)(44,"rect",6),t.qZA()())},styles:["svg[_ngcontent-%COMP%]{width:100%}"]}),n})();function vi(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4),t._UZ(3,"img",5),t.qZA(),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",6),t.NdJ("click",function(){t.CHM(e),t.oxw();const i=t.MAs(1);return t.KtG(i.dismiss())}),t.O4$(),t.TgZ(7,"svg",7),t._UZ(8,"path",8),t.qZA()()(),t.kcU(),t.TgZ(9,"ng-scrollbar",9)(10,"div",10)(11,"p",11),t._uU(12),t.ALo(13,"translate"),t.qZA(),t._UZ(14,"img",12),t.TgZ(15,"ol",13)(16,"li",14),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"li",15),t._uU(20),t.ALo(21,"translate"),t.qZA()()(),t.TgZ(22,"div",16),t._UZ(23,"div",17),t.TgZ(24,"app-tooltip",18)(25,"div",19)(26,"span",20)(27,"div",21),t._uU(28),t.ALo(29,"translate"),t.qZA()(),t.TgZ(30,"div",22),t._UZ(31,"img",23),t.TgZ(32,"div",24),t._uU(33),t.qZA(),t.TgZ(34,"div",25),t._uU(35),t.qZA(),t.TgZ(36,"button",26),t._UZ(37,"app-copy-icon",27),t.qZA()()(),t.TgZ(38,"div",28),t._uU(39),t._UZ(40,"app-copy-icon",29),t.qZA()()(),t.TgZ(41,"div",30)(42,"a",31),t._uU(43),t.ALo(44,"translate"),t._UZ(45,"app-hyperlink-icon",32),t.qZA(),t.TgZ(46,"a",33),t._uU(47),t.ALo(48,"translate"),t._UZ(49,"app-hyperlink-icon",32),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,18,"view-on-bsc")," "),t.xp6(5),t.Q6J("autoHeightDisabled",!1),t.xp6(3),t.Oqu(t.lcZ(13,20,"smart-contract-desc")),t.xp6(5),t.Oqu(t.lcZ(18,22,"smart-contract-desc-hash")),t.xp6(3),t.Oqu(t.lcZ(21,24,"smart-contract-desc-value")),t.xp6(4),t.Q6J("hoverBg",!1),t.xp6(4),t.hij(" ",t.lcZ(29,26,"pool-winning-ticket")," "),t.xp6(5),t.hij(" ",e.getFormattedTicketId(e.pool.winningTicketId)," "),t.xp6(2),t.hij(" ",e.getFormattedTicketId(e.pool.winningTicketId,15)," "),t.xp6(1),t.s9C("appCopying",e.pool.winningTicketId),t.Q6J("showToast",!0),t.xp6(3),t.hij(" ",e.pool.winningTicketId," "),t.xp6(1),t.s9C("appCopying",e.pool.winningTicketId),t.Q6J("showToast",!0),t.xp6(2),t.Q6J("href",e.pool.scanUrl,t.LSH),t.xp6(1),t.hij(" ",t.lcZ(44,28,"validate-results")," "),t.xp6(3),t.Q6J("href",e.pool.contractCodeUrl,t.LSH),t.xp6(1),t.hij(" ",t.lcZ(48,30,"winning-tooltip-seelink")," ")}}let wi=(()=>{class n extends H.V{constructor(e){super(),this.biddingService=e,this.isOpenChange=new t.vpe}getFormattedTicketId(e,o=6){return e?e.substring(0,o)+"..."+e.substring(e.length-o,e.length):""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-smart-contract-info-modal"]],inputs:{isOpen:"isOpen",pool:"pool"},outputs:{isOpenChange:"isOpenChange"},features:[t.qOj],decls:3,vars:1,consts:[[3,"isOpen","didDismiss"],["modal",""],[1,"flex","bg-[#f4f4f4]","items-center","p-2"],[1,"fade-in-from-right","flex-1","font-bold","text-2xl","xs:text-3xl","flex",2,"--duration","200ms"],[1,"mr-2","mt-0.5","relative","h-8","w-8","flex","justify-center","items-cente","rounded-full"],["src","assets/images/bidding/BSC-min.png",1,"h-8"],[1,"w-8","p-1","rounded","cursor-pointer","bg-[#ff2145]","text-white",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],["visibility","hover",2,"max-height","85vh",3,"autoHeightDisabled"],[1,"p-2","sm:p-4","sm:px-11","flex","flex-col","items-center","text-base","justify-center"],[1,"mb-2","font-medium","description","fade-in-from-left",2,"--duration","200ms","--delay","50ms"],["src","assets/images/validate-results-desc.png",1,"description-image","fade-in","mx-auto","rounded-lg","my-2.5",2,"--duration","200ms","--delay","150ms"],[1,"mt-2","font-medium","w-full"],[1,"fade-in-from-left",2,"--duration","200ms","--delay","100ms"],[1,"fade-in-from-left",2,"--duration","200ms","--delay","150ms"],[1,"flex","flex-col","px-2","sm:px-11"],[1,"border-2","border-bottom","opacity-50","mb-3"],["side","top",1,"flex","items-center","fade-in",2,"--duration","300ms","--delay","250ms",3,"hoverBg"],["tooltipBtn","",1,"ticket-tooltip-btn","flex","items-center","justify-center","sm:justify-start","w-full"],[1,"tag","whitespace-nowrap","text-white","capitalize","!mr-4",2,"--color","#d841ff"],[1,"flex","items-center"],[1,"flex","items-center","border","border-gray-300","rounded-lg","px-2","py-0.5"],["src","assets/images/ticket.png",1,"ticket-image","mr-1","object-cover","h-5","pointer-events-none"],[1,"flex","sm:hidden","text-gray-500","font-medium"],[1,"hidden","sm:block","text-gray-500","font-medium"],[1,"flex","ml-1",3,"showToast","appCopying"],[1,"h-5","w-5","block","text-gray-600","opacity-60"],[1,"font-medium","p-2"],[1,"w-5","inline-block","align-sub","cursor-pointer",3,"showToast","appCopying"],[1,"flex","flex-col","xs:flex-row","gap-0.5","sm:gap-2","justify-between","items-center","w-full","p-2","sm:p-4","mt-1"],["target","_blank",1,"validate-results","fade-in-from-right","border","text-base","sm:text-xl","rounded-lg","flex","gap-1","py-2.5","px-2","sm:px-4","font-medium","items-center","text-white","hover:text-white",2,"--duration","200ms","--delay","250ms",3,"href"],[1,"w-5","ml-1","mt-0.5"],["target","_blank",1,"!text-[#027fff]","fade-in-from-left","flex","items-center","font-medium","see-contract","text-base","sm:text-xl",2,"--duration","300ms","--delay","250ms",3,"href"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-modal",0,1),t.NdJ("didDismiss",function(){return o.isOpenChange.emit(!1)}),t.YNc(2,vi,50,32,"ng-template"),t.qZA()),2&e&&t.Q6J("isOpen",o.isOpen)},dependencies:[$.Q,V.p,ht.u,At,d.ki,j.KC,h.X$],styles:['ion-modal[_ngcontent-%COMP%]{--background: white;--border-radius: 8px;--width: 560px}.description-image[_ngcontent-%COMP%]{width:83%}ol[_ngcontent-%COMP%]{list-style-type:decimal;list-style-position:outside;padding-left:20px;padding-right:10px}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:list-item}.validate-results[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(7,121,255),rgb(9,35,255))}@media (min-width: 340px) and (max-width: 350px){.validate-results[_ngcontent-%COMP%], .see-contract[_ngcontent-%COMP%]{font-size:15px}}.tag[_ngcontent-%COMP%]{display:inline-block;z-index:1;text-align:center;height:20px;position:relative;border-right:none;background-color:var(--color);min-width:40px;margin-right:15px;padding-left:6px;border-radius:4px 0 0 4px;font-size:14px;line-height:20px;padding-right:6px}.tag[_ngcontent-%COMP%]:before{content:"";z-index:-1;position:absolute;top:3px;right:-7px;width:14px;height:14px;background-color:var(--color);border-left:none;border-top:none;transform:rotate(45deg)}']}),n})();var St=c(1470);let Pi=(()=>{class n{constructor(e){this.ngZone=e}ngOnInit(){x.Z.isServer||this.ngZone.runOutsideAngular(()=>{(0,ne.Z)({gsap:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"}).gsap.onLoad(()=>{const{TweenMax:o,TweenLite:i,Sine:a,TimelineMax:u,Linear:C}=window;let O=document.getElementById("confettiWrapper"),K=window.innerWidth,E=400;K=window.innerWidth,E=window.innerHeight,o.set("#confettiWrapper",{perspective:600});for(let M=0;M<150;M++){const Z=document.createElement("div");i.set(Z,{attr:{class:"confetti "+(M<20?"red":M<40?"blue":M<80?"pink":M<120?"yellow":M<160?"green":"white")},x:L(-80,K),y:L(-200,-150),z:L(-200,200)}),O.appendChild(Z),J(Z)}function J(M){const Z=new u({repeat:-1});Z.timeScale(1.5),Z.to(M,L(6,15),{y:E+100,opacity:L(.2,.9),scale:L(2,.25),ease:C.easeNone,repeat:-1},"-=2").to(M,L(4,8),{x:"+=100",rotationZ:L(0,180),yoyo:!0,ease:a.easeInOut},"-=10").to(M,L(2,8),{rotationX:L(0,360),rotationY:L(0,360),yoyo:!0,ease:a.easeInOut,repeat:-1},"-=8"),o.delayedCall(30,function Dt(){Z.pause(),O.innerHTML=""})}function L(M,Z){return M+Math.random()*(Z-M)}setTimeout(()=>{O.classList.add("opacity-0")},5e3)})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-you-won-confetti"]],decls:1,vars:0,consts:[["id","confettiWrapper"]],template:function(e,o){1&e&&t._UZ(0,"div",0)},styles:["#confettiWrapper[_ngcontent-%COMP%]{pointer-events:none;position:absolute;width:100%;height:100%;transition:opacity 1s ease-out}#confettiWrapper.opacity-0[_ngcontent-%COMP%]{opacity:0}#confettiWrapper[_ngcontent-%COMP%]     .confetti{position:absolute;pointer-events:none;background-color:#f39200;width:15px;height:6px;z-index:99999}#confettiWrapper[_ngcontent-%COMP%]     .confetti.red{background-color:#ff0038}#confettiWrapper[_ngcontent-%COMP%]     .confetti.blue{background-color:#30a7e2}#confettiWrapper[_ngcontent-%COMP%]     .confetti.yellow{background-color:#f4ea3b}#confettiWrapper[_ngcontent-%COMP%]     .confetti.green{background-color:#00c800}#confettiWrapper[_ngcontent-%COMP%]     .confetti.pink{background-color:#ff00ca}"]}),n})();const Ci=function(){return{opacity:.2}},Ti=function(n){return{value:":enter",params:n}};function yi(n,r){1&n&&(t.O4$(),t.TgZ(0,"svg",13)(1,"defs")(2,"filter",14),t._UZ(3,"feGaussianBlur",15),t.qZA(),t.TgZ(4,"radialGradient",16),t._UZ(5,"stop",17)(6,"stop",17)(7,"stop",18)(8,"stop",19)(9,"stop",20)(10,"stop",21)(11,"stop",22)(12,"stop",23)(13,"stop",24),t.qZA()(),t.TgZ(14,"g",25)(15,"g",26),t._UZ(16,"ellipse",27)(17,"path",28),t.qZA()()()),2&n&&t.Q6J("@fadeInOut",t.VKq(2,Ti,t.DdM(1,Ci)))}const Oi=function(){return{bid:!0,status:6}};function Mi(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",58),t.NdJ("click",function(){t.CHM(e),t.oxw(4);const i=t.MAs(1);return t.KtG(i.dismiss())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.Q6J("queryParams",t.DdM(4,Oi)),t.xp6(1),t.hij(" ",t.lcZ(2,2,"prize-claimed-text")," "))}const Zi=function(){return{bid:!0}};function ki(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",59),t.NdJ("click",function(){t.CHM(e),t.oxw(4);const i=t.MAs(1);return t.KtG(i.dismiss())}),t._UZ(1,"img",60),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&n&&(t.Q6J("queryParams",t.DdM(4,Zi)),t.xp6(2),t.hij(" ",t.lcZ(3,2,"claim-prize")," "))}function Ai(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",29),t._UZ(1,"img",30),t.TgZ(2,"div",31),t._UZ(3,"img",32),t.TgZ(4,"div",33),t._UZ(5,"app-text-jumping",34),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",35),t._UZ(8,"img",36)(9,"img",37),t.qZA(),t.TgZ(10,"div",38),t._uU(11),t.qZA(),t.TgZ(12,"div",39)(13,"app-tooltip",40)(14,"div",41)(15,"div",42),t._UZ(16,"img",43),t.TgZ(17,"div",44),t._uU(18),t.qZA()(),t.TgZ(19,"span",45)(20,"div",42),t._uU(21),t.ALo(22,"translate"),t.qZA()()(),t.TgZ(23,"div",46),t._uU(24),t._UZ(25,"app-copy-icon",47),t.qZA()()(),t.TgZ(26,"div",48)(27,"div",49),t.YNc(28,Mi,3,5,"a",50),t.YNc(29,ki,4,5,"ng-template",null,51,t.W1O),t.TgZ(31,"button",52),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3),a=t.MAs(1);return t.KtG(i.onShare(a))}),t._uU(32),t.ALo(33,"translate"),t.O4$(),t.TgZ(34,"svg",53)(35,"g",54),t._UZ(36,"path",55)(37,"path",56),t.qZA()()()(),t.kcU(),t.TgZ(38,"div",57),t.NdJ("click",function(){t.CHM(e),t.oxw(3);const i=t.MAs(1);return t.KtG(i.dismiss())}),t._uU(39),t.ALo(40,"translate"),t.qZA()()()}if(2&n){const e=r.ngIf,o=t.MAs(30),i=t.oxw(3);t.xp6(5),t.Q6J("text",t.lcZ(6,13,"you-won")),t.xp6(4),t.Q6J("src",e.avatar,t.LSH),t.xp6(2),t.hij(" ",e.username," "),t.xp6(2),t.Q6J("hoverBg",!1),t.xp6(5),t.hij(" ",i.getFormattedTicketId(i.pool.winningTicketId)," "),t.xp6(3),t.hij(" ",t.lcZ(22,15,"pool-winning-ticket")," "),t.xp6(3),t.hij(" ",i.pool.winningTicketId," "),t.xp6(1),t.s9C("appCopying",i.pool.winningTicketId),t.Q6J("showToast",!0),t.xp6(3),t.Q6J("ngIf",i.pool.prizeClaimed)("ngIfElse",o),t.xp6(4),t.hij(" ",t.lcZ(33,17,"share-btn")," "),t.xp6(7),t.hij(" ",t.lcZ(40,19,"play-more")," ")}}function Ii(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"ng-scrollbar",5)(2,"button",6),t.NdJ("click",function(){t.CHM(e),t.oxw(2);const i=t.MAs(1);return t.KtG(i.dismiss())}),t.O4$(),t.TgZ(3,"svg",7),t._UZ(4,"path",8),t.qZA()(),t.kcU(),t.TgZ(5,"div",9)(6,"div",10),t.YNc(7,yi,18,4,"svg",11),t.qZA(),t.YNc(8,Ai,41,21,"div",12),t.ALo(9,"async"),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("autoHeightDisabled",!1),t.xp6(6),t.Q6J("ngIf",e.isOpen),t.xp6(1),t.Q6J("ngIf",t.lcZ(9,3,e.userService.userInfo$))}}function Si(n,r){1&n&&t._UZ(0,"app-you-won-confetti",61)}function Li(n,r){if(1&n&&(t.YNc(0,Ii,10,5,"div",2),t.YNc(1,Si,1,0,"app-you-won-confetti",3)),2&n){const e=t.oxw();t.Q6J("ngIf",e.pool),t.xp6(1),t.Q6J("ngIf",e.pool)}}let Bi=(()=>{class n extends H.V{constructor(e,o){super(),this.biddingService=e,this.userService=o,this.isOpenChange=new t.vpe,this.onOpenShareModal=new t.vpe,this.isOpenShareModal=!1}getFormattedTicketId(e,o=6){return e?e.substring(0,o)+"..."+e.substring(e.length-o,e.length):""}onShare(e){e.dismiss().then(()=>{this.onOpenShareModal.emit(!0)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.g),t.Y36(F.K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-you-won-modal"]],inputs:{isOpen:"isOpen",pool:"pool"},outputs:{isOpenChange:"isOpenChange",onOpenShareModal:"onOpenShareModal"},features:[t.qOj],decls:3,vars:1,consts:[[3,"isOpen","didDismiss"],["modal",""],["class","modal-box relative z-1",4,"ngIf"],["class","h-screen w-screen fixed -top-50% -left-50% block pointer-events-none z-10",4,"ngIf"],[1,"modal-box","relative","z-1"],["visibility","hover",2,"max-height","85vh",3,"autoHeightDisabled"],[1,"w-8","p-1","rounded","cursor-pointer","bg-[#ff2145]","text-white","absolute","right-2","top-2","z-10",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],[1,"content-wrapper","rounded-2xl","relative"],[1,"absolute","left-0","right-0","bottom-0","top-0","w-full","h-full","overflow-clip"],["class","rounded-xl mx-auto absolute radial-lines","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 400 400",4,"ngIf"],["class","content relative flex flex-col items-center text-base justify-center p-4 w-full h-full z-1",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 400 400",1,"rounded-xl","mx-auto","absolute","radial-lines"],["id","rays-shine","x","-40%","y","-40%","width","180%","height","180%","color-interpolation-filters","linearRGB"],["stdDeviation","20 20","in","SourceGraphic","edgeMode","none","result","blur"],["id","rays-grad","cx","200","cy","200","r","300","gradientUnits","userSpaceOnUse"],["offset","0","stop-color","#fff"],["offset","0.17","stop-color","#fff","stop-opacity","0.74"],["offset","0.33","stop-color","#fff","stop-opacity","0.51"],["offset","0.49","stop-color","#fff","stop-opacity","0.33"],["offset","0.64","stop-color","#fff","stop-opacity","0.19"],["offset","0.78","stop-color","#fff","stop-opacity","0.08"],["offset","0.9","stop-color","#fff","stop-opacity","0.02"],["offset","1","stop-color","#fff","stop-opacity","0"],["id","rare-rays-out","opacity","0"],["id","rare-rays"],["cx","200","cy","200","rx","50","ry","50","fill","#e9f1fe","filter","url(#rays-shine)"],["d","M200.08,500H200a302.62,302.62,0,0,1-38.8-2.5l38.51-296.65.18-.44-.16.28v-.07l0,.1L50,459.86a303.84,303.84,0,0,1-32.6-21.8L199.75,200.51l0-.26h0L-12,412.28A302.65,302.65,0,0,1-37.81,382.9L199.32,200.37l-.18,0L-59.64,350.34a301.36,301.36,0,0,1-17.43-35.2L198.25,200.66l-288,77.2a298.68,298.68,0,0,1-7.67-38.57l296.52-39,.34-.14H-100V200a301.73,301.73,0,0,1,2.48-38.62L192,198.77l3.66,0L-89.94,122.8A299.55,299.55,0,0,1-77.32,85.47l274.1,113.25h.78L-59.94,50.18A300.75,300.75,0,0,1-38.17,17.57L198.14,198.71h.56L-12.39-11.87A301.45,301.45,0,0,1,17-37.71L199.15,198.7h.17L49.51-59.55A300.56,300.56,0,0,1,84.7-77L199.35,198.27,122-89.72a300.83,300.83,0,0,1,38.55-7.69L199.64,198.7h.11V-100H200a302.72,302.72,0,0,1,38.45,2.46L200.84,195v2.2L277-90a300.15,300.15,0,0,1,37.34,12.6L200.85,197.79v.51L349.67-60a301.28,301.28,0,0,1,32.62,21.76l-181.43,237v.43L411.75-12.51a301.38,301.38,0,0,1,25.86,29.35L200.86,199.47v.09L459.47,49.36a302.28,302.28,0,0,1,17.47,35.19L201.7,199.35l288-77.54a300.38,300.38,0,0,1,7.72,38.56L200.87,199.7v.3h-.65l.17.1-.19-.11v0h-.09l0,0,.05,0H200v0l.05.05h0l0-.05v0h0v.09h0l0,0h0l0,0,0,0h.07l0,.08-.11,0,.06.12h.08l0,.16-.1-.13.12.21.06.21,0-.15L350.2,459.72A299.77,299.77,0,0,1,315,477.13l-114.61-276L277.7,489.8a300.51,300.51,0,0,1-38.58,7.66l-38.8-296.53-.26-.62h0l-.08-.11h0v0Zm-.24-299.77-.06.25.2-.28Zm-.26-.06-.18.1h.07l.12-.09Zm.21,0h0Zm.07,0v0l.14,0h-.13Zm.14,0Zm0,0h0Zm-.89-.49.17,0h0l-.34-.09Zm1.19-.57,0,.19h0l.1-.37ZM199.75-100v0ZM122.63,489.89a299.51,299.51,0,0,1-37.32-12.64L199.62,201.06Zm260.13-52L200.27,200.53l0-.22h.07l211.85,211.8A302.78,302.78,0,0,1,382.76,437.92ZM438,382.7,200.58,200.31h.17l259,149.8A299.87,299.87,0,0,1,438,382.7Zm39.23-67.85L201.1,200.39l288.75,77.14A299.61,299.61,0,0,1,477.19,314.85ZM497.48,239,200.89,200.31,500,199v1A303.43,303.43,0,0,1,497.48,239ZM200.66,200.28l-.18-.05Z","fill","url(#rays-grad)"],[1,"content","relative","flex","flex-col","items-center","text-base","justify-center","p-4","w-full","h-full","z-1"],["src","assets/images/mascot-welcome.png",1,"mascot","w-24","sm:w-52","absolute"],[1,"flex","header","mt-1","relative","items-center"],["src","assets/images/ribbon.png",1,"absolute","ribbon","left-0","right-0","mx-auto"],[1,"font-black","w-full","text-center","z-1","mb-1.5"],[3,"text"],[1,"user","relative","mt-10"],["src","assets/images/golden-crown-100px.png","srcset","assets/images/golden-crown-100px.png 1x, assets/images/golden-crown-250px.png 2x",1,"absolute","crown"],[1,"user-profile","rounded-full","object-cover","object-center","border-1","border-solid","border-gray-300","select-none",3,"src"],[1,"w-full","text-center","font-medium","text-xl","sm:text-2xl","text-white","mt-2"],[1,"mt-2"],[1,"flex","items-center","fade-in",2,"--duration","300ms","--delay","250ms",3,"hoverBg"],["tooltipBtn","",1,"ticket-tooltip-btn","flex","items-center","bg-white","justify-center","sm:justify-start","w-full","border","border-gray-300","rounded-lg","px-1","sm:px-2","py-1"],[1,"flex","items-center"],["src","assets/images/ticket.png",1,"ticket-image","mr-1","object-cover","h-5","pointer-events-none"],[1,"flex","ticket-id","font-medium","text-sm","sm:text-base"],[1,"tag","whitespace-nowrap","text-white","capitalize","!ml-4","text-xs","sm:text-sm",2,"--color","#ff00e6"],[1,"font-medium","p-2"],[1,"w-5","inline-block","align-sub","cursor-pointer",3,"showToast","appCopying"],[1,"flex","flex-col","mt-5","gap-4","z-1"],[1,"flex","justify-center","items-center","gap-2"],["routerLink","/member/my-entries/list","class","claim-btn h-11 sm:h-14 flex items-center justify-center text-lg md:text-xl font-bold text-white px-3 py-2 rounded-lg",3,"queryParams","click",4,"ngIf","ngIfElse"],["notClaimed",""],[1,"flex","share-btn","items-center","justify-center","font-medium","text-lg","sm:text-xl","text-white","px-2","sm:px-8","py-1.5","sm:py-2.5","h-11","sm:h-14","rounded-lg",3,"click"],["fill","#ffffff","viewBox","0 0 495.003 495.003",0,"xml","space","preserve",1,"h-5","sm:h-6","ml-2"],["id","XMLID_51_"],["id","XMLID_53_","d","M164.711,456.687c0,2.966,1.647,5.686,4.266,7.072c2.617,1.385,5.799,1.207,8.245-0.468l55.09-37.616\n                        l-67.6-32.22V456.687z"],["id","XMLID_52_","d","M492.431,32.443c-1.513-1.395-3.466-2.125-5.44-2.125c-1.19,0-2.377,0.264-3.5,0.816L7.905,264.422\n                        c-4.861,2.389-7.937,7.353-7.904,12.783c0.033,5.423,3.161,10.353,8.057,12.689l125.342,59.724l250.62-205.99L164.455,364.414\n                        l156.145,74.4c1.918,0.919,4.012,1.376,6.084,1.376c1.768,0,3.519-0.322,5.186-0.977c3.637-1.438,6.527-4.318,7.97-7.956\n                        L494.436,41.257C495.66,38.188,494.862,34.679,492.431,32.443z"],[1,"play-more","cursor-pointer","w-full","flex","items-center","justify-center","p-2.5","border-2","border-solid","rounded-lg","text-3xl","sm:text-4xl","font-black","relative","overflow-hidden",3,"click"],["routerLink","/member/my-entries/list",1,"claim-btn","h-11","sm:h-14","flex","items-center","justify-center","text-lg","md:text-xl","font-bold","text-white","px-3","py-2","rounded-lg",3,"queryParams","click"],["routerLink","/prizes",1,"claim-btn","flex","items-center","justify-center","text-lg","sm:text-xl","font-bold","text-white","px-2","py-2","rounded-lg","gap-1","border","border-solid",3,"queryParams","click"],["src","assets/images/present 250px-min.png",1,"h-6","sm:h-10","my-px","sm:my-0"],[1,"h-screen","w-screen","fixed","-top-50%","-left-50%","block","pointer-events-none","z-10"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-modal",0,1),t.NdJ("didDismiss",function(){return o.isOpenChange.emit(!1)}),t.YNc(2,Li,2,2,"ng-template"),t.qZA()),2&e&&t.Q6J("isOpen",o.isOpen)},dependencies:[l.O5,$.Q,V.p,ht.u,d.ki,d.Fo,T.yS,j.KC,St.P,Pi,l.Ov,h.X$],styles:['ion-modal[_ngcontent-%COMP%]{--background: white;--border-radius: 16px;--width: 600px}ion-modal[_ngcontent-%COMP%]     .ion-page{border-radius:16px;overflow:unset!important}ion-modal[_ngcontent-%COMP%]::part(content){overflow:unset!important}.modal-box[_ngcontent-%COMP%]:after{box-shadow:0 0 32px 2px #fff3b1cc;animation:change-shadow 3s infinite;content:"";position:absolute;z-index:-1;inset:0;border-radius:16px}@keyframes change-shadow{0%{box-shadow:0 0 24px 1px #fff3b1cc}50%{box-shadow:0 0 48px 3px #fff3b1cc}to{box-shadow:0 0 24px 1px #fff3b1cc}}.content-wrapper[_ngcontent-%COMP%]{min-height:500px;background:linear-gradient(to bottom,#f474ff 0%,#8400ff 100%);border:2px solid #d82edb}@media (min-width: 640px){.content-wrapper[_ngcontent-%COMP%]{min-height:520px}}.content-wrapper[_ngcontent-%COMP%]   .radial-lines[_ngcontent-%COMP%]{left:0;right:0;top:-42px;z-index:0;opacity:.2;height:125%;width:100%;margin-top:-8%}@media (min-width: 640px){.content-wrapper[_ngcontent-%COMP%]   .radial-lines[_ngcontent-%COMP%]{margin-top:-15%}}.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:83%;height:100px;font-size:40px}@media (min-width: 640px){.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:60px}}@keyframes rays-reveal{0%{opacity:0;transform:scale(.6)}to{opacity:.5;transform:scale(1.05)}}@keyframes rays-rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}#rare-rays[_ngcontent-%COMP%]{transform-origin:200px 200px;animation:rays-rotate 7s linear both 1}#rare-rays-out[_ngcontent-%COMP%]{transform-origin:200px 200px;animation:rays-reveal 1.5s ease-in-out both}.ribbon[_ngcontent-%COMP%]{height:80px}@media (min-width: 640px){.ribbon[_ngcontent-%COMP%]{height:90px}}.crown[_ngcontent-%COMP%]{left:0;right:0;margin-left:auto;margin-right:auto;top:-38px;width:75px}.user-profile[_ngcontent-%COMP%]{width:90px;height:90px}.share-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#067bff,#081fff);border:1px solid #63d3fd}.claim-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(100,8,153) 0%,rgb(122,15,255) 100%);border-color:#c135ec}.claim-btn[_ngcontent-%COMP%]:hover{color:#fff}.claimed-btn[_ngcontent-%COMP%]{color:#db46f8;background-color:#fae3ff}.play-more[_ngcontent-%COMP%]{background-color:#ffda00;border-color:#da6a75}.play-more[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:100%;height:100%;position:absolute;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.6) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);animation:3s shinebg 1.2s forwards infinite}@keyframes shinebg{0%{transform:translate(-100%)}to{transform:translate(100%)}}.tag[_ngcontent-%COMP%]{display:inline-block;z-index:1;text-align:center;height:20px;position:relative;border-right:none;background-color:var(--color);min-width:40px;padding-left:6px;border-radius:0 4px 4px 0;line-height:20px;padding-right:6px}.tag[_ngcontent-%COMP%]:before{content:"";z-index:-1;position:absolute;top:3px;left:-7px;width:14px;height:14px;background-color:var(--color);border-left:none;border-top:none;transform:rotate(45deg)}.ticket-id[_ngcontent-%COMP%]{color:#3b3b3b}.mascot[_ngcontent-%COMP%]{bottom:20px;left:-20px}@media (min-width: 640px){.mascot[_ngcontent-%COMP%]{left:-40px}}'],data:{animation:[(0,y.X$)("fadeInOut",[(0,y.eR)(":enter",[(0,y.oB)({opacity:0}),(0,y.jt)("{{inDuration}}",(0,y.oB)({opacity:"{{opacity}}"}))],{params:{opacity:1,inDuration:"500ms"}}),(0,y.eR)(":leave",[(0,y.jt)("{{outDuration}}",(0,y.oB)({opacity:0}))],{params:{outDuration:"500ms"}})])]}}),n})(),Di=(()=>{class n{constructor(e){this.ngZone=e}ngOnInit(){x.Z.isServer||this.ngZone.runOutsideAngular(()=>{window;const g=document.getElementById("winner-announced-confetti-source"),m=document.getElementById("canvas"),O=m.getContext("2d");m.width=window.innerWidth,m.height=window.innerHeight;let J=[],L=[];const M=[{front:"#7b5cff",back:"#6245e0"},{front:"#b3c7ff",back:"#8fa5e5"},{front:"#5c86ff",back:"#345dd1"}],Z=(w,R)=>Math.random()*(R-w)+w;class ic{constructor(){this.randomModifier=Z(0,99),this.color=M[Math.floor(Z(0,M.length))],this.dimensions={x:Z(5,9),y:Z(8,15)},this.position={x:Z(m.width/2-g.offsetWidth/4,m.width/2+g.offsetWidth/4),y:Z(m.height/2+g.offsetHeight/2+8,m.height/2+1.5*g.offsetHeight-8)},this.rotation=Z(0,2*Math.PI),this.scale={x:1,y:1},this.velocity=((w,R)=>{const bt=Z(w[0],w[1]),rt=R[1]-R[0]+1;let Ut=R[1]-Math.abs(Z(0,rt)+Z(0,rt)-rt);return Ut>=R[1]-1&&(Ut+=Math.random()<.25?Z(1,3):0),{x:bt,y:-Ut}})([-9,9],[6,11])}update(){this.velocity.x-=.075*this.velocity.x,this.velocity.y=Math.min(this.velocity.y+.3,1),this.velocity.x+=Math.random()>.5?Math.random():-Math.random(),this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.scale.y=Math.cos(.09*(this.position.y+this.randomModifier))}}class rc{constructor(){this.color=M[Math.floor(Z(0,M.length))].back,this.radius=Z(1,2),this.position={x:Z(m.width/2-g.offsetWidth/3,m.width/2+g.offsetWidth/3),y:Z(m.height/2+g.offsetHeight/2+8,m.height/2+1.5*g.offsetHeight-8)},this.velocity={x:Z(-6,6),y:Z(-8,-12)}}update(){this.velocity.x-=.02*this.velocity.x,this.velocity.y=this.velocity.y+.55,this.position.x+=this.velocity.x,this.position.y+=this.velocity.y}}const ye=()=>{O.clearRect(0,0,m.width,m.height),J.forEach((w,R)=>{let bt=w.dimensions.x*w.scale.x,rt=w.dimensions.y*w.scale.y;O.translate(w.position.x,w.position.y),O.rotate(w.rotation),w.update(),O.fillStyle=w.scale.y>0?w.color.front:w.color.back,O.fillRect(-bt/2,-rt/2,bt,rt),O.setTransform(1,0,0,1,0,0),w.velocity.y<0&&O.clearRect(m.width/2-g.offsetWidth/2,m.height/2+g.offsetHeight/2,g.offsetWidth,g.offsetHeight)}),L.forEach((w,R)=>{O.translate(w.position.x,w.position.y),w.update(),O.fillStyle=w.color,O.beginPath(),O.arc(0,0,w.radius,0,2*Math.PI),O.fill(),O.setTransform(1,0,0,1,0,0),w.velocity.y<0&&O.clearRect(m.width/2-g.offsetWidth/2,m.height/2+g.offsetHeight/2,g.offsetWidth,g.offsetHeight)}),J.forEach((w,R)=>{w.position.y>=m.height&&J.splice(R,1)}),L.forEach((w,R)=>{w.position.y>=m.height&&L.splice(R,1)}),this.animationId=window.requestAnimationFrame(ye)};(()=>{for(let w=0;w<20;w++)J.push(new ic);for(let w=0;w<10;w++)L.push(new rc)})(),ye(),setTimeout(()=>{m.classList.add("opacity-0")},3500)})}ngOnDestroy(){x.Z.isServer||window.cancelAnimationFrame(this.animationId)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-winner-announced-confetti"]],decls:3,vars:0,consts:[[1,"container","relative","w-full","h-full","pointer-events-none"],["id","canvas"],["id","winner-announced-confetti-source",1,"w-full","h-full"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"canvas",1)(2,"div",2),t.qZA())},styles:["canvas[_ngcontent-%COMP%]{height:100vh;pointer-events:none;position:fixed;width:100%;left:0;top:0;transition:opacity 1s ease-out;z-index:100}canvas.opacity-0[_ngcontent-%COMP%]{opacity:0}@media (min-width: 640px){canvas[_ngcontent-%COMP%]{top:unset;left:-180px;margin-top:0}}@media (min-width: 1440px){canvas[_ngcontent-%COMP%]{margin-top:-500px}}.container[_ngcontent-%COMP%]{max-width:150px}"]}),n})();const Ui=["biddingButton"];function Ji(n,r){if(1&n&&t._UZ(0,"app-bidding-pool-status",29),2&n){const e=t.oxw(3);t.Q6J("pool",e.selectedPool)("showLoadingNextPool",!1)}}function qi(n,r){1&n&&(t.TgZ(0,"span",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"you")))}function Ni(n,r){if(1&n&&(t.TgZ(0,"div",31)(1,"div",32),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",33),t._UZ(5,"img",34),t.TgZ(6,"span",35),t._uU(7),t.ALo(8,"translate"),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(1),t.ekj("invisible",!e.selectedPool.bidAmount),t.xp6(1),t.hij(" ",t.lcZ(3,4,"entered-pool")," "),t.xp6(5),t.Oqu(t.lcZ(8,6,"pool-filling-up"))}}function Ei(n,r){1&n&&t._UZ(0,"app-global-confetti-animation",39),2&n&&t.Q6J("repeat",-1)("repeatDelay",4)}const Qi=function(){return{bid:!0,status:6}};function Fi(n,r){1&n&&(t.TgZ(0,"a",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.Q6J("queryParams",t.DdM(4,Qi)),t.xp6(1),t.hij(" ",t.lcZ(2,2,"prize-claimed-text")," "))}const Yi=function(){return{bid:!0}};function ji(n,r){1&n&&(t.TgZ(0,"a",48),t._UZ(1,"img",49),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&n&&(t.Q6J("queryParams",t.DdM(4,Yi)),t.xp6(2),t.hij(" ",t.lcZ(3,2,"claim-prize")," "))}function Hi(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,Fi,3,5,"a",40),t.YNc(2,ji,4,5,"ng-template",null,41,t.W1O),t.TgZ(4,"button",42),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.openShareModal=!0)}),t._uU(5),t.ALo(6,"translate"),t.O4$(),t.TgZ(7,"svg",43)(8,"g",44),t._UZ(9,"path",45)(10,"path",46),t.qZA()()(),t.BQk()}if(2&n){const e=t.MAs(3),o=t.oxw(4);t.xp6(1),t.Q6J("ngIf",o.selectedPool.prizeClaimed)("ngIfElse",e),t.xp6(4),t.hij(" ",t.lcZ(6,3,"share-btn")," ")}}function Ri(n,r){1&n&&t._UZ(0,"app-winner-announced-confetti",51)}function zi(n,r){if(1&n&&(t.YNc(0,Ri,1,0,"app-winner-announced-confetti",50),t._UZ(1,"app-bidding-pool-status",29)),2&n){const e=t.oxw(4);t.Q6J("ngIf",e.showWinnerAnnouncedConfetti),t.xp6(1),t.Q6J("pool",e.selectedPool)("showLoadingNextPool",!1)}}function Gi(n,r){if(1&n&&(t.YNc(0,Ei,1,2,"app-global-confetti-animation",36),t.TgZ(1,"div",37),t.YNc(2,Hi,11,5,"ng-container",0),t.YNc(3,zi,2,3,"ng-template",null,38,t.W1O),t.qZA()),2&n){const e=t.MAs(4),o=t.oxw(3);t.Q6J("ngIf",o.showConfetti),t.xp6(2),t.Q6J("ngIf",o.selectedPool.hasCurrentUserWon)("ngIfElse",e)}}function Ki(n,r){1&n&&(t.TgZ(0,"div",52)(1,"div",53),t._UZ(2,"img",54),t.qZA()())}function Wi(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",59),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.isOpenSmartContractInfoModal=!0)}),t._UZ(1,"img",60),t._uU(2),t.ALo(3,"translate"),t._UZ(4,"div",61),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"view-on-bsc")," "))}function $i(n,r){1&n&&(t.TgZ(0,"div",62),t._UZ(1,"img",60),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"drawing-soon")," "))}function Vi(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",63),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.openShareModal=!0)}),t._uU(1),t.ALo(2,"translate"),t.O4$(),t.TgZ(3,"svg",43)(4,"g",44),t._UZ(5,"path",64)(6,"path",65),t.qZA()()()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"share-btn")," "))}function Xi(n,r){if(1&n&&(t.TgZ(0,"div",55),t.YNc(1,Wi,5,3,"a",56),t.YNc(2,$i,4,3,"ng-template",null,57,t.W1O),t.YNc(4,Vi,7,3,"button",58),t.qZA()),2&n){const e=t.MAs(3),o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",o.selectedPool.scanUrl)("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",o.selectedPool.hasCurrentUserWon)}}const tr=function(){return{"--max-width":"80vw"}};function er(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",10)(1,"app-tooltip",69)(2,"span",70),t.GkF(3,71),t.qZA(),t.TgZ(4,"div",72)(5,"p",73),t._uU(6),t.ALo(7,"translate"),t.qZA(),t._UZ(8,"img",74),t.TgZ(9,"ol",75)(10,"li"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"li"),t._uU(14),t.ALo(15,"translate"),t.qZA()(),t.TgZ(16,"div",76)(17,"a",77),t._uU(18),t.ALo(19,"translate"),t._UZ(20,"app-hyperlink-icon",78),t.qZA(),t.TgZ(21,"a",79),t._uU(22),t.ALo(23,"translate"),t._UZ(24,"app-hyperlink-icon",78),t.qZA()()()(),t.TgZ(25,"span",80),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.isOpenSmartContractInfoModal=!0)}),t.GkF(26,71),t.qZA(),t.TgZ(27,"app-tooltip",81)(28,"div",82),t._UZ(29,"img",83),t._uU(30),t.TgZ(31,"button",84),t._UZ(32,"app-copy-icon",85),t.qZA()(),t.TgZ(33,"div",86),t._uU(34),t._UZ(35,"app-copy-icon",87),t.qZA()()()}if(2&n){const e=t.oxw(4),o=t.MAs(4);t.xp6(1),t.Q6J("hoverBg",!1)("popoverStyle",t.DdM(28,tr)),t.xp6(2),t.Q6J("ngTemplateOutlet",o),t.xp6(3),t.Oqu(t.lcZ(7,18,"smart-contract-desc")),t.xp6(5),t.Oqu(t.lcZ(12,20,"smart-contract-desc-hash")),t.xp6(3),t.Oqu(t.lcZ(15,22,"smart-contract-desc-value")),t.xp6(3),t.Q6J("href",e.selectedPool.scanUrl,t.LSH),t.xp6(1),t.hij(" ",t.lcZ(19,24,"validate-results")," "),t.xp6(3),t.Q6J("href",e.selectedPool.contractCodeUrl,t.LSH),t.xp6(1),t.hij(" ",t.lcZ(23,26,"winning-tooltip-seelink")," "),t.xp6(4),t.Q6J("ngTemplateOutlet",o),t.xp6(1),t.Q6J("hoverBg",!1),t.xp6(3),t.hij(" ",e.selectedPool.formattedTicketId," "),t.xp6(1),t.s9C("appCopying",e.selectedPool.winningTicketId),t.Q6J("showToast",!0),t.xp6(3),t.hij(" ",e.selectedPool.winningTicketId," "),t.xp6(1),t.s9C("appCopying",e.selectedPool.winningTicketId),t.Q6J("showToast",!0)}}function nr(n,r){if(1&n&&t._UZ(0,"app-bidding-pool-status",88),2&n){const e=t.oxw(4);t.Q6J("pool",e.selectedPool)("showLoadingNextPool",!1)}}function or(n,r){if(1&n&&(t.TgZ(0,"div",66),t.YNc(1,er,36,29,"div",67),t.YNc(2,nr,1,2,"ng-template",null,68,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",o.selectedPool.winningTicketId)("ngIfElse",e)}}function ir(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",89),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.biddingService.onChangePoolTab$.next(i.poolTab.OPEN))}),t.TgZ(1,"div",90)(2,"div",91),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",92),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t._UZ(8,"app-chevron-right-icon",93),t.qZA()}2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,2,"pool-complete")),t.xp6(3),t.Oqu(t.lcZ(7,4,"go-to-running-pools")))}const rr=function(n){return{userId:n}};function ar(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8),t.YNc(2,Ji,1,2,"app-bidding-pool-status",9),t.TgZ(3,"div",10),t._UZ(4,"img",11),t.TgZ(5,"div",12),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.YNc(8,qi,3,3,"span",13),t.qZA()(),t.TgZ(9,"div",14),t._UZ(10,"app-bidding-progress-bar",15),t.TgZ(11,"div",16)(12,"div",17),t._uU(13),t.ALo(14,"translate"),t.qZA()()(),t.TgZ(15,"div",18)(16,"div",19),t.YNc(17,Ni,9,8,"div",20),t.YNc(18,Gi,5,3,"ng-template",null,21,t.W1O),t.qZA(),t.YNc(20,Ki,3,0,"div",22),t.TgZ(21,"app-bid-button",23),t.NdJ("onPoolCompleted",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onPoolCompleted(i))})("onPoolUpdated",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onPoolUpdated(i))}),t.qZA()(),t.TgZ(22,"div",24),t.YNc(23,Xi,5,3,"div",25),t.TgZ(24,"div",26),t.YNc(25,or,4,2,"div",27),t.qZA()(),t.YNc(26,ir,9,6,"div",28),t.qZA()}if(2&n){const e=r.ngLet,o=t.MAs(19),i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",i.selectedPool.hasCurrentUserWon?"justify-between":"justify-end"),t.xp6(1),t.Q6J("ngIf",i.selectedPool.hasCurrentUserWon),t.xp6(2),t.Q6J("src",i.selectedPool.poolOwner.avatar,t.LSH),t.xp6(2),t.hij(" ",t.xi3(7,23,"users-pool",t.VKq(28,rr,i.maskedUsername(i.selectedPool)))," "),t.xp6(2),t.Q6J("ngIf",(null==e?null:e.id)==i.selectedPool.poolOwner.id),t.xp6(2),t.Q6J("currentPoolPercentage",i.selectedPool.currentPoolPercentage)("hasEntered",i.selectedPool.bidAmount>0),t.xp6(3),t.AsE(" ",t.lcZ(14,26,"pool-id"),": ",i.selectedPool.poolId," "),t.xp6(2),t.s9C("id","main-pool-product-"+i.product.id),t.xp6(1),t.Q6J("ngClass",i.isPoolOpen?"lg:ml-2 -mt-6":"flex items-center lg:-mt-10"),t.xp6(1),t.Q6J("ngIf",i.isPoolOpen)("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",(null==i.selectedPool?null:i.selectedPool.status)===i.poolStatus.DRAWING||(null==i.selectedPool?null:i.selectedPool.status)===i.poolStatus.NOT_STARTED||(null==i.selectedPool?null:i.selectedPool.status)===i.poolStatus.LOADING_NEXT_POOL||(null==i.selectedPool?null:i.selectedPool.status)===i.poolStatus.DRAWING_START_SOON),t.xp6(1),t.Q6J("product",i.product)("pool",i.selectedPool)("isLogin",!!e)("animationTarget","#product-main-pool")("redirectIfFailed",!0),t.xp6(1),t.Q6J("ngClass",i.isPoolOpen?"lg:justify-end":"lg:justify-between"),t.xp6(1),t.Q6J("ngIf",!i.isPoolOpen),t.xp6(2),t.Q6J("ngIf",!i.isPoolOpen),t.xp6(1),t.Q6J("ngIf",(null==i.selectedPool?null:i.selectedPool.status)===i.poolStatus.DRAWN||(null==i.selectedPool?null:i.selectedPool.status)===i.poolStatus.EXPIRED)}}function sr(n,r){if(1&n&&(t.ynx(0),t.YNc(1,ar,27,30,"div",6),t.ALo(2,"async"),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,e.userService.userInfo$))}}function cr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-launch-pool-button",96),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t.ALo(1,"async"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("canLaunch",!t.lcZ(1,1,e.biddingService.productPoolLimitReached$))}}function lr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",94)(1,"app-launch-pool",95),t.NdJ("openLaunchPoolModal",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onLaunchPool.emit(!0))}),t.YNc(2,cr,2,3,"ng-template"),t.qZA()()}2&n&&(t.xp6(1),t.Q6J("allowDirectLaunch",!0))}function dr(n,r){1&n&&(t.TgZ(0,"div",10),t._UZ(1,"ion-icon",97),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"pool-winning-ticket")," "))}function pr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-share-modal",99),t.NdJ("isOpenChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openShareModal=i)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("product",e.product)("isOpen",e.openShareModal)}}function gr(n,r){1&n&&(t.ynx(0),t.YNc(1,pr,1,2,"app-product-share-modal",98),t.BQk())}function ur(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-smart-contract-info-modal",100),t.NdJ("isOpenChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.isOpenSmartContractInfoModal=i)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("pool",e.selectedPool)("isOpen",e.isOpenSmartContractInfoModal)}}let ie=(()=>{class n extends H.V{constructor(e,o,i){super(),this.biddingService=e,this.userService=o,this.cdr=i,this.biddingButton=null,this.onLaunchPool=new t.vpe,this.onBidMore=new t.vpe,this.poolStatus=v.j1,this.poolTab=v.T7,this.showConfetti=!1,this.showWinnerAnnouncedConfetti=!1,this.isOpenSmartContractInfoModal=!1,this.isOpenYouWonModal=!1,this.openShareModal=!1}get isPoolOpen(){return this.selectedPool&&this.selectedPool?.status==v.j1.OPEN}ngOnInit(){this.biddingService.selectedPool$.pipe((0,P.R)(this.destroyStream$)).subscribe(e=>{!x.Z.isServer&&this.selectedPool?.poolId!=e?.poolId&&(this.showWinnerAnnouncedConfetti=!1,e?.hasCurrentUserWon?(setTimeout(()=>{this.displayConfetti()},500),this.isOpenYouWonModal=!0):(this.hideConfeti(),this.isOpenYouWonModal=!1,e?.winningTicketId&&setTimeout(()=>{this.showWinnerAnnouncedConfetti=!0},100))),this.selectedPool=e,this.cdr.detectChanges(),this.initPollSelectedPool()}),this.biddingService.ticketCount$.pipe((0,P.R)(this.destroyStream$)).subscribe(()=>{this.cdr.detectChanges()})}maskedUsername(e){return e?.poolOwner?.userId.replace(e.poolOwner.userId.substring(2,e.poolOwner.userId.length-2),"*".repeat(e.poolOwner.userId.length-2-2))??"**"}onPoolCompleted(e){var o=this;return(0,_.Z)(function*(){x.Z.isBrowser&&o.selectedPool&&(e.status=10,o.cdr.detectChanges(),o.biddingService.onSelectedPoolStatusChanged$.next(o.selectedPool),yield(0,I.n)((0,N.H)(5e3))),o.initPollSelectedPool()})()}onPoolUpdated(e){var o=this;return(0,_.Z)(function*(){o.initPollSelectedPool(0)})()}initPollSelectedPool(e=4e3){if(x.Z.isBrowser){if(this.stopPoll(),!this.selectedPool?.poolId||[v.j1.DRAWN,v.j1.EXPIRED,v.j1.PAUSED].includes(this.selectedPool.status))return;this.subscription=(0,N.H)(e,4e3).pipe((0,P.R)(this.destroyStream$)).subscribe(()=>{this.refreshMainPoolStatus()})}}stopPoll(){this.subscription&&this.subscription.unsubscribe()}refreshMainPoolStatus(){console.log("REFRESH MAIN POOL!!!!"),this.selectedPool?.poolId&&![v.j1.DRAWN,v.j1.EXPIRED,v.j1.PAUSED].includes(this.selectedPool.status)&&this.biddingService.getProductPools({page:0,rows:10,poolId:this.selectedPool.poolId}).pipe((0,nt.q)(1)).subscribe(e=>{const o=e?.rows?e.rows.find(i=>i.id==this.selectedPool?.poolId):null;if(o&&this.selectedPool){if(o.status===v.j1.OPEN){const i=Math.max(o.currentTickets,this.selectedPool.currentPoolSize),a=Math.max((0,G.DU)(o.currentTickets,o.maxTickets),this.selectedPool.currentPoolPercentage),s=Math.max(o.userTotalTickets,this.selectedPool.bidAmount),u=i!=this.selectedPool.currentPoolSize||s!=this.selectedPool.bidAmount;return this.selectedPool.currentPoolSize=i,this.selectedPool.currentPoolPercentage=a,this.selectedPool.bidAmount=s,void(u&&this.biddingService.onSelectedPoolStatusChanged$.next(this.selectedPool))}if(this.selectedPool.status===v.j1.OPEN&&o.status!==v.j1.OPEN){if(!o.userTotalTickets)return this.biddingService.onChangePoolTab$.next(v.T7.OPEN),void(this.subscription&&this.subscription.unsubscribe());this.biddingService.onChangePoolTab$.next(v.T7.CLOSED)}this.selectedPool.status===v.j1.DRAWING&&o.status===v.j1.DRAWN&&(o.isIWon?(this.selectedPool.hasCurrentUserWon=o.isIWon,this.isOpenYouWonModal=!0):this.showWinnerAnnouncedConfetti=!0),!this.selectedPool.hasCurrentUserWon&&o.isIWon&&this.biddingService.getPrizes().pipe((0,nt.q)(1)).subscribe(),this.selectedPool.currentPoolSize=o.currentTickets,this.selectedPool.currentPoolPercentage=(0,G.DU)(o.currentTickets,o.maxTickets),this.selectedPool.poolLimit=o.maxTickets,this.selectedPool.bidAmount=o.userTotalTickets,this.selectedPool.status=o.status,this.selectedPool.winningTicketId=o.participateId?.substring(2,o.participateId?.length),this.selectedPool.winnerUserId=o.winnerId,this.selectedPool.winnerAvatar=o.winnerAvatar??"assets/images/sign-up-user.svg",this.selectedPool.winnerName=o.winnerName,this.selectedPool.formattedTicketId=this.getFormattedTicketId(o.participateId),this.selectedPool.hasCurrentUserWon=o.isIWon,this.selectedPool.prizeClaimed=o.isCash,this.selectedPool.scanUrl=o.scanUrl,this.cdr.detectChanges()}this.biddingService.onSelectedPoolStatusChanged$.next(this.selectedPool)})}displayConfetti(){this.showConfetti=!0}hideConfeti(){this.showConfetti=!1}getFormattedTicketId(e,o=6){return e?e.substring(2,2+o)+"..."+e.substring(e.length-o,e.length):""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.g),t.Y36(F.K),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bidding-main-pool"]],viewQuery:function(e,o){if(1&e&&t.Gf(Ui,5),2&e){let i;t.iGM(i=t.CRH())&&(o.biddingButton=i.first)}},inputs:{product:"product"},outputs:{onLaunchPool:"onLaunchPool",onBidMore:"onBidMore"},features:[t.qOj],decls:8,vars:6,consts:[[4,"ngIf","ngIfElse"],["noPool",""],["ticketTag",""],[4,"ngIf"],[3,"pool","isOpen","isOpenChange","onOpenShareModal"],[3,"pool","isOpen","isOpenChange",4,"ngIf"],["class","flex flex-col gap-2 relative",4,"ngLet"],[1,"flex","flex-col","gap-2","relative"],[1,"font-medium","flex","flex-nowrap","items-center","mr-1",3,"ngClass"],["class","main-pool-status w-fit",3,"pool","showLoadingNextPool",4,"ngIf"],[1,"flex","items-center"],[1,"mr-1","object-cover","rounded-full","h-6","w-6",3,"src"],[1,"truncate","text-xs"],["style","--color: rgb(4, 127, 255)","class","tag capitalize text-white",4,"ngIf"],[1,"relative"],[3,"currentPoolPercentage","hasEntered"],[1,"flex","justify-end","text-gray-500","font-medium","mt-2","-mb-1.5","mr-1"],[1,"select-none"],[1,"flex","justify-between","mt-1","relative",3,"id"],[1,"w-fit",3,"ngClass"],["class","text-black font-medium absolute lg:mt-0.5",4,"ngIf","ngIfElse"],["poolClosed",""],["class","flex-1 w-full flex items-center overflow-hidden justify-center lg:-mt-6",4,"ngIf"],["id","product-main-pool",3,"product","pool","isLogin","animationTarget","redirectIfFailed","onPoolCompleted","onPoolUpdated"],[1,"flex","flex-col-reverse","lg:flex-row","items-end","lg:items-start","gap-2","text-gray-500","font-medium","mt-1.5","mb-0.5",3,"ngClass"],["class","flex flex-wrap items-center justify-between sm:justify-start gap-2 lg:-mt-5 w-full md:w-auto",4,"ngIf"],[1,"flex","flex-col"],["class","flex gap-1 mt-1.5 flex-nowrap items-center",4,"ngIf"],["class","absolute pool-complete cursor-pointer w-fit mx-auto flex items-center gap-4 top-7 xl:top-0 left-0 right-0 pl-5 pr-4 py-1.5 border border-solid rounded-lg fade-in-from-top","style","--duration: 300ms; --delay: 5000ms; --distance: -100px",3,"click",4,"ngIf"],[1,"main-pool-status","w-fit",3,"pool","showLoadingNextPool"],[1,"tag","capitalize","text-white",2,"--color","rgb(4, 127, 255)"],[1,"text-black","font-medium","absolute","lg:mt-0.5"],[1,"own-pool","text-base","text-center","rounded-md","w-fit","2md:-mt-2","mb-1.5","font-bold","py-0.5","px-3","select-none"],[1,"filling-up","flex","items-center","gap-2"],["src","assets/images/bidding/hat-with-ticket.png",1,"h-6","2md:h-12"],[1,"animated-elipsis","text-base","2md:text-2xl","font-medium","pr-2"],["class","block pointer-events-none z-20 left-16 absolute bottom-0",3,"repeat","repeatDelay",4,"ngIf"],[1,"flex","flex-wrap","gap-2","items-center"],["notWon",""],[1,"block","pointer-events-none","z-20","left-16","absolute","bottom-0",3,"repeat","repeatDelay"],["routerLink","/member/my-entries/list","class","claimed-btn items-center justify-center text-lg md:text-xl font-bold text-white px-3 py-2 rounded-lg",3,"queryParams",4,"ngIf","ngIfElse"],["notClaimed",""],[1,"hidden","sm:flex","share-btn","items-center","justify-center","font-medium","text-xl","text-white","p-1.5","w-28","h-12","rounded-lg",3,"click"],["fill","#ffffff","viewBox","0 0 495.003 495.003",0,"xml","space","preserve",1,"h-5","ml-2"],["id","XMLID_51_"],["id","XMLID_53_","d","M164.711,456.687c0,2.966,1.647,5.686,4.266,7.072c2.617,1.385,5.799,1.207,8.245-0.468l55.09-37.616\n                      l-67.6-32.22V456.687z"],["id","XMLID_52_","d","M492.431,32.443c-1.513-1.395-3.466-2.125-5.44-2.125c-1.19,0-2.377,0.264-3.5,0.816L7.905,264.422\n                      c-4.861,2.389-7.937,7.353-7.904,12.783c0.033,5.423,3.161,10.353,8.057,12.689l125.342,59.724l250.62-205.99L164.455,364.414\n                      l156.145,74.4c1.918,0.919,4.012,1.376,6.084,1.376c1.768,0,3.519-0.322,5.186-0.977c3.637-1.438,6.527-4.318,7.97-7.956\n                      L494.436,41.257C495.66,38.188,494.862,34.679,492.431,32.443z"],["routerLink","/member/my-entries/list",1,"claimed-btn","items-center","justify-center","text-lg","md:text-xl","font-bold","text-white","px-3","py-2","rounded-lg",3,"queryParams"],["routerLink","/prizes",1,"claim-btn","flex","items-center","justify-center","text-lg","md:text-xl","font-bold","text-white","px-3","py-2","rounded-lg","gap-1",3,"queryParams"],["src","assets/images/present 250px-min.png",1,"h-8"],["class","block absolute w-full h-full",4,"ngIf"],[1,"block","absolute","w-full","h-full"],[1,"flex-1","w-full","flex","items-center","overflow-hidden","justify-center","lg:-mt-6"],[1,"dot-floating","relative","inline"],["src","assets/images/ticket.png","alt","",1,"w-5"],[1,"flex","flex-wrap","items-center","justify-between","sm:justify-start","gap-2","lg:-mt-5","w-full","md:w-auto"],["class","view-on-bsc h-12 relative flex justify-between items-center rounded-lg text-white font-medium text-lg pl-0.5 pr-2 whitespace-nowrap cursor-pointer",3,"click",4,"ngIf","ngIfElse"],["drawingSoon",""],["class","sm:hidden share-btn items-center justify-center font-medium text-xl flex text-white p-1.5 w-28 h-12 rounded-lg",3,"click",4,"ngIf"],[1,"view-on-bsc","h-12","relative","flex","justify-between","items-center","rounded-lg","text-white","font-medium","text-lg","pl-0.5","pr-2","whitespace-nowrap","cursor-pointer",3,"click"],["src","assets/images/bidding/BSC-min.png",1,"select-none","w-10"],[1,"w-6","md:w-2"],[1,"view-on-bsc","h-12","relative","flex","items-center","rounded-lg","text-white","font-medium","text-lg","pl-0.5","pr-2"],[1,"sm:hidden","share-btn","items-center","justify-center","font-medium","text-xl","flex","text-white","p-1.5","w-28","h-12","rounded-lg",3,"click"],["id","XMLID_53_","d","M164.711,456.687c0,2.966,1.647,5.686,4.266,7.072c2.617,1.385,5.799,1.207,8.245-0.468l55.09-37.616\n                l-67.6-32.22V456.687z"],["id","XMLID_52_","d","M492.431,32.443c-1.513-1.395-3.466-2.125-5.44-2.125c-1.19,0-2.377,0.264-3.5,0.816L7.905,264.422\n                c-4.861,2.389-7.937,7.353-7.904,12.783c0.033,5.423,3.161,10.353,8.057,12.689l125.342,59.724l250.62-205.99L164.455,364.414\n                l156.145,74.4c1.918,0.919,4.012,1.376,6.084,1.376c1.768,0,3.519-0.322,5.186-0.977c3.637-1.438,6.527-4.318,7.97-7.956\n                L494.436,41.257C495.66,38.188,494.862,34.679,492.431,32.443z"],[1,"flex","gap-1","mt-1.5","flex-nowrap","items-center"],["class","flex items-center",4,"ngIf","ngIfElse"],["poolStatus",""],[1,"hidden","sm:inline-flex",3,"hoverBg","popoverStyle"],["tooltipBtn","",1,"tag-2","inline-block","whitespace-nowrap","text-white","capitalize","!mr-4"],[3,"ngTemplateOutlet"],[1,"tooltip-content-wrapper","contract-tooltip","p-2","text-left","text-base"],[1,"mb-1.5","font-medium","description"],["src","assets/images/validate-results-desc.png",1,"description-image","mx-auto","rounded-lg"],[1,"mt-1.5","font-medium"],[1,"flex","flex-col","md:flex-row","gap-2","justify-between","items-center","mt-1.5","mb-1"],["target","_blank",1,"validate-results","border","rounded-lg","flex","gap-1","py-1.5","px-2","font-medium","items-center","text-white",3,"href"],[1,"w-5","ml-1","mt-0.5"],["target","_blank",1,"!text-[#027fff]","flex","items-center","font-medium","see-contract",3,"href"],[1,"inline-block","sm:hidden","cursor-pointer","items-center","tag-2","whitespace-nowrap","text-white","capitalize","!mr-4",3,"click"],[1,"flex","items-center",3,"hoverBg"],["tooltipBtn","",1,"ticket-tooltip-btn","flex","items-center","justify-center","sm:justify-start","w-full"],["src","assets/images/ticket.png",1,"ticket-image","mr-1","object-cover","pointer-events-none"],[1,"flex","ml-1",3,"showToast","appCopying"],[1,"h-5","w-5","block","text-gray-600","opacity-60"],[1,"font-medium","p-2"],[1,"w-5","inline-block","align-sub","cursor-pointer",3,"showToast","appCopying"],[3,"pool","showLoadingNextPool"],[1,"absolute","pool-complete","cursor-pointer","w-fit","mx-auto","flex","items-center","gap-4","top-7","xl:top-0","left-0","right-0","pl-5","pr-4","py-1.5","border","border-solid","rounded-lg","fade-in-from-top",2,"--duration","300ms","--delay","5000ms","--distance","-100px",3,"click"],[1,"font-bold","text-white","text-center","flex","flex-col","gap-1"],[1,"text-base","leading-none"],[1,"text-xl","leading-none"],[1,"w-4","text-white"],[1,"pb-12","pt-8","mt-9","mb-2"],[3,"allowDirectLaunch","openLaunchPoolModal"],[1,"block","mx-auto",2,"width","224px",3,"canLaunch","click"],["name","help-circle-outline",1,"w-5","h-5","pointer-events-none","mr-0.5"],[3,"product","isOpen","isOpenChange",4,"isBrowser"],[3,"product","isOpen","isOpenChange"],[3,"pool","isOpen","isOpenChange"]],template:function(e,o){if(1&e&&(t.YNc(0,sr,3,3,"ng-container",0),t.YNc(1,lr,3,1,"ng-template",null,1,t.W1O),t.YNc(3,dr,4,3,"ng-template",null,2,t.W1O),t.YNc(5,gr,2,0,"ng-container",3),t.TgZ(6,"app-you-won-modal",4),t.NdJ("isOpenChange",function(a){return o.isOpenYouWonModal=a})("onOpenShareModal",function(){return o.openShareModal=!0}),t.qZA(),t.YNc(7,ur,1,2,"app-smart-contract-info-modal",5)),2&e){const i=t.MAs(2);t.Q6J("ngIf",o.selectedPool)("ngIfElse",i),t.xp6(5),t.Q6J("ngIf",null==o.selectedPool?null:o.selectedPool.hasCurrentUserWon),t.xp6(1),t.Q6J("pool",o.selectedPool)("isOpen",o.isOpenYouWonModal),t.xp6(1),t.Q6J("ngIf",null==o.selectedPool?null:o.selectedPool.scanUrl)}},dependencies:[l.mk,l.O5,l.tP,$.Q,bi.B,V.p,Q.E,W.h,ot.w,dt.u,pt.P,ft.h,kt.j,ht.u,At,It.a,d.gu,d.Fo,T.yS,oe,wi,Bi,Di,l.Ov,h.X$],styles:['@charset "UTF-8";app-bidding-progress-bar[_ngcontent-%COMP%]     .progress-bar{height:3rem;border-width:3px}.pool-text[_ngcontent-%COMP%]{font-size:26px}.own-pool[_ngcontent-%COMP%]{color:#db46f8;background-color:#fae3ff;min-width:100px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar .bid-amount{font-size:23px;padding-left:20px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar .bid-amount.large-value{padding-left:44px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar .bid-amount .my-entries-label{font-size:12px;line-height:12px;margin-top:2px;margin-bottom:1px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar img{height:27px!important;margin-left:5px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar .enter-now{margin-left:30px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar.disabled{color:#7c7d7f;background-color:#f4f5f9;border-color:#cacaca;border-width:2px}.launch-pool[_ngcontent-%COMP%]{color:#0087ff}.launch-pool.disabled[_ngcontent-%COMP%]{color:#9ca3af;cursor:default!important}.no-pool-bar[_ngcontent-%COMP%]     .progress-bar{border-color:#c3c3c3}.ticket-image[_ngcontent-%COMP%]{width:20px!important;height:20px;min-width:20px}@media (min-width: 1280px){app-bidding-pool-status.main-pool-status[_ngcontent-%COMP%]     .you-won{min-width:144px}}app-bidding-pool-status.main-pool-status[_ngcontent-%COMP%]     .pool-status{font-size:1.25rem;line-height:1.75rem;font-weight:900}app-bidding-pool-status.main-pool-status[_ngcontent-%COMP%]     .you-won{padding-top:0;padding-bottom:0;margin-bottom:-8px;margin-top:-6px;padding-left:.875rem;padding-right:.875rem;font-size:1.5rem;line-height:2rem}app-bidding-pool-status.main-pool-status[_ngcontent-%COMP%]     .winner-content .winner-avatar{margin-left:.25rem;margin-right:.25rem;transform:scale(1.1)}app-bidding-pool-status.main-pool-status[_ngcontent-%COMP%]     .winner-content .winner-name{font-size:1.125rem;line-height:1.75rem}app-bidding-pool-status.main-pool-status[_ngcontent-%COMP%]     .winner-content .tag{font-size:16px;line-height:25px;height:25px;margin-left:13px}app-bidding-pool-status.main-pool-status[_ngcontent-%COMP%]     .winner-content .tag:before{top:3px;left:-8px;width:17px;height:18px}.bid-more[_ngcontent-%COMP%]{background-color:#fbd95b;border:1px solid rgb(234,170,36)}.bid-more[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px;margin-top:15px}.view-on-bsc[_ngcontent-%COMP%]{background-color:#0b0f12;border:1px solid rgb(150,152,151)}.view-on-bsc[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.dot-floating[_ngcontent-%COMP%]{position:relative;animation:dot-floating 2s infinite cubic-bezier(.15,.6,.9,.1)}.dot-floating[_ngcontent-%COMP%]:before, .dot-floating[_ngcontent-%COMP%]:after{content:"";background:url(/assets/images/ticket.png);background-size:cover;display:inline-block;position:absolute;top:0;width:100%;height:100%}.dot-floating[_ngcontent-%COMP%]:before{left:-12px;animation:dot-floating-before 2s infinite ease-in-out}.dot-floating[_ngcontent-%COMP%]:after{left:-24px;animation:dot-floating-after 2s infinite cubic-bezier(.4,0,1,1)}@keyframes dot-floating{0%{left:calc(-50% - 5px)}75%{left:calc(50% + 80px)}to{left:calc(50% + 80px)}}@keyframes dot-floating-before{0%{left:-50px}50%{left:-30px}75%{left:-50px}to{left:0}}@keyframes dot-floating-after{0%{left:-100px}50%{left:-60px}75%{left:-100px}to{left:0}}app-global-confetti-animation[_ngcontent-%COMP%]{width:500px;transform:translate(-50%)}.tag[_ngcontent-%COMP%]{display:inline-block;z-index:1;text-align:center;height:20px;position:relative;border-left:none;background-color:var(--color);min-width:40px;margin-left:15px;padding-left:3px;border-radius:0 4px 4px 0;font-size:14px;line-height:20px;padding-right:6px}.tag[_ngcontent-%COMP%]:before{content:"";z-index:-1;position:absolute;top:3px;left:-7px;width:14px;height:14px;background-color:var(--color);border-right:none;border-top:none;transform:rotate(45deg)}.tag-2[_ngcontent-%COMP%]{z-index:1;text-align:center;height:20px;position:relative;border-right:none;min-width:40px;margin-right:15px;padding-left:6px;border-radius:4px 0 0 4px;font-size:14px;line-height:20px;padding-right:6px;background-color:#d841ff}.tag-2[_ngcontent-%COMP%]:before{content:"";z-index:-1;position:absolute;top:3px;right:-7px;width:14px;height:14px;background-color:#d841ff;border-left:none;border-top:none;transform:rotate(45deg)}.animated-elipsis[_ngcontent-%COMP%]:after{overflow:hidden;display:inline-block;vertical-align:bottom;animation:ellipsis-animation steps(1,end) 2s infinite;content:"\\2026"}@keyframes ellipsis-animation{0%{clip-path:inset(0 100% 0 0)}25%{clip-path:inset(0 66.6% 0 0)}50%{clip-path:inset(0 33.3% 0 0)}75%{clip-path:inset(0 0 0 0)}}.pool-complete[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(91,0,254) 0%,rgb(28,161,254) 100%);border-color:#0449ff;box-shadow:2.6px 5.1px 5.1px #0000004d;z-index:2}.share-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#067bff,#081fff);border:1px solid #63d3fd}.claimed-btn[_ngcontent-%COMP%]{color:#db46f8;background-color:#fae3ff}.claim-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(100,8,153) 0%,rgb(122,15,255) 100%);border-color:#c135ec}.claim-btn[_ngcontent-%COMP%]:hover{color:#fff}.contract-tooltip[_ngcontent-%COMP%]{width:430px;max-width:calc(100vw - 5px)}.contract-tooltip[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:15px}.contract-tooltip[_ngcontent-%COMP%]   .description-image[_ngcontent-%COMP%]{width:83%}.contract-tooltip[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{list-style-type:decimal;list-style-position:outside;padding-left:20px;padding-right:10px;font-size:15px}.contract-tooltip[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:list-item}.contract-tooltip[_ngcontent-%COMP%]   .validate-results[_ngcontent-%COMP%]{background-color:#2f2d2e;border-color:#3e3c3d;font-size:17px}.contract-tooltip[_ngcontent-%COMP%]   .validate-results[_ngcontent-%COMP%]:hover{color:#027fff}.contract-tooltip[_ngcontent-%COMP%]   .validate-results[_ngcontent-%COMP%]   app-hyperlink-icon[_ngcontent-%COMP%]{color:#027fff}.contract-tooltip[_ngcontent-%COMP%]   .see-contract[_ngcontent-%COMP%]{font-size:17px}']}),n})();var _r=c(69158);const mr=["swiper"];function fr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("mouseenter",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.handleMouseEnter())})("mouseleave",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.handleMouseLeave())})("touchend",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.handleMouseLeave())}),t._UZ(1,"app-bidding-winner-card",3),t.qZA()}if(2&n){const e=r.$implicit;t.Q6J("@scrollItem",void 0),t.xp6(1),t.Q6J("winner",e)}}let Lt=(()=>{class n extends H.V{constructor(e){super(),this.biddingService=e,this.winners=[],this.isInitalize=!1,this.oneRoundWidth=0,this.winnerToShow=[],this.isLoading=!0,this.startIndex=0,this.isMouseHovering=!1}ngOnInit(){var e=this;return(0,_.Z)(function*(){e.isLoading=!0,yield e.fetchWinners(),e.isLoading=!1,e.startAllTimer()})()}stopTimer(){this.subscription?.unsubscribe(),clearTimeout(this.timeoutId)}handleMouseLeave(){this.isMouseHovering=!1,this.startTimer()}startTimer(){this.timeoutId&&(this.timeoutId=setTimeout(()=>{this.isMouseHovering||(this.winnerToShow=[])},4e3)),this.subscription?.unsubscribe(),this.subscription=(0,Kt.P)(()=>(0,N.H)(1e3*(0,G.xT)(1,20))).pipe($t(),(0,P.R)(this.destroyStream$)).subscribe(()=>{this.isMouseHovering||this.startIndex<this.winners.length-1&&(this.winnerToShow.push(this.winners[this.startIndex++]),this.timeoutId=setTimeout(()=>{this.isMouseHovering||this.winnerToShow.shift()},4e3))})}startAllTimer(){this.initPollRecentWinners(),x.Z.isServer||this.startTimer()}stopAllTimer(){this.pollSubscription.unsubscribe(),this.subscription.unsubscribe()}initPollRecentWinners(){x.Z.isBrowser&&(this.pollSubscription?.unsubscribe(),this.pollSubscription=(0,N.H)(2e4,2e4).pipe((0,P.R)(this.destroyStream$)).subscribe(()=>{this.fetchWinners()}))}fetchWinners(){var e=this;return(0,_.Z)(function*(){const o=yield(0,I.n)(e.biddingService.getRecentWinners(20));if(o?.data){const i=o.data?.reverse().map(a=>({productId:a.productId,productName:a.productName,productImage:a.productImages[0].source,winnerId:a.userName,winnerAvatar:a.avatar||"/assets/images/sign-up-user.svg",ticketId:e.getFormattedTicketId(a.winningValue),poolId:a.groupBuyingId,isIWon:a.isIWon}));for(let a=0;a<i.length;a++)-1===e.winners.findIndex(s=>s.ticketId===i[a].ticketId)&&e.winners.push(i[a])}})()}getFormattedTicketId(e,o=6){return e?e.substring(2,2+o)+"..."+e.substring(e.length-o,e.length):""}handleMouseEnter(){this.isMouseHovering=!0,this.stopTimer()}identify(e,o){return o.ticketId}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bidding-winners-toast"]],viewQuery:function(e,o){if(1&e&&t.Gf(mr,5),2&e){let i;t.iGM(i=t.CRH())&&(o.swiper=i.first)}},standalone:!0,features:[t.qOj,t.jDz],decls:3,vars:5,consts:[[1,"h-full","flex","flex-col","justify-end"],["class","card-wrapper rounded-xl relative mt-4 flex-shrink-0 pointer-events-auto",3,"mouseenter","mouseleave","touchend",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card-wrapper","rounded-xl","relative","mt-4","flex-shrink-0","pointer-events-auto",3,"mouseenter","mouseleave","touchend"],[1,"absolute","inset-0","w-full","h-full",3,"winner"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,fr,2,2,"div",1),t.ALo(2,"slice"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,o.winnerToShow,-3))("ngForTrackBy",o.identify))},dependencies:[l.ez,l.sg,l.OU,h.aw,p.m,_r.M,d.Pc],styles:["[_nghost-%COMP%]{height:116px;width:272px;overflow:hidden;pointer-events:none;padding:.5rem}@media (min-width: 768px){[_nghost-%COMP%]{height:350px}}.card-wrapper[_ngcontent-%COMP%]{width:100%;overflow:hidden;height:100px;box-shadow:0 0 8px 2px #0003}.no-winners[_ngcontent-%COMP%]{height:100px;background:rgba(0,0,0,.07)}"],data:{animation:[(0,y.X$)("scrollItem",[(0,y.eR)(":enter",[(0,y.oB)({height:"0px",opacity:0}),(0,y.jt)("0.3s 0ms linear",(0,y.oB)({height:"100px",opacity:1}))]),(0,y.eR)(":leave",[(0,y.jt)("0.3s 0ms linear",(0,y.oB)({opacity:0}))])])]}}),n})();var xt=c(23556);function hr(n,r){if(1&n&&t._UZ(0,"app-bidding-pool-status",26),2&n){const e=t.oxw().$implicit;t.Q6J("pool",e)}}function xr(n,r){1&n&&t.GkF(0)}function br(n,r){1&n&&t.GkF(0)}const re=function(n){return{$implicit:n}};function vr(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",12),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToPool(a))}),t.TgZ(2,"div",13)(3,"div",14)(4,"div",15),t._UZ(5,"img",16),t.TgZ(6,"div",17)(7,"div",18),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"div",19),t.YNc(11,hr,1,1,"app-bidding-pool-status",20),t.qZA()()(),t.TgZ(12,"div",21)(13,"div",22),t.YNc(14,xr,1,0,"ng-container",23),t.qZA()()(),t.TgZ(15,"div",24),t.YNc(16,br,1,0,"ng-container",23),t.qZA()()(),t._UZ(17,"div",25),t.BQk()}if(2&n){const e=r.$implicit,o=t.oxw().ngLet,i=t.oxw(),a=t.MAs(5);t.xp6(1),t.ekj("active",e.poolId==(null==o?null:o.poolId)),t.xp6(4),t.Q6J("src",i.product.productImages?i.product.productImages[0].source:"",t.LSH),t.xp6(3),t.hij(" ",t.lcZ(9,9,i.product.name)," "),t.xp6(3),t.Q6J("ngIf",e.currentPoolPercentage>=100),t.xp6(3),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(11,re,e)),t.xp6(2),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(13,re,e))}}function wr(n,r){1&n&&(t.TgZ(0,"div",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"no-pools-found")," "))}function Pr(n,r){1&n&&(t.TgZ(0,"div",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"no-more-pools")," "))}const Cr=function(){return[]};function Tr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"button",7),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onFilter(i.poolSortTypes.LAST_MODIFIED_DATE))}),t.TgZ(4,"div",8),t._uU(5),t.ALo(6,"translate"),t._UZ(7,"ion-icon",9),t.qZA()()()(),t.YNc(8,vr,18,15,"ng-container",10),t.YNc(9,wr,3,3,"div",11),t.YNc(10,Pr,3,3,"div",11),t.qZA()}if(2&n){const e=t.oxw();let o;t.xp6(3),t.ekj("active",e.pageParams.sortType==e.poolSortTypes.LAST_MODIFIED_DATE),t.xp6(2),t.hij(" ",t.lcZ(6,9,"closed-pool-sort-type")," "),t.xp6(2),t.ekj("invisible",e.pageParams.sortType!==e.poolSortTypes.LAST_MODIFIED_DATE),t.Q6J("name","desc"===e.pageParams.sortDirection?"caret-down-outline":"caret-up-outline"),t.xp6(1),t.Q6J("ngForOf",null!==(o=e.pools)&&void 0!==o?o:t.DdM(11,Cr)),t.xp6(1),t.Q6J("ngIf",e.pools&&0===e.pools.length),t.xp6(1),t.Q6J("ngIf",e.pools&&e.pools.length>0&&e.numOfPages==e.pageParams.page+1)}}function yr(n,r){if(1&n&&(t.TgZ(0,"div",6),t._uU(1),t.TgZ(2,"button",42),t._UZ(3,"app-copy-icon",43),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.formattedTicketId," "),t.xp6(1),t.s9C("appCopying",e.winningTicketId),t.Q6J("showToast",!0)}}function Or(n,r){if(1&n&&t._UZ(0,"app-bidding-pool-status",26),2&n){const e=t.oxw().$implicit;t.Q6J("pool",e)}}const Mr=function(n){return{userId:n}};function Zr(n,r){if(1&n&&(t.TgZ(0,"div",28)(1,"div",29),t._UZ(2,"app-bidding-progress-bar",30),t.qZA(),t.TgZ(3,"div",31)(4,"div",32)(5,"div",33),t._UZ(6,"img",34),t.TgZ(7,"div",35),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"div",36),t._uU(11),t.ALo(12,"translate"),t.TgZ(13,"div",37),t._uU(14),t.qZA()()(),t.TgZ(15,"div",38)(16,"div",39),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.YNc(19,yr,4,3,"div",40),t.YNc(20,Or,1,1,"ng-template",null,41,t.W1O),t.qZA()()()),2&n){const e=r.$implicit,o=t.MAs(21);t.xp6(2),t.Q6J("currentPoolPercentage",e.currentPoolPercentage)("hasEntered",e.bidAmount>0)("rebuildOnRefresh",!1),t.xp6(4),t.Q6J("src",e.poolOwner.avatar,t.LSH),t.xp6(2),t.hij(" ",t.xi3(9,10,"users-pool",t.VKq(17,Mr,e.poolOwner.maskedUserId))," "),t.xp6(3),t.hij(" ",t.lcZ(12,13,"pool-id"),": "),t.xp6(3),t.Oqu(e.poolId),t.xp6(3),t.hij(" ",t.lcZ(18,15,"pool-winning-ticket"),": "),t.xp6(2),t.Q6J("ngIf",e.winningTicketId)("ngIfElse",o)}}let ae=(()=>{class n extends H.V{constructor(e,o,i,a,s){super(),this.biddingService=e,this.userService=o,this.cdr=i,this.activatedRoute=a,this.router=s,this.pageParams={page:0,rows:10,sortType:v.Nj.LAST_MODIFIED_DATE,sortDirection:"desc"},this.total=0,this.numOfPages=1,this.poolSortTypes=v.Nj}ngOnInit(){this.fetchData(0),this.biddingService.onProductPoolStatusChanged$.pipe((0,P.R)(this.destroyStream$)).subscribe(()=>{this.fetchData(0)}),this.biddingService.onSelectedPoolStatusChanged$.pipe((0,P.R)(this.destroyStream$)).subscribe(e=>{const o=this.pools.find(i=>i.poolId==e.poolId);if(o){if(e.status===v.j1.OPEN)return o.currentPoolSize=e.currentPoolSize,o.currentPoolPercentage=e.currentPoolPercentage,o.poolLimit=e.poolLimit,void this.cdr.detectChanges();o.currentPoolSize=e.currentPoolSize,o.currentPoolPercentage=e.currentPoolPercentage,o.poolLimit=e.poolLimit,o.bidAmount=e.bidAmount,o.status=e.status,o.winningTicketId=e.winningTicketId,o.winnerUserId=e.winnerUserId,o.winnerAvatar=e.winnerAvatar,o.winnerName=e.winnerName,o.formattedTicketId=e.formattedTicketId,o.hasCurrentUserWon=e.hasCurrentUserWon,o.scanUrl=e.scanUrl}this.cdr.detectChanges()}),this.initPollClosedPools(3e4)}onFilter(e){this.pageParams={page:0,rows:20,sortType:e,sortDirection:this.pageParams.sortType===e&&"desc"===this.pageParams.sortDirection?"asc":"desc"},this.fetchData(0)}fetchData(e){this.biddingService.getProductPools({...this.pageParams,page:e,skuId:this.product.productSkuId},"1,2,3,4,5").pipe((0,P.R)(this.destroyStream$),(0,lt.K)(o=>(0,ct.of)({error:o}))).subscribe(o=>{this.pools=(o?.rows??[]).map(i=>({poolId:i.id,poolOwner:{id:i.sponsorId,userId:i.sponsorName,avatar:i.sponsorAvatar??"assets/images/sign-up-user.svg",maskedUserId:this.getMaskedUsername(i.sponsorName)},currentPoolSize:i.currentTickets,currentPoolPercentage:(0,G.DU)(i.currentTickets,i.maxTickets),poolLimit:i.maxTickets,userMaxTickets:this.product.userMaxTickets,bidAmount:i.userTotalTickets,status:i.status,winningTicketId:i.participateId?.substring(2,i.participateId?.length),winnerUserId:i.winnerId,winnerAvatar:i.winnerAvatar??"assets/images/sign-up-user.svg",winnerName:i.winnerName,formattedTicketId:this.getFormattedTicketId(i.participateId),hasCurrentUserWon:i.isIWon,scanUrl:i.scanUrl,contractCodeUrl:i.contractCodeUrl,prizeClaimed:i.isCash})),this.pageParams.page=e,this.total=o?.total??0,this.numOfPages=Math.ceil(this.total/this.pageParams.rows),this.cdr.detectChanges()})}getMaskedUsername(e){return e.replace(e.substring(2,e.length-2),"***")??"**"}getFormattedTicketId(e,o=6){return e?e.substring(2,2+o)+"..."+e.substring(e.length-o,e.length):""}navigateToPool(e){this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{poolId:e.poolId},queryParamsHandling:"merge",skipLocationChange:!1,replaceUrl:!0})}initPollClosedPools(e=0){x.Z.isBrowser&&(this.stopPoll(),this.subscription=(0,N.H)(e,3e4).pipe((0,P.R)(this.destroyStream$)).subscribe(()=>{this.fetchData(this.pageParams.page)}))}stopPoll(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.g),t.Y36(F.K),t.Y36(t.sBO),t.Y36(T.gz),t.Y36(T.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bidding-closed-pools-tab"]],inputs:{product:"product",isLogin:"isLogin"},features:[t.qOj],decls:6,vars:5,consts:[["class","flex flex-col",4,"ngLet"],[1,"p-4","mt-2"],[1,"flex","justify-end",3,"curPage","numOfPages","onPageClick"],["progress",""],[1,"flex","flex-col"],[1,"flex","flex-col","sm:flex-row","gap-4","sm:gap-0","py-3","justify-between"],[1,"flex"],[1,"filter-item","px-3","py-0.5","rounded-xl","font-medium","flex","items-center","gap-1",3,"click"],[1,"flex","items-center","text-base","font-medium","tracking-tight","pr-3","relative"],[1,"absolute","-right-1.5",3,"name"],[4,"ngFor","ngForOf"],["class","w-full text-center mt-7 text-gray-400",4,"ngIf"],[1,"pool-card","rounded","flex","text-sm","items-center","cursor-pointer","px-2","pb-1.5","pt-2",3,"click"],[1,"flex","flex-col","w-full","relative"],[1,"flex","gap-2","lg:gap-3","items-center","justify-between","flex-col","lg:flex-row","w-full"],[1,"product-info","flex","flex-1","gap-1","justify-start","items-start","w-full"],[1,"hidden","lg:block","product-img","mr-1","object-cover","rounded-lg",3,"src"],[1,"flex","flex-col","justify-between","items-start","gap-1"],[1,"product-name","font-medium","text-gray-800","text-left","pr-1.5","mb-0.5"],[1,"flex","flex-col","relative","z-50"],["class","whitespace-nowrap",3,"pool",4,"ngIf"],[1,"flex","justify-between","items-center","gap-5"],[1,"hidden","2xl:flex"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","2xl:hidden","w-full","right-section"],[1,"border","border-bottom","opacity-50"],[1,"whitespace-nowrap",3,"pool"],[1,"w-full","text-center","mt-7","text-gray-400"],[1,"flex","w-full","flex-col","lg:flex-row","2xl:flex-col","justify-between","2xl:justify-center","items-end","mt-2","lg:mt-0"],[1,"row-1","flex","flex-col-reverse","w-full","lg:w-fit","items-end","lg:items-center","2xl:items-end","gap-2","lg:gap-0.5"],[3,"currentPoolPercentage","hasEntered","rebuildOnRefresh"],[1,"row-2","flex","flex-col","items-end"],[1,"flex","gap-2","mt-1.5","flex-wrap","items-center","justify-center"],[1,"flex","font-medium","flex-nowrap","items-center"],[1,"mr-1","object-cover","rounded-full","avatar","w-5",3,"src"],[1,"truncate"],[1,"select-none","-mt-px","whitespace-nowrap","flex"],[1,"truncate","pool-id"],[1,"flex","gap-1","mt-1.5","flex-nowrap","items-center"],[1,"select-none","-mt-px","whitespace-nowrap","mr-0.5"],["class","flex",4,"ngIf","ngIfElse"],["poolStatus",""],[1,"flex","ml-1",3,"showToast","appCopying"],[1,"h-4","w-4","block","text-gray-600","opacity-60"]],template:function(e,o){1&e&&(t.YNc(0,Tr,11,12,"div",0),t.ALo(1,"async"),t.TgZ(2,"div",1)(3,"app-pagination",2),t.NdJ("onPageClick",function(a){return o.fetchData(a-1)}),t.qZA()(),t.YNc(4,Zr,22,19,"ng-template",null,3,t.W1O)),2&e&&(t.Q6J("ngLet",t.lcZ(1,3,o.biddingService.selectedPool$)),t.xp6(3),t.Q6J("curPage",o.pageParams.page+1)("numOfPages",o.numOfPages))},dependencies:[l.sg,l.O5,l.tP,$.Q,V.p,xt.Q,W.h,ot.w,dt.u,d.gu,l.Ov,h.X$],styles:['.pool-card[_ngcontent-%COMP%]{min-height:84px}.pool-card.active[_ngcontent-%COMP%]{position:relative;background-color:#e6f2ff}.pool-card.active[_ngcontent-%COMP%]:before, .pool-card.active[_ngcontent-%COMP%]:after{content:"";background:linear-gradient(to bottom,#5CC2FE,#005BFF);position:absolute;top:0;display:block;height:100%;width:.25rem}.pool-card.active[_ngcontent-%COMP%]:before{left:0}.pool-card.active[_ngcontent-%COMP%]:after{right:0}.pool-card[_ngcontent-%COMP%]:not(.active):hover{background-color:#efefef}.pool-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]{min-width:230px}.pool-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-img[_ngcontent-%COMP%]{width:70px;height:70px}.pool-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{display:none}@media (min-width: 1024px){.pool-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;white-space:break-spaces;line-height:1.2}}.pool-card[_ngcontent-%COMP%]   app-bidding-progress-bar[_ngcontent-%COMP%]{display:block;width:100%}@media (min-width: 1024px){.pool-card[_ngcontent-%COMP%]   app-bidding-progress-bar[_ngcontent-%COMP%]{width:160px}}@media (min-width: 1440px){.pool-card[_ngcontent-%COMP%]   app-bidding-progress-bar[_ngcontent-%COMP%]{width:180px}}@media (max-width: 1023px){.pool-card[_ngcontent-%COMP%]   app-bidding-progress-bar[_ngcontent-%COMP%]     .progress-bar{height:2rem;border-width:3px}}.filter-item[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.filter-item.active[_ngcontent-%COMP%]{background-color:rgb(255 126 24 / var(--tw-bg-opacity));--tw-bg-opacity: .1;--tw-text-opacity: 1;color:rgb(255 126 24 / var(--tw-text-opacity))}.filter-item[_ngcontent-%COMP%]:focus-visible{outline:0}.own-pool[_ngcontent-%COMP%]{color:#db46f8;background-color:#fae3ff}.bid-amount[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #cacaca;color:#686868;background-color:#e5e5e5}.avatar[_ngcontent-%COMP%]{width:18px!important;height:18px;min-width:18px}app-bidding-pool-status[_ngcontent-%COMP%]     .you-won{font-size:.875rem;line-height:1.25rem;background-color:#ffdc40;border:1px solid rgb(255,188,133)}app-bidding-pool-status[_ngcontent-%COMP%]     .winner-content .tag{transform:scale(1.1);margin-left:14px}@media (max-width: 1439px){app-bidding-pool-status[_ngcontent-%COMP%]     .winner-content{margin-bottom:.125rem}@media (min-width: 1440px){app-bidding-pool-status[_ngcontent-%COMP%]     .winner-content{margin-bottom:.25rem}}app-bidding-pool-status[_ngcontent-%COMP%]     .winner-content .winner-avatar{transform:scale(.85)}}@media (max-width: 1023px){.right-section[_ngcontent-%COMP%]{margin-top:-9px}app-bidding-pool-status[_ngcontent-%COMP%]     .winner-content{max-height:30px}}.pool-id[_ngcontent-%COMP%]{width:66px;direction:rtl}'],changeDetection:0}),n})();function kr(n,r){1&n&&(t.TgZ(0,"div",21),t._UZ(1,"app-loading-animation",22),t.qZA())}const Ar=function(n){return{userId:n}};function Ir(n,r){if(1&n&&(t.TgZ(0,"div",44),t._UZ(1,"img",45),t.TgZ(2,"div",46),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.poolOwner.avatar,t.LSH),t.xp6(2),t.hij(" ",t.xi3(4,2,"users-pool",t.VKq(5,Ar,e.poolOwner.maskedUserId))," ")}}function Sr(n,r){1&n&&(t.TgZ(0,"div",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"your-own-pool")," "))}function Lr(n,r){1&n&&(t.TgZ(0,"div",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"entered-pool")," "))}function Br(n,r){if(1&n&&t.YNc(0,Lr,3,3,"div",48),2&n){const e=t.oxw().$implicit;t.Q6J("ngIf",e.bidAmount)}}function Dr(n,r){1&n&&t.GkF(0)}function Ur(n,r){1&n&&t.GkF(0)}function Jr(n,r){1&n&&t.GkF(0)}function qr(n,r){1&n&&t.GkF(0)}const it=function(n){return{$implicit:n}};function Nr(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",23)(2,"div",24)(3,"div",25)(4,"div",26),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.navigateToPool(a))}),t._UZ(5,"img",27),t.TgZ(6,"div",28)(7,"div",29),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"div",30),t.YNc(11,Ir,5,7,"div",31),t.YNc(12,Sr,3,3,"div",32),t.YNc(13,Br,1,1,"ng-template",null,33,t.W1O),t.qZA()()(),t.TgZ(15,"div",34)(16,"div",35),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.navigateToPool(a))}),t.YNc(17,Dr,1,0,"ng-container",36),t.qZA(),t.TgZ(18,"div",37)(19,"app-bid-button",38),t.NdJ("onPoolCompleted",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.onPoolCompleted(i))})("onPoolUpdated",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.onPoolUpdated(i))}),t.qZA()()()(),t.TgZ(20,"div",39),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.navigateToPool(a))}),t.TgZ(21,"div",40),t.YNc(22,Ur,1,0,"ng-container",36),t.qZA(),t.TgZ(23,"div",41),t.YNc(24,Jr,1,0,"ng-container",36),t.qZA(),t.TgZ(25,"div",42),t.YNc(26,qr,1,0,"ng-container",36),t.qZA()()()(),t._UZ(27,"div",43),t.BQk()}if(2&n){const e=r.$implicit,o=t.MAs(14),i=t.oxw().ngLet,a=t.oxw().ngLet,s=t.oxw(),u=t.MAs(3),C=t.MAs(5),g=t.MAs(7);t.xp6(1),t.ekj("active",e.poolId==(null==i?null:i.poolId))("invisible",s.loading),t.xp6(4),t.Q6J("src",s.product.productImages?s.product.productImages[0].source:"",t.LSH),t.xp6(3),t.hij(" ",t.lcZ(9,25,s.product.name)," "),t.xp6(3),t.Q6J("ngIf",e),t.xp6(1),t.Q6J("ngIf",(null==a?null:a.username)==e.poolOwner.userId)("ngIfElse",o),t.xp6(5),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(27,it,e)),t.xp6(2),t.s9C("id","product-open-pool-"+e.poolId),t.s9C("animationTarget","#product-open-pool-"+e.poolId),t.Q6J("product",s.product)("pool",e)("isLogin",s.isLogin)("redirectIfFailed",!0),t.xp6(3),t.Q6J("ngTemplateOutlet",C)("ngTemplateOutletContext",t.VKq(29,it,e)),t.xp6(2),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(31,it,e)),t.xp6(2),t.Q6J("ngTemplateOutlet",g)("ngTemplateOutletContext",t.VKq(33,it,e)),t.xp6(1),t.ekj("invisible",s.loading)}}function Er(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-launch-pool-button",52),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t.ALo(1,"async"),t.qZA()}if(2&n){const e=t.oxw(4);t.Q6J("canLaunch",!t.lcZ(1,1,e.biddingService.productPoolLimitReached$))}}function Qr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",49)(1,"div",50),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"app-launch-pool",51),t.NdJ("openLaunchPoolModal",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.onLaunchPool.emit(!0))}),t.YNc(5,Er,2,3,"ng-template"),t.qZA()()}if(2&n){const e=t.oxw(3);t.ekj("invisible",e.loading),t.xp6(2),t.hij(" ",t.lcZ(3,4,"no-pools-found")," "),t.xp6(2),t.Q6J("allowDirectLaunch",!0)}}function Fr(n,r){if(1&n&&(t.TgZ(0,"div",53),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(3);t.ekj("invisible",e.loading),t.xp6(1),t.hij(" ",t.lcZ(2,3,"no-more-pools")," ")}}const Yr=function(){return[]};function jr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"button",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onFilter(i.poolSortTypes.POOL_SIZE))}),t.TgZ(4,"div",11),t._uU(5),t.ALo(6,"translate"),t._UZ(7,"ion-icon",12),t.qZA()(),t.TgZ(8,"button",13),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onFilter(i.poolSortTypes.CREATED_DATE))}),t.TgZ(9,"div",14),t._uU(10),t.ALo(11,"translate"),t._UZ(12,"ion-icon",12),t.qZA()()(),t.TgZ(13,"div",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.refresh())}),t._UZ(14,"ion-icon",16),t.qZA()(),t.YNc(15,kr,2,0,"div",17),t.YNc(16,Nr,28,35,"ng-container",18),t.YNc(17,Qr,6,6,"div",19),t.YNc(18,Fr,3,5,"div",20),t.qZA()}if(2&n){const e=t.oxw(2);let o;t.xp6(3),t.ekj("active",e.pageParams.sortType==e.poolSortTypes.POOL_SIZE),t.xp6(2),t.hij(" ",t.lcZ(6,18,"pool-size")," "),t.xp6(2),t.ekj("invisible",e.pageParams.sortType!==e.poolSortTypes.POOL_SIZE),t.Q6J("name","desc"===e.pageParams.sortDirection?"caret-down-outline":"caret-up-outline"),t.xp6(1),t.ekj("active",e.pageParams.sortType==e.poolSortTypes.CREATED_DATE),t.xp6(2),t.hij(" ",t.lcZ(11,20,"date-started")," "),t.xp6(2),t.ekj("invisible",e.pageParams.sortType!==e.poolSortTypes.CREATED_DATE),t.Q6J("name","desc"===e.pageParams.sortDirection?"caret-down-outline":"caret-up-outline"),t.xp6(1),t.ekj("loading",e.loading),t.xp6(2),t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngForOf",null!==(o=e.pools)&&void 0!==o?o:t.DdM(22,Yr)),t.xp6(1),t.Q6J("ngIf",e.pools&&0===e.pools.length),t.xp6(1),t.Q6J("ngIf",e.pools&&e.pools.length>0&&e.pageParams.numOfPages==e.pageParams.page+1)}}function Hr(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,jr,19,23,"div",4),t.ALo(2,"async"),t.TgZ(3,"div",5)(4,"app-pagination",6),t.NdJ("onPageClick",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.onFetchData.emit(i-1))}),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngLet",t.lcZ(2,5,e.biddingService.selectedPool$)),t.xp6(2),t.ekj("invisible",e.loading),t.xp6(1),t.Q6J("curPage",e.pageParams.page+1)("numOfPages",e.pageParams.numOfPages)}}function Rr(n,r){1&n&&t.GkF(0)}function zr(n,r){1&n&&t.GkF(0)}function Gr(n,r){if(1&n&&(t.TgZ(0,"div",54)(1,"div",55)(2,"div",56),t.YNc(3,Rr,1,0,"ng-container",36),t.qZA(),t._UZ(4,"app-bidding-progress-bar",57),t.qZA(),t.TgZ(5,"div",56),t.YNc(6,zr,1,0,"ng-container",36),t.qZA()()),2&n){const e=r.$implicit,o=t.oxw(),i=t.MAs(5),a=t.MAs(7);t.xp6(3),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(7,it,e)),t.xp6(1),t.Q6J("currentPoolPercentage",e.currentPoolPercentage)("hasEntered",e.bidAmount>0)("rebuildOnRefresh",!o.pageLoaded),t.xp6(2),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(9,it,e))}}function Kr(n,r){if(1&n&&(t.TgZ(0,"div",60)(1,"p",61),t._uU(2),t.ALo(3,"number"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,e.currentPoolPercentage,"0.0-0"),"% ")}}function Wr(n,r){if(1&n&&t._UZ(0,"app-bidding-pool-status",62),2&n){const e=t.oxw().$implicit;t.Q6J("pool",e)}}function $r(n,r){if(1&n&&(t.YNc(0,Kr,4,4,"div",58),t.YNc(1,Wr,1,1,"ng-template",null,59,t.W1O)),2&n){const e=r.$implicit,o=t.MAs(2);t.Q6J("ngIf",e.currentPoolPercentage<100)("ngIfElse",o)}}function Vr(n,r){if(1&n&&(t.TgZ(0,"div",63)(1,"div",64),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.AsE(" ",t.lcZ(3,2,"pool-id"),": ",e.poolId," ")}}let Xr=(()=>{class n extends H.V{constructor(e,o,i,a,s){super(),this.biddingService=e,this.userService=o,this.cdr=i,this.router=a,this.activatedRoute=s,this.onLaunchPool=new t.vpe,this.pageParams={page:0,rows:10,sortType:v.Nj.POOL_SIZE,sortDirection:"desc",total:0,numOfPages:1},this.onChangeFilter=new t.vpe,this.onFetchData=new t.vpe,this.poolSortTypes=v.Nj,this.loading=!1,this.pageLoaded=!1}ngOnChanges(e){x.Z.isBrowser&&e.pools&&!this.pageLoaded&&setTimeout(()=>{this.pageLoaded=!!e.pools.currentValue?.length},200)}ngOnInit(){this.biddingService.ticketCount$.pipe((0,P.R)(this.destroyStream$)).subscribe(()=>{this.cdr.detectChanges()}),this.biddingService.onSelectedPoolStatusChanged$.pipe((0,P.R)(this.destroyStream$)).subscribe(e=>{const o=this.pools.find(i=>i.poolId==e.poolId);if(o){if(e.status===v.j1.OPEN)return o.currentPoolSize=e.currentPoolSize,o.currentPoolPercentage=e.currentPoolPercentage,o.poolLimit=e.poolLimit,void this.cdr.detectChanges();o.currentPoolSize=e.currentPoolSize,o.currentPoolPercentage=e.currentPoolPercentage,o.poolLimit=e.poolLimit,o.bidAmount=e.bidAmount,o.status=e.status,o.winningTicketId=e.winningTicketId,o.winnerUserId=e.winnerUserId,o.winnerAvatar=e.winnerAvatar,o.winnerName=e.winnerName,o.formattedTicketId=e.formattedTicketId,o.hasCurrentUserWon=e.hasCurrentUserWon,o.scanUrl=e.scanUrl}console.log("STATUS!!!!!!!!!!!!",o?.status),o?.status&&[v.j1.NOT_STARTED,v.j1.DRAWING,v.j1.DRAWN,v.j1.PAUSED,v.j1.EXPIRED].includes(o.status)&&this.biddingService.onProductPoolStatusChanged$.next(!0),this.cdr.detectChanges()})}getMaskedUsername(e){return e.replace(e.substring(2,e.length-2),"***")??"**"}navigateToPool(e){this.biddingService.selectedPool$.next(e),x.Z.isBrowser&&setTimeout(()=>{this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{poolId:e.poolId},queryParamsHandling:"merge",skipLocationChange:!1,replaceUrl:!0})})}onFilter(e){console.log(e,this.pageParams.sortDirection,this.pageParams.sortType===e&&"desc"===this.pageParams.sortDirection?"asc":"desc"),this.onChangeFilter.emit({sortType:e,sortDirection:this.pageParams.sortType===e&&"desc"===this.pageParams.sortDirection?"asc":"desc"})}onPoolCompleted(e){var o=this;return(0,_.Z)(function*(){x.Z.isBrowser&&(e.status=10,o.biddingService.selectedPool$.getValue()?.poolId===e.poolId&&o.biddingService.selectedPool$.next(e),o.cdr.detectChanges(),yield(0,I.n)((0,N.H)(3e3)),e.status=100,o.cdr.detectChanges(),yield(0,I.n)((0,N.H)(15e3)),o.onFetchData.emit(o.pageParams.page))})()}onPoolUpdated(e){var o=this;return(0,_.Z)(function*(){const i=yield(0,et.z)(o.biddingService.getProductPools({rows:1,page:0,poolId:e.poolId}).pipe((0,nt.q)(1))),a=i?.rows?i.rows.find(s=>s.id==e?.poolId):null;a&&(e.currentPoolSize=a.currentTickets,e.currentPoolPercentage=(0,G.DU)(a.currentTickets,a.maxTickets),e.bidAmount=a.userTotalTickets,a.status!=v.j1.OPEN&&(x.Z.isBrowser&&(e.status=a.status,o.biddingService.selectedPool$.getValue()?.poolId===e.poolId&&o.biddingService.selectedPool$.next(e),o.cdr.detectChanges(),yield(0,I.n)((0,N.H)(3e3)),e.status=100,o.cdr.detectChanges(),yield(0,I.n)((0,N.H)(3e3))),o.onFetchData.emit(o.pageParams.page)),o.cdr.detectChanges())})()}refresh(){this.loading||(this.onFetchData.emit(0),x.Z.isBrowser&&requestAnimationFrame(e=>{this.loading=!0,this.pageLoaded=!1,this.cdr.detectChanges(),setTimeout(()=>{this.loading=!1,this.pageLoaded=!0,this.cdr.detectChanges()},800)}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.g),t.Y36(F.K),t.Y36(t.sBO),t.Y36(T.F0),t.Y36(T.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bidding-open-pools-tab"]],inputs:{product:"product",isLogin:"isLogin",pools:"pools",pageParams:"pageParams"},outputs:{onLaunchPool:"onLaunchPool",onChangeFilter:"onChangeFilter",onFetchData:"onFetchData"},features:[t.qOj,t.TTD],decls:8,vars:3,consts:[[4,"ngLet"],["progress",""],["poolStatus",""],["poolId",""],["class","flex flex-col",4,"ngLet"],[1,"p-4","mt-2"],[1,"flex","justify-end",3,"curPage","numOfPages","onPageClick"],[1,"flex","flex-col"],[1,"flex","flex-row","gap-4","sm:gap-0","py-3","justify-between"],[1,"flex"],[1,"filter-item","px-3","py-0.5","rounded-xl","font-medium",3,"click"],[1,"flex","items-center","text-base","font-medium","tracking-tight","pr-3","relative","capitalize"],[1,"absolute","-right-1.5",3,"name"],[1,"filter-item","px-3","py-0.5","rounded-xl","font-medium","flex","items-center","gap-1",3,"click"],[1,"flex","items-center","text-base","font-medium","tracking-tight","pr-3","relative"],[1,"w-fit","mr-1","p-1","cursor-pointer","refresh","rounded-full","bg-blue-50","hover:bg-blue-100","justify-center","items-center","flex","group",3,"click"],["name","refresh-outline",1,"w-5","h-5","text-gray-700","group-hover:text-blue-700"],["class","loading absolute w-full top-20",4,"ngIf"],[4,"ngFor","ngForOf"],["class","pt-5 md:pt-20",3,"invisible",4,"ngIf"],["class","w-full text-center mt-7 text-gray-400",3,"invisible",4,"ngIf"],[1,"loading","absolute","w-full","top-20"],[1,"w-fit","mx-auto","block"],[1,"pool-card","rounded","flex","items-end","text-sm","cursor-pointer","px-2","pb-0.5","pt-2","lg:pt-1"],[1,"flex","flex-col","w-full","relative"],[1,"flex","lg:gap-2","items-center","justify-between","w-full","flex-col","lg:flex-row"],[1,"product-info","flex","flex-1","gap-1","justify-between","lg:justify-start","items-start","w-full","lg:w-auto",3,"click"],[1,"hidden","lg:block","product-img","mr-1","rounded","object-cover",3,"src"],[1,"flex","flex-col","justify-between","items-start","gap-1","w-full"],[1,"product-name","font-medium","text-gray-800","text-left","pr-1.5","mb-0.5"],[1,"flex","flex-row","justify-between","lg:flex-col","w-full"],["class","font-medium flex flex-nowrap items-center -mt-px",4,"ngIf"],["class","block own-pool text-base lg:text-sm rounded-md w-fit font-bold py-0.5 px-3 lg:px-2 select-none lg:mt-1.5",4,"ngIf","ngIfElse"],["othersPool",""],[1,"flex","justify-between","items-center","flex-row","gap-2","lg:gap-3","w-full","lg:w-auto","mt-2","lg:mt-0"],[1,"flex","lg:hidden","2xl:flex","w-full","lg:w-auto",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"bid-button","flex","justify-between","lg:w-auto"],[3,"id","product","pool","isLogin","animationTarget","redirectIfFailed","onPoolCompleted","onPoolUpdated"],[1,"flex","justify-between","lg:justify-start","2xl:hidden","w-full",3,"click"],[1,"block","lg:hidden"],[1,"hidden","lg:flex","w-full"],[1,"flex","lg:hidden"],[1,"border","border-bottom","opacity-50"],[1,"font-medium","flex","flex-nowrap","items-center","-mt-px"],[1,"mr-1","object-cover","rounded-full","avatar",3,"src"],[1,"truncate"],[1,"block","own-pool","text-base","lg:text-sm","rounded-md","w-fit","font-bold","py-0.5","px-3","lg:px-2","select-none","lg:mt-1.5"],["class","block own-pool text-base lg:text-sm rounded-md w-fit font-bold py-0.5 px-3 lg:px-2 select-none lg:mt-1.5",4,"ngIf"],[1,"pt-5","md:pt-20"],[1,"w-full","text-center","text-gray-400"],[3,"allowDirectLaunch","openLaunchPoolModal"],[1,"block","mx-auto","mt-12","md:mt-24",2,"width","224px",3,"canLaunch","click"],[1,"w-full","text-center","mt-7","text-gray-400"],[1,"flex","w-full","flex-col","lg:flex-row","2xl:flex-col","justify-between","2xl:justify-center","items-center"],[1,"flex","flex-row-reverse","2xl:flex-col","w-full","justify-center","lg:justify-end","2xl:justify-center","items-center","gap-2","2xl:gap-0"],[1,"hidden","lg:block"],[3,"currentPoolPercentage","hasEntered","rebuildOnRefresh"],["class","text-black font-medium",4,"ngIf","ngIfElse"],["drawingWinner",""],[1,"text-black","font-medium"],[1,"invisible","mb-px","-mt-1","lg:-mt-px","text-center","whitespace-nowrap","text-2xl","lg:text-base","2xl:text-xl","2xl:leading-6","select-none"],[3,"pool"],[1,"pool-id","flex","gap-1","mt-1","lg:mt-1.5","py-1","lg:py-0","flex-nowrap","justify-end","lg:justify-center"],[1,"truncate","select-none","-mt-px","whitespace-nowrap"]],template:function(e,o){1&e&&(t.YNc(0,Hr,5,7,"ng-container",0),t.ALo(1,"async"),t.YNc(2,Gr,7,11,"ng-template",null,1,t.W1O),t.YNc(4,$r,3,2,"ng-template",null,2,t.W1O),t.YNc(6,Vr,4,4,"ng-template",null,3,t.W1O)),2&e&&t.Q6J("ngLet",t.lcZ(1,1,o.userService.userInfo$))},dependencies:[l.sg,l.O5,l.tP,xt.Q,W.h,_t.r,ot.w,dt.u,pt.P,ft.h,kt.j,d.gu,l.Ov,l.JJ,h.X$],styles:['.pool-card[_ngcontent-%COMP%]{min-height:84px}.pool-card.active[_ngcontent-%COMP%]{position:relative;background-color:#e6f2ff}.pool-card.active[_ngcontent-%COMP%]:before, .pool-card.active[_ngcontent-%COMP%]:after{content:"";background:linear-gradient(to bottom,#5CC2FE,#005BFF);position:absolute;top:0;display:block;height:100%;width:.25rem}.pool-card.active[_ngcontent-%COMP%]:before{left:0}.pool-card.active[_ngcontent-%COMP%]:after{right:0}.pool-card[_ngcontent-%COMP%]:not(.active):hover{background-color:#efefef}.pool-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]{min-width:230px}.pool-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-img[_ngcontent-%COMP%]{width:70px;height:70px}.pool-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:22px!important;height:22px;min-width:22px}.pool-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{display:none}@media (min-width: 1024px){.pool-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;white-space:break-spaces;line-height:1.2}}.pool-card[_ngcontent-%COMP%]   app-bidding-progress-bar[_ngcontent-%COMP%]{display:block;width:100%}@media (min-width: 1024px){.pool-card[_ngcontent-%COMP%]   app-bidding-progress-bar[_ngcontent-%COMP%]{width:160px}}@media (min-width: 1440px){.pool-card[_ngcontent-%COMP%]   app-bidding-progress-bar[_ngcontent-%COMP%]{width:180px}}@media (max-width: 1023px){.pool-card[_ngcontent-%COMP%]   app-bidding-progress-bar[_ngcontent-%COMP%]     .progress-bar{height:2rem;border-width:3px}}.filter-item[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.filter-item.active[_ngcontent-%COMP%]{background-color:rgb(255 126 24 / var(--tw-bg-opacity));--tw-bg-opacity: .1;--tw-text-opacity: 1;color:rgb(255 126 24 / var(--tw-text-opacity))}.filter-item[_ngcontent-%COMP%]:focus-visible{outline:0}.pool-id[_ngcontent-%COMP%]{max-width:160px;direction:rtl}.own-pool[_ngcontent-%COMP%]{color:#db46f8;background-color:#fae3ff}app-bid-button[_ngcontent-%COMP%]     .bidding-bar .bid-amount{font-size:23px;padding-left:20px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar .bid-amount.large-value{padding-left:44px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar .bid-amount .my-entries-label{font-size:12px;line-height:12px;margin-top:2px;margin-bottom:1px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar img{height:27px!important;margin-left:5px}app-bid-button[_ngcontent-%COMP%]     .bidding-bar .enter-now{font-size:15px;margin-left:20px}@media (min-width: 768px){app-bid-button[_ngcontent-%COMP%]     .bidding-bar .enter-now{font-size:17px;margin-left:30px}}app-bid-button[_ngcontent-%COMP%]     .bidding-bar.disabled{color:#7c7d7f;background-color:#f4f5f9;border-color:#cacaca;border-width:2px}.refresh[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{--ionicon-stroke-width: 50}.refresh.loading[_ngcontent-%COMP%]{animation:blue-pulse 1.2s}app-loading-animation[_ngcontent-%COMP%]     .knight-rider-bar{height:.32em;width:.22em;background-color:#8e8e8e}app-loading-animation[_ngcontent-%COMP%]     .knight-rider-loader{font-size:35px;line-height:35px}'],changeDetection:0}),n})();const ta=["tabBar"],ea=["tabPopover"],na=["swiper"];function oa(n,r){if(1&n&&(t.TgZ(0,"div",18),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).ngLet;t.xp6(1),t.hij(" ",e>99?"99+":e," ")}}const ia=function(n){return{active:n}};function ra(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",14),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw(3);return t.KtG(s.handleClick(a))}),t.TgZ(1,"div",15)(2,"span",16),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,oa,2,1,"div",17),t.qZA()()}if(2&n){const e=r.$implicit,o=r.index,i=t.oxw().ngLet,a=t.oxw(2);t.Q6J("ngClass",t.VKq(5,ia,a.activeTab===o)),t.xp6(3),t.Oqu(t.lcZ(4,3,e.text)),t.xp6(2),t.Q6J("ngIf","open-pools"==e.text&&i)}}function aa(n,r){if(1&n&&(t.TgZ(0,"div",11,12),t.YNc(2,ra,6,7,"div",13),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.tabs)}}const sa=function(n){return{end:n}};function ca(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onPresentTabPopper(i))}),t._UZ(1,"ion-icon",20),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(1,sa,e.isTabBarEnd))}}const la=function(n){return{active:n}};function da(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",23),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw(3);return t.KtG(s.handleClick(a))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=r.$implicit,o=r.index,i=t.oxw(3);t.Q6J("ngClass",t.VKq(4,la,i.activeTab===o)),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.text)," ")}}function pa(n,r){if(1&n&&(t.TgZ(0,"div",21),t.YNc(1,da,3,6,"div",22),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.tabs)}}function ga(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-bidding-open-pools-tab",24),t.NdJ("onLaunchPool",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onLaunchPool.emit(i))})("onChangeFilter",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onChangeFilter(i))})("onFetchData",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.fetchOpenPools(i))}),t.qZA()}if(2&n){const e=t.oxw().ngLet,o=t.oxw();t.Q6J("product",o.product)("isLogin",!!e)("pools",o.openPools)("pageParams",o.openPoolPageParams)}}function ua(n,r){if(1&n&&t._UZ(0,"app-bidding-closed-pools-tab",25),2&n){const e=t.oxw().ngLet,o=t.oxw();t.Q6J("product",o.product)("isLogin",!!e)}}function _a(n,r){if(1&n&&t._UZ(0,"app-product-images-description",27),2&n){const e=t.oxw(3);t.Q6J("productDetail",e.product)}}function ma(n,r){if(1&n&&t.YNc(0,_a,1,1,"app-product-images-description",26),2&n){const e=t.oxw(2);t.Q6J("ngIf",2==e.activeTab)}}function fa(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,aa,3,1,"div",3),t.ALo(3,"async"),t.YNc(4,ca,2,3,"button",4),t.TgZ(5,"ion-popover",5,6),t.NdJ("didDismiss",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.isOpenTabHandler=!1)}),t.YNc(7,pa,2,1,"ng-template"),t.qZA()(),t.TgZ(8,"div",7)(9,"swiper",8,9),t.YNc(11,ga,1,4,"ng-template",10),t.YNc(12,ua,1,2,"ng-template",10),t.YNc(13,ma,1,1,"ng-template",10),t.qZA()()()}if(2&n){const e=t.oxw();t.ekj("open-pools-container",e.openPools.length),t.xp6(2),t.Q6J("ngLet",t.lcZ(3,7,e.biddingService.openPoolsCount$)),t.xp6(2),t.Q6J("ngIf",e.isTabBarOverflowed),t.xp6(1),t.Q6J("arrow",!1)("isOpen",e.isOpenTabHandler),t.xp6(4),t.Q6J("config",e.slideOpts)}}let se=(()=>{class n extends H.V{constructor(e,o,i,a,s){super(),this.biddingService=e,this.userService=o,this.router=i,this.cdr=a,this.activatedRoute=s,this.onLaunchPool=new t.vpe,this.tabs=[{text:"open-pools"},{text:"closed-pools"},{text:"item-description"}],this.slideOpts={slidesPerView:"auto",allowTouchMove:!1},this.tabsMap={0:!0},this.activeTab=0,this.isOpenTabHandler=!1,this.openPools=[],this.openPoolPageParams={page:0,rows:10,sortType:v.Nj.POOL_SIZE,sortDirection:"desc",total:0,numOfPages:1},this.isUserEntered=!1,this.isPageActive=!0}get isTabBarEnd(){if(!this.tabBar?.nativeElement)return!1;const e=this.tabBar.nativeElement;return e.scrollLeft+e.offsetWidth>e.scrollWidth-1}get isTabBarOverflowed(){return!!this.tabBar?.nativeElement&&this.tabBar.nativeElement.offsetWidth<this.tabBar.nativeElement.scrollWidth}ngOnInit(){var e=this;return(0,_.Z)(function*(){e.isPageActive=!0,yield e.fetchOpenPools(0),e.startPageActions(),e.biddingService.onProductPoolStatusChanged$.pipe((0,P.R)(e.destroyStream$)).subscribe(()=>{e.fetchOpenPools(0)}),e.biddingService.onLaunchFinished$.pipe((0,P.R)(e.destroyStream$)).subscribe((0,_.Z)(function*(){e.paramSubscription&&e.paramSubscription.unsubscribe(),yield e.fetchOpenPools(0),e.handleSelectedPool()})),e.biddingService.onChangePoolTab$.pipe((0,P.R)(e.destroyStream$)).subscribe(function(){var o=(0,_.Z)(function*(i){e.handleClick(i)});return function(i){return o.apply(this,arguments)}}()),e.biddingService.onBidFinished$.pipe((0,P.R)(e.destroyStream$)).subscribe(function(){var o=(0,_.Z)(function*(i){e.isUserEntered=!0});return function(i){return o.apply(this,arguments)}}())})()}ngOnDestroy(){super.ngOnDestroy(),this.stopPageActions()}fetchOpenPools(e,o=!1){var i=this;return(0,_.Z)(function*(){const a=yield(0,et.z)(i.biddingService.getProductPools({...i.openPoolPageParams,page:e,skuId:i.product.productSkuId,status:0}).pipe((0,P.R)(i.destroyStream$),(0,lt.K)(u=>(0,ct.of)({error:u}))));if(o){const u=(a?.rows??[]).some(m=>m.userTotalTickets>0)||i.openPools.some(m=>m.bidAmount>0),C=(a?.rows??[]).find(m=>m.id==i.biddingService.selectedPool$.getValue()?.poolId),g=(i.biddingService.selectedPool$.getValue()?.bidAmount??0)>0;if(u||C&&g)return void(i.syncOpenPoolsSubscription&&i.syncOpenPoolsSubscription.unsubscribe())}i.openPools=(a?.rows??[]).map(u=>({poolId:u.id,poolOwner:{id:u.sponsorId,userId:u.sponsorName,avatar:u.sponsorAvatar??"/assets/images/sign-up-user.svg",maskedUserId:i.getMaskedUsername(u.sponsorName)},currentPoolSize:u.currentTickets,currentPoolPercentage:(0,G.DU)(u.currentTickets,u.maxTickets),poolLimit:u.maxTickets,userMaxTickets:i.product.userMaxTickets,bidAmount:u.userTotalTickets,status:u.status})),i.isUserEntered=i.openPools.some(u=>u.bidAmount>0),i.cdr.detectChanges(),i.openPoolPageParams={...i.openPoolPageParams,page:e,total:a?.total??0,numOfPages:Math.ceil((a?.total??0)/i.openPoolPageParams.rows)},i.biddingService.openPoolsCount$.next(i.openPoolPageParams.total);const s=i.openPools.find(u=>u.poolId==i.biddingService.selectedPool$.getValue()?.poolId);s&&i.biddingService.selectedPool$.next(s),i.cdr.detectChanges(),x.Z.isBrowser&&i.isPageActive&&(i.syncOpenPoolsSubscription&&i.syncOpenPoolsSubscription.unsubscribe(),(!i.isUserEntered||0==e&&!i.openPools.length)&&(i.syncOpenPoolsSubscription=(0,N.H)(5e3).pipe((0,nt.q)(1)).subscribe((0,_.Z)(function*(){i.isUserEntered?i.syncOpenPoolsSubscription&&i.syncOpenPoolsSubscription.unsubscribe():(yield i.fetchOpenPools(0,!i.isUserEntered),i.openPools.length&&i.handleSelectedPool())}))))})()}onChangeFilter(e){this.openPoolPageParams={page:0,rows:20,total:0,numOfPages:1,...e},this.fetchOpenPools(0)}handleClick(e){var o=this;return(0,_.Z)(function*(){if(e===v.T7.OPEN){yield o.fetchOpenPools(0);const i=o.biddingService.selectedPool$.getValue()?.poolId,a=o.openPools.find(s=>s.poolId==i);if(a)o.biddingService.selectedPool$.next(a);else{const s=o.openPools.length?o.openPools[0]:null;o.biddingService.selectedPool$.next(s),x.Z.isBrowser&&setTimeout(()=>{o.router.navigate([],{relativeTo:o.activatedRoute,queryParams:{poolId:s?.poolId},queryParamsHandling:"merge",skipLocationChange:!1,replaceUrl:!0})})}}if(o.tabsMap[e]=!0,o.swiper?.swiperRef.slideTo(e),o.activeTab=e,o.isOpenTabHandler=!1,o.tabBar){const i=o.tabBar.nativeElement;if(i){const a=i.children[e];a&&o.tabBar.nativeElement.scrollTo({left:a.offsetLeft-10,behavior:"smooth"})}}})()}handleSelectedPool(){var e=this;this.paramSubscription&&this.paramSubscription.unsubscribe(),this.paramSubscription=this.activatedRoute.queryParamMap.pipe((0,P.R)(this.destroyStream$)).subscribe(function(){var o=(0,_.Z)(function*(i){const a=i.get("poolId");if(a&&"0"!=a){const s=e.biddingService.selectedPool$.getValue();if(a&&s?.poolId==a)return;const u=e.openPools.find(m=>m.poolId==a);if(u)return void e.biddingService.selectedPool$.next(u);const C=yield(0,I.n)(e.biddingService.getProductPools({page:0,rows:10,poolId:a})),g=C?.rows?C.rows.find(m=>m.id==a):null;if(g&&e.product?.id==i.get("id"))return e.biddingService.selectedPool$.next({poolId:g.id,poolOwner:{id:g.sponsorId,userId:g.sponsorName,avatar:g.sponsorAvatar??"assets/images/sign-up-user.svg",maskedUserId:e.getMaskedUsername(g.sponsorName)},currentPoolSize:g.currentTickets,currentPoolPercentage:(0,G.DU)(g.currentTickets,g.maxTickets),poolLimit:g.maxTickets,userMaxTickets:e.product.userMaxTickets,bidAmount:g.userTotalTickets,status:g.status,winningTicketId:g.participateId?.substring(2,g.participateId?.length),winnerUserId:g.winnerId,winnerAvatar:g.winnerAvatar,winnerName:g.winnerName,formattedTicketId:e.getFormattedTicketId(g.participateId),hasCurrentUserWon:g.isIWon,scanUrl:g.scanUrl,contractCodeUrl:g.contractCodeUrl,prizeClaimed:g.isCash}),e.biddingService.selectedPool$.getValue()?.status!==v.j1.OPEN&&e.biddingService.onChangePoolTab$.next(v.T7.CLOSED),void e.biddingService.onSelectedPoolStatusChanged$.next(e.biddingService.selectedPool$.getValue())}else if(e.openPools.length&&e.product?.id==i.get("id")){const s=e.openPools[0];return e.biddingService.selectedPool$.next(s),void(x.Z.isBrowser&&setTimeout(()=>{e.router.navigate([],{relativeTo:e.activatedRoute,queryParams:{poolId:s.poolId},queryParamsHandling:"merge",skipLocationChange:!1,replaceUrl:!0})}))}e.biddingService.selectedPool$.next(null)});return function(i){return o.apply(this,arguments)}}())}hasCurrentUserWon(e,o){return e===v.j1.DRAWN&&o==this.userService._userInfo?.id}getMaskedUsername(e){return e.replace(e.substring(2,e.length-2),"***")??"**"}getFormattedTicketId(e,o=6){return e?e.substring(2,2+o)+"..."+e.substring(e.length-o,e.length):""}onPresentTabPopper(e){this.popover.event=e,this.isOpenTabHandler=!0}clearSubscriptions(){this.paramSubscription&&this.paramSubscription.unsubscribe(),this.syncOpenPoolsSubscription&&this.syncOpenPoolsSubscription.unsubscribe()}startPageActions(){this.isPageActive=!0,this.handleSelectedPool()}stopPageActions(){this.isPageActive=!1,this.clearSubscriptions()}startAllActions(){this.startPageActions(),this.closedPoolTab?.initPollClosedPools()}stopAllActions(){this.stopPageActions(),this.closedPoolTab?.stopPoll()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.g),t.Y36(F.K),t.Y36(T.F0),t.Y36(t.sBO),t.Y36(T.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bidding-pools"]],viewQuery:function(e,o){if(1&e&&(t.Gf(ta,5),t.Gf(ea,5),t.Gf(na,5),t.Gf(ae,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.tabBar=i.first),t.iGM(i=t.CRH())&&(o.popover=i.first),t.iGM(i=t.CRH())&&(o.swiper=i.first),t.iGM(i=t.CRH())&&(o.closedPoolTab=i.first)}},inputs:{product:"product"},outputs:{onLaunchPool:"onLaunchPool"},features:[t.qOj],decls:2,vars:3,consts:[["class","relative rounded-lg bg-white",3,"open-pools-container",4,"ngLet"],[1,"relative","rounded-lg","bg-white"],[1,"tab-container","flex","sticky","top-0","z-10","bg-white","sm:relative","overflow-hidden"],["class","flex tab-bar",4,"ngLet"],["class","relative tab-handler flex flex-none items-center justify-center border-none border-l z-10 shrink-0 ml-0.5","appRippleEffect","",3,"ngClass","click",4,"ngIf"],["reference","event",1,"tab-popover",3,"arrow","isOpen","didDismiss"],["tabPopover",""],[1,"credit-tabs-body"],[3,"config"],["swiper",""],["swiperSlide",""],[1,"flex","tab-bar"],["tabBar",""],["class","tab-title-wrapper group border-b-4 border-white hover:bg-gray-100 hover:border-gray-100 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"tab-title-wrapper","group","border-b-4","border-white","hover:bg-gray-100","hover:border-gray-100","cursor-pointer",3,"ngClass","click"],[1,"tab-title","text-center","px-1","xs:px-3","md:px-6","pt-2","pb-1.5","text-xl","font-medium","select-none","flex"],[1,"group-hover:text-primary","tab-text"],["class","text-white own-pools flex items-center justify-center text-base leading-1 rounded-full h-7 px-1 ml-2",4,"ngIf"],[1,"text-white","own-pools","flex","items-center","justify-center","text-base","leading-1","rounded-full","h-7","px-1","ml-2"],["appRippleEffect","",1,"relative","tab-handler","flex","flex-none","items-center","justify-center","border-none","border-l","z-10","shrink-0","ml-0.5",3,"ngClass","click"],["name","ellipsis-vertical-outline"],[1,"menu-container","flex","flex-col","border","border-main-border","text-base"],["class","p-3 text-text-strong dropdown-item font-medium cursor-pointer uppercase",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-3","text-text-strong","dropdown-item","font-medium","cursor-pointer","uppercase",3,"ngClass","click"],[3,"product","isLogin","pools","pageParams","onLaunchPool","onChangeFilter","onFetchData"],[3,"product","isLogin"],["class","introduction mt-3 block",3,"productDetail",4,"ngIf"],[1,"introduction","mt-3","block",3,"productDetail"]],template:function(e,o){1&e&&(t.YNc(0,fa,14,9,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngLet",t.lcZ(1,1,o.userService.userInfo$))},dependencies:[l.mk,l.sg,l.O5,W.h,d.gu,d.d8,b.nF,b.YC,Ft,Xr,ae,l.Ov,h.X$],styles:[".tab-container[_ngcontent-%COMP%]{border-bottom-width:1px;border-top-width:1px;border-color:#eee}.tab-bar[_ngcontent-%COMP%]{overflow-x:auto;-ms-overflow-style:none;scrollbar-width:none}.tab-bar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tab-handler[_ngcontent-%COMP%]{min-width:inherit;height:unset}.tab-handler[_ngcontent-%COMP%]:not(.end){box-shadow:#000000f7 0 0 28px}ion-popover.tab-popover[_ngcontent-%COMP%]{--offset-x: 0px;--offset-y: 0px}ion-popover.tab-popover[_ngcontent-%COMP%]::part(content){border-radius:10px}.dropdown-item.active[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(255 126 24 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 126 24 / var(--tw-text-opacity));background-color:#fff3e7}.tab-title-wrapper[_ngcontent-%COMP%]{display:flex;min-width:-moz-fit-content;min-width:fit-content;align-items:center;white-space:nowrap}.tab-title-wrapper.active[_ngcontent-%COMP%]{background-color:#fff0e9;--tw-border-opacity: 1;border-color:rgb(255 126 24 / var(--tw-border-opacity));--tw-text-opacity: 1;color:rgb(255 126 24 / var(--tw-text-opacity))}.tab-title-wrapper[_ngcontent-%COMP%]   .tab-text[_ngcontent-%COMP%]{transition:color .2s ease}swiper[_ngcontent-%COMP%]     .swiper-slide{width:100%;height:0;display:block}swiper[_ngcontent-%COMP%]     .swiper-slide.swiper-slide-active{height:auto}.own-pools[_ngcontent-%COMP%]{background-color:#047fff;min-width:28px}app-product-images-description[_ngcontent-%COMP%]{min-height:400px}app-product-images-description[_ngcontent-%COMP%]     .title{display:none}"],changeDetection:0}),n})();var ha=c(21075);let xa=(()=>{class n{constructor(e,o){this.el=e,this.i18n=o,this.backToTopBtn="100",this.backToTopBtnShowText=!1,this.myValue=!0,this.backToTopText="",this.content=e,this.setBackToTopText()}setBackToTopText(){x.Z.isServer||(this.backToTopText=this.i18n.instant("back-to-top"),this.i18n.onLangChange.subscribe(e=>{this.backToTopText=this.i18n.instant("back-to-top"),this.btn&&this.backToTopBtnShowText&&(this.btn.innerHTML=this.getButtonContent())}))}getButtonContent(){const e='\n      <svg class="icon__arrow-up" viewBox="0 0 24 24">\n        <title>Back to top</title>\n        <path d="M18.71,11.71a1,1,0,0,1-1.42,0L13,7.41V19a1,1,0,0,1-2,0V7.41l-4.29,4.3a1,1,0,0,1-1.42-1.42l6-6a1,1,0,0,1,1.42,0l6,6A1,1,0,0,1,18.71,11.71Z"/>\n      </svg>';return this.backToTopBtnShowText?`${e} <div class="text">${this.backToTopText}</div>`:e}ngAfterViewInit(){var e=this;return(0,_.Z)(function*(){x.Z.isServer||(e.btn=document.createElement("button"),e.btn.innerHTML=e.getButtonContent(),e.btn.classList.add("back-to-top-btn-ngscroll"),e.backToTopBtnShowText&&e.btn.classList.add("back-to-top-btn-show-text"),e.btn.addEventListener("click",o=>{o.stopPropagation(),e.content.scrollTo({top:0,duration:300})}),e.content.nativeElement.append(e.btn),e.content.scrolled.subscribe(o=>{const i="number"==typeof e.backToTopBtn?e.backToTopBtn:parseInt(e.backToTopBtn||"100");o.target.scrollTop>(i||100)?e.btn.classList.add("show-btn"):e.btn.classList.remove("show-btn")}))})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(j.KC),t.Y36(h.sK))},n.\u0275dir=t.lG2({type:n,selectors:[["","backToTopBtnNgScroll",""]],hostVars:1,hostBindings:function(e,o){2&e&&t.Ikx("overflow-scroll",o.myValue)},inputs:{backToTopBtn:"backToTopBtn",backToTopBtnShowText:"backToTopBtnShowText"}}),n})();var ba=c(75352);function va(n,r){1&n&&t._UZ(0,"img",19)}function wa(n,r){1&n&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"you-won")))}function Pa(n,r){1&n&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"pool-winner")))}function Ca(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"app-text-jumping",20),t.YNc(2,wa,3,3,"span",21),t.YNc(3,Pa,3,3,"span",22),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("text",e.entry.maskedUserId),t.xp6(1),t.Q6J("ngIf",e.entry.isUserOwnEntry),t.xp6(1),t.Q6J("ngIf",!e.entry.isUserOwnEntry)}}function Ta(n,r){if(1&n&&t._uU(0),2&n){const e=t.oxw();t.hij(" ",e.entry.maskedUserId," ")}}function ya(n,r){1&n&&(t.TgZ(0,"span",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"you")))}function Oa(n,r){if(1&n&&(t.TgZ(0,"a",33)(1,"app-tooltip",34)(2,"div",35),t._UZ(3,"img",36),t.TgZ(4,"div",37),t._uU(5),t.qZA()(),t.TgZ(6,"div",38),t._uU(7),t._UZ(8,"app-copy-icon",39),t.qZA()(),t.TgZ(9,"span",40),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"div",41),t.TgZ(13,"div",42),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"app-tooltip",43),t._UZ(17,"ion-icon",44),t.TgZ(18,"div",38),t._uU(19),t.ALo(20,"date"),t.qZA()()()),2&n){const e=t.oxw().$implicit,o=t.oxw(2);t.Q6J("href",null==o.selectedPool?null:o.selectedPool.scanUrl,t.LSH),t.xp6(1),t.Q6J("hoverBg",!1),t.xp6(3),t.Q6J("showToast",!0)("appCopying",e.ticketId),t.xp6(1),t.hij(" ",o.getFormattedTicketId(e.ticketId)," "),t.xp6(2),t.hij(" ",e.ticketId," "),t.xp6(1),t.Q6J("showToast",!0)("appCopying",e.ticketId),t.xp6(2),t.Oqu(t.lcZ(11,11,"pool-winning-ticket")),t.xp6(4),t.hij(" ",t.xi3(15,13,e.date,"dd/MM/YYYY HH:mm:ss")," "),t.xp6(5),t.hij(" ",t.xi3(20,16,e.date,"dd/MM/YYYY HH:mm:ss")," ")}}function Ma(n,r){if(1&n&&(t.TgZ(0,"div",45)(1,"app-tooltip",34)(2,"div",35),t._UZ(3,"img",36),t.TgZ(4,"div",37),t._uU(5),t.qZA()(),t.TgZ(6,"div",38),t._uU(7),t._UZ(8,"app-copy-icon",39),t.qZA()(),t._UZ(9,"div",41),t.TgZ(10,"div",46),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"app-tooltip",47),t._UZ(14,"ion-icon",44),t.TgZ(15,"div",38),t._uU(16),t.ALo(17,"date"),t.qZA()()()),2&n){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("hoverBg",!1),t.xp6(3),t.Q6J("showToast",!0)("appCopying",e.ticketId),t.xp6(1),t.hij(" ",o.getFormattedTicketId(e.ticketId)," "),t.xp6(2),t.hij(" ",e.ticketId," "),t.xp6(1),t.Q6J("showToast",!0)("appCopying",e.ticketId),t.xp6(3),t.hij(" ",t.xi3(12,9,e.date,"dd/MM/YYYY HH:mm:ss")," "),t.xp6(5),t.hij(" ",t.xi3(17,12,e.date,"dd/MM/YYYY HH:mm:ss")," ")}}function Za(n,r){if(1&n&&(t.TgZ(0,"div",30),t.YNc(1,Oa,21,19,"a",31),t.YNc(2,Ma,18,15,"ng-template",null,32,t.W1O),t.qZA()),2&n){const e=r.index,o=t.MAs(3),i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0==e&&i.entry.isWinner)("ngIfElse",o)}}function ka(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",50),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.loadMore())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"load-more")," "))}function Aa(n,r){1&n&&(t.TgZ(0,"div",51),t._UZ(1,"app-loading-animation",52),t.qZA())}function Ia(n,r){if(1&n&&(t.ynx(0),t.YNc(1,ka,3,3,"div",48),t.YNc(2,Aa,2,0,"div",49),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.isLoading&&(-1==e.total||e.combinedRows.length<e.total)),t.xp6(1),t.Q6J("ngIf",e.isLoading)}}function Sa(n,r){if(1&n&&(t.TgZ(0,"div",26),t.YNc(1,Za,4,2,"div",27),t.TgZ(2,"div",28),t.YNc(3,Ia,3,2,"ng-container",29),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.combinedRows),t.xp6(2),t.Q6J("ngIf",e.entry.entries.length>=10)}}const La=function(){return{"--offset-y":"15px"}},Ba=function(n){return{isChanging:n}},Da=function(n,r,e){return{"rotate-180":n,"text-gray-600":r,"text-gray-400":e}};let Ua=(()=>{class n{constructor(e,o){this.cdr=e,this.biddingService=o,this.selectedPool=null,this.isExpanded=!1,this.isChanging=!1,this.combinedRows=[],this.total=-1,this.page=0,this.pageRows=50,this.rows=[],this.isLoading=!1}getMaskedUsername(e){return e.replace(e.substring(2,e.length-2),"***")??"**"}getFormattedTicketId(e,o=6){return e?e.substring(0,o)+"..."+e.substring(e.length-o,e.length):""}ngOnChanges(e){const o=e.entry;o?.isFirstChange()&&(this.combinedRows=o.currentValue?.entries),o&&!o.isFirstChange()&&o.previousValue!==o.currentValue&&(o.currentValue?.entries?.[0]!==o.previousValue?.entries?.[0]&&this.addDistintRowReverse(o.currentValue?.entries),o.currentValue?.tickets>o.previousValue.tickets&&(this.isChanging=!0,setTimeout(()=>{this.isChanging=!1,this.cdr.markForCheck()},1100)))}addDistintRow(e){for(let o=0;o<e.length;o++)-1==this.combinedRows.findIndex(i=>i.ticketId===e[o].ticketId)&&this.combinedRows.push(e[o])}addDistintRowReverse(e){for(let o=e.length-1;o>=0;o--)-1==this.combinedRows.findIndex(i=>i.ticketId===e[o].ticketId)&&this.combinedRows.unshift(e[o])}loadMore(){var e=this;return(0,_.Z)(function*(){e.isLoading=!0;const o=yield(0,I.n)(e.biddingService.queryTicketsList({page:e.page++,rows:e.pageRows,userId:e.entry.membersId,groupBuyingId:e.entry.groupBuyingId}).pipe((0,Pt.U)(i=>(i?.data?.rows&&(i.data.rows=i.data.rows.map(a=>({ticketId:a.ticketsId.substring(2,a.ticketsId.length),date:a.time}))),i))));e.addDistintRow(o.data?.rows||[]),e.total=o.data?.total||0,e.isLoading=!1,e.cdr.markForCheck()})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(U.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bidding-entry-item"]],hostVars:2,hostBindings:function(e,o){2&e&&t.ekj("isExpanded",o.isExpanded)},inputs:{entry:"entry",selectedPool:"selectedPool"},features:[t.TTD],decls:24,vars:34,consts:[["side","top",1,"block","w-full",3,"disabled","popoverStyle","isWhite","disableTouchDevice","preventEvent","delayShow","hoverBg"],["tooltipBtn","",1,"entry","w-full","gap-2","justify-between","flex","pl-2.5","pr-0","md:pr-2.5","border-t","border-slate-200","py-1.5","cursor-pointer",3,"ngClass","click"],[1,"font-medium","pointer-events-none","text-black","flex","flex-nowrap","items-center","flex-1","2xs:flex-none","2xs:w-5/12","sm:w-48","md:w-32","2md:w-48","lg:w-52","xl:w-56"],[1,"mr-1","w-8","h-8","flex-shrink-0","relative"],["class","absolute crown","src","assets/images/golden-crown-100px.png","srcset","assets/images/golden-crown-100px.png 1x, assets/images/golden-crown-250px.png 2x",4,"ngIf"],[1,"object-cover","w-full","h-full","rounded-full",3,"src"],[1,"flex","items-center","flex-wrap"],[4,"ngIf","ngIfElse"],["normalEntry",""],["style","--color: rgb(4, 127, 255)","class","tag text-white capitalize",4,"ngIf"],["tooltipBtn","","src","assets/images/ticket.png","alt","",1,"h-5","absolute","hidden","md:block","left-1/2","top-1/2","transform","-translate-x-1/2","-translate-y-1/2","pointer-events-none"],[1,"flex","items-center","gap-1.5","2xs:gap-2","pointer-events-none"],[1,"font-medium","hidden","xs:flex","flex-nowrap","items-center","pl-2",3,"ngClass"],[1,"date","text-right","text-sm"],["tooltipBtn","","src","assets/images/ticket.png","alt","",1,"h-5","flex","md:hidden"],[1,"flex","justify-center","items-center","w-fit","cursor-pointer"],["name","chevron-down-outline",1,"transition-transform","text-xl","mr-1",3,"ngClass"],[1,"p-2","font-medium"],["class","bg-slate-50 expanded-entries",4,"ngIf"],["src","assets/images/golden-crown-100px.png","srcset","assets/images/golden-crown-100px.png 1x, assets/images/golden-crown-250px.png 2x",1,"absolute","crown"],[3,"text"],["style","--color: rgb(4, 127, 255)","class","tag text-white capitalize whitespace-nowrap",4,"ngIf"],["style","--color: #FFDC3F","class","tag text-black capitalize whitespace-nowrap",4,"ngIf"],[1,"tag","text-white","capitalize","whitespace-nowrap",2,"--color","rgb(4, 127, 255)"],[1,"tag","text-black","capitalize","whitespace-nowrap",2,"--color","#FFDC3F"],[1,"tag","text-white","capitalize",2,"--color","rgb(4, 127, 255)"],[1,"bg-slate-50","expanded-entries"],["class","ticket-info w-full gap-2 justify-start flex pl-3 2md:pl-10 pr-2.5",4,"ngFor","ngForOf"],[1,"text-center","capitalize","text-lg","font-medium",2,"min-height","20px"],[4,"ngIf"],[1,"ticket-info","w-full","gap-2","justify-start","flex","pl-3","2md:pl-10","pr-2.5"],["target","__blank","class","ticket-content font-medium text-gray-600 flex flex-nowrap items-center w-full h-full",3,"href",4,"ngIf","ngIfElse"],["normalTicket",""],["target","__blank",1,"ticket-content","font-medium","text-gray-600","flex","flex-nowrap","items-center","w-full","h-full",3,"href"],[1,"flex","h-full","items-center",3,"hoverBg"],["tooltipBtn","",1,"ticket-tooltip-btn","flex","h-full","items-center"],["src","assets/images/ticket.png",1,"ticket-image","mr-1","object-cover"],[1,"ticket-id",3,"showToast","appCopying"],[1,"font-medium","p-2"],[1,"w-5","inline-block","align-sub","cursor-pointer",3,"showToast","appCopying"],[1,"tag","whitespace-nowrap","text-white","capitalize","!ml-4",2,"--color","#d841ff"],[1,"flex-1"],[1,"date","text-sm","text-right","font-medium","text-gray-400","hidden","xl:flex","flex-nowrap","items-center","pl-2","pr-0.5","sm:pr-2.5"],[1,"flex","xl:hidden"],["tooltipBtn","","name","time-outline",1,"text-black"],[1,"ticket-content","font-medium","text-gray-600","flex","flex-nowrap","items-center","w-full","h-full"],[1,"date","text-right","text-sm","font-medium","text-gray-400","hidden","xs:flex","flex-nowrap","items-center","pl-2","pr-0.5","sm:pr-2.5"],[1,"flex","xs:hidden"],["class","text-primary block py-2 cursor-pointer","href","",3,"click",4,"ngIf"],["class","block py-2",4,"ngIf"],["href","",1,"text-primary","block","py-2","cursor-pointer",3,"click"],[1,"block","py-2"],[1,"mx-auto","block"]],template:function(e,o){if(1&e&&(t.TgZ(0,"app-tooltip",0)(1,"div",1),t.NdJ("click",function(){return o.isExpanded=!o.isExpanded}),t.TgZ(2,"div",2)(3,"div",3),t.YNc(4,va,1,0,"img",4),t._UZ(5,"img",5),t.qZA(),t.TgZ(6,"div",6),t.YNc(7,Ca,4,3,"ng-container",7),t.YNc(8,Ta,1,1,"ng-template",null,8,t.W1O),t.YNc(10,ya,3,3,"span",9),t.qZA()(),t._UZ(11,"img",10),t.TgZ(12,"div",11)(13,"div",12)(14,"div",13),t._uU(15),t.ALo(16,"date"),t.qZA()(),t._UZ(17,"img",14),t.TgZ(18,"div",15),t._UZ(19,"ion-icon",16),t.qZA()()(),t.TgZ(20,"div",17),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t.YNc(23,Sa,4,2,"div",18)),2&e){const i=t.MAs(9);t.Q6J("disabled",o.isExpanded)("popoverStyle",t.DdM(27,La))("isWhite",!0)("disableTouchDevice",!0)("preventEvent",!0)("delayShow",1e3)("hoverBg",!1),t.xp6(1),t.ekj("winning-entry",o.entry.isWinner),t.Q6J("ngClass",t.VKq(28,Ba,o.isChanging)),t.xp6(3),t.Q6J("ngIf",o.entry.isWinner),t.xp6(1),t.ekj("winner-avatar",o.entry.isWinner),t.Q6J("src",o.entry.avatar,t.LSH),t.xp6(2),t.Q6J("ngIf",o.entry.isWinner)("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",!o.entry.isWinner&&o.entry.isUserOwnEntry),t.xp6(3),t.Q6J("ngClass",o.entry.isWinner?"text-gray-900":"text-gray-600"),t.xp6(2),t.hij(" ",t.xi3(16,22,o.entry.date,"dd/MM/YYYY HH:mm:ss")," "),t.xp6(4),t.Q6J("ngClass",t.kEZ(30,Da,o.isExpanded,o.entry.isWinner,!o.entry.isWinner)),t.xp6(2),t.Oqu(t.lcZ(22,25,"bidding-entry-item-tooltip")),t.xp6(2),t.Q6J("ngIf",o.isExpanded)}},dependencies:[l.mk,l.sg,l.O5,$.Q,V.p,_t.r,ht.u,d.gu,St.P,l.uU,h.X$],styles:['[_nghost-%COMP%]:hover{background-color:#f1f5f9}.isExpanded[_nghost-%COMP%]{background-color:#f1f5f9}.entry[_ngcontent-%COMP%]{transition:background-color 1s}.entry.isChanging[_ngcontent-%COMP%]{background-color:#bacbf9}.entry.winning-entry[_ngcontent-%COMP%]{background:linear-gradient(270deg,rgba(255,249,163,.4588235294),rgba(223,171,67,.2901960784),rgba(210,152,85,.2784313725),rgba(255,254,197,.4784313725));background-size:800% 800%;animation:bgslide 9s ease infinite}@keyframes bgslide{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.entry[_ngcontent-%COMP%]   .crown[_ngcontent-%COMP%]{left:0;right:0;margin-left:auto;margin-right:auto;top:-6px;width:23px;z-index:1}.entry[_ngcontent-%COMP%]   .winner-avatar[_ngcontent-%COMP%]{position:relative;margin-top:4px}.ticket[_ngcontent-%COMP%]{width:60px}@media (min-width: 1280px){.ticket[_ngcontent-%COMP%]{width:88px}}.ticket-image[_ngcontent-%COMP%]{width:20px!important;height:20px;min-width:20px}.customTooltip[_ngcontent-%COMP%]{--offset-y: 15px}.tag[_ngcontent-%COMP%]{display:inline-block;z-index:1;text-align:center;height:20px;position:relative;border-left:none;background-color:var(--color);min-width:40px;margin-left:12px;padding-left:3px;border-radius:0 4px 4px 0;font-size:14px;line-height:20px;padding-right:6px}.tag[_ngcontent-%COMP%]:before{content:"";z-index:-1;position:absolute;top:3px;left:-7px;width:14px;height:14px;background-color:var(--color);border-right:none;border-top:none;transform:rotate(45deg)}.expanded-entries[_ngcontent-%COMP%]{box-shadow:inset 0 29px 13px -17px #0000001a,inset 0 -29px 13px -17px #0000000d}.expanded-entries[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]:hover{background-color:#efefef}.expanded-entries[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   .ticket-tooltip-btn[_ngcontent-%COMP%]{min-height:32px}@keyframes progress{0%{transform:translate(-100%)}to{transform:translate(100%)}}']}),n})();function Ja(n,r){if(1&n&&(t.TgZ(0,"a",19),t._UZ(1,"img",20),t.TgZ(2,"div",21),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"app-hyperlink-icon",22),t.qZA()),2&n){const e=t.oxw();t.Q6J("href",null==e.selectedPool?null:e.selectedPool.scanUrl,t.LSH),t.xp6(3),t.hij(" ",t.lcZ(4,2,"validate-results")," ")}}function qa(n,r){1&n&&(t.TgZ(0,"div",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"contract-open-after-fill")," "))}function Na(n,r){if(1&n&&(t.TgZ(0,"div",23),t._UZ(1,"img",20),t.YNc(2,qa,3,3,"div",24),t.qZA()),2&n){const e=t.oxw(),o=t.MAs(18);t.xp6(2),t.Q6J("ngIf",!e.selectedPool||e.selectedPool.status==e.poolStatus.OPEN)("ngIfElse",o)}}function Ea(n,r){if(1&n&&t._UZ(0,"app-bidding-pool-status",25),2&n){const e=t.oxw();t.Q6J("pool",e.selectedPool)("showLoadingNextPool",!1)}}function Qa(n,r){if(1&n&&t._UZ(0,"app-bidding-entry-item",26),2&n){const e=r.$implicit,o=r.last,i=t.oxw();t.ekj("last-entry",o),t.Q6J("selectedPool",i.selectedPool)("entry",e)}}function Fa(n,r){if(1&n&&(t.TgZ(0,"div",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw();t.ekj("my-3",!e.entries.length||!e.isMobile&&e.total>5&&e.pageParams.page+1==e.numOfPages),t.xp6(1),t.hij(" ",t.lcZ(2,3,e.entries.length>0?!e.isMobile&&e.total>5&&e.pageParams.page+1==e.numOfPages?"no-more-entries":"":"no-entries-found")," ")}}function Ya(n,r){1&n&&(t.TgZ(0,"div",29)(1,"p"),t._UZ(2,"ion-skeleton-text",30),t.qZA(),t.TgZ(3,"p"),t._UZ(4,"ion-skeleton-text",30),t.qZA(),t.TgZ(5,"p"),t._UZ(6,"ion-skeleton-text",30),t.qZA(),t.TgZ(7,"p"),t._UZ(8,"ion-skeleton-text",30),t.qZA(),t.TgZ(9,"p"),t._UZ(10,"ion-skeleton-text",30),t.qZA(),t.TgZ(11,"p"),t._UZ(12,"ion-skeleton-text",30),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0),t.xp6(2),t.Q6J("animated",!0))}function ja(n,r){if(1&n&&t.YNc(0,Ya,13,6,"div",28),2&n){const e=t.oxw();t.Q6J("ngIf",!e.pageLoaded)}}function Ha(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",31)(1,"app-pagination",32),t.NdJ("onPageClick",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.getBiddingEntries(i-1))}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("curPage",e.pageParams.page+1)("numOfPages",e.numOfPages)}}let ce=(()=>{class n extends H.V{constructor(e,o,i){super(),this.biddingService=e,this.userService=o,this.cdr=i,this.expanded="first",this.poolStatus=v.j1,this.entries=[],this.pageParams={page:0,rows:10,onlyShowMyself:!1,groupBuyingId:0},this.total=0,this.numOfPages=1,this.pageLoaded=!1,this.selectedPool=this.biddingService.selectedPool$.getValue(),this.isMobile=!1,this.cookiesKey="accordion-bidding"}ngOnInit(){this.expanded=this.userService.cookiesObj[this.cookiesKey]??"first",this.biddingService.selectedPool$.pipe((0,P.R)(this.destroyStream$)).subscribe(e=>{this.selectedPool?.poolId!=e?.poolId&&(this.entries=[],this.pageLoaded=!1),this.selectedPool=e,this.initContent()})}ngAfterViewInit(){x.Z.isBrowser&&(this.isMobile=window.innerWidth<768,(0,ee.R)(window,"resize").pipe((0,P.R)(this.destroyStream$),(0,Zt.b)(100)).subscribe(e=>{this.isMobile=e.target.innerWidth<768,this.initContent()}))}initContent(){if(this.subscription&&this.subscription.unsubscribe(),!this.selectedPool?.poolId)return this.pageParams.page=0,this.total=0,this.numOfPages=1,this.pageLoaded=!0,void(this.entries=[]);this.total||(this.pageLoaded=!1),this.pageParams={page:0,rows:this.isMobile?5:10,onlyShowMyself:this.pageParams.onlyShowMyself,groupBuyingId:parseInt(this.selectedPool.poolId)},this.getBiddingEntries(0),this.initPollSelectedPoolEntries()}initPollSelectedPoolEntries(){x.Z.isBrowser&&(this.stopPoll(),this.subscription=(0,N.H)(6e3,6e3).pipe((0,P.R)(this.destroyStream$)).subscribe(()=>{this.getBiddingEntries(this.pageParams.page)}))}stopPoll(){this.subscription&&this.subscription.unsubscribe()}onChangeFilter(e){this.pageParams={page:0,rows:this.isMobile?5:10,onlyShowMyself:e,groupBuyingId:this.pageParams.groupBuyingId},this.getBiddingEntries(0)}getBiddingEntries(e){this.biddingService.getPoolEntriesForProduct({...this.pageParams,page:e}).pipe((0,P.R)(this.destroyStream$)).subscribe(o=>{this.entries=(o?.rows||[]).map(i=>({...i,userId:i.membersId,userName:i.membersName,avatar:i.membersAvatar??"assets/images/sign-up-user.svg",tickets:i.ticketsAmount,date:i.lastModifiedDate,maskedUserId:this.getMaskedUsername(i.membersName),entries:i.entries.slice(0,10).map(a=>({ticketId:a.ticketsId.substring(2,a.ticketsId.length),date:a.time})),isWinner:i.isWinner,entriesVisible:!1})),this.pageParams.page=e,this.total=o?.total??0,this.numOfPages=Math.ceil(this.total/this.pageParams.rows),this.pageLoaded=!0,this.cdr.detectChanges()})}getMaskedUsername(e){return e.replace(e.substring(2,e.length-2),"***")??"**"}handleChange(e){(0,ha.d8)(this.cookiesKey,e.detail.value,{expires:new Date(Date.now()+3456e7).toUTCString()})}identify(e,o){return o.membersName+o.createdDate}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.g),t.Y36(F.K),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bidding-entries"]],inputs:{product:"product"},features:[t.qOj],decls:26,vars:19,consts:[[3,"value","ionChange"],["value","first"],["slot","header","color","light",1,"rounded"],[1,"font-medium","!text-xl","pt-0.5"],["slot","content",1,"content"],[1,"flex","flex-col","sm:flex-row","gap-4","sm:gap-0","px-3","py-2","justify-between"],[1,"flex"],[1,"filter-item","px-3","py-0.5","rounded-xl","font-medium",3,"click"],[1,"flex","items-center","text-base","font-medium","tracking-tight","pr-3","relative","capitalize"],["name","caret-down-outline",1,"absolute","-right-1.5"],["target","_blank","class","flex items-center gap-1 cursor-pointer",3,"href",4,"ngIf","ngIfElse"],["noContract",""],["selectedPoolStatus",""],["visibility","hover","scrollShadow","","backToTopBtnNgScroll","",1,"w-full",3,"noShadowBottom","backToTopBtnShowText","autoHeightDisabled"],[1,"entries","w-full","flex","flex-col"],["class","block",3,"last-entry","selectedPool","entry",4,"ngFor","ngForOf","ngForTrackBy"],["class","w-full text-center text-gray-400 flex-1 flex justify-center items-center",3,"my-3",4,"ngIf","ngIfElse"],["notLoaded",""],["class","px-4 pt-2 pb-3 md:my-4 md:mt-2",4,"ngIf"],["target","_blank",1,"flex","items-center","gap-1","cursor-pointer",3,"href"],["src","assets/images/bidding/BSC-min.png",1,"h-6","w-6"],[1,"font-medium"],[1,"text-[#027fff]","w-6"],[1,"flex","items-center","gap-1","cursor-default"],["class","font-medium",4,"ngIf","ngIfElse"],[3,"pool","showLoadingNextPool"],[1,"block",3,"selectedPool","entry"],[1,"w-full","text-center","text-gray-400","flex-1","flex","justify-center","items-center"],["class","w-full text-center mt-1 text-gray-400",4,"ngIf"],[1,"w-full","text-center","mt-1","text-gray-400"],[1,"w-full","mx-2",3,"animated"],[1,"px-4","pt-2","pb-3","md:my-4","md:mt-2"],[1,"flex","justify-end",3,"curPage","numOfPages","onPageClick"]],template:function(e,o){if(1&e&&(t.TgZ(0,"ion-accordion-group",0),t.NdJ("ionChange",function(a){return o.handleChange(a)}),t.TgZ(1,"ion-accordion",1)(2,"ion-item",2)(3,"ion-label",3),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"button",7),t.NdJ("click",function(){return o.onChangeFilter(!1)}),t.TgZ(10,"div",8),t._uU(11),t.ALo(12,"translate"),t._UZ(13,"ion-icon",9),t.qZA()()(),t.YNc(14,Ja,6,4,"a",10),t.YNc(15,Na,3,2,"ng-template",null,11,t.W1O),t.YNc(17,Ea,1,2,"ng-template",null,12,t.W1O),t.qZA(),t.TgZ(19,"ng-scrollbar",13)(20,"div",14),t.YNc(21,Qa,1,4,"app-bidding-entry-item",15),t.YNc(22,Fa,3,5,"div",16),t.YNc(23,ja,1,1,"ng-template",null,17,t.W1O),t.qZA(),t.YNc(25,Ha,2,2,"div",18),t.qZA()()()()),2&e){const i=t.MAs(16),a=t.MAs(24);t.Q6J("value",o.expanded),t.xp6(4),t.Oqu(t.lcZ(5,15,"entries")),t.xp6(5),t.ekj("active",!o.pageParams.onlyShowMyself),t.xp6(2),t.hij(" ",t.lcZ(12,17,"all")," "),t.xp6(3),t.Q6J("ngIf",null==o.selectedPool?null:o.selectedPool.scanUrl)("ngIfElse",i),t.xp6(5),t.Q6J("noShadowBottom",!0)("backToTopBtnShowText",!0)("autoHeightDisabled",!1),t.xp6(2),t.Q6J("ngForOf",o.entries)("ngForTrackBy",o.identify),t.xp6(1),t.Q6J("ngIf",o.pageLoaded)("ngIfElse",a),t.xp6(3),t.Q6J("ngIf",o.numOfPages>1)}},dependencies:[l.sg,l.O5,xt.Q,xa,ba.E,dt.u,At,d.We,d.eh,d.gu,d.Ie,d.Q$,d.CK,j.KC,Ua,h.X$],styles:[".avatar[_ngcontent-%COMP%]{min-width:32px}.filter-item[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.filter-item.active[_ngcontent-%COMP%]{background-color:rgb(255 126 24 / var(--tw-bg-opacity));--tw-bg-opacity: .1;--tw-text-opacity: 1;color:rgb(255 126 24 / var(--tw-text-opacity))}.filter-item[_ngcontent-%COMP%]:focus-visible{outline:0}ion-skeleton-text[_ngcontent-%COMP%]{height:24px}.entries[_ngcontent-%COMP%]{min-height:200px}ng-scrollbar[_ngcontent-%COMP%]     .ng-scroll-content{min-height:210px}.accordion-expanded[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--ion-color-base: rgb(234, 235, 238) !important}.accordion-expanded[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:#f5f8f9}.last-entry[_ngcontent-%COMP%]     .entry{border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(226 232 240 / var(--tw-border-opacity))}@media (min-width: 768px){ng-scrollbar[_ngcontent-%COMP%]{max-height:230px;min-height:230px}}@media (max-width: 767.9px){ng-scrollbar[_ngcontent-%COMP%]     .ng-scrollbar-wrapper{position:static!important}ng-scrollbar[_ngcontent-%COMP%]     .ng-scrollbar-wrapper .ng-scroll-viewport-wrapper{position:static!important}ng-scrollbar[_ngcontent-%COMP%]     .ng-scrollbar-wrapper .ng-scroll-viewport-wrapper .ng-scroll-viewport{position:static!important;contain:content!important}}"]}),n})();var Ra=c(93860),le=c(46032),de=c(52646),pe=c(40432),ge=c(35198),ue=c(56095),_e=c(49127),me=c(45210),fe=c(68514),he=c(18215),Bt=c(69799),za=c(11592),xe=c(71832),Ga=c(48767),be=c(95030),ve=c(83661),we=c(93426),Pe=c(93774),Ka=c(21863);function Wa(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e),t.oxw();const i=t.MAs(1);return t.KtG(i.dismiss())}),t.O4$(),t.TgZ(5,"svg",5),t._UZ(6,"path",6),t.qZA()()(),t.kcU(),t.TgZ(7,"ng-scrollbar",7)(8,"div",8)(9,"div",9),t._UZ(10,"img",10),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"div",11)(14,"app-bidding-switch",12),t.NdJ("onSwitchMode",function(){t.CHM(e),t.oxw();const i=t.MAs(1);return t.KtG(i.dismiss())}),t.qZA()(),t.TgZ(15,"div",13)(16,"button",14),t.NdJ("click",function(){t.CHM(e),t.oxw();const i=t.MAs(1);return t.KtG(i.dismiss())}),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"div",15)(20,"button",16),t.NdJ("click",function(){t.CHM(e),t.oxw();const i=t.MAs(1);return t.KtG(i.dismiss())}),t._uU(21),t.ALo(22,"translate"),t.qZA()()()()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,6,"bidding-product-not-found-title")," "),t.xp6(5),t.Q6J("autoHeightDisabled",!1),t.xp6(4),t.hij(" ",t.lcZ(12,8,"bidding-product-not-found-desc")," "),t.xp6(3),t.Q6J("switchWithoutRedirect",!0),t.xp6(3),t.hij(" ",t.lcZ(18,10,"close")," "),t.xp6(4),t.hij(" ",t.lcZ(22,12,"header-home-link")," "))}let $a=(()=>{class n extends H.V{constructor(e){super(),this.biddingService=e,this.isOpenChange=new t.vpe}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-not-found-modal"]],inputs:{isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},features:[t.qOj],decls:3,vars:1,consts:[["closeModalBrowserBack","",3,"isOpen","didDismiss"],["modal",""],[1,"flex","bg-[#f4f4f4]","items-center","p-2"],[1,"fade-in-from-right","flex-1","font-bold","text-2xl","xs:text-3xl","flex","px-2",2,"--duration","200ms"],[1,"w-8","p-1","mr-1","rounded","cursor-pointer","bg-[#ff2145]","text-white",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],["visibility","hover",2,"max-height","85vh",3,"autoHeightDisabled"],[1,"flex","flex-col","px-2","xs:px-4"],[1,"fade-in-from-left","w-full","text-center","text-xl","font-medium","mt-1",2,"--duration","200ms","--delay","100ms"],["src","assets/images/mascot-confused.png",1,"h-52","fade-in-from-left","mx-auto","mb-1",2,"--duration","200ms","--delay","100ms"],[1,"fade-in","w-full","flex","justify-center","mb-11","mt-6",2,"--duration","200ms","--delay","200ms"],[1,"scale-125",3,"switchWithoutRedirect","onSwitchMode"],[1,"flex","justify-between","gap-4","pb-4","bg-white"],[1,"fade-in-from-right","border","border-[#dddddd]","bg-slate-100","rounded-lg","font-bold","px-6","py-2.5","text-lg","xs:text-2xl","md:text-3xl","capitalize",2,"--duration","200ms","--delay","250ms",3,"click"],[1,"fade-in-from-left",2,"--duration","300ms","--delay","250ms"],["routerLink","/",1,"home-btn","px-4","xs:px-6","md:px-8","py-2.5","text-lg","xs:text-2xl","md:text-3xl","font-bold","text-white","capitalize","rounded-lg",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-modal",0,1),t.NdJ("didDismiss",function(){return o.isOpenChange.emit(!1)}),t.YNc(2,Wa,23,14,"ng-template"),t.qZA()),2&e&&t.Q6J("isOpen",o.isOpen)},dependencies:[Bt.M,Ka.b,d.ki,d.YI,T.rH,j.KC,h.X$],styles:["ion-modal[_ngcontent-%COMP%]{--background: white;--border-radius: 8px;--width: 540px}.home-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(7,121,255),rgb(9,35,255))}"]}),n})();const Va=["recommendedSection"],Xa=["detailImages"],ts=["mainContent"];function es(n,r){1&n&&t._UZ(0,"app-bidding-winners-toast",38)}function ns(n,r){1&n&&(t.ynx(0),t.YNc(1,es,1,0,"app-bidding-winners-toast",37),t.BQk())}function os(n,r){if(1&n&&(t.TgZ(0,"div",39),t._UZ(1,"img",40),t.TgZ(2,"div",41),t._uU(3),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("src",e.productDetail.productImages[0].source,t.LSH),t.xp6(2),t.hij(" ",e.productDetail.name," ")}}function is(n,r){if(1&n&&(t.TgZ(0,"div",42)(1,"div",11)(2,"div",43)(3,"div",44),t.GkF(4,45),t.qZA()()()()),2&n){t.oxw();const e=t.MAs(31);t.Q6J("@slideInOut",void 0),t.xp6(4),t.Q6J("ngTemplateOutlet",e)}}function rs(n,r){1&n&&t._UZ(0,"img",65)}function as(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",67),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t._UZ(1,"app-heart-animated",68),t.qZA()}if(2&n){const e=r.isDisabled,o=t.oxw(4);t.Q6J("disabled",e),t.xp6(1),t.Q6J("active",o.isFavorite)}}function ss(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-favorite",66),t.NdJ("isBelongChange",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.handleFavoriteChange(i))}),t.YNc(1,as,2,2,"ng-template"),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("product",e.productDetail)("skuId",e.productDetail.productSkuId)}}function cs(n,r){if(1&n&&(t.TgZ(0,"div",52,53)(2,"div",11,54),t._UZ(4,"app-product-detail-images",55),t.YNc(5,rs,1,0,"img",56),t.qZA(),t.TgZ(6,"div",57,58)(8,"div",59)(9,"div",60)(10,"div",61),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._UZ(13,"app-product-recommend",62),t.qZA()()(),t.TgZ(14,"div",63),t.YNc(15,ss,2,2,"app-product-favorite",64),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("glowing",e.productDetail.isSpecialSale)("productDetail",e.productDetail),t.xp6(1),t.Q6J("ngIf",e.productDetail.isSpecialSale),t.xp6(6),t.hij(" ",t.lcZ(12,7,"home-recommended-title")," "),t.xp6(2),t.Q6J("relatedProduct",e.productDetail)("isBiddingMode",!0),t.xp6(2),t.Q6J("ngIf",e.productDetail)}}function ls(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-launch-pool-button",86),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t.ALo(1,"async"),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("canLaunch",!t.lcZ(1,1,e.biddingService.productPoolLimitReached$))}}function ds(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",69,70)(2,"div",71),t.ALo(3,"async"),t._UZ(4,"span",72),t.TgZ(5,"div",73)(6,"div",74)(7,"div",75)(8,"div",76)(9,"h1",77),t._uU(10),t.TgZ(11,"app-copy-icon",78),t.NdJ("copied",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.copied())}),t.qZA()(),t.TgZ(12,"div",79)(13,"div",80),t.GkF(14,45),t.qZA(),t.TgZ(15,"app-launch-pool",81),t.NdJ("openLaunchPoolModal",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.handleOpenLaunchPool())}),t.YNc(16,ls,2,3,"ng-template"),t.qZA()()()(),t._UZ(17,"div",82),t.TgZ(18,"app-bidding-main-pool",83),t.NdJ("onLaunchPool",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.handleOpenLaunchPool())})("onBidMore",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.handleBidMore())}),t.qZA()(),t._UZ(19,"app-bidding-entries",84),t.qZA()(),t.TgZ(20,"app-bidding-pools",85),t.NdJ("onLaunchPool",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.handleOpenLaunchPool())}),t.qZA()()}if(2&n){const e=t.oxw(2),o=t.MAs(33);let i;t.xp6(2),t.ekj("closed-pool",(null==(i=t.lcZ(3,9,e.biddingService.selectedPool$))?null:i.status)!=e.poolStatus.OPEN),t.xp6(8),t.hij(" ",e.productDetail.name," "),t.xp6(1),t.s9C("appCopying",e.productDetail.name),t.xp6(3),t.Q6J("ngTemplateOutlet",o),t.xp6(1),t.Q6J("allowDirectLaunch",!0),t.xp6(3),t.Q6J("product",e.productDetail),t.xp6(1),t.Q6J("product",e.productDetail),t.xp6(1),t.Q6J("product",e.productDetail)}}function ps(n,r){1&n&&t._UZ(0,"app-bidding-products-list",87),2&n&&t.Q6J("pageSize",20)}function gs(n,r){if(1&n&&(t.TgZ(0,"div",46),t.YNc(1,cs,16,9,"div",47),t.YNc(2,ds,21,11,"div",48),t.TgZ(3,"div",49)(4,"div",50),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.YNc(7,ps,1,1,"app-bidding-products-list",51),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productDetail),t.xp6(1),t.Q6J("ngIf",e.productDetail),t.xp6(3),t.hij(" ",t.lcZ(6,4,"home-recommended-title")," "),t.xp6(2),t.Q6J("ngIf",e.productDetail)}}const Ce=function(n){return{"!hidden":n}};function us(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-bidding-global-entries",90),t.NdJ("showMyEntriesChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showMyEntries=i)})("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.isCollapse=!1)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("showMyEntries",e.showMyEntries)("onlyShowHeader",!0)("ngClass",t.VKq(3,Ce,!e.isCollapse))}}function _s(n,r){if(1&n&&(t.TgZ(0,"div",88),t.YNc(1,us,1,5,"app-bidding-global-entries",89),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isLeaving)}}function ms(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-share-modal",91),t.NdJ("isOpenChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.openShareModal=i)}),t.ALo(1,"async"),t.qZA()}if(2&n){const e=t.oxw();let o;t.Q6J("isOpen",e.openShareModal)("product",null!=(o=t.lcZ(1,2,e.biddingService.selectedPool$))&&o.hasCurrentUserWon?e.productDetail:null)}}function fs(n,r){1&n&&t._UZ(0,"app-cart-explosion",94)}const hs=function(n,r){return{"top.px":n,"left.px":r}};function xs(n,r){if(1&n&&(t.TgZ(0,"div",92),t.YNc(1,fs,1,0,"app-cart-explosion",93),t.qZA()),2&n){const e=t.oxw();t.Q6J("ngStyle",t.WLB(1,hs,e.top,e.left))}}function bs(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",98)(1,"div",99,100),t.NdJ("click",function(){t.CHM(e),t.oxw(2);const i=t.MAs(1);return t.KtG(i.scrollToTop(300))}),t.TgZ(3,"div",101)(4,"div",102),t._UZ(5,"img",103),t.qZA(),t.TgZ(6,"div",104)(7,"div",105),t._uU(8),t.qZA()()()()()}if(2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("src",null==e.productDetail?null:e.productDetail.productImages[0].source,t.LSH),t.xp6(3),t.hij(" ",null==e.productDetail?null:e.productDetail.name," ")}}function vs(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-bidding-global-entries",106),t.NdJ("showMyEntriesChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showMyEntries=i)})("isCollapseChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.isCollapse=i)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("showMyEntries",e.showMyEntries)("ngClass",t.VKq(3,Ce,e.isCollapse))("isCollapse",e.isCollapse)}}function ws(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-bidding-control-pane",95),t.NdJ("onLaunchPool",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.handleOpenLaunchPool())}),t.YNc(1,bs,9,2,"div",96),t.qZA(),t.YNc(2,vs,1,5,"app-bidding-global-entries",97)}if(2&n){const e=t.oxw();t.Q6J("allowDirectLaunch",!0)("isPopup",e.isMobile),t.xp6(1),t.Q6J("ngIf",!e.isMobile),t.xp6(1),t.Q6J("ngIf",!e.isMobile&&!e.isLeaving)}}function Ps(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",107),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.openShareModal=!0)}),t.TgZ(1,"span",108),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.O4$(),t.TgZ(4,"svg",109)(5,"g",110),t._UZ(6,"path",111)(7,"path",112),t.qZA()()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"shop-product-page-share")," "))}function Cs(n,r){1&n&&t._UZ(0,"div",143)}const Ts=function(n){return{"w-full":n}};function ys(n,r){1&n&&(t.TgZ(0,"div",144)(1,"div")(2,"span",145),t._uU(3,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),t.qZA()()()),2&n&&t.Q6J("ngClass",t.VKq(1,Ts,r.index>0))}const Te=function(){return[]};function Os(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",113)(2,"div",114,53)(4,"div",115),t._UZ(5,"div",116),t.qZA(),t.TgZ(6,"div",117),t.YNc(7,Cs,1,0,"div",118),t.qZA()(),t.TgZ(8,"div",119)(9,"div",120)(10,"h1",121)(11,"span",122),t._uU(12," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(13,"div",123)(14,"div"),t.GkF(15,45),t._UZ(16,"div",124),t.qZA()()(),t._UZ(17,"div",125),t.TgZ(18,"div",120)(19,"div",126)(20,"div",127)(21,"span",128),t._uU(22," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(23,"div",129)(24,"span",130),t._uU(25," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(26,"div",127)(27,"span",130),t._uU(28," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(29,"div",131)(30,"span",130),t._uU(31," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(32,"div",132)(33,"span",130),t._uU(34," \xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(35,"div",127)(36,"span",130),t._uU(37," \xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(38,"div",133)(39,"span",130),t._uU(40," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(41,"div",132)(42,"span",130),t._uU(43," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()()()(),t._UZ(44,"div",134),t.TgZ(45,"div",135)(46,"div",136)(47,"span",130),t._uU(48,"\xa0\xa0\xa0\xa0\xa0"),t.qZA()(),t.YNc(49,ys,4,3,"div",137),t.qZA(),t.TgZ(50,"div",138)(51,"button",139),t._UZ(52,"app-cart-icon",140),t.TgZ(53,"span",141),t._uU(54),t.ALo(55,"translate"),t.qZA()()(),t.TgZ(56,"div",142)(57,"span",130),t._uU(58,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),t.qZA()()()(),t.BQk()),2&n){t.oxw(2);const e=t.MAs(33);t.xp6(7),t.Q6J("ngForOf",t.DdM(6,Te).constructor(3).fill(1)),t.xp6(8),t.Q6J("ngTemplateOutlet",e),t.xp6(34),t.Q6J("ngForOf",t.DdM(7,Te).constructor(2).fill(1)),t.xp6(5),t.Oqu(t.lcZ(55,4,"shop-product-page-add"))}}function Ms(n,r){1&n&&t.YNc(0,Os,59,8,"ng-container",31)}function Zs(n,r){if(1&n&&(t.TgZ(0,"div",148)(1,"div",149),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",150),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,7,"product-detail-limited-deals")," "),t.xp6(3),t.gL8(" ",t.lcZ(6,9,"product-detail-edns-in"),": ",e.days," ",t.lcZ(7,11,"days")," ",e.hours,":",e.minutes,":",e.seconds," ")}}function ks(n,r){if(1&n&&(t.TgZ(0,"app-countdown",147),t.YNc(1,Zs,8,13,"ng-template"),t.qZA()),2&n){const e=t.oxw(3);t.Q6J("time",e.productDetail.endTime)}}function As(n,r){if(1&n&&(t.TgZ(0,"div",148)(1,"div",149),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,7,"product-detail-limited-deals")," "),t.xp6(3),t.gL8(" ",t.lcZ(6,9,"product-detail-limited-start"),": ",e.days," ",t.lcZ(7,11,"days")," ",e.hours,":",e.minutes,":",e.seconds," ")}}function Is(n,r){if(1&n&&(t.TgZ(0,"app-countdown",147),t.YNc(1,As,8,13,"ng-template"),t.qZA()),2&n){const e=t.oxw(3);t.Q6J("time",e.productDetail.beginTime)}}function Ss(n,r){if(1&n&&(t.ynx(0),t.YNc(1,ks,2,1,"app-countdown",146),t.YNc(2,Is,2,1,"app-countdown",146),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.isEventStarted),t.xp6(1),t.Q6J("ngIf",e.isEventNotStarted)}}function Ls(n,r){if(1&n&&t.YNc(0,Ss,3,2,"ng-container",2),2&n){const e=t.oxw();t.Q6J("ngIf",e.productDetail)}}function Bs(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",160),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t.TgZ(1,"ion-label"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=r.isDisabled,o=t.oxw(4);t.Q6J("disabled",e),t.xp6(2),t.Oqu(t.lcZ(3,2,o.isFavorite?"shop-product-page-in-the-wishlist":"shop-product-page-add-to-wishlist"))}}function Ds(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",158),t.NdJ("click",function(){const a=t.CHM(e).method,s=t.oxw(4);return t.KtG(s.handleGetHelp(a))}),t.TgZ(1,"ion-label"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"footer-help")))}function Us(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-list",157)(1,"app-product-favorite",66),t.NdJ("isBelongChange",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.handleFavoriteChange(i))}),t.YNc(2,Bs,4,4,"ng-template"),t.qZA(),t.TgZ(3,"app-customer-service"),t.YNc(4,Ds,4,3,"ng-template"),t.qZA(),t.TgZ(5,"ion-item",158),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return i.openShareModal=!0,t.KtG(i.isMenuOpen=!1)}),t.TgZ(6,"ion-label"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"app-bidding-switch",159),t.NdJ("onSwitchMode",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.isMenuOpen=!1)}),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("product",e.productDetail)("skuId",null==e.selectedSku?null:e.selectedSku.id),t.xp6(6),t.Oqu(t.lcZ(8,3,"product-share-item"))}}function Js(n,r){if(1&n){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"ion-popover",155,156),t.NdJ("didDismiss",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.isMenuOpen=!1)}),t.YNc(2,Us,10,5,"ng-template"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("keepContentsMounted",e.isPopOverDidOpen)("dismissOnSelect",!0)("isOpen",e.isMenuOpen)}}function qs(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",151),t.NdJ("click",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.handleMenuClick(i))}),t.O4$(),t.TgZ(1,"svg",152),t._UZ(2,"path",153),t.qZA()(),t.YNc(3,Js,3,3,"ion-popover",154)}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.productDetail)}}function Ns(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-images-lightbox",162),t.NdJ("isOpenChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openReviewLightbox=i)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("isOpen",e.openReviewLightbox)("images",e.reviewImages)("initialSlide",e.lighboxSlideNumber)}}function Es(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Ns,1,3,"app-product-images-lightbox",161),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.openReviewLightbox)}}function Qs(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-launch-pool-modal",163),t.NdJ("isOpenChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.isOpenLaunchPoolModal=i)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("isOpen",e.isOpenLaunchPoolModal)("product",e.productDetail)("getReviewTotal",e.getReviewTotal)}}function Fs(n,r){1&n&&t._UZ(0,"div",164)}function Ys(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-bidding-initial-launch-modal",91),t.NdJ("isOpenChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.showBiddingInitialLaunchModal=i)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("isOpen",e.showBiddingInitialLaunchModal)("product",e.selectedProduct)}}function js(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-missed-pool-modal",165),t.NdJ("isOpenChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.isOpenMissedPoolModal=i)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("isOpen",e.isOpenMissedPoolModal)("poolId",e.missedPool.newPoolId)("productId",e.missedPool.productId)("showRedirectOption",e.missedPool.showRedirectOption)}}const Hs=function(n){return{"entries-collapse":n}},Rs=function(n){return{"show-product-name":n}},zs=function(){return["/"]};let Gs=(()=>{class n extends wt{constructor(e,o,i,a,s,u,C,g,m,O,K,E,J,L){super(e,o,i,a,s,u,C,g,m,O,K,E),this.productsService=i,this.route=a,this.checkoutService=s,this.biddingService=u,this.userService=C,this.platformId=g,this.scrollToProductService=m,this.toast=O,this.i18n=K,this.router=E,this.cdr=J,this.ngZone=L,this.isCollapse=!1,this.showMyEntries=!1,this.isOpenProductNotFoundModal=!1,this.isOpenLaunchPoolModal=!1,this.showBiddingInitialLaunchModal=!1,this.showExplosion=!1,this.left=0,this.top=0,this.isMobile=!!x.Z.isBrowser&&window.innerWidth<768,this.showProductName=!1,this.sharerId="",this.previousParams={},this.poolStatus=v.j1,this.isOpenMissedPoolModal=!1,this.splashBiddingPopup=!1,this.showBiddingPaneAsPopup=!1,this.handleScroll=M=>{super.onContentScroll(M),this.mobileSticky&&M.detail.currentY>68&&(this.mobileSticky.nativeElement.style.transform=`translateY(-${Math.min(100,(M.detail.currentY-68)/10)}%)`),this.mobileSticky&&M.detail.currentY<=68&&(this.mobileSticky.nativeElement.style.transform="translateY(-0px)"),this.stickyReview&&(this.stickyReview.nativeElement.style.height=`${Math.min(M.detail.currentY/8,50)}px`),M.detail.currentY>650?this.showProductName||(this.showProductName=!0):this.showProductName&&(this.showProductName=!1),this.showBiddingPaneAsPopup=M.detail.scrollTop>(this.isMobile?50:100),this.handleFixedScroll()},this.isLeavedOnce=!1,this.isLeaving=!1,this.isBrowser=(0,l.NF)(this.platformId)}ngOnInit(){var e=this;return(0,_.Z)(function*(){e.route.queryParams.pipe((0,P.R)(e.destroyStream$)).subscribe(function(){var o=(0,_.Z)(function*(i){e.productId=i.id||"",e.productId&&(e.sharerId=i.sharerId?i.sharerId:"",i.launchPool?e.router.navigate([],{relativeTo:e.route,queryParams:{bid:!0,launchPool:null,id:e.productId},queryParamsHandling:"merge",skipLocationChange:!1,replaceUrl:!0}).then((0,_.Z)(function*(){e.handleOpenLaunchPool()})):(e.getProductInfo(e.productId),e.productScroll?.clear()))});return function(i){return o.apply(this,arguments)}}()),e.initBiddingMode(),x.Z.isBrowser&&((0,ee.R)(window,"resize").pipe((0,P.R)(e.destroyStream$),(0,Zt.b)(300)).subscribe(o=>{e.isMobile=o.target.innerWidth<768}),e.previousParams=e.route.snapshot.queryParams||{},e.router.events.pipe((0,P.R)(e.destroyStream$)).subscribe(o=>{if(o instanceof T.m2){if(e.previousParams.id!=e.route.snapshot.queryParams.id)e.iconContent.scrollToTop(500);else if(e.previousParams.poolId!=e.route.snapshot.queryParams.poolId)if(e.isMobile){let i=document.getElementById("main-pool-detail").offsetTop-135;e.iconContent.scrollToPoint(0,i,500)}else e.iconContent.scrollToTop(500);else e.iconContent.scrollToTop(500);e.previousParams=e.route.snapshot.queryParams||{}}}))})()}initBiddingMode(){x.Z.isBrowser&&(this.biddingService.biddingClicked$.pipe((0,P.R)(this.destroyStream$),(0,Zt.b)(1e3)).subscribe(e=>{if(this.biddingService.noOfClicks>=3&&this.biddingService.animationTarget){const i=document.querySelectorAll(this.biddingService.animationTarget);if(!i?.length)return;for(let a=0;a<i.length&&(this.top=i[a].getBoundingClientRect().top,this.left=i[a].getBoundingClientRect().left,!(this.left>=0));a++);this.cdr.detectChanges(),this.showExplosion=!0,setTimeout(()=>{this.showExplosion=!1},2500)}this.biddingService.noOfClicks=0}),this.biddingService.onBeforeBid$.pipe((0,P.R)(this.destroyStream$)).subscribe(()=>{this.splashBiddingPopupSubscription&&this.splashBiddingPopupSubscription.unsubscribe(),this.splashBiddingPopup=!0,this.splashBiddingPopupSubscription=(0,xi.F)(1500).pipe((0,nt.q)(1)).subscribe(()=>{this.splashBiddingPopup=!1})})),this.biddingService.onLaunchInitialPool$.pipe((0,P.R)(this.destroyStream$)).subscribe(e=>{this.showBiddingInitialLaunchModal=!0,this.selectedProduct=e}),this.biddingService.onPoolMissed$.pipe((0,P.R)(this.destroyStream$)).subscribe(e=>{this.biddingService.onLaunchFinished$.next(!0),this.missedPool=e,this.isOpenMissedPoolModal=!0}),this.biddingService.cancelBiddingInProgressTimer()}ngOnDestroy(){super.ngOnDestroy(),this.biddingService.selectedPool$.next(null),this.resizeObserver?.disconnect(),this.clearPoolFromUrl(),this.splashBiddingPopupSubscription&&this.splashBiddingPopupSubscription.unsubscribe()}clearPoolFromUrl(){this.router.navigate([],{relativeTo:this.route,queryParams:{poolId:null,bid:this.biddingService.isBiddingMode$.getValue()||null},queryParamsHandling:"merge",skipLocationChange:!1,replaceUrl:!0})}handleOpenLaunchPool(){var e=this;return(0,_.Z)(function*(){e.userService.isLogin(!0)?(e.productDetail=yield(0,I.n)(e.biddingService.getProductById(e.productId)),e.isOpenLaunchPoolModal=!0):e.router.navigateByUrl("/auth/login")})()}handleBidMore(){if(x.Z.isBrowser){const e=document.getElementsByClassName("open-pools-container")[0]??document.getElementsById("recommended-product-container");this.iconContent.scrollToPoint(0,e.offsetTop,1e3)}}getProductInfo(e){var o=this;return(0,_.Z)(function*(){o.productDetail=yield(0,I.n)(o.biddingService.getProductById(e)),o.biddingService.productPoolLimitReached$.next((o.productDetail?.remainPool||0)<=0),o.productDetail||(o.isOpenProductNotFoundModal=!0),o.sharerId&&(0,I.n)(o.biddingService.trackSharer(o.sharerId,o.productDetail?.id)),o.quantity=1,!x.Z.isServer&&o.productDetail&&(o.brand=yield(0,I.n)(o.productsService.getBrandById(o.productDetail.brandId))),o.isFavorite=o.productDetail?.collect??!1,o.specificationItems=[],x.Z.isBrowser&&(0,N.H)(1e4,1e4).pipe((0,P.R)(o.destroyStream$)).subscribe((0,_.Z)(function*(){const i=yield(0,et.z)(o.biddingService.canLaunchPool(o.productId));!i!=o.biddingService.productPoolLimitReached$.getValue()&&o.biddingService.productPoolLimitReached$.next(!i)}))})()}handleFixedScroll(){var e=this;return(0,_.Z)(function*(){const o=document.getElementById("app-bidding-pools");if(o&&o.offsetHeight<=450)return e.mobileSticky.nativeElement.classList.remove("posAbs"),void e.mobileSticky.nativeElement.classList.remove("posFix");const a=(yield e.iconContent.getScrollElement()).scrollTop,s=e.detailImages?.nativeElement.offsetHeight,u=e.mainContent?.nativeElement.offsetHeight,C=e.recommendedSection?.nativeElement.offsetHeight,g=e.mainContent?.nativeElement.offsetTop;e.mainContent&&(a+s>g&&C-25<=g+u-a?(e.mobileSticky.nativeElement.classList.remove("posAbs"),e.mobileSticky.nativeElement.classList.add("posFix"),e.mobileSticky.nativeElement.style.setProperty("--sticky-pos",-e.detailImages.nativeElement.offsetHeight-25+"px")):C-25>g+u-a?(e.mobileSticky.nativeElement.classList.remove("posFix"),e.mobileSticky.nativeElement.classList.add("posAbs")):a<g&&e.mobileSticky.nativeElement.classList.remove("posFix"))})()}ngAfterViewInit(){x.Z.isServer||this.ngZone.runOutsideAngular(()=>{if(null==typeof ResizeObserver)return;this.resizeObserver=new ResizeObserver(o=>{this.handleFixedScroll()});const e=document.getElementById("page-container");e&&this.resizeObserver.observe(e)})}ionViewDidEnter(){this.isLeaving=!1,this.isLeavedOnce&&(this.mainPoolComp?.initPollSelectedPool(0),this.winnerToast?.startAllTimer(),this.biddingPoolComp.startAllActions(),this.biddingEntriesComp.initPollSelectedPoolEntries())}ionViewWillLeave(){this.isLeaving=!0,this.isLeavedOnce=!0,this.mainPoolComp?.stopPoll(),this.winnerToast?.stopAllTimer(),this.biddingPoolComp?.stopAllActions(),this.biddingEntriesComp.stopPoll()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(st.s),t.Y36(T.gz),t.Y36(qt.Z),t.Y36(U.g),t.Y36(F.K),t.Y36(t.Lbi),t.Y36(Nt.h),t.Y36(d.yF),t.Y36(h.sK),t.Y36(T.F0),t.Y36(t.sBO),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-detail-bidding"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Va,5),t.Gf(Xa,5),t.Gf(ts,5),t.Gf(ie,5),t.Gf(Lt,5),t.Gf(se,5),t.Gf(ce,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.recommendedSection=i.first),t.iGM(i=t.CRH())&&(o.detailImages=i.first),t.iGM(i=t.CRH())&&(o.mainContent=i.first),t.iGM(i=t.CRH())&&(o.mainPoolComp=i.first),t.iGM(i=t.CRH())&&(o.winnerToast=i.first),t.iGM(i=t.CRH())&&(o.biddingPoolComp=i.first),t.iGM(i=t.CRH())&&(o.biddingEntriesComp=i.first)}},hostBindings:function(e,o){1&e&&t.NdJ("resize",function(){return o.handleFixedScroll()},!1,t.Jf7)},features:[t.qOj],decls:46,vars:23,consts:[["id","app-product-detail-bidding","fullscreen","true","scrollEvents","true","backToTopBtn","",3,"ionScroll"],["ionContent",""],[4,"ngIf"],[3,"additionalData"],[1,"sticky","top-0","z-20"],["id","product-toolbar","appOverflowVisible","",1,"absolute","top-0","shadow-lg","z-50",3,"ngClass"],["header",""],[1,"z-1","relative"],[3,"hideLogo"],["end","",3,"ngTemplateOutlet"],["start","",1,"header-title","flex-1"],[1,"relative"],[1,"slide-header","absolute","md:static","inset-0","flex","flex-col",3,"ngClass"],[1,"transition-all","duration-300","transform","opacity-100","slide-item-logo",3,"routerLink"],["class","flex gap-2 items-center slide-item-name md:hidden",4,"ngIf"],["class","tyqoon-container m-auto",4,"ngIf"],["id","page-container",1,"page-container"],[1,"tyqoon-container","px-0","md:px-3","xl:px-4","bg-lightblue"],[1,"flex","flex-wrap","md:flex-nowrap","items-start"],[1,"w-full","md:w-8/12","lg:w-9/12","flex-1","flex","flex-wrap"],["class","w-full flex flex-wrap max-constraint md:pt-3 2md:pt-0",4,"ngIf","ngIfElse"],["class","w-auto sticky top-2 hidden md:block z-10","style","width: 234px",4,"ngIf"],[3,"isOpen","product","isOpenChange",4,"isBrowser"],["class","explosion-container fixed z-50 pointer-events-none select-none",3,"ngStyle",4,"ngIf"],[1,"mt-4","md:hidden"],[3,"allowDirectLaunch","onLaunchPool"],["controlPane",""],["shareBtn",""],["skeleton",""],["countdownLimitedDeal",""],["kebabMenu",""],[4,"isBrowser"],[3,"isOpen","product","getReviewTotal","isOpenChange",4,"ngIf"],["biddingAnimations","",4,"isBrowser"],[3,"isOpen","product","isOpenChange",4,"ngIf"],[3,"isOpen","poolId","productId","showRedirectOption","isOpenChange",4,"ngIf"],[3,"isOpen","isOpenChange"],["class","block fixed left-0 bottom-20 md:bottom-4 z-50",4,"isBrowser"],[1,"block","fixed","left-0","bottom-20","md:bottom-4","z-50"],[1,"flex","gap-2","items-center","slide-item-name","md:hidden"],[1,"h-8",3,"src"],[1,"product-name","leading-4","text-xs","break-all"],[1,"tyqoon-container","m-auto"],[1,"absolute","right-0","left-0","md:left-auto","top-full","flex","justify-center","md:justify-end"],[1,"ticket-wrapper","sticky-section","pt-2.5","md:pt-4","md:ml-auto"],[3,"ngTemplateOutlet"],[1,"w-full","flex","flex-wrap","max-constraint","md:pt-3","2md:pt-0"],["class","w-full 2md:w-4/12 my-3 md:my-0 2md:mt-3 md:pr-5 2md:pr-0 md:px-0 sticky md:relative top-0 z-0 md:z-20","id","product-sticky-section",4,"ngIf"],["id","main-pool-detail","class","w-full 2md:w-8/12 px-2 md:pl-0 2md:pl-5 md:pr-5 pt-2 md:pt-4 bg-white rounded-t-2xl main-product-info",4,"ngIf"],["id","recommended-product-container",1,"pl-3","pr-3","md:pl-0","md:pr-5"],[1,"font-medium","text-xl","xs:text-2xl","mt-4","mb-2"],[3,"pageSize",4,"ngIf"],["id","product-sticky-section",1,"w-full","2md:w-4/12","my-3","md:my-0","2md:mt-3","md:pr-5","2md:pr-0","md:px-0","sticky","md:relative","top-0","z-0","md:z-20"],["mobileSticky",""],["detailImages",""],[3,"glowing","productDetail"],["class","absolute fire-animation z-1","src","assets/svgs/fire-animation.svg","alt","",4,"ngIf"],[1,"w-full","recommended-sticky","hidden","2md:flex","flex-wrap","max-constraint","pt-12"],["recommendedSection",""],[1,"w-full","hidden","md:block","px-4","md:px-0","bg-white","z-1"],[1,"sticky","top-0"],[1,"text-primary","font-medium","mb-4","text-center"],[3,"relatedProduct","isBiddingMode"],[1,"absolute","mobile-favorite","z-1","md:hidden"],[3,"product","skuId","isBelongChange",4,"ngIf"],["src","assets/svgs/fire-animation.svg","alt","",1,"absolute","fire-animation","z-1"],[3,"product","skuId","isBelongChange"],[1,"rounded-full","border","border-solid","border-[#dddddd]","bg-white","w-full","flex","justify-center","items-center","text-[#dddddd]","p-1",3,"disabled","click"],[3,"active"],["id","main-pool-detail",1,"w-full","2md:w-8/12","px-2","md:pl-0","2md:pl-5","md:pr-5","pt-2","md:pt-4","bg-white","rounded-t-2xl","main-product-info"],["mainContent",""],[1,"pool-details","relative","mb-6"],[1,"rainbow"],[1,"main-pool-content","bg-white","relative","rounded-2xl","-m-2","md:m-0","pr-px","pb-px","md:pr-0","md:pb-0"],[1,"flex","flex-col","p-2"],[1,"flex","flex-wrap","flex-col","xs:flex-row"],[1,"flex-1","mb-1"],[1,"product-name","text-black","text-xl","break-all","relative","md:pr-4"],[1,"cursor-pointer","w-8","h-8","absolute","-right-1.5","opacity-40","fill-black","-top-0.5","p-1.5",3,"appCopying","copied"],[1,"flex","flex-wrap","items-center","justify-between","w-full"],[1,"md:hidden","mt-1","share-wrapper"],[1,"!w-auto","mt-1","md:hidden",3,"allowDirectLaunch","openLaunchPoolModal"],[1,"border","border-bottom","opacity-50","mt-0.5","mb-2.5"],[3,"product","onLaunchPool","onBidMore"],[1,"block","rounded-b-2xl","overflow-hidden",3,"product"],["id","app-bidding-pools",3,"product","onLaunchPool"],[1,"block","mobile-launch-pool-btn","mx-auto",3,"canLaunch","click"],[3,"pageSize"],[1,"w-auto","sticky","top-2","hidden","md:block","z-10",2,"width","234px"],["class","!fixed bottom-0 hidden md:block",3,"showMyEntries","onlyShowHeader","ngClass","showMyEntriesChange","click",4,"ngIf"],[1,"!fixed","bottom-0","hidden","md:block",3,"showMyEntries","onlyShowHeader","ngClass","showMyEntriesChange","click"],[3,"isOpen","product","isOpenChange"],[1,"explosion-container","fixed","z-50","pointer-events-none","select-none",3,"ngStyle"],["url","assets/images/ticket.png","class","h-1 block pointer-events-none",4,"isBrowser"],["url","assets/images/ticket.png",1,"h-1","block","pointer-events-none"],["elementId","my-tickets-box",3,"allowDirectLaunch","isPopup","onLaunchPool"],["productHeader","",4,"ngIf"],["class","mt-2.5 block z-0",3,"showMyEntries","ngClass","isCollapse","showMyEntriesChange","isCollapseChange",4,"ngIf"],["productHeader",""],[1,"overflow-hidden","sticky-widget-scroll","cursor-pointer",2,"height","0px",3,"click"],["stickyReview",""],[1,"flex"],[1,"sticky-image-preview","rounded-lg","overflow-hidden","border","border-[#dddddd]","mr-2"],["alt","",1,"object-cover","object-center","!w-full","!h-full",3,"src"],[1,"flex-1","self-stretch","relative"],[1,"absolute","inset-0","line-clamp-3","break-all","text-xs"],[1,"mt-2.5","block","z-0",3,"showMyEntries","ngClass","isCollapse","showMyEntriesChange","isCollapseChange"],[1,"share-btn","px-4","py-1","text-white","flex","rounded-lg","items-center","font-medium",3,"click"],[1,"mr-2","whitespace-nowrap"],["fill","#ffffff","viewBox","0 0 495.003 495.003",0,"xml","space","preserve",1,"h-5","ml-2"],["id","XMLID_51_"],["id","XMLID_53_","d","M164.711,456.687c0,2.966,1.647,5.686,4.266,7.072c2.617,1.385,5.799,1.207,8.245-0.468l55.09-37.616\n          l-67.6-32.22V456.687z"],["id","XMLID_52_","d","M492.431,32.443c-1.513-1.395-3.466-2.125-5.44-2.125c-1.19,0-2.377,0.264-3.5,0.816L7.905,264.422\n          c-4.861,2.389-7.937,7.353-7.904,12.783c0.033,5.423,3.161,10.353,8.057,12.689l125.342,59.724l250.62-205.99L164.455,364.414\n          l156.145,74.4c1.918,0.919,4.012,1.376,6.084,1.376c1.768,0,3.519-0.322,5.186-0.977c3.637-1.438,6.527-4.318,7.97-7.956\n          L494.436,41.257C495.66,38.188,494.862,34.679,492.431,32.443z"],[1,"w-full","flex","flex-wrap","max-constraint"],["id","product-sticky-section",1,"w-full","md:w-4/12","my-3","px-4","md:px-0","sticky","md:static","top-0","z-0"],[1,"image-wrapper","relative","cursor-pointer",2,"padding-top","100%"],[1,"absolute","inset-0","pulSate"],[1,"flex","mt-3","justify-center"],["class","pulSate mx-2","style","width: 40px; height: 40px",4,"ngFor","ngForOf"],[1,"w-full","md:w-8/12","md:px-5","py-4","bg-white","px-4","rounded-t-2xl","z-1"],[1,"flex","flex-wrap"],[1,"text-xl","mb-4","flex-1"],[1,"pulSate","tracking-widest","break-all"],[1,"md:hidden","flex-shrink-0"],[1,"mt-1","text-lg","mb-2","pulSate"],[1,"border","border-bottom","mb-4","hidden","md:block"],[1,"flex-1","mb-2","mr-1"],[1,"leading-4","hidden","md:block"],[1,"pulSate","tracking-widest"],[1,"text-lg","mb-2","hidden","md:block"],[1,"pulSate"],[1,"mb-2"],[1,"text-xs","md:hidden"],[1,"leading-6"],[1,"mt-3","border","border-bottom","opacity-50","mb-4","hidden","md:block"],[1,"flex","flex-wrap","mt-4","md:mt-0"],[1,"md:hidden","mr-2","mt-1"],["class","flex flex-wrap mb-5",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-1","md:hidden"],[1,"rounded-lg","border","border-solid","w-full","flex","justify-center","items-center","py-2.5","add-cart-shadow"],[1,"mr-2"],[1,"font-medium","text-white"],[1,"flex-wrap","mb-3","items-center","hidden","md:flex","py-1"],[1,"pulSate","mx-2",2,"width","40px","height","40px"],[1,"flex","flex-wrap","mb-5",3,"ngClass"],[1,"pulSate","py-1"],[3,"time",4,"ngIf"],[3,"time"],[1,"mb-4","bg-gradient-primary","flex","px-3","py-2","text-white","md:rounded-md","flex-wrap"],[1,"flex-1","mr-2","limited-deal-text"],[1,""],["id","product-detail-menu-btn",1,"top-nav-btn","mr-1","flex","justify-center","items-center","flex-shrink-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16px","height","16px","viewBox","0 0 16 16","fill","currentColor"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.444 13.832a1 1 0 1 0 1.111-1.663 1 1 0 0 0-1.11 1.662zM8 9a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"],["side","bottom","alignment","center",3,"keepContentsMounted","dismissOnSelect","isOpen","didDismiss",4,"ngIf"],["side","bottom","alignment","center",3,"keepContentsMounted","dismissOnSelect","isOpen","didDismiss"],["popover",""],["lines","full"],["lines","none",1,"cursor-pointer",3,"click"],[3,"onSwitchMode"],["lines","none",1,"cursor-pointer",3,"disabled","click"],[3,"isOpen","images","initialSlide","isOpenChange",4,"ngIf"],[3,"isOpen","images","initialSlide","isOpenChange"],[3,"isOpen","product","getReviewTotal","isOpenChange"],["biddingAnimations",""],[3,"isOpen","poolId","productId","showRedirectOption","isOpenChange"]],template:function(e,o){if(1&e&&(t.TgZ(0,"ion-content",0,1),t.NdJ("ionScroll",function(a){return o.handleScroll(a)}),t.YNc(2,ns,2,0,"ng-container",2),t._UZ(3,"app-global-customer-service",3),t.TgZ(4,"div",4)(5,"ion-toolbar",5,6)(7,"div",7)(8,"app-top-navbar",8),t.GkF(9,9),t.TgZ(10,"div",10)(11,"div",11)(12,"div",12)(13,"a",13),t._UZ(14,"app-tyqoon-icon"),t.qZA(),t.YNc(15,os,4,2,"div",14),t.qZA()()()(),t._UZ(16,"app-top-menu"),t.qZA(),t.YNc(17,is,5,2,"div",15),t.qZA()(),t.TgZ(18,"div",16)(19,"div",17)(20,"div",18)(21,"div",19),t.YNc(22,gs,8,6,"div",20),t.qZA(),t.YNc(23,_s,2,1,"div",21),t.qZA()(),t.YNc(24,ms,2,4,"app-product-share-modal",22),t._UZ(25,"app-footer"),t.YNc(26,xs,2,4,"div",23),t._UZ(27,"app-new-year-dragons"),t.qZA()(),t.TgZ(28,"ion-footer",24)(29,"app-bottom-navbar",25),t.NdJ("onLaunchPool",function(){return o.handleOpenLaunchPool()}),t.qZA()(),t.YNc(30,ws,3,4,"ng-template",null,26,t.W1O),t.YNc(32,Ps,8,3,"ng-template",null,27,t.W1O),t.YNc(34,Ms,1,0,"ng-template",null,28,t.W1O),t.YNc(36,Ls,1,1,"ng-template",null,29,t.W1O),t.YNc(38,qs,4,1,"ng-template",null,30,t.W1O),t.YNc(40,Es,2,1,"ng-container",31),t.YNc(41,Qs,1,3,"app-launch-pool-modal",32),t.YNc(42,Fs,1,0,"div",33),t.YNc(43,Ys,1,2,"app-bidding-initial-launch-modal",34),t.YNc(44,js,1,4,"app-missed-pool-modal",35),t.TgZ(45,"app-product-not-found-modal",36),t.NdJ("isOpenChange",function(a){return o.isOpenProductNotFoundModal=a}),t.qZA()),2&e){const i=t.MAs(35),a=t.MAs(39);t.xp6(2),t.Q6J("ngIf",!o.isLeaving),t.xp6(1),t.Q6J("additionalData",o.supportData),t.xp6(2),t.Q6J("ngClass",t.VKq(18,Hs,o.isCollapse)),t.xp6(3),t.Q6J("hideLogo",!0),t.xp6(1),t.Q6J("ngTemplateOutlet",a),t.xp6(3),t.Q6J("ngClass",t.VKq(20,Rs,o.showProductName)),t.xp6(1),t.Q6J("routerLink",t.DdM(22,zs)),t.xp6(2),t.Q6J("ngIf",o.productDetail),t.xp6(2),t.Q6J("ngIf",!o.isMobile||o.splashBiddingPopup||o.showBiddingPaneAsPopup),t.xp6(5),t.Q6J("ngIf",!o.isBrowser||o.isBrowser&&(null==o.productDetail?null:o.productDetail.id)===o.productId)("ngIfElse",i),t.xp6(1),t.Q6J("ngIf",!o.isMobile),t.xp6(3),t.Q6J("ngIf",o.showExplosion),t.xp6(3),t.Q6J("allowDirectLaunch",!0),t.xp6(12),t.Q6J("ngIf",o.productDetail),t.xp6(2),t.Q6J("ngIf",o.showBiddingInitialLaunchModal),t.xp6(1),t.Q6J("ngIf",o.isOpenMissedPoolModal&&o.missedPool),t.xp6(1),t.Q6J("isOpen",o.isOpenProductNotFoundModal)}},dependencies:[l.mk,l.sg,l.O5,l.tP,l.PC,Ra.R,$.Q,le.K,de.c,pe.l,ge.M,V.p,Q.E,ue.y,_e.H,me.B,fe.M,he.Z,Bt.M,ft.h,kt.j,It.a,za.t,xe.Y,d.W2,d.fr,d.Ie,d.Q$,d.q_,d.sr,d.d8,d.Fo,Tt.j,Xt,T.yS,Gt.z,Ga.z,te,yt.O,be.h,Lt,ve.g,we.p,Pe.z,Jt,jt,z,ie,ce,se,$a,l.Ov,h.X$],styles:['[_nghost-%COMP%]{inset:0;display:flex;position:absolute;flex-direction:column;justify-content:space-between;contain:layout size style;overflow:hidden;z-index:0}@media (max-width: 767.9px){ion-toolbar[_ngcontent-%COMP%]{transform:none!important}}.page-container[_ngcontent-%COMP%]{padding-top:58px}@media (min-width: 768px){.page-container[_ngcontent-%COMP%]{padding-top:136px}}.explosion-container[_ngcontent-%COMP%]{width:700px;transform:translate(-250px) translateY(-500px)}.ticket-wrapper[_ngcontent-%COMP%]{width:215px}@media (min-width: 768px){.ticket-wrapper[_ngcontent-%COMP%]{width:234px}}.header-title[_ngcontent-%COMP%]{width:calc(100vw - 215px);max-height:40px;gap:10px;overflow:hidden}.header-title[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:32px}@media (min-width: 768px){.header-title[_ngcontent-%COMP%]{width:auto;max-height:unset}.header-title[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:auto}}.header-title[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}@media (min-width: 768px){app-top-navbar[_ngcontent-%COMP%]{display:block;min-height:76px}}app-bidding-main-pool[_ngcontent-%COMP%]{min-height:100px}app-product-recommend[_ngcontent-%COMP%]     .recommend-swiper{max-height:600px}.slide-header[_ngcontent-%COMP%]{transition:transform .3s;transform:translateY(0)}.slide-header[_ngcontent-%COMP%]   .slide-item-name[_ngcontent-%COMP%]{opacity:0;transition:opacity .7s}@media (max-width: 767.9px){.slide-header[_ngcontent-%COMP%]   .slide-item-logo[_ngcontent-%COMP%]{margin-bottom:12px;opacity:100;transition:opacity .7s}.slide-header.show-product-name[_ngcontent-%COMP%]{transform:translateY(-42px)}.slide-header.show-product-name[_ngcontent-%COMP%]   .slide-item-logo[_ngcontent-%COMP%]{opacity:0}.slide-header.show-product-name[_ngcontent-%COMP%]   .slide-item-name[_ngcontent-%COMP%]{opacity:100}}app-bidding-products-list[_ngcontent-%COMP%]     .grid{grid-template-columns:repeat(2,minmax(0,1fr))}@media (min-width: 340px){app-bidding-products-list[_ngcontent-%COMP%]     .grid{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width: 640px){app-bidding-products-list[_ngcontent-%COMP%]     .grid{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (min-width: 768px){app-bidding-products-list[_ngcontent-%COMP%]     .grid{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (min-width: 1024px){app-bidding-products-list[_ngcontent-%COMP%]     .grid{grid-template-columns:repeat(5,minmax(0,1fr))}}@media (min-width: 768px){app-bidding-products-list[_ngcontent-%COMP%]     app-product-card app-bid-button .bidding-bar img{height:19px!important}}@media (min-width: 992px){app-bidding-products-list[_ngcontent-%COMP%]     app-product-card app-bid-button .bidding-bar img{height:25px}}app-bidding-products-list[_ngcontent-%COMP%]     app-product-card app-bid-button .bidding-bar .enter-now{margin-left:20px}@media (min-width: 768px){app-bidding-products-list[_ngcontent-%COMP%]     app-product-card app-bid-button .bidding-bar .enter-now{margin-left:26px;font-size:12px}}@media (min-width: 992px){app-bidding-products-list[_ngcontent-%COMP%]     app-product-card app-bid-button .bidding-bar .enter-now{margin-left:26px;font-size:16px}}@media (min-width: 1440px){app-bidding-products-list[_ngcontent-%COMP%]     app-product-card app-bid-button .bidding-bar .enter-now{margin-left:20px;font-size:18px}}.share-wrapper[_ngcontent-%COMP%]   .share-btn[_ngcontent-%COMP%]{padding-top:6px;padding-bottom:6px;border:1px solid #63d3fd}.share-wrapper[_ngcontent-%COMP%]   .share-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px}.mobile-launch-pool-btn[_ngcontent-%COMP%]{width:160px}.mobile-launch-pool-btn[_ngcontent-%COMP%]     .content{padding-top:.375rem;padding-bottom:.375rem}.mobile-launch-pool-btn[_ngcontent-%COMP%]     img{height:12px!important}.mobile-launch-pool-btn[_ngcontent-%COMP%]     .star-wrapper{margin-left:.375rem}@media (max-width: 767.9px){.main-product-info[_ngcontent-%COMP%]{position:relative;z-index:1}}.pool-details[_ngcontent-%COMP%]   .main-pool-content[_ngcontent-%COMP%]{border:1px solid rgb(196,90,252)}.pool-details[_ngcontent-%COMP%]   .rainbow[_ngcontent-%COMP%]{position:absolute;inset:5px;filter:blur(15px)}.pool-details[_ngcontent-%COMP%]   .rainbow[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(315deg,#ff005e,#fbff00);animation:neon-block 1.5s linear infinite}.pool-details.closed-pool[_ngcontent-%COMP%]   .main-pool-content[_ngcontent-%COMP%]{border:1px solid rgb(249,177,69)}.pool-details.closed-pool[_ngcontent-%COMP%]   .rainbow[_ngcontent-%COMP%]:after{background:linear-gradient(315deg,#ff005e,#fbff00);animation:neon-closed-block 1.5s linear infinite}.pool-details.no-pool[_ngcontent-%COMP%]   .main-pool-content[_ngcontent-%COMP%]{border:none}@keyframes neon-block{0%{filter:hue-rotate(0deg)}to{filter:hue-rotate(360deg)}}@keyframes neon-closed-block{0%{filter:hue-rotate(302deg)}to{filter:hue-rotate(334deg)}}@media (min-width: 768px) and (max-width: 991.9px){#product-sticky-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{max-width:356px;margin:auto}}.recommended-sticky.posAbs[_ngcontent-%COMP%]{position:absolute;bottom:25px}.recommended-sticky.posFix[_ngcontent-%COMP%]{position:fixed;top:25px}@media (min-width: 992px){#product-sticky-section[_ngcontent-%COMP%]{transition:top .1s,bottom .1s}#product-sticky-section.posFix[_ngcontent-%COMP%]{align-self:baseline;position:sticky;top:var(--sticky-pos)}#product-sticky-section.posAbs[_ngcontent-%COMP%]{position:relative}#product-sticky-section.posAbs[_ngcontent-%COMP%]   .recommended-sticky[_ngcontent-%COMP%]{position:absolute;bottom:0}app-bidding-pools[_ngcontent-%COMP%]{display:block;min-height:450px}}'],data:{animation:[(0,y.X$)("slideInOut",[(0,y.eR)(":enter",[(0,y.oB)({transform:"translateY(-60px)",opacity:0}),(0,y.jt)("200ms ease-out",(0,y.oB)({transform:"translateY(0)",opacity:1}))]),(0,y.eR)(":leave",[(0,y.jt)("200ms ease-out",(0,y.oB)({transform:"translateY(-60px)",opacity:0}))])])]}}),n})();var Ks=c(1241),Ws=c(70957),$s=c(28137),Vs=c(24719);function Xs(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",17),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw(2);return t.KtG(s.handleImageClick(a))}),t._UZ(1,"img",18),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(1),t.Q6J("src",e,t.LSH)}}function tc(n,r){if(1&n&&(t.TgZ(0,"div",15),t.YNc(1,Xs,2,1,"div",16),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.images)}}function ec(n,r){if(1&n&&(t.TgZ(0,"div",19)(1,"div",20),t._uU(2),t.TgZ(3,"span",21),t._uU(4),t.ALo(5,"date"),t.qZA()(),t.TgZ(6,"p"),t._uU(7),t.qZA()()),2&n){const e=r.$implicit,o=t.oxw();t.xp6(2),t.hij(" ",o.storeName," "),t.xp6(2),t.Oqu(t.xi3(5,3,e.createdDate,"YYYY-MM-dd")),t.xp6(3),t.Oqu(e.content)}}let nc=(()=>{class n{constructor(){this.onImageClick=new t.vpe,this.storeName=""}get images(){let e=JSON.parse(this.review.images||"[]");return"string"==typeof e&&(e=JSON.parse(e)),e.length>0?e:[]}get avatar(){return this.review.memberAvatar?this.review.memberAvatar:"/assets/images/sign-up-user.svg"}get specifications(){return JSON.parse(this.review.specifications||"[]").join(",")}handleImageClick(e){this.onImageClick.emit({images:this.images,index:e})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-review-item"]],inputs:{review:"review",storeName:"storeName"},outputs:{onImageClick:"onImageClick"},decls:21,vars:12,consts:[[1,"border-b","border-[#eaeaea]","py-2"],[1,"flex"],[1,"h-12","w-12","relative","mt-1","mr-2"],[1,"object-fit","object-cover","!h-full","!w-full","rounded-full",3,"src"],[1,"flex-1"],[1,"flex","items-center"],[1,"flex-1","opacity-60","self-end"],[3,"stopEvent","rating"],[1,"mb-1"],["class","flex flex-wrap my-4",4,"ngIf"],[1,"flex","justify-between","items-center","opacity-40","text-sm"],[1,"specifications"],[1,"time"],[1,"pl-20","mt-3"],["class","p-2 mb-2 border border-[#dddddd] bg-[#fafafa] rounded-lg",4,"ngFor","ngForOf"],[1,"flex","flex-wrap","my-4"],["class","h-32 w-32 mr-1 mb-1 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"h-32","w-32","mr-1","mb-1","cursor-pointer",3,"click"],["alt","",1,"object-fit","object-cover","!w-full","!h-full","rounded-md",3,"src"],[1,"p-2","mb-2","border","border-[#dddddd]","bg-[#fafafa]","rounded-lg"],[1,"font-bold","text-sm","amb-2"],[1,"ml-2","opacity-40","font-normal"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6),t._uU(7),t.qZA(),t.TgZ(8,"div"),t._UZ(9,"app-order-rating",7),t.qZA()(),t.TgZ(10,"p",8),t._uU(11),t.qZA(),t.YNc(12,tc,2,1,"div",9),t.TgZ(13,"div",10)(14,"div",11),t._uU(15),t.qZA(),t.TgZ(16,"div",12),t._uU(17),t.ALo(18,"date"),t.qZA()()()(),t.TgZ(19,"div",13),t.YNc(20,ec,8,6,"div",14),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("src",o.avatar,t.LSH),t.xp6(4),t.hij(" ",o.review.memberName," "),t.xp6(2),t.Q6J("stopEvent",!0)("rating",o.review.score),t.xp6(2),t.Oqu(o.review.content),t.xp6(1),t.Q6J("ngIf",o.images.length>0),t.xp6(3),t.hij("[",o.specifications,"]"),t.xp6(2),t.hij(" ",t.xi3(18,9,o.review.createdDate,"YYYY-MM-dd")," "),t.xp6(3),t.Q6J("ngForOf",o.review.replies))},dependencies:[Mt.K,l.O5,l.sg,l.uU],styles:[".top_review[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;align-items:flex-start;display:flex;flex-flow:row wrap;justify-content:flex-start;flex-wrap:nowrap}.top_review[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:12px}.top_review[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-left:12px}.text[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:500;color:#000;line-height:26px}.text-gray-darker[_ngcontent-%COMP%]{color:#5a5a5a}.text-gray[_ngcontent-%COMP%]{color:#bfbfbf}.content[_ngcontent-%COMP%]{word-break:break-all;line-height:3em}.images[_ngcontent-%COMP%]{width:300px}.replies-item[_ngcontent-%COMP%]{margin-top:12px;line-height:3em}.replies-item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{border-top:1px solid #f2f2f2}.replies-item[_ngcontent-%COMP%]   .replie-content[_ngcontent-%COMP%]{padding-right:16px}"]}),n})(),oc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.ez,Ct.u5,p.m,d.Pc,b.kz,Ht.I,h.aw,Tt.j,Xt,vt.b,T.Bz.forChild([{path:"",component:wt}]),Ao.n,Io,So,mt.OrdersModule,Rt.u,zt.c,j.kb,Gt.z,te,yt.O,be.h,oe,Vt.D,Lt,St.P,ve.g,Ks.x]}),n})();t.B6R(wt,function(){return[l.mk,l.sg,l.O5,l.tP,Ct.JJ,Ct.On,$.Q,le.K,de.c,pe.l,ge.M,V.p,Q.E,ue.y,Ws.V,_e.H,xt.Q,$s.I,Vs.q,me.B,fe.M,he.Z,Bt.M,It.a,xe.Y,d.wI,d.W2,d.fr,d.pK,d.Ie,d.Q$,d.q_,d.Nd,d.t9,d.n0,d.PQ,d.sr,d.d8,d.as,d.QI,d.Fo,Tt.j,vt.b,T.yS,nc,Mt.K,Rt.u,zt.c,we.p,Pe.z,Jt,Ft,jt,ko,z,Gs]},function(){return[l.Ov,l.OU,l.JJ,l.H9,h.X$]})},35198:(at,Y,c)=>{c.d(Y,{M:()=>X});var l=c(94650),T=c(17445),d=c(24837),h=c(36895);function p(t,Q){}const _=function(t,Q,b,S){return{seconds:t,minutes:Q,hours:b,days:S}},k=function(t){return{$implicit:t}};let X=(()=>{class t{constructor(b,S,tt){this.platformId=b,this.ngZone=S,this.cdr=tt,this.onTimeEnd=new l.vpe}getTimeDifference(){this.difference=new Date(this.time).getTime()-(new Date).getTime(),this.allocateTimeUnits(this.difference)}ngOnChanges(b){const S=b.time;S&&!S.isFirstChange()&&S.currentValue!==S.previousValue&&(console.log(1313134444),this.restart())}allocateTimeUnits(b){b<=0&&(b=0),this.seconds=Math.floor(b/1e3),this.minutes=Math.floor(this.seconds/60),this.hours=Math.floor(this.minutes/60),this.days=Math.floor(this.hours/24),this.hours%=24,this.minutes%=60,this.seconds%=60,0==this.hours&&0==this.minutes&&0==this.seconds&&(this.onTimeEnd.emit(),this.subscription?.unsubscribe()),this.hours=this.hours<10?"0"+this.hours:this.hours,this.minutes=this.minutes<10?"0"+this.minutes:this.minutes,this.seconds=this.seconds<10?"0"+this.seconds:this.seconds}ngOnInit(){this.restart()}restart(){this.subscription?.unsubscribe(),this.getTimeDifference(),this.cdr.detectChanges(),d.Z.isServer||this.ngZone.runOutsideAngular(()=>{this.subscription=(0,T.F)(1e3).subscribe(b=>{this.getTimeDifference(),this.cdr.detectChanges()})})}ngOnDestroy(){this.subscription?.unsubscribe()}}return t.\u0275fac=function(b){return new(b||t)(l.Y36(l.Lbi),l.Y36(l.R0b),l.Y36(l.sBO))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-countdown"]],contentQueries:function(b,S,tt){if(1&b&&l.Suo(tt,l.Rgc,5),2&b){let q;l.iGM(q=l.CRH())&&(S.templateRef=q.first)}},inputs:{time:"time"},outputs:{onTimeEnd:"onTimeEnd"},features:[l.TTD],decls:2,vars:9,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(b,S){1&b&&(l.ynx(0),l.YNc(1,p,0,0,"ng-template",0),l.BQk()),2&b&&(l.xp6(1),l.Q6J("ngTemplateOutlet",S.templateRef)("ngTemplateOutletContext",l.VKq(7,k,l.l5B(2,_,S.seconds,S.minutes,S.hours,S.days))))},dependencies:[h.tP],encapsulation:2}),t})()},37978:(at,Y,c)=>{c.d(Y,{u:()=>tt});var l=c(15861),T=c(95133),d=c(5565),h=c(24837),p=c(94650),_=c(36895);const k=["container"];function X(q,z){1&q&&(p.TgZ(0,"div",6),p.Hsn(1,1),p.qZA())}function t(q,z){if(1&q){const f=p.EpF();p.TgZ(0,"ion-popover",4,5),p.NdJ("didPresent",function(){p.CHM(f);const B=p.oxw();return p.KtG(B.handlePresent())})("didDismiss",function(){p.CHM(f);const B=p.oxw();return p.KtG(B.handleDismiss())}),p.YNc(2,X,2,0,"ng-template"),p.qZA()}if(2&q){const f=p.oxw();p.ekj("white",f.isWhite),p.Q6J("ngStyle",f.popoverStyle)("isOpen",f.isPopoverOpen)("side",f.side)("showBackdrop",!1)("backdropDismiss",!1)("arrow",!0)}}const Q=[[["","tooltipBtn",""]],"*"],b=function(q,z){return{"cursor-pointer":q,hoverBg:z}},S=["[tooltipBtn]","*"];let tt=(()=>{class q extends d.V{constructor(f,A){var B;super(),B=this,this.cdr=f,this.ngZone=A,this.popoverStyle={},this.delayShow=0,this.isWhite=!1,this.side="bottom",this.disabled=!1,this.disableTouchDevice=!1,this.hoverBg=!0,this.preventEvent=!0,this.isPopoverOpen=!1,this.isPresented=!1,this.isHoveringTooltipMobile=!1,this.handlePresent=()=>{this.isPresented=!0,document.body.classList.add("has-tooltip-open"),this.ngZone.runOutsideAngular(()=>{window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mousewheel",this.handleMouseWheel),window.addEventListener("touchstart",this.handleTouchStart),window.addEventListener("touchmove",this.handleTouchMove),window.addEventListener("touchend",this.handleTouchEnd)})},this.handleTouchStart=D=>{console.log("touchstart"),this.isHoveringTooltipMobile=this.isHoveringTooltip(D.target),this.handleMouseMove(D)},this.handleTouchMove=D=>{this.isHoveringTooltipMobile||!this.isPresented||this.closeTooltip()},this.handleTouchEnd=D=>{this.isHoveringTooltipMobile=!1},this.handleMouseWheel=D=>{console.log("mousewheel"),this.isPresented&&this.closeTooltip()},this.handleMouseMove=function(){var D=(0,l.Z)(function*(gt){console.log("mousemove"),!B.isHoveringTooltip(gt.target)&&B.closeTooltip()});return function(gt){return D.apply(this,arguments)}}()}ngOnInit(){}ngOnChanges(f){const A=f.disabled;if(A&&!A.isFirstChange()&&!1===A.currentValue){if(!this.isPresented)return;this.closeTooltip()}}isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}handleOpenPopover(f){this.disabled||this.disableTouchDevice&&this.isTouchDevice()||this.isPopoverOpen||(this.popover.event=f,this.delayTooltipTimeOut=setTimeout(()=>{this.isPopoverOpen=!0},this.delayShow))}handleClick(f){this.disabled||this.disableTouchDevice&&this.isTouchDevice()||this.preventEvent&&(f.preventDefault(),f.stopPropagation())}handleMouseLeave(f){clearTimeout(this.delayTooltipTimeOut)}closeTooltip(){var f=this;return(0,l.Z)(function*(){f.isPopoverOpen=!1,yield f.popover.dismiss(),document.body.classList.remove("has-tooltip-open")})()}isHoveringTooltip(f){if(this.container.nativeElement.contains(f))return!0;const A=this.popover.el;return!(!A?.contains(f)&&A!==f)}handleDismiss(){this.isPopoverOpen=!1,this.isPresented=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mousewheel",this.handleMouseWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd)}ngOnDestroy(){var f=this;return(0,l.Z)(function*(){h.Z.isServer||(f.isPopoverOpen=!1,window.removeEventListener("mousemove",f.handleMouseMove),window.removeEventListener("mousewheel",f.handleMouseWheel),window.removeEventListener("touchstart",f.handleTouchStart),window.removeEventListener("touchmove",f.handleTouchMove),window.removeEventListener("touchend",f.handleTouchEnd),yield f.popover?.dismiss())})()}}return q.\u0275fac=function(f){return new(f||q)(p.Y36(p.sBO),p.Y36(p.R0b))},q.\u0275cmp=p.Xpm({type:q,selectors:[["app-tooltip"]],viewQuery:function(f,A){if(1&f&&(p.Gf(k,5),p.Gf(T.d8,5)),2&f){let B;p.iGM(B=p.CRH())&&(A.container=B.first),p.iGM(B=p.CRH())&&(A.popover=B.first)}},inputs:{popoverStyle:"popoverStyle",delayShow:"delayShow",isWhite:"isWhite",side:"side",disabled:"disabled",disableTouchDevice:"disableTouchDevice",hoverBg:"hoverBg",preventEvent:"preventEvent"},features:[p.qOj,p.TTD],ngContentSelectors:S,decls:5,vars:5,consts:[[1,"app-tooltip","w-full",3,"click"],["container",""],[1,"tooltipBtn","flex","items-center",3,"ngClass","click","mouseover","mouseleave","touchstart"],["class","popover-tooltip","alignment","center","mode","ios",3,"ngStyle","white","isOpen","side","showBackdrop","backdropDismiss","arrow","didPresent","didDismiss",4,"ngIf"],["alignment","center","mode","ios",1,"popover-tooltip",3,"ngStyle","isOpen","side","showBackdrop","backdropDismiss","arrow","didPresent","didDismiss"],["popover",""],[1,"app-tooltip-body","pointer-events-auto"]],template:function(f,A){1&f&&(p.F$t(Q),p.TgZ(0,"div",0,1),p.NdJ("click",function(D){return A.handleClick(D)}),p.TgZ(2,"div",2),p.NdJ("click",function(D){return A.handleClick(D)})("mouseover",function(D){return A.handleOpenPopover(D)})("mouseleave",function(D){return A.handleMouseLeave(D)})("touchstart",function(D){return A.handleOpenPopover(D)}),p.Hsn(3),p.qZA()(),p.YNc(4,t,3,8,"ion-popover",3)),2&f&&(p.xp6(2),p.Q6J("ngClass",p.WLB(2,b,!A.disabled,A.hoverBg)),p.xp6(2),p.Q6J("ngIf",!A.disabled))},dependencies:[_.mk,_.O5,_.PC,T.d8],styles:["[_nghost-%COMP%]{position:relative;z-index:1}.app-tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block;z-index:1}ion-popover[_ngcontent-%COMP%]{pointer-events:none;--width: auto;--max-width: 50vw;--offset-y: -5px;--background: black}@media (min-width: 768px){ion-popover[_ngcontent-%COMP%]{--max-width: 80vw}}ion-popover[_ngcontent-%COMP%]::part(backdrop){pointer-events:none}ion-popover[_ngcontent-%COMP%]::part(arrow){width:23px;height:18px;transform:translateY(1px);z-index:11;pointer-events:auto}ion-popover[_ngcontent-%COMP%]::part(arrow):after{background:black;left:3px;top:9px;width:15px;height:15px;border:1px solid black;border-radius:6px 0;transform:rotate(67.5deg) skew(45deg) scaleY(.70711)}ion-popover[_ngcontent-%COMP%]::part(content){overflow:inherit;margin-top:-13px;padding-top:13px;border:0;pointer-events:auto;background-color:transparent;box-shadow:none}ion-popover.white[_ngcontent-%COMP%]::part(arrow):after{background-color:#f1f5f9;border:1px solid #dddddd}ion-popover.white[_ngcontent-%COMP%]   .app-tooltip-body[_ngcontent-%COMP%]{background-color:#f1f5f9;--tw-border-opacity: 1;border-color:rgb(221 221 221 / var(--tw-border-opacity));--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}ion-popover.popover-bottom[_ngcontent-%COMP%], ion-popover.popover-side-top[_ngcontent-%COMP%]{--offset-y: 3px}ion-popover.popover-bottom[_ngcontent-%COMP%]::part(arrow), ion-popover.popover-side-top[_ngcontent-%COMP%]::part(arrow){transform:translateY(-1px)}ion-popover.popover-bottom[_ngcontent-%COMP%]::part(arrow):after, ion-popover.popover-side-top[_ngcontent-%COMP%]::part(arrow):after{top:-9px}ion-popover.popover-bottom[_ngcontent-%COMP%]::part(content), ion-popover.popover-side-top[_ngcontent-%COMP%]::part(content){margin-top:14px;padding-top:0;padding-bottom:14px}  body.has-tooltip-open app-base-chart{pointer-events:none}.app-tooltip-body[_ngcontent-%COMP%]{max-width:100%;position:relative;border-radius:.75rem;border-width:1px;border-style:solid;--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));box-shadow:0 4px 16px #0000001f}.app-tooltip-body[_ngcontent-%COMP%]    >*{max-width:100%}.tooltipBtn.hoverBg[_ngcontent-%COMP%]{border-radius:.5rem}.tooltipBtn.hoverBg[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}"]}),q})()},15720:(at,Y,c)=>{c.d(Y,{i:()=>T});var l=c(94650);let T=(()=>{class d{constructor(){}ngOnInit(){}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275cmp=l.Xpm({type:d,selectors:[["app-facebook-icon"]],decls:3,vars:0,consts:[["viewBox","0 0 60 60","fill","none"],["width","60","height","60","rx","9","fill","#1D5B9E"],["d","M37.8761 60V37.6488H45.5418L46.6895 28.9383H37.8761V23.3767C37.8761 20.8547 38.5918 19.1361 42.287 19.1361L47 19.134V11.3434C46.1845 11.2372 43.387 11 40.1325 11C33.3372 11 28.6853 15.0594 28.6853 22.5143V28.9383H21V37.6488H28.6853V60H37.8761Z","fill","white"]],template:function(p,_){1&p&&(l.O4$(),l.TgZ(0,"svg",0),l._UZ(1,"rect",1)(2,"path",2),l.qZA())},encapsulation:2}),d})()},55758:(at,Y,c)=>{c.d(Y,{G:()=>T});var l=c(94650);let T=(()=>{class d{constructor(){}ngOnInit(){}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275cmp=l.Xpm({type:d,selectors:[["app-twitter-icon"]],decls:3,vars:0,consts:[["viewBox","0 0 60 60","fill","none"],["width","60","height","60","rx","9","fill","#00B8ED"],["d","M51 18.0184C49.5022 18.6889 47.9134 19.1291 46.2866 19.3242C47.9811 18.2979 49.2822 16.6727 49.8948 14.7362C48.284 15.7022 46.5216 16.3828 44.6838 16.7486C43.1867 15.137 41.0541 14.1298 38.6936 14.1298C34.1614 14.1298 30.4869 17.8428 30.4869 22.4224C30.4869 23.0724 30.5595 23.7053 30.6994 24.3124C23.8791 23.9664 17.8322 20.665 13.7845 15.6478C13.0783 16.8725 12.6736 18.2972 12.6736 19.8168C12.6736 22.694 14.1225 25.2321 16.3244 26.7193C15.0212 26.6781 13.7466 26.3224 12.6072 25.682C12.6067 25.7167 12.6067 25.7514 12.6067 25.7863C12.6067 29.8043 15.4355 33.1561 19.1895 33.9179C17.9811 34.25 16.7135 34.2986 15.4836 34.06C16.5278 37.3546 19.5586 39.7521 23.1495 39.8192C20.3409 42.0433 16.8023 43.3692 12.9577 43.3692C12.2952 43.3692 11.642 43.3299 11 43.2533C14.6317 45.6062 18.9453 46.9791 23.5797 46.9791C38.6745 46.9791 46.9287 34.3426 46.9287 23.3841C46.9287 23.0244 46.9209 22.6668 46.905 22.3112C48.5116 21.1376 49.8983 19.6839 51 18.0184Z","fill","white"]],template:function(p,_){1&p&&(l.O4$(),l.TgZ(0,"svg",0),l._UZ(1,"rect",1)(2,"path",2),l.qZA())},encapsulation:2}),d})()},69847:(at,Y,c)=>{c.d(Y,{k:()=>T});var l=c(94650);let T=(()=>{class d{constructor(){}ngOnInit(){}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275cmp=l.Xpm({type:d,selectors:[["app-wechat-icon"]],decls:3,vars:0,consts:[["viewBox","0 0 60 60","fill","none"],["width","60","height","60","rx","9","fill","#00C200"],["d","M40.9084 21.7199C41.2656 21.7199 41.6229 21.732 41.974 21.7502C40.4967 13.9578 32.3895 8 22.6051 8C11.7793 8 3 15.302 3 24.3113C3 29.2217 5.63984 33.6477 9.7752 36.6387C9.94576 36.7591 10.0849 36.9188 10.1808 37.1042C10.2766 37.2897 10.3265 37.4955 10.3262 37.7043C10.3262 37.8496 10.2959 37.9828 10.2596 38.1221C9.92656 39.3512 9.39981 41.3189 9.37559 41.4098C9.3332 41.5672 9.27266 41.7246 9.27266 41.8881C9.27266 42.2453 9.56328 42.542 9.92656 42.542C10.0658 42.542 10.1809 42.4875 10.302 42.4209L14.5947 39.9445C14.9156 39.7568 15.2607 39.6418 15.6361 39.6418C15.8299 39.6418 16.0236 39.6721 16.2113 39.7266C18.2154 40.3018 20.377 40.6227 22.6111 40.6227C22.9744 40.6227 23.3316 40.6166 23.6889 40.5984C23.259 39.327 23.0289 37.9889 23.0289 36.6023C23.0289 28.3801 31.0332 21.7199 40.9084 21.7199ZM29.1441 16.4826C30.5852 16.4826 31.7598 17.6512 31.7598 19.0922C31.7598 20.5332 30.5912 21.7018 29.1441 21.7018C27.7031 21.7018 26.5285 20.5332 26.5285 19.0922C26.5285 17.6512 27.7031 16.4826 29.1441 16.4826ZM16.0721 21.7018C14.6311 21.7018 13.4564 20.5332 13.4564 19.0922C13.4564 17.6512 14.625 16.4826 16.0721 16.4826C17.5191 16.4826 18.6877 17.6512 18.6877 19.0922C18.6877 20.5332 17.5131 21.7018 16.0721 21.7018ZM51.601 46.865C55.0461 44.3705 57.2439 40.6893 57.2439 36.5902C57.2439 29.0824 49.9299 22.9975 40.9023 22.9975C31.8809 22.9975 24.5607 29.0824 24.5607 36.5902C24.5607 44.098 31.8748 50.183 40.9023 50.183C42.7672 50.183 44.5715 49.9166 46.2365 49.4383C46.3939 49.3898 46.5514 49.3656 46.7148 49.3656C47.0297 49.3656 47.3143 49.4625 47.5807 49.6139L51.159 51.6725C51.2619 51.733 51.3588 51.7754 51.4738 51.7754C51.5456 51.776 51.6168 51.7624 51.6833 51.7353C51.7498 51.7083 51.8103 51.6684 51.8613 51.618C51.9118 51.5669 51.9517 51.5064 51.9787 51.4399C52.0057 51.3734 52.0193 51.3022 52.0187 51.2305C52.0187 51.0973 51.9643 50.9641 51.934 50.8309C51.9158 50.7582 51.4738 49.1174 51.1953 48.0881C51.165 47.973 51.1408 47.858 51.1408 47.743C51.1469 47.3857 51.3285 47.0648 51.601 46.865ZM35.4652 34.4227C34.2604 34.4227 33.2855 33.4479 33.2855 32.249C33.2855 31.0502 34.2604 30.0754 35.4652 30.0754C36.6701 30.0754 37.6449 31.0502 37.6449 32.249C37.6449 33.4479 36.6641 34.4227 35.4652 34.4227ZM46.3576 34.4227C45.1527 34.4227 44.1779 33.4479 44.1779 32.249C44.1779 31.0502 45.1527 30.0754 46.3576 30.0754C47.5625 30.0754 48.5373 31.0502 48.5373 32.249C48.5344 32.8257 48.3037 33.3778 47.8953 33.785C47.487 34.1922 46.9343 34.4214 46.3576 34.4227Z","fill","white"]],template:function(p,_){1&p&&(l.O4$(),l.TgZ(0,"svg",0),l._UZ(1,"rect",1)(2,"path",2),l.qZA())},encapsulation:2}),d})()}}]);