"use strict";(self.webpackChunkangular_tyqoon_client=self.webpackChunkangular_tyqoon_client||[]).push([[545],{98741:(D,M,l)=>{l.d(M,{e:()=>de});var n=l(15861),x=l(36895),e=l(94650),w=l(81212),a=l(95133),y=l(54463),r=l(82722),P=l(49808),C=l(5963),T=l(5565),m=l(44466),f=l(8174),O=l(35198),d=l(65433),_=l(24006),o=l(16424),p=l(61397),u=l(39841),v=l(45329),Z=l(56889),I=l(78998),E=l(7228),L=l(37978),A=l(92974);const U=function(s){return{requiredInvites:s}};function B(s,g){if(1&s&&(e.TgZ(0,"div",18),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,"challenge-not-started",e.VKq(4,U,t.requiredCount))," ")}}const S=function(s,g){return{currentDays:s,requiredDays:g}};function q(s,g){if(1&s&&(e.TgZ(0,"div",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const t=e.oxw(2).$implicit;e.Q6J("ngClass","level-"+t.level),e.xp6(1),e.hij(" ",e.xi3(2,2,"challenge-days",e.WLB(5,S,t.currentDays,t.requiredDay))," ")}}function N(s,g){1&s&&e._UZ(0,"div",33)}function j(s,g){1&s&&(e.TgZ(0,"div",34),e._UZ(1,"img",35),e.qZA())}const J=function(s){return{count:s}};function H(s,g){if(1&s&&(e.TgZ(0,"div",21),e._UZ(1,"img",22),e.YNc(2,q,3,8,"div",23),e.TgZ(3,"div",24)(4,"div",25),e._uU(5),e._UZ(6,"app-user-icon",26),e.qZA(),e.YNc(7,N,1,0,"div",27),e.YNc(8,j,2,0,"ng-template",null,28,e.W1O),e.TgZ(10,"app-tooltip",29),e._UZ(11,"ion-icon",30),e.TgZ(12,"div",31),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()),2&s){const t=e.MAs(9),i=e.oxw().$implicit,c=e.oxw(3);e.xp6(1),e.Q6J("src",c.medalMap[i.level],e.LSH),e.xp6(1),e.Q6J("ngIf",i.requiredDay>0),e.xp6(1),e.ekj("pending-requirement",i.currentActiveInvites<i.requiredNumber),e.xp6(2),e.AsE(" ",i.currentActiveInvites,"/",i.requiredNumber," "),e.xp6(2),e.Q6J("ngIf",i.currentActiveInvites<i.requiredNumber)("ngIfElse",t),e.xp6(3),e.Q6J("hoverBg",!1),e.xp6(3),e.hij(" ",e.xi3(14,10,"challenge-desc",e.VKq(13,J,i.requiredNumber))," ")}}function K(s,g){if(1&s&&(e.ynx(0),e.YNc(1,H,15,15,"div",20),e.BQk()),2&s){const t=g.$implicit;e.xp6(1),e.Q6J("ngIf",t.isRunning)}}function Q(s,g){if(1&s&&e.YNc(0,K,2,1,"ng-container",19),2&s){const t=e.oxw(2);e.Q6J("ngForOf",t.progressLevels)}}const R=function(s){return{left:s}};function Y(s,g){if(1&s&&(e.TgZ(0,"div",36)(1,"div",37),e._UZ(2,"img",38),e.qZA()()),2&s){const t=e.oxw(2);e.Q6J("ngStyle",e.VKq(3,R,t.percentage+"%")),e.xp6(1),e.Udp("margin-left",t.percentage>88?88-t.percentage:0,"px")}}function F(s,g){1&s&&(e.TgZ(0,"app-tooltip",29)(1,"div",48),e._UZ(2,"img",49),e.qZA(),e.TgZ(3,"div",50),e._uU(4),e.ALo(5,"translate"),e.qZA()()),2&s&&(e.Q6J("hoverBg",!1),e.xp6(4),e.Oqu(e.lcZ(5,2,"challenge-completed")))}function W(s,g){if(1&s&&(e.TgZ(0,"app-tooltip",51)(1,"div",52),e._UZ(2,"app-loading-animation",51),e.qZA(),e.TgZ(3,"div",50),e._uU(4),e.ALo(5,"translate"),e.qZA()()),2&s){const t=e.oxw().$implicit;e.ekj("invisible",!t.isRunning),e.xp6(4),e.Oqu(e.lcZ(5,3,"challenge-inprogress"))}}function $(s,g){if(1&s&&(e.TgZ(0,"div",53)(1,"h2",54),e._uU(2,"Debug Info"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"p",55),e._uU(5),e.qZA(),e.TgZ(6,"p",55),e._uU(7),e.qZA(),e.TgZ(8,"p",56),e._uU(9,"Success"),e.qZA()()),2&s){const t=e.oxw(),c=t.last,b=t.$implicit;e.ekj("ml-4",t.first)("mr-4",c),e.xp6(5),e.hij("Days: ",b.holdDays,""),e.xp6(2),e.hij("Required: ",b.requiredDay,""),e.xp6(1),e.ekj("invisible",!b.success)}}function z(s,g){if(1&s&&(e.TgZ(0,"div",39),e._UZ(1,"div",40)(2,"img",41),e.YNc(3,F,6,4,"app-tooltip",42),e.YNc(4,W,6,5,"ng-template",null,43,e.W1O),e.TgZ(6,"div",44)(7,"div",45),e._uU(8),e.qZA(),e._UZ(9,"app-user-icon",46),e.qZA(),e.YNc(10,$,10,8,"div",47),e.qZA()),2&s){const t=g.$implicit,i=e.MAs(5),c=e.oxw(2);e.xp6(2),e.Q6J("src",c.medalMap[t.level],e.LSH),e.xp6(1),e.Q6J("ngIf",t.isCompleted)("ngIfElse",i),e.xp6(3),e.ekj("pending-requirement",!t.isCompleted&&!t.isRunning),e.xp6(2),e.AsE("",t.yesterdayInvites,"/",t.requiredNumber,""),e.xp6(2),e.Q6J("ngIf",c.showHiddenOption)}}const G=function(s){return{width:s}};function V(s,g){if(1&s&&(e.TgZ(0,"div",5),e._UZ(1,"app-invite-current-rank",6),e.TgZ(2,"div",7),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",8),e.YNc(6,B,3,6,"div",9),e.YNc(7,Q,1,1,"ng-template",null,10,e.W1O),e.qZA(),e.TgZ(9,"div",11)(10,"div",12)(11,"div",13),e._UZ(12,"div",14),e.qZA(),e.YNc(13,Y,3,5,"div",15),e.qZA()(),e.TgZ(14,"div",16),e.YNc(15,z,11,8,"div",17),e.qZA()()),2&s){const t=e.MAs(8),i=e.oxw();e.xp6(1),e.Q6J("commissionDetails",i.commissionDetails)("showOdometer",!0),e.xp6(2),e.hij(" ",e.lcZ(4,10,"tyqoon-challenge")," "),e.xp6(3),e.Q6J("ngIf",!i.hasStarted)("ngIfElse",t),e.xp6(5),e.ekj("filled",i.percentage>=100),e.xp6(1),e.Q6J("ngStyle",e.VKq(12,G,i.percentage+"%")),e.xp6(1),e.Q6J("ngIf",i.percentage<100),e.xp6(2),e.Q6J("ngForOf",i.progressLevels)}}function X(s,g){if(1&s){const t=e.EpF();e.TgZ(0,"div")(1,"ion-input",57),e.NdJ("ngModelChange",function(c){e.CHM(t);const b=e.oxw();return e.KtG(b.commissionDetails.numberOfSub=c)})("ngModelChange",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.onChangeSub())}),e.qZA()()}if(2&s){const t=e.oxw();e.xp6(1),e.Q6J("min",0)("ngModel",t.commissionDetails.numberOfSub)}}function ee(s,g){if(1&s&&(e.TgZ(0,"div",58)(1,"h2",54),e._uU(2,"Debug Info"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"p",55),e._uU(5),e.qZA(),e.TgZ(6,"p",55),e._uU(7),e.qZA(),e.TgZ(8,"p",55),e._uU(9),e.qZA()()),2&s){const t=e.oxw();e.xp6(5),e.hij("Active: ",t.commissionDetails.numberOfSub,""),e.xp6(2),e.hij("Direct: ",t.commissionDetails.numberOfDirectSub,""),e.xp6(2),e.hij("YesterdayActive: ",t.commissionDetails.yesterdayNumberOfSub,"")}}function te(s,g){if(1&s){const t=e.EpF();e.TgZ(0,"div",59)(1,"div",60),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",61)(5,"button",62),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.isOpenInviteModal=!0)}),e._uU(6),e.ALo(7,"translate"),e.qZA()()()}2&s&&(e.xp6(2),e.hij(" ",e.lcZ(3,2,"get-first-invite")," "),e.xp6(4),e.hij(" ",e.lcZ(7,4,"game-invite-title")," "))}let ne=(()=>{class s extends T.V{constructor(t,i){super(),this.userService=t,this.biddingService=i,this.challengeMap={1:"get-first-invite",2:"bronze-challenge",3:"silver-challenge",4:"gold-challenge",5:"rainbow-challenge"},this.medalMap={1:"assets/images/invite.svg",2:"assets/images/bidding/rank-bronze.png",3:"assets/images/bidding/rank-silver.png",4:"assets/images/bidding/rank-gold.png",5:"assets/images/bidding/rank-rainbow.png"},this.hasStarted=!1,this.requiredCount=0,this.percentage=0,this.isOpenInviteModal=!1,this.showHiddenOption=!1,this.shareLink=""}ngOnInit(){(0,u.a)([this.userService.userInfo$,this.biddingService.isBiddingMode$]).pipe((0,r.R)(this.destroyStream$)).subscribe(([t,i])=>{const c=t?.id.toString()||"",b=location.origin;this.shareLink=`${b}/invite?recommenderId=${c}`,i&&(this.shareLink=this.shareLink+"&bid=true")})}onShiftKeydownHandler(t){this.showHiddenOption||(this.showHiddenOption=this.userService.isDebugMode)}onShiftKeyupHandler(t){this.showHiddenOption&&(this.showHiddenOption=!1)}onLevelUp(t){this.commissionDetails.yesterdayNumberOfSub+=1,this.onLevelChange(),this.commissionDetails.levelProgress.forEach((i,c)=>{i.success=i.success||i.requiredNumber<=i.yesterdayInvites&&i.requiredDay<=i.currentDays}),this.commissionDetails.level=this.commissionDetails.levelProgress.filter(i=>i.success).length,this.commissionDetails={...this.commissionDetails}}onLevelDown(t){this.commissionDetails.yesterdayNumberOfSub=Math.max(0,this.commissionDetails.yesterdayNumberOfSub-1),this.onLevelChange(),this.commissionDetails.levelProgress.forEach(i=>{!i.isRunning&&!i.isCompleted&&(i.holdDays=0)})}onDaysIncrease(t){this.commissionDetails.levelProgress.forEach(i=>{(i.isRunning||i.isCompleted)&&(i.holdDays=Math.min(30,i.holdDays+1))}),this.onLevelChange(),this.commissionDetails.levelProgress.forEach((i,c)=>{i.success=i.success||i.requiredNumber<=i.yesterdayInvites&&i.requiredDay<=i.currentDays}),this.commissionDetails.level=this.commissionDetails.levelProgress.filter(i=>i.success).length,this.commissionDetails={...this.commissionDetails}}onDaysDecrease(t){this.commissionDetails.levelProgress.forEach(i=>{(i.isRunning||i.isCompleted)&&(i.holdDays=Math.max(0,i.holdDays-1))}),this.onLevelChange()}ngOnChanges(t){this.onLevelChange()}onLevelChange(){if(this.commissionDetails?.levelProgress){this.commissionDetails.levelProgress.forEach((h,pe)=>{h.currentActiveInvites=Math.min(this.commissionDetails.numberOfSub,h.requiredNumber),h.yesterdayInvites=Math.min(this.commissionDetails.yesterdayNumberOfSub,h.requiredNumber),h.currentDays=Math.min(h.holdDays,h.requiredDay),h.isRunning=h.requiredNumber<=h.yesterdayInvites&&h.requiredDay>h.currentDays,h.isCompleted=h.requiredNumber<=h.yesterdayInvites&&h.requiredDay<=h.currentDays});const t=this.commissionDetails.levelProgress.filter(h=>h.isCompleted).length;if(t<5){const h=this.commissionDetails.levelProgress[t];this.hasStarted=0==h.requiredDay||h.yesterdayInvites>=h.requiredNumber,this.requiredCount=h.requiredNumber}else this.hasStarted=!0;this.levelsToShow=this.commissionDetails.levelProgress.filter(h=>this.commissionDetails.yesterdayNumberOfSub>=h.requiredNumber).length,this.progressLevels=this.commissionDetails.levelProgress.slice(0,Math.min(5,this.levelsToShow+1)),console.log(this.levelsToShow,this.progressLevels,t);const i=this.commissionDetails.levelProgress.find(h=>h.isRunning),c=this.progressLevels[this.progressLevels.length-1].level;let b=0;if(i&&i.requiredDay>0)b=100*i.currentDays/i.requiredDay;else{const h=this.commissionDetails.levelProgress[t];0==h?.requiredDay&&(b=h.yesterdayInvites>0?100*h.yesterdayInvites/h.requiredNumber:0)}const k=100/(c-1);t>0?(console.log(b,k,t,this.progressLevels[this.progressLevels.length-1].level),this.percentage=100*(t-1)/(c-1)+k*b/100):this.percentage=b}}onChangeSub(){this.onLevelChange()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(v.K),e.Y36(Z.g))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-invite-challenge"]],hostBindings:function(t,i){1&t&&e.NdJ("keydown.shift",function(){return i.onShiftKeydownHandler()},!1,e.evT)("keyup.shift",function(){return i.onShiftKeyupHandler()},!1,e.evT)("keydown.shift.ArrowUp",function(){return i.onLevelUp()},!1,e.evT)("keydown.shift.ArrowDown",function(){return i.onLevelDown()},!1,e.evT)("keydown.shift.ArrowRight",function(){return i.onDaysIncrease()},!1,e.evT)("keydown.shift.ArrowLeft",function(){return i.onDaysDecrease()},!1,e.evT)},inputs:{commissionDetails:"commissionDetails"},standalone:!0,features:[e.qOj,e.TTD,e.jDz],decls:6,vars:6,consts:[["class","flex relative flex-col w-full justify-center items-center p-3",4,"ngIf","ngIfElse"],[4,"ngIf"],["class","stats bg-white fixed border border-red-600 text-red-900 rounded-lg p-1",4,"ngIf"],["inviteUsers",""],[3,"isOpen","shareLinkInput","isOpenChange"],[1,"flex","relative","flex-col","w-full","justify-center","items-center","p-3"],[3,"commissionDetails","showOdometer"],[1,"title","font-bold","text-black","text-2xl","md:text-3xl","mt-1.5"],[1,"flex","flex-col","level-badges","justify-center","items-center","gap-2","md:gap-3","mt-3"],["class","text-lg font-medium text-center",4,"ngIf","ngIfElse"],["challengeStarted",""],[1,"px-3","w-full"],[1,"level-progress","w-full","mt-5","z-1","relative"],[1,"progress-bar","border","border-solid","w-full","bg-white","rounded-full","h-6","overflow-hidden"],[1,"progress","h-full","rounded-full","rounded-r-none",3,"ngStyle"],["class","mascot absolute top-0 bottom-0",3,"ngStyle",4,"ngIf"],[1,"medals","justify-between","flex","items-start","w-full"],["class","medal flex flex-col justify-center items-center w-9",4,"ngFor","ngForOf"],[1,"text-lg","font-medium","text-center"],[4,"ngFor","ngForOf"],["class","flex items-center gap-2",4,"ngIf"],[1,"flex","items-center","gap-2"],[1,"h-8",3,"src"],["class","level text-center rounded-lg px-3.5 py-1 text-base font-bold",3,"ngClass",4,"ngIf"],[1,"flex","items-center","justify-center","text-black"],[1,"font-black","text-base","md:text-xl","italic","flex","items-center","justify-center"],[1,"-mt-1","mx-px"],["class","text-grey-2 leading-none w-3 h-3 rounded-full not-active-indicator mx-2",4,"ngIf","ngIfElse"],["completedRequirement",""],[1,"flex",3,"hoverBg"],["tooltipBtn","","name","help-circle-outline",1,"w-7","h-7","text-gray-400","cursor-pointer","pointer-events-none"],[1,"tooltip-content-wrapper","p-2","text-left","text-base",2,"width","300px"],[1,"level","text-center","rounded-lg","px-3.5","py-1","text-base","font-bold",3,"ngClass"],[1,"text-grey-2","leading-none","w-3","h-3","rounded-full","not-active-indicator","mx-2"],[1,"check-icon","ml-2","mr-1.5","w-4","h-4","flex-shrink-0","flex","items-center","justify-center","rounded-full"],["src","assets/images/golden-check.png",1,"w-8/12"],[1,"mascot","absolute","top-0","bottom-0",3,"ngStyle"],[1,"relative","h-full","w-32"],["src","assets/images/mascot-stop.png",1,"h-8","-top-2","absolute","transform","-translate-x-1/2"],[1,"medal","flex","flex-col","justify-center","items-center","w-9"],[1,"handle"],[1,"h-14",3,"src"],["class","flex",3,"hoverBg",4,"ngIf","ngIfElse"],["notCompleted",""],[1,"requirement","flex","items-center","justify-center","mt-1.5"],[1,"font-bold","text-xs","md:text-lg"],[1,"-mt-1.5","ml-px"],["class","bg-white mt-1 w-24 border border-red-600 text-red-900 rounded-lg p-1",3,"ml-4","mr-4",4,"ngIf"],["tooltipBtn","",1,"checkmark","flex","justify-center","items-center","rounded-full","p-1","mt-1"],["src","assets/images/bidding/check-icon.png",1,"h-4"],[1,"p-2","font-medium","capitalize"],[1,"flex"],["tooltipBtn","",1,"loader","flex","justify-center","items-center","rounded-full","p-1","mt-1"],[1,"bg-white","mt-1","w-24","border","border-red-600","text-red-900","rounded-lg","p-1"],[1,"text-base","font-bold","m-0"],[1,"text-sm","font-bold"],[1,"text-sm","font-bold","p-1","bg-green-400","text-green-900","rounded-lg"],["type","number",1,"text-xl","h-11","font-bold","w-44","ml-auto","border","border-solid",3,"min","ngModel","ngModelChange"],[1,"stats","bg-white","fixed","border","border-red-600","text-red-900","rounded-lg","p-1"],[1,"flex","flex-col","w-full","justify-center","items-center","p-3"],[1,"font-bold","text-black","text-xl","md:text-2xl","md:leading-9"],[1,"invite","flex","justify-center","my-3"],[1,"invite-btn","bg-gradient-primary-1","text-white","flex","text-3xl","rounded-xl","px-4","py-3","font-bold","md:pr-5","relative","overflow-hidden",3,"click"]],template:function(t,i){if(1&t&&(e.YNc(0,V,16,14,"div",0),e.YNc(1,X,2,2,"div",1),e.YNc(2,ee,10,3,"div",2),e.YNc(3,te,8,6,"ng-template",null,3,e.W1O),e.TgZ(5,"app-product-share-modal",4),e.NdJ("isOpenChange",function(b){return i.isOpenInviteModal=b}),e.qZA()),2&t){const c=e.MAs(4);e.Q6J("ngIf",i.commissionDetails&&i.levelsToShow>0)("ngIfElse",c),e.xp6(1),e.Q6J("ngIf",i.showHiddenOption),e.xp6(1),e.Q6J("ngIf",i.showHiddenOption),e.xp6(3),e.Q6J("isOpen",i.isOpenInviteModal)("shareLinkInput",i.shareLink)}},dependencies:[x.ez,x.mk,x.sg,x.O5,x.PC,y.aw,y.X$,a.Pc,a.gu,a.pK,a.as,m.m,I.G,E.r,L.u,A.a,_.u5,_.JJ,_.On,o.g,p._],styles:['.level-badges[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{min-width:110px}.level-badges[_ngcontent-%COMP%]   .level-1[_ngcontent-%COMP%]{background:rgb(197,197,197)}.level-badges[_ngcontent-%COMP%]   .level-2[_ngcontent-%COMP%]{background:rgb(227,190,174)}.level-badges[_ngcontent-%COMP%]   .level-3[_ngcontent-%COMP%]{background:rgb(216,214,225)}.level-badges[_ngcontent-%COMP%]   .level-4[_ngcontent-%COMP%]{background:rgb(253,204,3)}.level-badges[_ngcontent-%COMP%]   .level-5[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(77,6,138),rgb(1,77,137),rgb(130,23,139),rgb(137,91,55));color:#fff}.progress-bar[_ngcontent-%COMP%]{background-color:#f0f0f0;border-color:#d4d4d4}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{position:relative;background:linear-gradient(to right,rgb(128,7,250) 10%,rgb(254,153,255) 100%);box-shadow:0 0 .1em #b758fb inset,0 0 .1em #ad3ffb inset;transition:width .4s ease}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:100%;height:100%;position:absolute;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.3) 50%,rgba(255,255,255,0) 100%);animation:progress 3s infinite}.progress-bar.filled[_ngcontent-%COMP%]{border-color:#c45afc}.progress-bar.filled[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(251,218,90),rgb(255,168,77));box-shadow:0 0 .1em #ffa84d inset,0 0 .1em #ffa84d inset}@keyframes progress{0%{transform:translate(-100%)}to{transform:translate(100%)}}.medals[_ngcontent-%COMP%]   .medal[_ngcontent-%COMP%]   .handle[_ngcontent-%COMP%]{height:20px;margin-top:-7px;width:6px;background:rgb(213,213,213)}.medals[_ngcontent-%COMP%]   .medal[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{background:rgb(0,116,255);border:3px solid rgb(92,166,253)}.medals[_ngcontent-%COMP%]   .medal[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{background:rgb(244,244,244);width:29px;height:29px}app-loading-animation[_ngcontent-%COMP%]     .knight-rider-bar{height:.3em;width:.3em;background-color:#8e8e8e}.mascot[_ngcontent-%COMP%]{transition:left .4s ease}.requirement[_ngcontent-%COMP%]{color:#c5c5c5}app-user-icon[_ngcontent-%COMP%]     svg{width:13px}@media (min-width: 768px){app-user-icon[_ngcontent-%COMP%]     svg{width:20px}}.pending-requirement[_ngcontent-%COMP%]{color:#000}.check-icon[_ngcontent-%COMP%]{background:linear-gradient(to right,#045EEF,#025DFC);box-shadow:0 0 0 2px #afc9f7}.not-active-indicator[_ngcontent-%COMP%]{background:red;animation:red-pulse 1.5s infinite}@keyframes red-pulse{0%{box-shadow:0 0 #f30b1f}to{box-shadow:0 0 0 5px #fbb32f01}}.invite-btn[_ngcontent-%COMP%]{filter:drop-shadow(2.6px 5.1px 5.1px rgba(0,0,0,.3));border:1px solid rgb(255,192,0)}.invite-btn[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:100%;height:100%;position:absolute;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.8) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);animation:shinebg 3s infinite}@keyframes shinebg{0%{transform:translate(-100%)}to{transform:translate(100%)}}.stats[_ngcontent-%COMP%]{right:7px;top:126px}']}),s})();var ie=l(63225);function oe(s,g){if(1&s&&(e.TgZ(0,"div",20)(1,"div",21)(2,"div",22),e._uU(3),e.qZA(),e.TgZ(4,"div",23),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",24),e._uU(8,":"),e.qZA(),e.TgZ(9,"div",21)(10,"div",22),e._uU(11),e.qZA(),e.TgZ(12,"div",23),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",24),e._uU(16,":"),e.qZA(),e.TgZ(17,"div",21)(18,"div",22),e._uU(19),e.qZA(),e.TgZ(20,"div",23),e._uU(21),e.ALo(22,"translate"),e.qZA()()()),2&s){const t=g.$implicit;e.xp6(3),e.hij(" ",t.hours," "),e.xp6(2),e.Oqu(e.lcZ(6,6,"hours")),e.xp6(6),e.hij(" ",t.minutes," "),e.xp6(2),e.Oqu(e.lcZ(14,8,"minutes")),e.xp6(6),e.hij(" ",t.seconds," "),e.xp6(2),e.Oqu(e.lcZ(22,10,"seconds"))}}function se(s,g){if(1&s){const t=e.EpF();e.TgZ(0,"app-countdown",19),e.NdJ("onTimeEnd",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.handleTimeEnd())}),e.YNc(1,oe,23,12,"ng-template"),e.qZA()}if(2&s){const t=e.oxw(2);e.Q6J("time",t.endTime)}}function re(s,g){if(1&s){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.goToDashboard())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"header-dropdown-dashboard")," "))}function ae(s,g){if(1&s){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.openShareModal=!0)}),e._uU(1),e.ALo(2,"translate"),e.O4$(),e.TgZ(3,"svg",27)(4,"g",28),e._UZ(5,"path",29)(6,"path",30),e.qZA()()()}2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"share-btn")," "))}function le(s,g){if(1&s){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",5),e.NdJ("click",function(){e.CHM(t),e.oxw();const c=e.MAs(1);return e.KtG(c.dismiss())}),e.O4$(),e.TgZ(5,"svg",6),e._UZ(6,"path",7),e.qZA()()(),e.kcU(),e.TgZ(7,"ng-scrollbar",8)(8,"div",9)(9,"div")(10,"div",10),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,se,2,1,"app-countdown",11),e.qZA(),e._UZ(14,"div",12),e.TgZ(15,"div"),e._UZ(16,"app-daily-active-progress",13),e.qZA(),e._UZ(17,"div",12)(18,"app-invite-challenge",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){e.CHM(t),e.oxw();const c=e.MAs(1);return e.KtG(c.dismiss())}),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.YNc(23,re,3,3,"button",17),e.YNc(24,ae,7,3,"ng-template",null,18,e.W1O),e.qZA()()()}if(2&s){const t=e.MAs(25),i=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,8,"bidding-checking-btn")," "),e.xp6(5),e.Q6J("autoHeightDisabled",!1),e.xp6(4),e.hij(" ",e.lcZ(12,10,"time-left-notify")," "),e.xp6(2),e.Q6J("ngIf",i.endTime),e.xp6(5),e.Q6J("commissionDetails",i.commissionDetails),e.xp6(3),e.hij(" ",e.lcZ(22,12,"close")," "),e.xp6(2),e.Q6J("ngIf",!i.isOnDashBoard)("ngIfElse",t)}}function ce(s,g){if(1&s){const t=e.EpF();e.TgZ(0,"app-product-share-modal",31),e.NdJ("isOpenChange",function(c){e.CHM(t);const b=e.oxw();return e.KtG(b.openShareModal=c)}),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("shareLinkInput",t.shareLink)("isOpen",t.openShareModal)}}let de=(()=>{class s extends T.V{constructor(t,i,c,b,k){super(),this.toast=t,this.router=i,this.biddingService=c,this.cdr=b,this.userService=k,this.isOpen=!1,this.isOpenChange=new e.vpe,this.openThanksModal=!1,this.isSpecial=!1,this.isProcessing=!1,this.shareLink="",this.openShareModal=!1}ngOnInit(){this.endTime=this.serverTime(),console.log(121212,this.endTime),this.router.events.pipe((0,r.R)(this.destroyStream$)).subscribe(t=>{t instanceof w.OD&&this.isOpen&&this.modal.dismiss()}),this.biddingService.queryCommissionDetails().pipe((0,r.R)(this.destroyStream$)).subscribe(t=>{this.commissionDetails=t})}get isOnDashBoard(){return this.router.isActive("/dashboard",{paths:"exact",queryParams:"ignored",fragment:"ignored",matrixParams:"ignored"})}toastError(t){var i=this;return(0,n.Z)(function*(){yield i.presentToast({position:"bottom",message:t,icon:"alert-circle-outline",duration:2e3,color:"danger"})})()}presentToast(t){var i=this;return(0,n.Z)(function*(){yield(yield i.toast.create(t)).present()})()}serverTime(){const t=(new Date).toLocaleDateString("en-US",{timeZone:"Asia/Macau"});let[i,c,b]=t.split("/");return i.length<2&&(i="0"+i),c.length<2&&(c="0"+c),new Date(`${b}-${i}-${c}T17:00:00.000+08:00`).getTime()+864e5}handleTimeEnd(){var t=this;return(0,n.Z)(function*(){yield(0,P.n)((0,C.H)(2e3)),yield(0,P.n)(t.biddingService.queryActivityStatistic()),t.endTime=t.serverTime(),t.cdr.detectChanges()})()}goToDashboard(){this.router.navigate(["/dashboard"])}handlePresent(){this.biddingService.queryActivityStatistic().subscribe(),this.shareLink=window.location.origin+"/invite?recommenderId="+this.userService.userInfo$.getValue()?.id}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(a.yF),e.Y36(w.F0),e.Y36(Z.g),e.Y36(e.sBO),e.Y36(v.K))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-bidding-checkin-modal"]],viewQuery:function(t,i){if(1&t&&(e.Gf(O.M,5),e.Gf(a.ki,5)),2&t){let c;e.iGM(c=e.CRH())&&(i.countdownComp=c.first),e.iGM(c=e.CRH())&&(i.modal=c.first)}},inputs:{isOpen:"isOpen",commissionDetails:"commissionDetails"},outputs:{isOpenChange:"isOpenChange"},standalone:!0,features:[e.qOj,e.jDz],decls:4,vars:2,consts:[[1,"normal-opacity",3,"isOpen","keepContentsMounted","didDismiss","willPresent"],["modal",""],[3,"shareLinkInput","isOpen","isOpenChange",4,"isBrowser"],[1,"flex","bg-[#f4f4f4]","items-center","p-2"],[1,"flex-1","font-bold","text-3xl","capitalize",2,"--duration","200ms"],[1,"w-8","p-1","rounded","cursor-pointer","bg-[#ff2145]","text-white",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],["visibility","hover",2,"max-height","85vh",3,"autoHeightDisabled"],[1,"px-3","mt-3"],[1,"text-center","text-sm","font-bold","mb-2","mt-5"],[3,"time","onTimeEnd",4,"ngIf"],[1,"border-b","border-[#dddddd]","my-2"],[1,"mx-auto","block",2,"max-width","210px"],[1,"w-full",3,"commissionDetails"],[1,"flex","items-center","justify-between","flex-wrap","mt-1","mb-4"],[1,"border","border-[#dddddd]","bg-slate-100","rounded-lg","font-bold","px-6","py-2.5","text-xl","capitalize",3,"click"],["style","background-color: #4e48fe","class","text-white rounded-lg font-bold px-6 py-2.5 text-xl capitalize",3,"click",4,"ngIf","ngIfElse"],["share",""],[3,"time","onTimeEnd"],[1,"flex","justify-center","font-bold","capitalize"],[1,"text-center","w-16"],[1,"text-4xl","font-bold","leading-7","text-[#0087ff]"],[1,"text-sm"],[1,"font-bold","text-4xl","leading-6","text-[#0087ff]"],[1,"text-white","rounded-lg","font-bold","px-6","py-2.5","text-xl","capitalize",2,"background-color","#4e48fe",3,"click"],[1,"share-btn","items-center","justify-center","font-medium","text-xl","flex","text-white","py-2.5","px-6","rounded-lg",3,"click"],["fill","#ffffff","viewBox","0 0 495.003 495.003",0,"xml","space","preserve",1,"h-5","ml-2"],["id","XMLID_51_"],["id","XMLID_53_","d","M164.711,456.687c0,2.966,1.647,5.686,4.266,7.072c2.617,1.385,5.799,1.207,8.245-0.468l55.09-37.616\n                  l-67.6-32.22V456.687z"],["id","XMLID_52_","d","M492.431,32.443c-1.513-1.395-3.466-2.125-5.44-2.125c-1.19,0-2.377,0.264-3.5,0.816L7.905,264.422\n                  c-4.861,2.389-7.937,7.353-7.904,12.783c0.033,5.423,3.161,10.353,8.057,12.689l125.342,59.724l250.62-205.99L164.455,364.414\n                  l156.145,74.4c1.918,0.919,4.012,1.376,6.084,1.376c1.768,0,3.519-0.322,5.186-0.977c3.637-1.438,6.527-4.318,7.97-7.956\n                  L494.436,41.257C495.66,38.188,494.862,34.679,492.431,32.443z"],[3,"shareLinkInput","isOpen","isOpenChange"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-modal",0,1),e.NdJ("didDismiss",function(){return i.isOpenChange.emit(!1)})("willPresent",function(){return i.handlePresent()}),e.YNc(2,le,26,14,"ng-template"),e.qZA(),e.YNc(3,ce,1,2,"app-product-share-modal",2)),2&t&&e.Q6J("isOpen",i.isOpen)("keepContentsMounted",!0)},dependencies:[a.Pc,a.ki,x.ez,x.O5,y.aw,y.X$,m.m,O.M,ie.E,A.a,f.f,d.kb,d.KC,ne],styles:["ion-modal[_ngcontent-%COMP%]{--background: white;--border-radius: 8px;--width: 580px}app-daily-active-progress[_ngcontent-%COMP%]     .title{font-size:1.5rem;line-height:2rem}.share-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(7,121,255),rgb(9,35,255))}"]}),s})()},8174:(D,M,l)=>{l.d(M,{f:()=>O});var n=l(36895),x=l(95133),e=l(54463),w=l(82722),a=l(5565),y=l(44466),r=l(94650),P=l(56889),C=l(37978);function T(d,_){1&d&&(r.TgZ(0,"app-tooltip",11)(1,"div",12),r._UZ(2,"div",13),r.qZA(),r.TgZ(3,"div",14),r._uU(4),r.ALo(5,"translate"),r.qZA()()),2&d&&(r.xp6(4),r.Oqu(r.lcZ(5,1,"not-active")))}function m(d,_){1&d&&(r.TgZ(0,"app-tooltip",11)(1,"div",15),r._UZ(2,"img",16),r.qZA(),r.TgZ(3,"div",14),r._uU(4),r.ALo(5,"translate"),r.qZA()()),2&d&&(r.xp6(4),r.Oqu(r.lcZ(5,1,"active")))}const f=function(d){return{"reach-max":d}};let O=(()=>{class d extends a.V{constructor(o){super(),this.biddingService=o,this.disabledTooltip=!1,this.value=0,this.total=3e3,this.maximum=5e3}get percentage(){return this.value?Math.min(100,this.value/this.total*100):0}ngOnInit(){this.biddingService.activityStatistic$.pipe((0,w.R)(this.destroyStream$)).subscribe(o=>{o&&(this.value=o.todayTicketsUsedNum,this.maximum=o.doubleActiveTicketsNum,this.total=o.activeTicketsNum)})}}return d.\u0275fac=function(o){return new(o||d)(r.Y36(P.g))},d.\u0275cmp=r.Xpm({type:d,selectors:[["app-daily-active-progress"]],inputs:{disabledTooltip:"disabledTooltip"},standalone:!0,features:[r.qOj,r.jDz],decls:19,vars:20,consts:[[1,"flex","items-start","font-bold","text-lg"],[1,"flex-1","text-center"],[1,"title","capitalize","text-[#353535]","text-xl","2xl:text-2xl","font-bold","mb-4","flex","items-center","justify-center"],["class","ml-1 flex",4,"ngIf"],[1,"progress-bar","border","border-solid","w-full","bg-white","rounded-full","h-6","overflow-hidden","mb-1",3,"ngClass"],[1,"progress","h-full","rounded-full","rounded-r-none"],[1,"block","w-full",3,"disabled"],["tooltipBtn","",1,"text-center","pointer-events-none","flex-1","relative","flex","items-center","justify-center","py-1","px-2"],["src","assets/images/ticket.png","alt","",1,"h-5","mr-1"],[1,"whitespace-nowrap"],[1,"tooltip-content-wrapper","p-2","text-left","text-base","capitalize"],[1,"ml-1","flex"],["tooltipBtn","",1,"p-1","cursor-pointer"],[1,"red-dot","h-3","w-3","flex-shrink-0","rounded-full"],[1,"p-2","font-medium","capitalize"],["tooltipBtn","",1,"check-icon","w-4","h-4","flex-shrink-0","flex","items-center","justify-center","rounded-full"],["src","assets/images/golden-check.png","alt","",1,"w-8/12"]],template:function(o,p){1&o&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2),r._uU(3),r.ALo(4,"translate"),r.YNc(5,T,6,3,"app-tooltip",3),r.YNc(6,m,6,3,"app-tooltip",3),r.qZA(),r.TgZ(7,"div",4),r._UZ(8,"div",5),r.qZA(),r.TgZ(9,"app-tooltip",6)(10,"div",7),r._UZ(11,"img",8),r.TgZ(12,"div",9),r._uU(13),r.ALo(14,"number"),r.ALo(15,"number"),r.qZA()(),r.TgZ(16,"div",10),r._uU(17),r.ALo(18,"translate"),r.qZA()()()()),2&o&&(r.xp6(3),r.hij(" ",r.lcZ(4,10,"my-daily-activity")," "),r.xp6(2),r.Q6J("ngIf",p.value<p.total),r.xp6(1),r.Q6J("ngIf",p.value>=p.total),r.xp6(1),r.Q6J("ngClass",r.VKq(18,f,p.value>=p.maximum)),r.xp6(1),r.Udp("width",p.percentage,"%"),r.xp6(1),r.Q6J("disabled",p.disabledTooltip),r.xp6(4),r.AsE(" ",r.lcZ(14,12,p.value)," / ",r.lcZ(15,14,p.total)," "),r.xp6(4),r.hij(" ",r.lcZ(18,16,"tickets-spent-today")," "))},dependencies:[x.Pc,n.ez,n.mk,n.O5,n.JJ,e.aw,e.X$,y.m,C.u],styles:['.progress-bar[_ngcontent-%COMP%]{border-color:#49a4fd;background-color:#f0f0f0}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{position:relative;transition:width .4s ease}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:100%;height:100%;position:absolute;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.3) 50%,rgba(255,255,255,0) 100%);animation:progress 3s infinite}.progress-bar[_ngcontent-%COMP%]{border-color:#dddd}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{background:linear-gradient(to right,#9804FE,#028BFF);box-shadow:0 0 .1em #b758fb inset,0 0 .1em #ad3ffb inset}.progress-bar.reach-max[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{background:linear-gradient(to right,#FFB71B,#F4DF8A);box-shadow:0 0 .1em #ffb71b inset,0 0 .1em #ffb71b inset}@keyframes progress{0%{transform:translate(-100%)}to{transform:translate(100%)}}@keyframes red-pulse{0%{box-shadow:0 0 #f30b1f}to{box-shadow:0 0 0 5px #fbb32f01}}.red-dot[_ngcontent-%COMP%]{background:#f30b1f;animation:red-pulse 1.5s infinite}.check-icon[_ngcontent-%COMP%]{background:linear-gradient(to right,#045EEF,#025DFC);box-shadow:0 0 0 2px #afc9f7}img.img-disabled[_ngcontent-%COMP%]{opacity:.5;filter:grayscale(1)}']}),d})()},35198:(D,M,l)=>{l.d(M,{M:()=>P});var n=l(94650),x=l(17445),e=l(24837),w=l(36895);function a(C,T){}const y=function(C,T,m,f){return{seconds:C,minutes:T,hours:m,days:f}},r=function(C){return{$implicit:C}};let P=(()=>{class C{constructor(m,f,O){this.platformId=m,this.ngZone=f,this.cdr=O,this.onTimeEnd=new n.vpe}getTimeDifference(){this.difference=new Date(this.time).getTime()-(new Date).getTime(),this.allocateTimeUnits(this.difference)}ngOnChanges(m){const f=m.time;f&&!f.isFirstChange()&&f.currentValue!==f.previousValue&&(console.log(1313134444),this.restart())}allocateTimeUnits(m){m<=0&&(m=0),this.seconds=Math.floor(m/1e3),this.minutes=Math.floor(this.seconds/60),this.hours=Math.floor(this.minutes/60),this.days=Math.floor(this.hours/24),this.hours%=24,this.minutes%=60,this.seconds%=60,0==this.hours&&0==this.minutes&&0==this.seconds&&(this.onTimeEnd.emit(),this.subscription?.unsubscribe()),this.hours=this.hours<10?"0"+this.hours:this.hours,this.minutes=this.minutes<10?"0"+this.minutes:this.minutes,this.seconds=this.seconds<10?"0"+this.seconds:this.seconds}ngOnInit(){this.restart()}restart(){this.subscription?.unsubscribe(),this.getTimeDifference(),this.cdr.detectChanges(),e.Z.isServer||this.ngZone.runOutsideAngular(()=>{this.subscription=(0,x.F)(1e3).subscribe(m=>{this.getTimeDifference(),this.cdr.detectChanges()})})}ngOnDestroy(){this.subscription?.unsubscribe()}}return C.\u0275fac=function(m){return new(m||C)(n.Y36(n.Lbi),n.Y36(n.R0b),n.Y36(n.sBO))},C.\u0275cmp=n.Xpm({type:C,selectors:[["app-countdown"]],contentQueries:function(m,f,O){if(1&m&&n.Suo(O,n.Rgc,5),2&m){let d;n.iGM(d=n.CRH())&&(f.templateRef=d.first)}},inputs:{time:"time"},outputs:{onTimeEnd:"onTimeEnd"},features:[n.TTD],decls:2,vars:9,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(m,f){1&m&&(n.ynx(0),n.YNc(1,a,0,0,"ng-template",0),n.BQk()),2&m&&(n.xp6(1),n.Q6J("ngTemplateOutlet",f.templateRef)("ngTemplateOutletContext",n.VKq(7,r,n.l5B(2,y,f.seconds,f.minutes,f.hours,f.days))))},dependencies:[w.tP],encapsulation:2}),C})()},23556:(D,M,l)=>{l.d(M,{Q:()=>O});var n=l(94650),x=l(54968),e=l(78372),w=l(36895),a=l(69975);function y(d,_){if(1&d){const o=n.EpF();n.TgZ(0,"li",6),n.NdJ("click",function(){n.CHM(o);const u=n.oxw(2);return n.KtG(u.onPageClick.emit(1))}),n._UZ(1,"app-chevron-right-icon",7)(2,"app-chevron-right-icon",7),n.qZA()}}function r(d,_){if(1&d){const o=n.EpF();n.TgZ(0,"li",8),n.NdJ("click",function(){n.CHM(o);const u=n.oxw(2);return n.KtG(u.onPageClick.emit(u.curPage-1))}),n._UZ(1,"app-chevron-right-icon",7),n.qZA()}}const P=function(d){return{active:d}};function C(d,_){if(1&d){const o=n.EpF();n.TgZ(0,"li",9),n.NdJ("click",function(){const v=n.CHM(o).$implicit,Z=n.oxw(2);return n.KtG(Z.onPageClick.emit(v))}),n._uU(1),n.qZA()}if(2&d){const o=_.$implicit,p=n.oxw(2);n.Q6J("ngClass",n.VKq(2,P,p.curPage===o)),n.xp6(1),n.hij(" ",o," ")}}function T(d,_){if(1&d){const o=n.EpF();n.TgZ(0,"li",8),n.NdJ("click",function(){n.CHM(o);const u=n.oxw(2);return n.KtG(u.onPageClick.emit(u.curPage+1))}),n._UZ(1,"app-chevron-right-icon",10),n.qZA()}}function m(d,_){if(1&d){const o=n.EpF();n.TgZ(0,"li",11),n.NdJ("click",function(){n.CHM(o);const u=n.oxw(2);return n.KtG(u.onPageClick.emit(u.numOfPages))}),n._UZ(1,"app-chevron-right-icon",10)(2,"app-chevron-right-icon",10),n.qZA()}}function f(d,_){if(1&d&&(n.TgZ(0,"ul",1),n.YNc(1,y,3,0,"li",2),n.YNc(2,r,2,0,"li",3),n.YNc(3,C,2,4,"li",4),n.YNc(4,T,2,0,"li",3),n.YNc(5,m,3,0,"li",5),n.qZA()),2&d){const o=n.oxw();n.xp6(1),n.Q6J("ngIf",o.curPage>1),n.xp6(1),n.Q6J("ngIf",o.curPage>1),n.xp6(1),n.Q6J("ngForOf",o.shownPages),n.xp6(1),n.Q6J("ngIf",o.curPage<o.numOfPages),n.xp6(1),n.Q6J("ngIf",o.curPage<o.numOfPages)}}let O=(()=>{class d{constructor(o){this.ref=o,this.onPageClick=new n.vpe,this.shownPagesLimit=5}get shownPages(){try{const o=Math.floor(this.shownPagesLimit/2);let p=Math.max(1,this.curPage-o);const u=Math.min(p+this.shownPagesLimit,this.numOfPages+1);return this.curPage+o>this.numOfPages&&(p-=this.curPage+o-this.numOfPages,p=Math.max(1,p)),[...Array(u-p)].map((v,Z)=>p+Z)}catch{return[]}}ngOnInit(){if(typeof window<"u"){const{innerWidth:o}=window;this.setShowPagesLimit(o),this.subscription=(0,x.R)(window,"resize").pipe((0,e.b)(300)).subscribe(p=>{this.setShowPagesLimit(p.target.innerWidth)})}}ngOnDestroy(){this.subscription?.unsubscribe()}setShowPagesLimit(o){this.shownPagesLimit=o>340?5:3,this.ref.markForCheck()}}return d.\u0275fac=function(o){return new(o||d)(n.Y36(n.sBO))},d.\u0275cmp=n.Xpm({type:d,selectors:[["app-pagination"]],inputs:{curPage:"curPage",numOfPages:"numOfPages"},outputs:{onPageClick:"onPageClick"},decls:1,vars:1,consts:[["class","pagination flex space-x-2",4,"ngIf"],[1,"pagination","flex","space-x-2"],["class","pagination__first bg-gray-100 items-center justify-center p-1 rounded border font-bold cursor-pointer",3,"click",4,"ngIf"],["class","flex items-center justify-center p-1 rounded border font-bold cursor-pointer bg-gray-100",3,"click",4,"ngIf"],["class","flex items-center justify-center p-1 rounded border font-bold cursor-pointer bg-white",3,"ngClass","click",4,"ngFor","ngForOf"],["class","pagination__last bg-gray-100 items-center justify-center p-1 rounded border font-bold cursor-pointer",3,"click",4,"ngIf"],[1,"pagination__first","bg-gray-100","items-center","justify-center","p-1","rounded","border","font-bold","cursor-pointer",3,"click"],[1,"w-2","h-auto","transform","rotate-180"],[1,"flex","items-center","justify-center","p-1","rounded","border","font-bold","cursor-pointer","bg-gray-100",3,"click"],[1,"flex","items-center","justify-center","p-1","rounded","border","font-bold","cursor-pointer","bg-white",3,"ngClass","click"],[1,"w-2","h-auto"],[1,"pagination__last","bg-gray-100","items-center","justify-center","p-1","rounded","border","font-bold","cursor-pointer",3,"click"]],template:function(o,p){1&o&&n.YNc(0,f,6,5,"ul",0),2&o&&n.Q6J("ngIf",p.shownPages.length)},dependencies:[w.mk,w.sg,w.O5,a.B],styles:[".pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-width:2.5rem;transition:all .15s ease-in-out}.pagination[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{pointer-events:none;--tw-border-opacity: 1;border-color:rgb(255 126 24 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(255 126 24 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));transition:all .15s ease-in-out}@media (min-width: 640px){.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.active):hover{--tw-border-opacity: 1;border-color:rgb(255 126 24 / var(--tw-border-opacity));--tw-text-opacity: 1;color:rgb(255 126 24 / var(--tw-text-opacity))}}.pagination__first[_ngcontent-%COMP%], .pagination__last[_ngcontent-%COMP%]{display:none}@media only screen and (min-width: 480px){.pagination__first[_ngcontent-%COMP%], .pagination__last[_ngcontent-%COMP%]{display:flex}}"],changeDetection:0}),d})()},37978:(D,M,l)=>{l.d(M,{u:()=>O});var n=l(15861),x=l(95133),e=l(5565),w=l(24837),a=l(94650),y=l(36895);const r=["container"];function P(d,_){1&d&&(a.TgZ(0,"div",6),a.Hsn(1,1),a.qZA())}function C(d,_){if(1&d){const o=a.EpF();a.TgZ(0,"ion-popover",4,5),a.NdJ("didPresent",function(){a.CHM(o);const u=a.oxw();return a.KtG(u.handlePresent())})("didDismiss",function(){a.CHM(o);const u=a.oxw();return a.KtG(u.handleDismiss())}),a.YNc(2,P,2,0,"ng-template"),a.qZA()}if(2&d){const o=a.oxw();a.ekj("white",o.isWhite),a.Q6J("ngStyle",o.popoverStyle)("isOpen",o.isPopoverOpen)("side",o.side)("showBackdrop",!1)("backdropDismiss",!1)("arrow",!0)}}const T=[[["","tooltipBtn",""]],"*"],m=function(d,_){return{"cursor-pointer":d,hoverBg:_}},f=["[tooltipBtn]","*"];let O=(()=>{class d extends e.V{constructor(o,p){var u;super(),u=this,this.cdr=o,this.ngZone=p,this.popoverStyle={},this.delayShow=0,this.isWhite=!1,this.side="bottom",this.disabled=!1,this.disableTouchDevice=!1,this.hoverBg=!0,this.preventEvent=!0,this.isPopoverOpen=!1,this.isPresented=!1,this.isHoveringTooltipMobile=!1,this.handlePresent=()=>{this.isPresented=!0,document.body.classList.add("has-tooltip-open"),this.ngZone.runOutsideAngular(()=>{window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mousewheel",this.handleMouseWheel),window.addEventListener("touchstart",this.handleTouchStart),window.addEventListener("touchmove",this.handleTouchMove),window.addEventListener("touchend",this.handleTouchEnd)})},this.handleTouchStart=v=>{console.log("touchstart"),this.isHoveringTooltipMobile=this.isHoveringTooltip(v.target),this.handleMouseMove(v)},this.handleTouchMove=v=>{this.isHoveringTooltipMobile||!this.isPresented||this.closeTooltip()},this.handleTouchEnd=v=>{this.isHoveringTooltipMobile=!1},this.handleMouseWheel=v=>{console.log("mousewheel"),this.isPresented&&this.closeTooltip()},this.handleMouseMove=function(){var v=(0,n.Z)(function*(Z){console.log("mousemove"),!u.isHoveringTooltip(Z.target)&&u.closeTooltip()});return function(Z){return v.apply(this,arguments)}}()}ngOnInit(){}ngOnChanges(o){const p=o.disabled;if(p&&!p.isFirstChange()&&!1===p.currentValue){if(!this.isPresented)return;this.closeTooltip()}}isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}handleOpenPopover(o){this.disabled||this.disableTouchDevice&&this.isTouchDevice()||this.isPopoverOpen||(this.popover.event=o,this.delayTooltipTimeOut=setTimeout(()=>{this.isPopoverOpen=!0},this.delayShow))}handleClick(o){this.disabled||this.disableTouchDevice&&this.isTouchDevice()||this.preventEvent&&(o.preventDefault(),o.stopPropagation())}handleMouseLeave(o){clearTimeout(this.delayTooltipTimeOut)}closeTooltip(){var o=this;return(0,n.Z)(function*(){o.isPopoverOpen=!1,yield o.popover.dismiss(),document.body.classList.remove("has-tooltip-open")})()}isHoveringTooltip(o){if(this.container.nativeElement.contains(o))return!0;const p=this.popover.el;return!(!p?.contains(o)&&p!==o)}handleDismiss(){this.isPopoverOpen=!1,this.isPresented=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mousewheel",this.handleMouseWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd)}ngOnDestroy(){var o=this;return(0,n.Z)(function*(){w.Z.isServer||(o.isPopoverOpen=!1,window.removeEventListener("mousemove",o.handleMouseMove),window.removeEventListener("mousewheel",o.handleMouseWheel),window.removeEventListener("touchstart",o.handleTouchStart),window.removeEventListener("touchmove",o.handleTouchMove),window.removeEventListener("touchend",o.handleTouchEnd),yield o.popover?.dismiss())})()}}return d.\u0275fac=function(o){return new(o||d)(a.Y36(a.sBO),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["app-tooltip"]],viewQuery:function(o,p){if(1&o&&(a.Gf(r,5),a.Gf(x.d8,5)),2&o){let u;a.iGM(u=a.CRH())&&(p.container=u.first),a.iGM(u=a.CRH())&&(p.popover=u.first)}},inputs:{popoverStyle:"popoverStyle",delayShow:"delayShow",isWhite:"isWhite",side:"side",disabled:"disabled",disableTouchDevice:"disableTouchDevice",hoverBg:"hoverBg",preventEvent:"preventEvent"},features:[a.qOj,a.TTD],ngContentSelectors:f,decls:5,vars:5,consts:[[1,"app-tooltip","w-full",3,"click"],["container",""],[1,"tooltipBtn","flex","items-center",3,"ngClass","click","mouseover","mouseleave","touchstart"],["class","popover-tooltip","alignment","center","mode","ios",3,"ngStyle","white","isOpen","side","showBackdrop","backdropDismiss","arrow","didPresent","didDismiss",4,"ngIf"],["alignment","center","mode","ios",1,"popover-tooltip",3,"ngStyle","isOpen","side","showBackdrop","backdropDismiss","arrow","didPresent","didDismiss"],["popover",""],[1,"app-tooltip-body","pointer-events-auto"]],template:function(o,p){1&o&&(a.F$t(T),a.TgZ(0,"div",0,1),a.NdJ("click",function(v){return p.handleClick(v)}),a.TgZ(2,"div",2),a.NdJ("click",function(v){return p.handleClick(v)})("mouseover",function(v){return p.handleOpenPopover(v)})("mouseleave",function(v){return p.handleMouseLeave(v)})("touchstart",function(v){return p.handleOpenPopover(v)}),a.Hsn(3),a.qZA()(),a.YNc(4,C,3,8,"ion-popover",3)),2&o&&(a.xp6(2),a.Q6J("ngClass",a.WLB(2,m,!p.disabled,p.hoverBg)),a.xp6(2),a.Q6J("ngIf",!p.disabled))},dependencies:[y.mk,y.O5,y.PC,x.d8],styles:["[_nghost-%COMP%]{position:relative;z-index:1}.app-tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block;z-index:1}ion-popover[_ngcontent-%COMP%]{pointer-events:none;--width: auto;--max-width: 50vw;--offset-y: -5px;--background: black}@media (min-width: 768px){ion-popover[_ngcontent-%COMP%]{--max-width: 80vw}}ion-popover[_ngcontent-%COMP%]::part(backdrop){pointer-events:none}ion-popover[_ngcontent-%COMP%]::part(arrow){width:23px;height:18px;transform:translateY(1px);z-index:11;pointer-events:auto}ion-popover[_ngcontent-%COMP%]::part(arrow):after{background:black;left:3px;top:9px;width:15px;height:15px;border:1px solid black;border-radius:6px 0;transform:rotate(67.5deg) skew(45deg) scaleY(.70711)}ion-popover[_ngcontent-%COMP%]::part(content){overflow:inherit;margin-top:-13px;padding-top:13px;border:0;pointer-events:auto;background-color:transparent;box-shadow:none}ion-popover.white[_ngcontent-%COMP%]::part(arrow):after{background-color:#f1f5f9;border:1px solid #dddddd}ion-popover.white[_ngcontent-%COMP%]   .app-tooltip-body[_ngcontent-%COMP%]{background-color:#f1f5f9;--tw-border-opacity: 1;border-color:rgb(221 221 221 / var(--tw-border-opacity));--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}ion-popover.popover-bottom[_ngcontent-%COMP%], ion-popover.popover-side-top[_ngcontent-%COMP%]{--offset-y: 3px}ion-popover.popover-bottom[_ngcontent-%COMP%]::part(arrow), ion-popover.popover-side-top[_ngcontent-%COMP%]::part(arrow){transform:translateY(-1px)}ion-popover.popover-bottom[_ngcontent-%COMP%]::part(arrow):after, ion-popover.popover-side-top[_ngcontent-%COMP%]::part(arrow):after{top:-9px}ion-popover.popover-bottom[_ngcontent-%COMP%]::part(content), ion-popover.popover-side-top[_ngcontent-%COMP%]::part(content){margin-top:14px;padding-top:0;padding-bottom:14px}  body.has-tooltip-open app-base-chart{pointer-events:none}.app-tooltip-body[_ngcontent-%COMP%]{max-width:100%;position:relative;border-radius:.75rem;border-width:1px;border-style:solid;--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));box-shadow:0 4px 16px #0000001f}.app-tooltip-body[_ngcontent-%COMP%]    >*{max-width:100%}.tooltipBtn.hoverBg[_ngcontent-%COMP%]{border-radius:.5rem}.tooltipBtn.hoverBg[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}"]}),d})()},78998:(D,M,l)=>{l.d(M,{G:()=>x});var n=l(94650);let x=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-user-icon"]],decls:2,vars:0,consts:[["viewBox","0 0 896 896","focusable","false","fill","currentColor","width","100%","height","100%","data-icon","user","aria-hidden","true"],["d","M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"]],template:function(a,y){1&a&&(n.O4$(),n.TgZ(0,"svg",0),n._UZ(1,"path",1),n.qZA())},encapsulation:2}),e})()}}]);