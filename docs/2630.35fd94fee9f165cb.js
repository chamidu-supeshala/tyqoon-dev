"use strict";(self.webpackChunkangular_tyqoon_client=self.webpackChunkangular_tyqoon_client||[]).push([[2630],{35482:(T,b,n)=>{n.d(b,{s:()=>l});var o=n(92340),d=n(39646),c=n(54004),f=n(24056),e=n(94650),i=n(80529),r=n(45329);let l=(()=>{class h{constructor(a,s){this.http=a,this.productsQueryStorage={},s.loginStateChange.subscribe(()=>{this.productsQueryStorage={}})}getProductsByMetaParams(a){const s=JSON.stringify(a);return this.productsQueryStorage[s]?(0,d.of)(this.productsQueryStorage[s]):this.http.get(`${o.N.BASE_URL}/shop/product/query`,{params:{...a}}).pipe((0,c.U)(({data:_})=>{const u={..._,rows:_.rows.map(m=>({...m,productImages:(0,f.x5)(m.productImages)})),total:_.rows.length?_.total:0};return this.productsQueryStorage[s]=u,u}))}getProductsByMetaParamsV2(a){const s=JSON.stringify(a);return this.productsQueryStorage[s]?(0,d.of)(this.productsQueryStorage[s]):this.http.get(`${o.N.BASE_URL}/shop/product/queryESV2`,{params:{...a}}).pipe((0,c.U)(({data:_})=>{const u=_?.rows||[],m={..._,rows:u.map(t=>({...t,productImages:(0,f.x5)(t.productImages)})),total:u.length?_.total:0};return this.productsQueryStorage[s]=m,m}))}getProductById(a){return this.http.get(`${o.N.BASE_URL}/shop/product/queryESV2`,{params:{rows:1,page:0,productId:a}}).pipe((0,c.U)(({data:s})=>({...s.rows[0],productImages:(0,f.x5)(s.rows[0]?.productImages||"[]")})))}queryProductDetail(a){return this.http.get(`${o.N.BASE_URL}/shop/product/queryDetail`,{params:{productId:a}}).pipe((0,c.U)(({data:s})=>({statementI18nKey:s.statementI18nKey,statementI18nVal:(0,f.x5)(s.statementI18nVal)})))}getProductReview(a,s,_=0,u=3){return this.http.get(`${o.N.BASE_URL}/shop/product/queryReview`,{params:{rows:u,page:_,productId:a,scoreType:s}}).pipe((0,c.U)(m=>m.data))}getSkusByProductId(a){return this.http.get(`${o.N.BASE_URL}/shop/product/querySkuByProductId`,{params:{productId:a}}).pipe((0,c.U)(({data:s})=>s.map(_=>({..._,specifications:JSON.parse(_.specificationValues||"[]")}))))}getSkuById(a){return this.http.get(`${o.N.BASE_URL}/shop/product/querySkuById`,{params:{skuId:a.join(",")}}).pipe((0,c.U)(({data:s})=>s.map(_=>({..._,specifications:JSON.parse(_.specificationValues||"[]")}))))}getBrandById(a){return this.http.get(`${o.N.BASE_URL}/shop/brand/queryById`,{params:{id:a}}).pipe((0,c.U)(s=>s.data))}}return h.\u0275fac=function(a){return new(a||h)(e.LFG(i.eN),e.LFG(r.K))},h.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},60928:(T,b,n)=>{n.d(b,{w:()=>e});var o=n(24837),d=n(94650),c=n(36895);const f=function(i){return{width:i}};let e=(()=>{class i{constructor(l){this.cdr=l,this.hasEntered=!1,this.rebuildOnRefresh=!0,this.hasInit=!1}ngAfterViewInit(){o.Z.isBrowser&&setTimeout(()=>{this.hasInit=!0,this.cdr.detectChanges()},500)}get showPercentage(){return this.currentPoolPercentage>0&&this.currentPoolPercentage<1?1:this.currentPoolPercentage}}return i.\u0275fac=function(l){return new(l||i)(d.Y36(d.sBO))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-bidding-progress-bar"]],inputs:{currentPoolPercentage:"currentPoolPercentage",hasEntered:"hasEntered",rebuildOnRefresh:"rebuildOnRefresh"},decls:2,vars:7,consts:[[1,"progress-bar","border","border-solid","w-full","bg-white","rounded-full","h-3","md:h-3.5","overflow-hidden"],[1,"progress","h-full","rounded-full","rounded-r-none",3,"ngStyle"]],template:function(l,h){1&l&&(d.TgZ(0,"div",0),d._UZ(1,"div",1),d.qZA()),2&l&&(d.ekj("entered",h.hasEntered&&h.showPercentage<100)("filled",h.showPercentage>=100),d.xp6(1),d.Q6J("ngStyle",d.VKq(5,f,(h.hasInit||!h.rebuildOnRefresh?h.showPercentage:0)+"%")))},dependencies:[c.PC],styles:['.progress-bar[_ngcontent-%COMP%]{border-color:#49a4fd;background-color:#f0f0f0}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{position:relative;background:linear-gradient(to right,rgb(122,234,254),rgb(1,126,255));box-shadow:0 0 .1em #b0dcff inset,0 0 .1em #97d0ff inset;transition:width .4s ease}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:100%;height:100%;position:absolute;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.3) 50%,rgba(255,255,255,0) 100%);animation:progress 3s infinite}.progress-bar.entered[_ngcontent-%COMP%]{border-color:#c45afc}.progress-bar.entered[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(251,91,251),rgb(128,7,250));box-shadow:0 0 .1em #b758fb inset,0 0 .1em #ad3ffb inset}.progress-bar.filled[_ngcontent-%COMP%]{border-color:#ffb559}.progress-bar.filled[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(251,218,90),rgb(255,168,77));box-shadow:0 0 .1em #ffa84d inset,0 0 .1em #ffa84d inset}@keyframes progress{0%{transform:translate(-100%)}to{transform:translate(100%)}}']}),i})()},18215:(T,b,n)=>{n.d(b,{Z:()=>e});var o=n(94650),d=n(68514),c=n(54463);function f(i,r){if(1&i){const l=o.EpF();o.TgZ(0,"div",0)(1,"button",1),o.NdJ("click",function(){const a=o.CHM(l).method,s=o.oxw();return o.KtG(s.handleBtnClick(a))}),o._UZ(2,"img",2),o.TgZ(3,"div",3),o._uU(4),o.ALo(5,"translate"),o.qZA()()()}2&i&&(o.xp6(4),o.Oqu(o.lcZ(5,1,"toolkit-official-button")))}let e=(()=>{class i{constructor(){}handleBtnClick(l){l(this.additionalData)}}return i.\u0275fac=function(l){return new(l||i)},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-global-customer-service"]],inputs:{additionalData:"additionalData"},decls:2,vars:0,consts:[[1,"hidden","md:block","rounded-l-2xl","border-y","border-l","border-solid","border-[#e9e9e9]","py-4","px-2","bg-white","shadow-xl","absolute","right-0","w-16","transform","-translate-y-1/2",2,"z-index","999"],[1,"inline",3,"click"],["src","assets/images/toolkit-item1.png","alt","",1,"m-auto","h-10","mb-1"],[1,"text-xs","font-light","text-center"]],template:function(l,h){1&l&&(o.TgZ(0,"app-customer-service"),o.YNc(1,f,6,3,"ng-template"),o.qZA())},dependencies:[d.M,c.X$],styles:["[_nghost-%COMP%]{position:sticky;top:50%;right:0;z-index:100;display:block}"]}),i})()},37978:(T,b,n)=>{n.d(b,{u:()=>_});var o=n(15861),d=n(95133),c=n(5565),f=n(24837),e=n(94650),i=n(36895);const r=["container"];function l(u,m){1&u&&(e.TgZ(0,"div",6),e.Hsn(1,1),e.qZA())}function h(u,m){if(1&u){const t=e.EpF();e.TgZ(0,"ion-popover",4,5),e.NdJ("didPresent",function(){e.CHM(t);const g=e.oxw();return e.KtG(g.handlePresent())})("didDismiss",function(){e.CHM(t);const g=e.oxw();return e.KtG(g.handleDismiss())}),e.YNc(2,l,2,0,"ng-template"),e.qZA()}if(2&u){const t=e.oxw();e.ekj("white",t.isWhite),e.Q6J("ngStyle",t.popoverStyle)("isOpen",t.isPopoverOpen)("side",t.side)("showBackdrop",!1)("backdropDismiss",!1)("arrow",!0)}}const P=[[["","tooltipBtn",""]],"*"],a=function(u,m){return{"cursor-pointer":u,hoverBg:m}},s=["[tooltipBtn]","*"];let _=(()=>{class u extends c.V{constructor(t,p){var g;super(),g=this,this.cdr=t,this.ngZone=p,this.popoverStyle={},this.delayShow=0,this.isWhite=!1,this.side="bottom",this.disabled=!1,this.disableTouchDevice=!1,this.hoverBg=!0,this.preventEvent=!0,this.isPopoverOpen=!1,this.isPresented=!1,this.isHoveringTooltipMobile=!1,this.handlePresent=()=>{this.isPresented=!0,document.body.classList.add("has-tooltip-open"),this.ngZone.runOutsideAngular(()=>{window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mousewheel",this.handleMouseWheel),window.addEventListener("touchstart",this.handleTouchStart),window.addEventListener("touchmove",this.handleTouchMove),window.addEventListener("touchend",this.handleTouchEnd)})},this.handleTouchStart=v=>{console.log("touchstart"),this.isHoveringTooltipMobile=this.isHoveringTooltip(v.target),this.handleMouseMove(v)},this.handleTouchMove=v=>{this.isHoveringTooltipMobile||!this.isPresented||this.closeTooltip()},this.handleTouchEnd=v=>{this.isHoveringTooltipMobile=!1},this.handleMouseWheel=v=>{console.log("mousewheel"),this.isPresented&&this.closeTooltip()},this.handleMouseMove=function(){var v=(0,o.Z)(function*(w){console.log("mousemove"),!g.isHoveringTooltip(w.target)&&g.closeTooltip()});return function(w){return v.apply(this,arguments)}}()}ngOnInit(){}ngOnChanges(t){const p=t.disabled;if(p&&!p.isFirstChange()&&!1===p.currentValue){if(!this.isPresented)return;this.closeTooltip()}}isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}handleOpenPopover(t){this.disabled||this.disableTouchDevice&&this.isTouchDevice()||this.isPopoverOpen||(this.popover.event=t,this.delayTooltipTimeOut=setTimeout(()=>{this.isPopoverOpen=!0,this.cdr.detectChanges()},this.delayShow))}handleClick(t){this.disabled||this.disableTouchDevice&&this.isTouchDevice()||this.preventEvent&&(t.preventDefault(),t.stopPropagation())}handleMouseLeave(t){clearTimeout(this.delayTooltipTimeOut)}closeTooltip(){var t=this;return(0,o.Z)(function*(){t.isPopoverOpen=!1,yield t.popover.dismiss(),document.body.classList.remove("has-tooltip-open")})()}isHoveringTooltip(t){if(this.container.nativeElement.contains(t))return!0;const p=this.popover.el;return!(!p?.contains(t)&&p!==t)}handleDismiss(){this.isPopoverOpen=!1,this.isPresented=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mousewheel",this.handleMouseWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd)}ngOnDestroy(){var t=this;return(0,o.Z)(function*(){f.Z.isServer||(t.isPopoverOpen=!1,window.removeEventListener("mousemove",t.handleMouseMove),window.removeEventListener("mousewheel",t.handleMouseWheel),window.removeEventListener("touchstart",t.handleTouchStart),window.removeEventListener("touchmove",t.handleTouchMove),window.removeEventListener("touchend",t.handleTouchEnd),yield t.popover?.dismiss())})()}}return u.\u0275fac=function(t){return new(t||u)(e.Y36(e.sBO),e.Y36(e.R0b))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-tooltip"]],viewQuery:function(t,p){if(1&t&&(e.Gf(r,5),e.Gf(d.d8,5)),2&t){let g;e.iGM(g=e.CRH())&&(p.container=g.first),e.iGM(g=e.CRH())&&(p.popover=g.first)}},inputs:{popoverStyle:"popoverStyle",delayShow:"delayShow",isWhite:"isWhite",side:"side",disabled:"disabled",disableTouchDevice:"disableTouchDevice",hoverBg:"hoverBg",preventEvent:"preventEvent"},features:[e.qOj,e.TTD],ngContentSelectors:s,decls:5,vars:5,consts:[[1,"app-tooltip","w-full",3,"click"],["container",""],[1,"tooltipBtn","flex","items-center",3,"ngClass","click","mouseover","mouseleave","touchstart"],["class","popover-tooltip","alignment","center","mode","ios",3,"ngStyle","white","isOpen","side","showBackdrop","backdropDismiss","arrow","didPresent","didDismiss",4,"ngIf"],["alignment","center","mode","ios",1,"popover-tooltip",3,"ngStyle","isOpen","side","showBackdrop","backdropDismiss","arrow","didPresent","didDismiss"],["popover",""],[1,"app-tooltip-body","pointer-events-auto"]],template:function(t,p){1&t&&(e.F$t(P),e.TgZ(0,"div",0,1),e.NdJ("click",function(v){return p.handleClick(v)}),e.TgZ(2,"div",2),e.NdJ("click",function(v){return p.handleClick(v)})("mouseover",function(v){return p.handleOpenPopover(v)})("mouseleave",function(v){return p.handleMouseLeave(v)})("touchstart",function(v){return p.handleOpenPopover(v)}),e.Hsn(3),e.qZA()(),e.YNc(4,h,3,8,"ion-popover",3)),2&t&&(e.xp6(2),e.Q6J("ngClass",e.WLB(2,a,!p.disabled,p.hoverBg)),e.xp6(2),e.Q6J("ngIf",!p.disabled))},dependencies:[i.mk,i.O5,i.PC,d.d8],styles:["[_nghost-%COMP%]{position:relative;z-index:1}.app-tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block;z-index:1}ion-popover[_ngcontent-%COMP%]{pointer-events:none;--width: auto;--max-width: 50vw;--offset-y: -5px;--background: black}@media (min-width: 768px){ion-popover[_ngcontent-%COMP%]{--max-width: 80vw}}ion-popover[_ngcontent-%COMP%]::part(backdrop){pointer-events:none}ion-popover[_ngcontent-%COMP%]::part(arrow){width:23px;height:18px;transform:translateY(1px);z-index:11;pointer-events:auto}ion-popover[_ngcontent-%COMP%]::part(arrow):after{background:black;left:3px;top:9px;width:15px;height:15px;border:1px solid black;border-radius:6px 0;transform:rotate(67.5deg) skew(45deg) scaleY(.70711)}ion-popover[_ngcontent-%COMP%]::part(content){overflow:inherit;margin-top:-13px;padding-top:13px;border:0;pointer-events:auto;background-color:transparent;box-shadow:none}ion-popover.white[_ngcontent-%COMP%]::part(arrow):after{background-color:#f1f5f9;border:1px solid #dddddd}ion-popover.white[_ngcontent-%COMP%]   .app-tooltip-body[_ngcontent-%COMP%]{background-color:#f1f5f9;--tw-border-opacity: 1;border-color:rgb(221 221 221 / var(--tw-border-opacity));--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}ion-popover.popover-bottom[_ngcontent-%COMP%], ion-popover.popover-side-top[_ngcontent-%COMP%]{--offset-y: 3px}ion-popover.popover-bottom[_ngcontent-%COMP%]::part(arrow), ion-popover.popover-side-top[_ngcontent-%COMP%]::part(arrow){transform:translateY(-1px)}ion-popover.popover-bottom[_ngcontent-%COMP%]::part(arrow):after, ion-popover.popover-side-top[_ngcontent-%COMP%]::part(arrow):after{top:-9px}ion-popover.popover-bottom[_ngcontent-%COMP%]::part(content), ion-popover.popover-side-top[_ngcontent-%COMP%]::part(content){margin-top:14px;padding-top:0;padding-bottom:14px}  body.has-tooltip-open app-base-chart{pointer-events:none}.app-tooltip-body[_ngcontent-%COMP%]{max-width:100%;position:relative;border-radius:.75rem;border-width:1px;border-style:solid;--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));box-shadow:0 4px 16px #0000001f}.app-tooltip-body[_ngcontent-%COMP%]    >*{max-width:100%}.tooltipBtn.hoverBg[_ngcontent-%COMP%]{border-radius:.5rem}.tooltipBtn.hoverBg[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}"]}),u})()},45210:(T,b,n)=>{n.d(b,{B:()=>f});var o=n(15861),d=n(24837),c=n(94650);let f=(()=>{class e{constructor(r){this.el=r,this.myValue=!0,this.content=r.nativeElement}ngAfterViewInit(){var r=this;return(0,o.Z)(function*(){d.Z.isServer||(r.btn=document.createElement("button"),r.btn.innerHTML='\n    <svg class="icon__arrow-up" viewBox="0 0 24 24">\n      <title>Back to top</title>\n      <path d="M18.71,11.71a1,1,0,0,1-1.42,0L13,7.41V19a1,1,0,0,1-2,0V7.41l-4.29,4.3a1,1,0,0,1-1.42-1.42l6-6a1,1,0,0,1,1.42,0l6,6A1,1,0,0,1,18.71,11.71Z"/>\n    </svg>',r.btn.classList.add("back-to-top-btn"),r.btn.addEventListener("click",()=>{r.content.scrollToTop(500)}),document.body.appendChild(r.btn),r.el.nativeElement.append(r.btn))})()}onScroll(r){r.detail.scrollTop>200?this.btn.classList.add("show-btn"):this.btn.classList.remove("show-btn")}}return e.\u0275fac=function(r){return new(r||e)(c.Y36(c.SBq))},e.\u0275dir=c.lG2({type:e,selectors:[["","backToTopBtn",""]],hostVars:1,hostBindings:function(r,l){1&r&&c.NdJ("ionScroll",function(P){return l.onScroll(P)}),2&r&&c.Ikx("overflow-scroll",l.myValue)}}),e})()}}]);