"use strict";(self.webpackChunkangular_tyqoon_client=self.webpackChunkangular_tyqoon_client||[]).push([[8741],{98741:(w,T,r)=>{r.d(T,{e:()=>ce});var a=r(15861),f=r(36895),e=r(94650),b=r(7507),u=r(95133),C=r(54463),s=r(82722),M=r(49808),h=r(5963),x=r(5565),c=r(44466),p=r(8174),y=r(35198),m=r(65433),O=r(24006),_=r(16424),v=r(61397),P=r(39841),D=r(45329),A=r(56889),k=r(78998),U=r(7228),L=r(37978),I=r(92974);const E=function(i){return{requiredInvites:i}};function q(i,l){if(1&i&&(e.TgZ(0,"div",18),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,"challenge-not-started",e.VKq(4,E,t.requiredCount))," ")}}const S=function(i,l){return{currentDays:i,requiredDays:l}};function B(i,l){if(1&i&&(e.TgZ(0,"div",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.Q6J("ngClass","level-"+t.level),e.xp6(1),e.hij(" ",e.xi3(2,2,"challenge-days",e.WLB(5,S,t.currentDays,t.requiredDay))," ")}}function N(i,l){1&i&&e._UZ(0,"div",33)}function j(i,l){1&i&&(e.TgZ(0,"div",34),e._UZ(1,"img",35),e.qZA())}const J=function(i){return{count:i}};function H(i,l){if(1&i&&(e.TgZ(0,"div",21),e._UZ(1,"img",22),e.YNc(2,B,3,8,"div",23),e.TgZ(3,"div",24)(4,"div",25),e._uU(5),e._UZ(6,"app-user-icon",26),e.qZA(),e.YNc(7,N,1,0,"div",27),e.YNc(8,j,2,0,"ng-template",null,28,e.W1O),e.TgZ(10,"app-tooltip",29),e._UZ(11,"ion-icon",30),e.TgZ(12,"div",31),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()),2&i){const t=e.MAs(9),n=e.oxw().$implicit,o=e.oxw(3);e.xp6(1),e.Q6J("src",o.medalMap[n.level],e.LSH),e.xp6(1),e.Q6J("ngIf",n.requiredDay>0),e.xp6(1),e.ekj("pending-requirement",n.currentActiveInvites<n.requiredNumber),e.xp6(2),e.AsE(" ",n.currentActiveInvites,"/",n.requiredNumber," "),e.xp6(2),e.Q6J("ngIf",n.currentActiveInvites<n.requiredNumber)("ngIfElse",t),e.xp6(3),e.Q6J("hoverBg",!1),e.xp6(3),e.hij(" ",e.xi3(14,10,"challenge-desc",e.VKq(13,J,n.requiredNumber))," ")}}function Q(i,l){if(1&i&&(e.ynx(0),e.YNc(1,H,15,15,"div",20),e.BQk()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("ngIf",t.isRunning)}}function K(i,l){if(1&i&&e.YNc(0,Q,2,1,"ng-container",19),2&i){const t=e.oxw(2);e.Q6J("ngForOf",t.progressLevels)}}const R=function(i){return{left:i}};function Y(i,l){if(1&i&&(e.TgZ(0,"div",36)(1,"div",37),e._UZ(2,"img",38),e.qZA()()),2&i){const t=e.oxw(2);e.Q6J("ngStyle",e.VKq(3,R,t.percentage+"%")),e.xp6(1),e.Udp("margin-left",t.percentage>88?88-t.percentage:0,"px")}}function F(i,l){1&i&&(e.TgZ(0,"app-tooltip",29)(1,"div",48),e._UZ(2,"img",49),e.qZA(),e.TgZ(3,"div",50),e._uU(4),e.ALo(5,"translate"),e.qZA()()),2&i&&(e.Q6J("hoverBg",!1),e.xp6(4),e.Oqu(e.lcZ(5,2,"challenge-completed")))}function $(i,l){if(1&i&&(e.TgZ(0,"app-tooltip",51)(1,"div",52),e._UZ(2,"app-loading-animation",51),e.qZA(),e.TgZ(3,"div",50),e._uU(4),e.ALo(5,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.ekj("invisible",!t.isRunning),e.xp6(4),e.Oqu(e.lcZ(5,3,"challenge-inprogress"))}}function z(i,l){if(1&i&&(e.TgZ(0,"div",53)(1,"h2",54),e._uU(2,"Debug Info"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"p",55),e._uU(5),e.qZA(),e.TgZ(6,"p",55),e._uU(7),e.qZA(),e.TgZ(8,"p",56),e._uU(9,"Success"),e.qZA()()),2&i){const t=e.oxw(),o=t.last,g=t.$implicit;e.ekj("ml-4",t.first)("mr-4",o),e.xp6(5),e.hij("Days: ",g.holdDays,""),e.xp6(2),e.hij("Required: ",g.requiredDay,""),e.xp6(1),e.ekj("invisible",!g.success)}}function W(i,l){if(1&i&&(e.TgZ(0,"div",39),e._UZ(1,"div",40)(2,"img",41),e.YNc(3,F,6,4,"app-tooltip",42),e.YNc(4,$,6,5,"ng-template",null,43,e.W1O),e.TgZ(6,"div",44)(7,"div",45),e._uU(8),e.qZA(),e._UZ(9,"app-user-icon",46),e.qZA(),e.YNc(10,z,10,8,"div",47),e.qZA()),2&i){const t=l.$implicit,n=e.MAs(5),o=e.oxw(2);e.xp6(2),e.Q6J("src",o.medalMap[t.level],e.LSH),e.xp6(1),e.Q6J("ngIf",t.isCompleted)("ngIfElse",n),e.xp6(3),e.ekj("pending-requirement",!t.isCompleted&&!t.isRunning),e.xp6(2),e.AsE("",t.yesterdayInvites,"/",t.requiredNumber,""),e.xp6(2),e.Q6J("ngIf",o.showHiddenOption)}}const G=function(i){return{width:i}};function V(i,l){if(1&i&&(e.TgZ(0,"div",5),e._UZ(1,"app-invite-current-rank",6),e.TgZ(2,"div",7),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",8),e.YNc(6,q,3,6,"div",9),e.YNc(7,K,1,1,"ng-template",null,10,e.W1O),e.qZA(),e.TgZ(9,"div",11)(10,"div",12)(11,"div",13),e._UZ(12,"div",14),e.qZA(),e.YNc(13,Y,3,5,"div",15),e.qZA()(),e.TgZ(14,"div",16),e.YNc(15,W,11,8,"div",17),e.qZA()()),2&i){const t=e.MAs(8),n=e.oxw();e.xp6(1),e.Q6J("commissionDetails",n.commissionDetails)("showOdometer",!0),e.xp6(2),e.hij(" ",e.lcZ(4,10,"tyqoon-challenge")," "),e.xp6(3),e.Q6J("ngIf",!n.hasStarted)("ngIfElse",t),e.xp6(5),e.ekj("filled",n.percentage>=100),e.xp6(1),e.Q6J("ngStyle",e.VKq(12,G,n.percentage+"%")),e.xp6(1),e.Q6J("ngIf",n.percentage<100),e.xp6(2),e.Q6J("ngForOf",n.progressLevels)}}function X(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"ion-input",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const g=e.oxw();return e.KtG(g.commissionDetails.numberOfSub=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChangeSub())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("min",0)("ngModel",t.commissionDetails.numberOfSub)}}function ee(i,l){if(1&i&&(e.TgZ(0,"div",58)(1,"h2",54),e._uU(2,"Debug Info"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"p",55),e._uU(5),e.qZA(),e.TgZ(6,"p",55),e._uU(7),e.qZA(),e.TgZ(8,"p",55),e._uU(9),e.qZA()()),2&i){const t=e.oxw();e.xp6(5),e.hij("Active: ",t.commissionDetails.numberOfSub,""),e.xp6(2),e.hij("Direct: ",t.commissionDetails.numberOfDirectSub,""),e.xp6(2),e.hij("YesterdayActive: ",t.commissionDetails.yesterdayNumberOfSub,"")}}function te(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",59)(1,"div",60),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",61)(5,"button",62),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.isOpenInviteModal=!0)}),e._uU(6),e.ALo(7,"translate"),e.qZA()()()}2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,2,"get-first-invite")," "),e.xp6(4),e.hij(" ",e.lcZ(7,4,"game-invite-title")," "))}let ne=(()=>{class i extends x.V{constructor(t,n){super(),this.userService=t,this.biddingService=n,this.challengeMap={1:"get-first-invite",2:"bronze-challenge",3:"silver-challenge",4:"gold-challenge",5:"rainbow-challenge"},this.medalMap={1:"assets/images/invite.svg",2:"assets/images/bidding/rank-bronze.png",3:"assets/images/bidding/rank-silver.png",4:"assets/images/bidding/rank-gold.png",5:"assets/images/bidding/rank-rainbow.png"},this.hasStarted=!1,this.requiredCount=0,this.percentage=0,this.isOpenInviteModal=!1,this.showHiddenOption=!1,this.shareLink=""}ngOnInit(){(0,P.a)([this.userService.userInfo$,this.biddingService.isBiddingMode$]).pipe((0,s.R)(this.destroyStream$)).subscribe(([t,n])=>{const o=t?.id.toString()||"",g=location.origin;this.shareLink=`${g}/invite?recommenderId=${o}`,n&&(this.shareLink=this.shareLink+"&bid=true")})}onShiftKeydownHandler(t){this.showHiddenOption||(this.showHiddenOption=this.userService.isDebugMode)}onShiftKeyupHandler(t){this.showHiddenOption&&(this.showHiddenOption=!1)}onLevelUp(t){this.commissionDetails.yesterdayNumberOfSub+=1,this.onLevelChange(),this.commissionDetails.levelProgress.forEach((n,o)=>{n.success=n.success||n.requiredNumber<=n.yesterdayInvites&&n.requiredDay<=n.currentDays}),this.commissionDetails.level=this.commissionDetails.levelProgress.filter(n=>n.success).length,this.commissionDetails={...this.commissionDetails}}onLevelDown(t){this.commissionDetails.yesterdayNumberOfSub=Math.max(0,this.commissionDetails.yesterdayNumberOfSub-1),this.onLevelChange(),this.commissionDetails.levelProgress.forEach(n=>{!n.isRunning&&!n.isCompleted&&(n.holdDays=0)})}onDaysIncrease(t){this.commissionDetails.levelProgress.forEach(n=>{(n.isRunning||n.isCompleted)&&(n.holdDays=Math.min(30,n.holdDays+1))}),this.onLevelChange(),this.commissionDetails.levelProgress.forEach((n,o)=>{n.success=n.success||n.requiredNumber<=n.yesterdayInvites&&n.requiredDay<=n.currentDays}),this.commissionDetails.level=this.commissionDetails.levelProgress.filter(n=>n.success).length,this.commissionDetails={...this.commissionDetails}}onDaysDecrease(t){this.commissionDetails.levelProgress.forEach(n=>{(n.isRunning||n.isCompleted)&&(n.holdDays=Math.max(0,n.holdDays-1))}),this.onLevelChange()}ngOnChanges(t){this.onLevelChange()}onLevelChange(){if(this.commissionDetails?.levelProgress){this.commissionDetails.levelProgress.forEach((d,ge)=>{d.currentActiveInvites=Math.min(this.commissionDetails.numberOfSub,d.requiredNumber),d.yesterdayInvites=Math.min(this.commissionDetails.yesterdayNumberOfSub,d.requiredNumber),d.currentDays=Math.min(d.holdDays,d.requiredDay),d.isRunning=d.requiredNumber<=d.yesterdayInvites&&d.requiredDay>d.currentDays,d.isCompleted=d.requiredNumber<=d.yesterdayInvites&&d.requiredDay<=d.currentDays});const t=this.commissionDetails.levelProgress.filter(d=>d.isCompleted).length;if(t<5){const d=this.commissionDetails.levelProgress[t];this.hasStarted=0==d.requiredDay||d.yesterdayInvites>=d.requiredNumber,this.requiredCount=d.requiredNumber}else this.hasStarted=!0;this.levelsToShow=this.commissionDetails.levelProgress.filter(d=>this.commissionDetails.yesterdayNumberOfSub>=d.requiredNumber).length,this.progressLevels=this.commissionDetails.levelProgress.slice(0,Math.min(5,this.levelsToShow+1)),console.log(this.levelsToShow,this.progressLevels,t);const n=this.commissionDetails.levelProgress.find(d=>d.isRunning),o=this.progressLevels[this.progressLevels.length-1].level;let g=0;if(n&&n.requiredDay>0)g=100*n.currentDays/n.requiredDay;else{const d=this.commissionDetails.levelProgress[t];0==d?.requiredDay&&(g=d.yesterdayInvites>0?100*d.yesterdayInvites/d.requiredNumber:0)}const Z=100/(o-1);t>0?(console.log(g,Z,t,this.progressLevels[this.progressLevels.length-1].level),this.percentage=100*(t-1)/(o-1)+Z*g/100):this.percentage=g}}onChangeSub(){this.onLevelChange()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(D.K),e.Y36(A.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-invite-challenge"]],hostBindings:function(t,n){1&t&&e.NdJ("keydown.shift",function(){return n.onShiftKeydownHandler()},!1,e.evT)("keyup.shift",function(){return n.onShiftKeyupHandler()},!1,e.evT)("keydown.shift.ArrowUp",function(){return n.onLevelUp()},!1,e.evT)("keydown.shift.ArrowDown",function(){return n.onLevelDown()},!1,e.evT)("keydown.shift.ArrowRight",function(){return n.onDaysIncrease()},!1,e.evT)("keydown.shift.ArrowLeft",function(){return n.onDaysDecrease()},!1,e.evT)},inputs:{commissionDetails:"commissionDetails"},standalone:!0,features:[e.qOj,e.TTD,e.jDz],decls:6,vars:6,consts:[["class","flex relative flex-col w-full justify-center items-center p-3",4,"ngIf","ngIfElse"],[4,"ngIf"],["class","stats bg-white fixed border border-red-600 text-red-900 rounded-lg p-1",4,"ngIf"],["inviteUsers",""],[3,"isOpen","shareLinkInput","isOpenChange"],[1,"flex","relative","flex-col","w-full","justify-center","items-center","p-3"],[3,"commissionDetails","showOdometer"],[1,"title","font-bold","text-black","text-2xl","md:text-3xl","mt-1.5"],[1,"flex","flex-col","level-badges","justify-center","items-center","gap-2","md:gap-3","mt-3"],["class","text-lg font-medium text-center",4,"ngIf","ngIfElse"],["challengeStarted",""],[1,"px-3","w-full"],[1,"level-progress","w-full","mt-5","z-1","relative"],[1,"progress-bar","border","border-solid","w-full","bg-white","rounded-full","h-6","overflow-hidden"],[1,"progress","h-full","rounded-full","rounded-r-none",3,"ngStyle"],["class","mascot absolute top-0 bottom-0",3,"ngStyle",4,"ngIf"],[1,"medals","justify-between","flex","items-start","w-full"],["class","medal flex flex-col justify-center items-center w-9",4,"ngFor","ngForOf"],[1,"text-lg","font-medium","text-center"],[4,"ngFor","ngForOf"],["class","flex items-center gap-2",4,"ngIf"],[1,"flex","items-center","gap-2"],[1,"h-8",3,"src"],["class","level text-center rounded-lg px-3.5 py-1 text-base font-bold",3,"ngClass",4,"ngIf"],[1,"flex","items-center","justify-center","text-black"],[1,"font-black","text-base","md:text-xl","italic","flex","items-center","justify-center"],[1,"-mt-1","mx-px"],["class","text-grey-2 leading-none w-3 h-3 rounded-full not-active-indicator mx-2",4,"ngIf","ngIfElse"],["completedRequirement",""],[1,"flex",3,"hoverBg"],["tooltipBtn","","name","help-circle-outline",1,"w-7","h-7","text-gray-400","cursor-pointer","pointer-events-none"],[1,"tooltip-content-wrapper","p-2","text-left","text-base",2,"width","300px"],[1,"level","text-center","rounded-lg","px-3.5","py-1","text-base","font-bold",3,"ngClass"],[1,"text-grey-2","leading-none","w-3","h-3","rounded-full","not-active-indicator","mx-2"],[1,"check-icon","ml-2","mr-1.5","w-4","h-4","flex-shrink-0","flex","items-center","justify-center","rounded-full"],["src","assets/images/golden-check.png",1,"w-8/12"],[1,"mascot","absolute","top-0","bottom-0",3,"ngStyle"],[1,"relative","h-full","w-32"],["src","assets/images/mascot-stop.png",1,"h-8","-top-2","absolute","transform","-translate-x-1/2"],[1,"medal","flex","flex-col","justify-center","items-center","w-9"],[1,"handle"],[1,"h-14",3,"src"],["class","flex",3,"hoverBg",4,"ngIf","ngIfElse"],["notCompleted",""],[1,"requirement","flex","items-center","justify-center","mt-1.5"],[1,"font-bold","text-xs","md:text-lg"],[1,"-mt-1.5","ml-px"],["class","bg-white mt-1 w-24 border border-red-600 text-red-900 rounded-lg p-1",3,"ml-4","mr-4",4,"ngIf"],["tooltipBtn","",1,"checkmark","flex","justify-center","items-center","rounded-full","p-1","mt-1"],["src","assets/images/bidding/check-icon.png",1,"h-4"],[1,"p-2","font-medium","capitalize"],[1,"flex"],["tooltipBtn","",1,"loader","flex","justify-center","items-center","rounded-full","p-1","mt-1"],[1,"bg-white","mt-1","w-24","border","border-red-600","text-red-900","rounded-lg","p-1"],[1,"text-base","font-bold","m-0"],[1,"text-sm","font-bold"],[1,"text-sm","font-bold","p-1","bg-green-400","text-green-900","rounded-lg"],["type","number",1,"text-xl","h-11","font-bold","w-44","ml-auto","border","border-solid",3,"min","ngModel","ngModelChange"],[1,"stats","bg-white","fixed","border","border-red-600","text-red-900","rounded-lg","p-1"],[1,"flex","flex-col","w-full","justify-center","items-center","p-3"],[1,"font-bold","text-black","text-xl","md:text-2xl","md:leading-9"],[1,"invite","flex","justify-center","my-3"],[1,"invite-btn","bg-gradient-primary-1","text-white","flex","text-3xl","rounded-xl","px-4","py-3","font-bold","md:pr-5","relative","overflow-hidden",3,"click"]],template:function(t,n){if(1&t&&(e.YNc(0,V,16,14,"div",0),e.YNc(1,X,2,2,"div",1),e.YNc(2,ee,10,3,"div",2),e.YNc(3,te,8,6,"ng-template",null,3,e.W1O),e.TgZ(5,"app-product-share-modal",4),e.NdJ("isOpenChange",function(g){return n.isOpenInviteModal=g}),e.qZA()),2&t){const o=e.MAs(4);e.Q6J("ngIf",n.commissionDetails&&n.levelsToShow>0)("ngIfElse",o),e.xp6(1),e.Q6J("ngIf",n.showHiddenOption),e.xp6(1),e.Q6J("ngIf",n.showHiddenOption),e.xp6(3),e.Q6J("isOpen",n.isOpenInviteModal)("shareLinkInput",n.shareLink)}},dependencies:[f.ez,f.mk,f.sg,f.O5,f.PC,C.aw,C.X$,u.Pc,u.gu,u.pK,u.as,c.m,k.G,U.r,L.u,I.a,O.u5,O.JJ,O.On,_.g,v._],styles:['.level-badges[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{min-width:110px}.level-badges[_ngcontent-%COMP%]   .level-1[_ngcontent-%COMP%]{background:rgb(197,197,197)}.level-badges[_ngcontent-%COMP%]   .level-2[_ngcontent-%COMP%]{background:rgb(227,190,174)}.level-badges[_ngcontent-%COMP%]   .level-3[_ngcontent-%COMP%]{background:rgb(216,214,225)}.level-badges[_ngcontent-%COMP%]   .level-4[_ngcontent-%COMP%]{background:rgb(253,204,3)}.level-badges[_ngcontent-%COMP%]   .level-5[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(77,6,138),rgb(1,77,137),rgb(130,23,139),rgb(137,91,55));color:#fff}.progress-bar[_ngcontent-%COMP%]{background-color:#f0f0f0;border-color:#d4d4d4}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{position:relative;background:linear-gradient(to right,rgb(128,7,250) 10%,rgb(254,153,255) 100%);box-shadow:0 0 .1em #b758fb inset,0 0 .1em #ad3ffb inset;transition:width .4s ease}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:100%;height:100%;position:absolute;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.3) 50%,rgba(255,255,255,0) 100%);animation:progress 3s infinite}.progress-bar.filled[_ngcontent-%COMP%]{border-color:#c45afc}.progress-bar.filled[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(251,218,90),rgb(255,168,77));box-shadow:0 0 .1em #ffa84d inset,0 0 .1em #ffa84d inset}@keyframes progress{0%{transform:translate(-100%)}to{transform:translate(100%)}}.medals[_ngcontent-%COMP%]   .medal[_ngcontent-%COMP%]   .handle[_ngcontent-%COMP%]{height:20px;margin-top:-7px;width:6px;background:rgb(213,213,213)}.medals[_ngcontent-%COMP%]   .medal[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{background:rgb(0,116,255);border:3px solid rgb(92,166,253)}.medals[_ngcontent-%COMP%]   .medal[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{background:rgb(244,244,244);width:29px;height:29px}app-loading-animation[_ngcontent-%COMP%]     .knight-rider-bar{height:.3em;width:.3em;background-color:#8e8e8e}.mascot[_ngcontent-%COMP%]{transition:left .4s ease}.requirement[_ngcontent-%COMP%]{color:#c5c5c5}app-user-icon[_ngcontent-%COMP%]     svg{width:13px}@media (min-width: 768px){app-user-icon[_ngcontent-%COMP%]     svg{width:20px}}.pending-requirement[_ngcontent-%COMP%]{color:#000}.check-icon[_ngcontent-%COMP%]{background:linear-gradient(to right,#045EEF,#025DFC);box-shadow:0 0 0 2px #afc9f7}.not-active-indicator[_ngcontent-%COMP%]{background:red;animation:red-pulse 1.5s infinite}@keyframes red-pulse{0%{box-shadow:0 0 #f30b1f}to{box-shadow:0 0 0 5px #fbb32f01}}.invite-btn[_ngcontent-%COMP%]{filter:drop-shadow(2.6px 5.1px 5.1px rgba(0,0,0,.3));border:1px solid rgb(255,192,0)}.invite-btn[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:100%;height:100%;position:absolute;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.8) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);animation:shinebg 3s infinite}@keyframes shinebg{0%{transform:translate(-100%)}to{transform:translate(100%)}}.stats[_ngcontent-%COMP%]{right:7px;top:126px}']}),i})();var ie=r(63225);function se(i,l){if(1&i&&(e.TgZ(0,"div",20)(1,"div",21)(2,"div",22),e._uU(3),e.qZA(),e.TgZ(4,"div",23),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",24),e._uU(8,":"),e.qZA(),e.TgZ(9,"div",21)(10,"div",22),e._uU(11),e.qZA(),e.TgZ(12,"div",23),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",24),e._uU(16,":"),e.qZA(),e.TgZ(17,"div",21)(18,"div",22),e._uU(19),e.qZA(),e.TgZ(20,"div",23),e._uU(21),e.ALo(22,"translate"),e.qZA()()()),2&i){const t=l.$implicit;e.xp6(3),e.hij(" ",t.hours," "),e.xp6(2),e.Oqu(e.lcZ(6,6,"hours")),e.xp6(6),e.hij(" ",t.minutes," "),e.xp6(2),e.Oqu(e.lcZ(14,8,"minutes")),e.xp6(6),e.hij(" ",t.seconds," "),e.xp6(2),e.Oqu(e.lcZ(22,10,"seconds"))}}function oe(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"app-countdown",19),e.NdJ("onTimeEnd",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.handleTimeEnd())}),e.YNc(1,se,23,12,"ng-template"),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("time",t.endTime)}}function re(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.goToDashboard())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"header-dropdown-dashboard")," "))}function ae(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.openShareModal=!0)}),e._uU(1),e.ALo(2,"translate"),e.O4$(),e.TgZ(3,"svg",27)(4,"g",28),e._UZ(5,"path",29)(6,"path",30),e.qZA()()()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"share-btn")," "))}function le(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",5),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(1);return e.KtG(o.dismiss())}),e.O4$(),e.TgZ(5,"svg",6),e._UZ(6,"path",7),e.qZA()()(),e.kcU(),e.TgZ(7,"ng-scrollbar",8)(8,"div",9)(9,"div")(10,"div",10),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,oe,2,1,"app-countdown",11),e.qZA(),e._UZ(14,"div",12),e.TgZ(15,"div"),e._UZ(16,"app-daily-active-progress",13),e.qZA(),e._UZ(17,"div",12)(18,"app-invite-challenge",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(1);return e.KtG(o.dismiss())}),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.YNc(23,re,3,3,"button",17),e.YNc(24,ae,7,3,"ng-template",null,18,e.W1O),e.qZA()()()}if(2&i){const t=e.MAs(25),n=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,8,"bidding-checking-btn")," "),e.xp6(5),e.Q6J("autoHeightDisabled",!1),e.xp6(4),e.hij(" ",e.lcZ(12,10,"time-left-notify")," "),e.xp6(2),e.Q6J("ngIf",n.endTime),e.xp6(5),e.Q6J("commissionDetails",n.commissionDetails),e.xp6(3),e.hij(" ",e.lcZ(22,12,"close")," "),e.xp6(2),e.Q6J("ngIf",!n.isOnDashBoard)("ngIfElse",t)}}function de(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"app-product-share-modal",31),e.NdJ("isOpenChange",function(o){e.CHM(t);const g=e.oxw();return e.KtG(g.openShareModal=o)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("shareLinkInput",t.shareLink)("isOpen",t.openShareModal)}}let ce=(()=>{class i extends x.V{constructor(t,n,o,g,Z){super(),this.toast=t,this.router=n,this.biddingService=o,this.cdr=g,this.userService=Z,this.isOpen=!1,this.isOpenChange=new e.vpe,this.openThanksModal=!1,this.isSpecial=!1,this.isProcessing=!1,this.shareLink="",this.openShareModal=!1}ngOnInit(){this.endTime=this.serverTime(),console.log(121212,this.endTime),this.router.events.pipe((0,s.R)(this.destroyStream$)).subscribe(t=>{t instanceof b.OD&&this.isOpen&&this.modal.dismiss()}),this.biddingService.queryCommissionDetails().pipe((0,s.R)(this.destroyStream$)).subscribe(t=>{this.commissionDetails=t})}get isOnDashBoard(){return this.router.isActive("/dashboard",{paths:"exact",queryParams:"ignored",fragment:"ignored",matrixParams:"ignored"})}toastError(t){var n=this;return(0,a.Z)(function*(){yield n.presentToast({position:"bottom",message:t,icon:"alert-circle-outline",duration:2e3,color:"danger"})})()}presentToast(t){var n=this;return(0,a.Z)(function*(){yield(yield n.toast.create(t)).present()})()}serverTime(){const t=(new Date).toLocaleDateString("en-US",{timeZone:"Asia/Macau"});let[n,o,g]=t.split("/");return n.length<2&&(n="0"+n),o.length<2&&(o="0"+o),new Date(`${g}-${n}-${o}T17:00:00.000+08:00`).getTime()+864e5}handleTimeEnd(){var t=this;return(0,a.Z)(function*(){yield(0,M.n)((0,h.H)(2e3)),yield(0,M.n)(t.biddingService.queryActivityStatistic()),t.endTime=t.serverTime(),t.cdr.detectChanges()})()}goToDashboard(){this.router.navigate(["/dashboard"])}handlePresent(){this.biddingService.queryActivityStatistic().subscribe(),this.shareLink=window.location.origin+"/invite?recommenderId="+this.userService.userInfo$.getValue()?.id}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.yF),e.Y36(b.F0),e.Y36(A.g),e.Y36(e.sBO),e.Y36(D.K))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-bidding-checkin-modal"]],viewQuery:function(t,n){if(1&t&&(e.Gf(y.M,5),e.Gf(u.ki,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.countdownComp=o.first),e.iGM(o=e.CRH())&&(n.modal=o.first)}},inputs:{isOpen:"isOpen",commissionDetails:"commissionDetails"},outputs:{isOpenChange:"isOpenChange"},standalone:!0,features:[e.qOj,e.jDz],decls:4,vars:2,consts:[[1,"normal-opacity",3,"isOpen","keepContentsMounted","didDismiss","willPresent"],["modal",""],[3,"shareLinkInput","isOpen","isOpenChange",4,"isBrowser"],[1,"flex","bg-[#f4f4f4]","items-center","p-2"],[1,"flex-1","font-bold","text-3xl","capitalize",2,"--duration","200ms"],[1,"w-8","p-1","rounded","cursor-pointer","bg-[#ff2145]","text-white",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],["visibility","hover",2,"max-height","85vh",3,"autoHeightDisabled"],[1,"px-3","mt-3"],[1,"text-center","text-sm","font-bold","mb-2","mt-5"],[3,"time","onTimeEnd",4,"ngIf"],[1,"border-b","border-[#dddddd]","my-2"],[1,"mx-auto","block",2,"max-width","210px"],[1,"w-full",3,"commissionDetails"],[1,"flex","items-center","justify-between","flex-wrap","mt-1","mb-4"],[1,"border","border-[#dddddd]","bg-slate-100","rounded-lg","font-bold","px-6","py-2.5","text-xl","capitalize",3,"click"],["style","background-color: #4e48fe","class","text-white rounded-lg font-bold px-6 py-2.5 text-xl capitalize",3,"click",4,"ngIf","ngIfElse"],["share",""],[3,"time","onTimeEnd"],[1,"flex","justify-center","font-bold","capitalize"],[1,"text-center","w-16"],[1,"text-4xl","font-bold","leading-7","text-[#0087ff]"],[1,"text-sm"],[1,"font-bold","text-4xl","leading-6","text-[#0087ff]"],[1,"text-white","rounded-lg","font-bold","px-6","py-2.5","text-xl","capitalize",2,"background-color","#4e48fe",3,"click"],[1,"share-btn","items-center","justify-center","font-medium","text-xl","flex","text-white","py-2.5","px-6","rounded-lg",3,"click"],["fill","#ffffff","viewBox","0 0 495.003 495.003",0,"xml","space","preserve",1,"h-5","ml-2"],["id","XMLID_51_"],["id","XMLID_53_","d","M164.711,456.687c0,2.966,1.647,5.686,4.266,7.072c2.617,1.385,5.799,1.207,8.245-0.468l55.09-37.616\n                  l-67.6-32.22V456.687z"],["id","XMLID_52_","d","M492.431,32.443c-1.513-1.395-3.466-2.125-5.44-2.125c-1.19,0-2.377,0.264-3.5,0.816L7.905,264.422\n                  c-4.861,2.389-7.937,7.353-7.904,12.783c0.033,5.423,3.161,10.353,8.057,12.689l125.342,59.724l250.62-205.99L164.455,364.414\n                  l156.145,74.4c1.918,0.919,4.012,1.376,6.084,1.376c1.768,0,3.519-0.322,5.186-0.977c3.637-1.438,6.527-4.318,7.97-7.956\n                  L494.436,41.257C495.66,38.188,494.862,34.679,492.431,32.443z"],[3,"shareLinkInput","isOpen","isOpenChange"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-modal",0,1),e.NdJ("didDismiss",function(){return n.isOpenChange.emit(!1)})("willPresent",function(){return n.handlePresent()}),e.YNc(2,le,26,14,"ng-template"),e.qZA(),e.YNc(3,de,1,2,"app-product-share-modal",2)),2&t&&e.Q6J("isOpen",n.isOpen)("keepContentsMounted",!0)},dependencies:[u.Pc,u.ki,f.ez,f.O5,C.aw,C.X$,c.m,y.M,ie.E,I.a,p.f,m.kb,m.KC,ne],styles:["ion-modal[_ngcontent-%COMP%]{--background: white;--border-radius: 8px;--width: 580px}app-daily-active-progress[_ngcontent-%COMP%]     .title{font-size:1.5rem;line-height:2rem}.share-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(7,121,255),rgb(9,35,255))}"]}),i})()},8174:(w,T,r)=>{r.d(T,{f:()=>y});var a=r(36895),f=r(95133),e=r(54463),b=r(82722),u=r(5565),C=r(44466),s=r(94650),M=r(56889),h=r(37978);function x(m,O){1&m&&(s.TgZ(0,"app-tooltip",11)(1,"div",12),s._UZ(2,"div",13),s.qZA(),s.TgZ(3,"div",14),s._uU(4),s.ALo(5,"translate"),s.qZA()()),2&m&&(s.xp6(4),s.Oqu(s.lcZ(5,1,"not-active")))}function c(m,O){1&m&&(s.TgZ(0,"app-tooltip",11)(1,"div",15),s._UZ(2,"img",16),s.qZA(),s.TgZ(3,"div",14),s._uU(4),s.ALo(5,"translate"),s.qZA()()),2&m&&(s.xp6(4),s.Oqu(s.lcZ(5,1,"active")))}const p=function(m){return{"reach-max":m}};let y=(()=>{class m extends u.V{constructor(_){super(),this.biddingService=_,this.disabledTooltip=!1,this.value=0,this.total=3e3,this.maximum=5e3}get percentage(){return this.value?Math.min(100,this.value/this.total*100):0}ngOnInit(){this.biddingService.activityStatistic$.pipe((0,b.R)(this.destroyStream$)).subscribe(_=>{_&&(this.value=_.todayTicketsUsedNum,this.maximum=_.doubleActiveTicketsNum,this.total=_.activeTicketsNum)})}}return m.\u0275fac=function(_){return new(_||m)(s.Y36(M.g))},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-daily-active-progress"]],inputs:{disabledTooltip:"disabledTooltip"},standalone:!0,features:[s.qOj,s.jDz],decls:19,vars:20,consts:[[1,"flex","items-start","font-bold","text-lg"],[1,"flex-1","text-center"],[1,"title","capitalize","text-[#353535]","text-xl","2xl:text-2xl","font-bold","mb-4","flex","items-center","justify-center"],["class","ml-1 flex",4,"ngIf"],[1,"progress-bar","border","border-solid","w-full","bg-white","rounded-full","h-6","overflow-hidden","mb-1",3,"ngClass"],[1,"progress","h-full","rounded-full","rounded-r-none"],[1,"block","w-full",3,"disabled"],["tooltipBtn","",1,"text-center","pointer-events-none","flex-1","relative","flex","items-center","justify-center","py-1","px-2"],["src","assets/images/ticket.png","alt","",1,"h-5","mr-1"],[1,"whitespace-nowrap"],[1,"tooltip-content-wrapper","p-2","text-left","text-base","capitalize"],[1,"ml-1","flex"],["tooltipBtn","",1,"p-1","cursor-pointer"],[1,"red-dot","h-3","w-3","flex-shrink-0","rounded-full"],[1,"p-2","font-medium","capitalize"],["tooltipBtn","",1,"check-icon","w-4","h-4","flex-shrink-0","flex","items-center","justify-center","rounded-full"],["src","assets/images/golden-check.png","alt","",1,"w-8/12"]],template:function(_,v){1&_&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2),s._uU(3),s.ALo(4,"translate"),s.YNc(5,x,6,3,"app-tooltip",3),s.YNc(6,c,6,3,"app-tooltip",3),s.qZA(),s.TgZ(7,"div",4),s._UZ(8,"div",5),s.qZA(),s.TgZ(9,"app-tooltip",6)(10,"div",7),s._UZ(11,"img",8),s.TgZ(12,"div",9),s._uU(13),s.ALo(14,"number"),s.ALo(15,"number"),s.qZA()(),s.TgZ(16,"div",10),s._uU(17),s.ALo(18,"translate"),s.qZA()()()()),2&_&&(s.xp6(3),s.hij(" ",s.lcZ(4,10,"my-daily-activity")," "),s.xp6(2),s.Q6J("ngIf",v.value<v.total),s.xp6(1),s.Q6J("ngIf",v.value>=v.total),s.xp6(1),s.Q6J("ngClass",s.VKq(18,p,v.value>=v.maximum)),s.xp6(1),s.Udp("width",v.percentage,"%"),s.xp6(1),s.Q6J("disabled",v.disabledTooltip),s.xp6(4),s.AsE(" ",s.lcZ(14,12,v.value)," / ",s.lcZ(15,14,v.total)," "),s.xp6(4),s.hij(" ",s.lcZ(18,16,"tickets-spent-today")," "))},dependencies:[f.Pc,a.ez,a.mk,a.O5,a.JJ,e.aw,e.X$,C.m,h.u],styles:['.progress-bar[_ngcontent-%COMP%]{border-color:#49a4fd;background-color:#f0f0f0}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{position:relative;transition:width .4s ease}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:100%;height:100%;position:absolute;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.3) 50%,rgba(255,255,255,0) 100%);animation:progress 3s infinite}.progress-bar[_ngcontent-%COMP%]{border-color:#dddd}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{background:linear-gradient(to right,#9804FE,#028BFF);box-shadow:0 0 .1em #b758fb inset,0 0 .1em #ad3ffb inset}.progress-bar.reach-max[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{background:linear-gradient(to right,#FFB71B,#F4DF8A);box-shadow:0 0 .1em #ffb71b inset,0 0 .1em #ffb71b inset}@keyframes progress{0%{transform:translate(-100%)}to{transform:translate(100%)}}@keyframes red-pulse{0%{box-shadow:0 0 #f30b1f}to{box-shadow:0 0 0 5px #fbb32f01}}.red-dot[_ngcontent-%COMP%]{background:#f30b1f;animation:red-pulse 1.5s infinite}.check-icon[_ngcontent-%COMP%]{background:linear-gradient(to right,#045EEF,#025DFC);box-shadow:0 0 0 2px #afc9f7}img.img-disabled[_ngcontent-%COMP%]{opacity:.5;filter:grayscale(1)}']}),m})()},35198:(w,T,r)=>{r.d(T,{M:()=>M});var a=r(94650),f=r(17445),e=r(24837),b=r(36895);function u(h,x){}const C=function(h,x,c,p){return{seconds:h,minutes:x,hours:c,days:p}},s=function(h){return{$implicit:h}};let M=(()=>{class h{constructor(c,p,y){this.platformId=c,this.ngZone=p,this.cdr=y,this.onTimeEnd=new a.vpe}getTimeDifference(){this.difference=new Date(this.time).getTime()-(new Date).getTime(),this.allocateTimeUnits(this.difference)}ngOnChanges(c){const p=c.time;p&&!p.isFirstChange()&&p.currentValue!==p.previousValue&&(console.log(1313134444),this.restart())}allocateTimeUnits(c){c<=0&&(c=0),this.seconds=Math.floor(c/1e3),this.minutes=Math.floor(this.seconds/60),this.hours=Math.floor(this.minutes/60),this.days=Math.floor(this.hours/24),this.hours%=24,this.minutes%=60,this.seconds%=60,0==this.hours&&0==this.minutes&&0==this.seconds&&(this.onTimeEnd.emit(),this.subscription?.unsubscribe()),this.hours=this.hours<10?"0"+this.hours:this.hours,this.minutes=this.minutes<10?"0"+this.minutes:this.minutes,this.seconds=this.seconds<10?"0"+this.seconds:this.seconds}ngOnInit(){this.restart()}restart(){this.subscription?.unsubscribe(),this.getTimeDifference(),this.cdr.detectChanges(),e.Z.isServer||this.ngZone.runOutsideAngular(()=>{this.subscription=(0,f.F)(1e3).subscribe(c=>{this.getTimeDifference(),this.cdr.detectChanges()})})}ngOnDestroy(){this.subscription?.unsubscribe()}}return h.\u0275fac=function(c){return new(c||h)(a.Y36(a.Lbi),a.Y36(a.R0b),a.Y36(a.sBO))},h.\u0275cmp=a.Xpm({type:h,selectors:[["app-countdown"]],contentQueries:function(c,p,y){if(1&c&&a.Suo(y,a.Rgc,5),2&c){let m;a.iGM(m=a.CRH())&&(p.templateRef=m.first)}},inputs:{time:"time"},outputs:{onTimeEnd:"onTimeEnd"},features:[a.TTD],decls:2,vars:9,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(c,p){1&c&&(a.ynx(0),a.YNc(1,u,0,0,"ng-template",0),a.BQk()),2&c&&(a.xp6(1),a.Q6J("ngTemplateOutlet",p.templateRef)("ngTemplateOutletContext",a.VKq(7,s,a.l5B(2,C,p.seconds,p.minutes,p.hours,p.days))))},dependencies:[b.tP],encapsulation:2}),h})()},78998:(w,T,r)=>{r.d(T,{G:()=>f});var a=r(94650);let f=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(u){return new(u||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-user-icon"]],decls:2,vars:0,consts:[["viewBox","0 0 896 896","focusable","false","fill","currentColor","width","100%","height","100%","data-icon","user","aria-hidden","true"],["d","M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"]],template:function(u,C){1&u&&(a.O4$(),a.TgZ(0,"svg",0),a._UZ(1,"path",1),a.qZA())},encapsulation:2}),e})()}}]);