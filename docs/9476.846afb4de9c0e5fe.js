"use strict";(self.webpackChunkangular_tyqoon_client=self.webpackChunkangular_tyqoon_client||[]).push([[9476],{82700:(I,T,s)=>{s.r(T),s.d(T,{ProductsModule:()=>Lt});var o=s(36895),f=s(81212),y=s(15861),u=s(95133),O=s(24499),m=s(57122),h=s(82722),p=s(54968),g=s(78372),C=s(17445),b=s(95698),x=s(24837),P=s(37340),t=s(94650),v=s(35482),a=s(77),d=s(46943),_=s(68605);let Z=(()=>{class e{constructor(){this.appPrefix="tyqoon"}getCacheString(n){return x.Z.isServer?null:localStorage.getItem(this.appPrefix+"."+n)}getCacheObject(n){if(x.Z.isServer)return null;const c=localStorage.getItem(this.appPrefix+"."+n);return c?JSON.parse(c):null}setCacheObject(n,c){x.Z.isServer||localStorage.setItem(this.appPrefix+"."+n,JSON.stringify(c))}setCacheString(n,c){x.Z.isServer||localStorage.setItem(this.appPrefix+"."+n,c)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var w=s(33095),F=s(10118),J=s(45329),k=s(56889),E=s(23284),G=s(46032),N=s(52646),Y=s(63225),H=s(23372),Q=s(49127),U=s(23556),$=s(45210),j=s(18215);let z=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-grid-two-icon"]],decls:4,vars:0,consts:[["fill","currentColor","viewBox","0 0 1000 1000","enable-background","new 0 0 1000 1000"],["d","M336.7,10h-245C46.5,10,10,46.5,10,91.7v245c0,45.1,36.5,81.7,81.7,81.7h245c45.2,0,81.7-36.6,81.7-81.7v-245C418.3,46.6,381.8,10,336.7,10z M908.3,10h-245c-45.2,0-81.7,36.5-81.7,81.7v245c0,45.1,36.5,81.7,81.7,81.7h245c45.2,0,81.7-36.6,81.7-81.7v-245C990,46.6,953.5,10,908.3,10z M336.7,581.7h-245c-45.2,0-81.7,36.5-81.7,81.7v245c0,45.1,36.5,81.7,81.7,81.7h245c45.2,0,81.7-36.6,81.7-81.7v-245C418.3,618.3,381.8,581.7,336.7,581.7z M908.3,581.7h-245c-45.2,0-81.7,36.5-81.7,81.7v245c0,45.1,36.5,81.7,81.7,81.7h245c45.2,0,81.7-36.6,81.7-81.7v-245C990,618.3,953.5,581.7,908.3,581.7z"]],template:function(n,c){1&n&&(t.O4$(),t.TgZ(0,"svg",0)(1,"g")(2,"g"),t._UZ(3,"path",1),t.qZA()()())},encapsulation:2}),e})(),D=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-grid-one-icon"]],decls:2,vars:0,consts:[["fill","currentColor","clip-rule","evenodd","fill-rule","evenodd","stroke-linejoin","round","stroke-miterlimit","2","viewBox","0 0 24 24"],["d","m21 4c0-.478-.379-1-1-1h-16c-.62 0-1 .519-1 1v16c0 .621.52 1 1 1h16c.478 0 1-.379 1-1z","fill-rule","nonzero"]],template:function(n,c){1&n&&(t.O4$(),t.TgZ(0,"svg",0),t._UZ(1,"path",1),t.qZA())},encapsulation:2}),e})(),K=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-grid-three-icon"]],decls:3,vars:0,consts:[["fill","currentColor","viewBox","0 0 1000 1000","enable-background","new 0 0 1000 1000",0,"xml","space","preserve"],["d","M212.5,10c20.9,0,38.6,7.3,53.1,21.8c14.5,14.5,21.8,32.3,21.8,53.1v127.5c0,20.9-7.3,38.6-21.8,53.1c-14.5,14.5-32.3,21.8-53.1,21.8H85c-20.9,0-38.6-7.3-53.1-21.8C17.3,251.1,10,233.4,10,212.5V85c0-20.9,7.3-38.6,21.8-53.1C46.4,17.3,64.1,10,85,10H212.5L212.5,10z M566,10c20.9,0,38.6,7.3,53.1,21.8C633.7,46.4,641,64.1,641,85v127.5c0,20.9-7.3,38.6-21.8,53.1c-14.5,14.5-32.3,21.8-53.1,21.8H436.2c-20.9,0-38.6-7.3-53.1-21.8c-14.5-14.5-21.8-32.3-21.8-53.1V85c0-20.9,7.3-38.6,21.8-53.1C397.6,17.3,415.3,10,436.2,10H566L566,10z M915,10c20.9,0,38.6,7.3,53.1,21.8C982.7,46.4,990,64.1,990,85v127.5c0,20.9-7.3,38.6-21.8,53.1c-14.5,14.5-32.3,21.8-53.1,21.8H785.3c-20.9,0-38.6-7.3-53.1-21.8c-14.5-14.5-21.8-32.3-21.8-53.1V85c0-20.9,7.3-38.6,21.8-53.1C746.7,17.3,764.4,10,785.3,10H915L915,10z M212.5,361.3c20.9,0,38.6,7.3,53.1,21.8c14.5,14.5,21.8,32.3,21.8,53.1v127.5c0,20.9-7.3,38.6-21.8,53.1c-14.5,14.5-32.3,21.8-53.1,21.8H85c-20.9,0-38.6-7.3-53.1-21.8C17.3,602.4,10,584.6,10,563.8V436.2c0-20.9,7.3-38.6,21.8-53.1c14.5-14.5,32.3-21.8,53.1-21.8H212.5L212.5,361.3z M566,361.3c20.9,0,38.6,7.3,53.1,21.8c14.5,14.5,21.8,32.3,21.8,53.1v127.5c0,20.9-7.3,38.6-21.8,53.1c-14.5,14.5-32.3,21.8-53.1,21.8H436.2c-20.9,0-38.6-7.3-53.1-21.8c-14.5-14.5-21.8-32.3-21.8-53.1V436.2c0-20.9,7.3-38.6,21.8-53.1c14.5-14.5,32.3-21.8,53.1-21.8H566L566,361.3z M915,361.3c20.9,0,38.6,7.3,53.1,21.8c14.5,14.5,21.8,32.3,21.8,53.1v127.5c0,20.9-7.3,38.6-21.8,53.1c-14.5,14.5-32.3,21.8-53.1,21.8H785.3c-20.9,0-38.6-7.3-53.1-21.8c-14.5-14.5-21.8-32.3-21.8-53.1V436.2c0-20.9,7.3-38.6,21.8-53.1c14.5-14.5,32.3-21.8,53.1-21.8H915L915,361.3z M212.5,712.6c20.9,0,38.6,7.3,53.1,21.8c14.5,14.5,21.8,32.3,21.8,53.1V915c0,20.9-7.3,38.6-21.8,53.1c-14.5,14.5-32.3,21.8-53.1,21.8H85c-20.9,0-38.6-7.3-53.1-21.8C17.3,953.6,10,935.9,10,915V787.5c0-20.9,7.3-38.6,21.8-53.1c14.5-14.5,32.3-21.8,53.1-21.8L212.5,712.6L212.5,712.6z M566,712.6c20.9,0,38.6,7.3,53.1,21.8c14.5,14.5,21.8,32.3,21.8,53.1V915c0,20.9-7.3,38.6-21.8,53.1C604.6,982.7,586.9,990,566,990H436.2c-20.9,0-38.6-7.3-53.1-21.8c-14.5-14.5-21.8-32.3-21.8-53.1V787.5c0-20.9,7.3-38.6,21.8-53.1c14.5-14.5,32.3-21.8,53.1-21.8H566L566,712.6z M915,712.6c20.9,0,38.6,7.3,53.1,21.8c14.5,14.5,21.8,32.3,21.8,53.1V915c0,20.9-7.3,38.6-21.8,53.1C953.6,982.7,935.9,990,915,990H785.3c-20.9,0-38.6-7.3-53.1-21.8c-14.5-14.5-21.8-32.3-21.8-53.1V787.5c0-20.9,7.3-38.6,21.8-53.1c14.5-14.5,32.3-21.8,53.1-21.8H915L915,712.6z"]],template:function(n,c){1&n&&(t.O4$(),t.TgZ(0,"svg",0)(1,"g"),t._UZ(2,"path",1),t.qZA()())},encapsulation:2}),e})();var R=s(39685),W=s(90147),V=s(11592),X=s(71832),S=s(97717),B=s(98667),q=s(48767),A=s(95030),tt=s(28151),nt=s(93774),L=s(54463);function et(e,r){1&e&&(t.TgZ(0,"div",9),t._UZ(1,"app-bidding-control-pane",16),t.qZA()),2&e&&(t.Q6J("@slideInOut",void 0),t.xp6(1),t.Q6J("isPopup",!0)("elementId","my-tickets-box"))}function ot(e,r){if(1&e&&(t.TgZ(0,"div",37),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"p",38),t._uU(4),t.qZA(),t._uU(5,' " '),t.qZA()),2&e){const n=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,2,"showing-results-for"),' " '),t.xp6(3),t.Oqu(n.searchValue)}}function it(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"button",44),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().$implicit,l=t.oxw(5);return t.KtG(l.onFilterClick({text:i.name,params:{brandId:i.id}}))}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"ion-icon",45),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(6);return t.KtG(i.filterSelect("brand"))}),t.qZA()()}if(2&e){const n=t.oxw().$implicit,c=t.oxw(5);t.Q6J("ngClass",n.id==c.selectedFilters.brandId?"bg-[#3a7ff4] text-white":"bg-[#F0F0F0] text-black"),t.xp6(2),t.Oqu(t.lcZ(3,2,n.name))}}function ct(e,r){if(1&e&&(t.TgZ(0,"span"),t.YNc(1,it,5,4,"button",43),t.qZA()),2&e){const n=r.$implicit,c=t.oxw(5);t.xp6(1),t.Q6J("ngIf",n.id==c.selectedFilters.brandId)}}function st(e,r){if(1&e&&(t.TgZ(0,"div",40)(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",41),t.YNc(5,ct,2,1,"span",42),t.qZA()()),2&e){const n=r.ngIf;t.xp6(2),t.hij("",t.lcZ(3,2,"brand"),": \xa0"),t.xp6(3),t.Q6J("ngForOf",n)}}function rt(e,r){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,st,6,4,"div",39),t.ALo(2,"async"),t.qZA()),2&e){const n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,n.brands$))}}function at(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"button",47),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().$implicit,l=t.oxw(5);return t.KtG(l.onFilterClick({text:i.key,params:{categoryId:i.id}}))}),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"ion-icon",45),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(6);return t.KtG(i.filterSelect("category"))}),t.qZA()()}if(2&e){const n=t.oxw().$implicit,c=t.oxw(5);t.Q6J("ngClass",n.id==c.selectedFilters.categoryId?"bg-[#3a7ff4] text-white":"bg-[#F0F0F0] text-black"),t.xp6(1),t.hij(" ",t.lcZ(2,2,n.key)," ")}}function lt(e,r){if(1&e&&(t.TgZ(0,"span"),t.YNc(1,at,4,4,"button",46),t.qZA()),2&e){const n=r.$implicit,c=t.oxw(5);t.xp6(1),t.Q6J("ngIf",n.id==c.selectedFilters.categoryId)}}function dt(e,r){if(1&e&&(t.TgZ(0,"div",40)(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",41),t.YNc(5,lt,2,1,"span",42),t.qZA()()),2&e){const n=r.ngIf;t.xp6(2),t.hij("",t.lcZ(3,2,"search-bar-category"),": \xa0"),t.xp6(3),t.Q6J("ngForOf",n)}}function pt(e,r){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,dt,6,4,"div",39),t.ALo(2,"async"),t.qZA()),2&e){const n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,n.categories$))}}function gt(e,r){if(1&e&&t._UZ(0,"app-product-card",50),2&e){const n=r.$implicit,c=t.oxw(2).ngLet,i=t.oxw().ngLet;t.Q6J("ngClass",i?"":"transform duration-75 ease-linear hover:scale-105")("id","productId-"+n.id)("product",n)("isLogin",!!c)("isBiddingMode",!!i)}}function ut(e,r){if(1&e&&(t.TgZ(0,"div",48),t.YNc(1,gt,1,5,"app-product-card",49),t.qZA()),2&e){const n=t.oxw(3);t.Tol(n.selectedGrid.class),t.xp6(1),t.Q6J("ngForOf",n.products)}}function _t(e,r){1&e&&(t.TgZ(0,"p",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"no-results-found")," "))}function ft(e,r){1&e&&t._UZ(0,"app-loading-spinner",52)}const mt=function(e){return{empty:e}};function ht(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"div",21)(5,"div",22)(6,"app-grid-one-icon",23),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.selectGrid(i.productGrid.ONE))}),t.qZA(),t.TgZ(7,"app-grid-two-icon",24),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.selectGrid(i.productGrid.TWO))}),t.qZA(),t.TgZ(8,"app-grid-three-icon",24),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.selectGrid(i.productGrid.THREE))}),t.qZA()(),t.TgZ(9,"div",25)(10,"p",26),t._uU(11,"Search Filters:"),t.qZA(),t.TgZ(12,"ion-fab-button",27),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.openMenu("productFilter"))}),t._UZ(13,"ion-icon",28),t.qZA()()()()(),t.TgZ(14,"div",29)(15,"div",30)(16,"div"),t.YNc(17,ot,6,4,"div",31),t.YNc(18,rt,3,3,"div",2),t.YNc(19,pt,3,3,"div",2),t.qZA(),t.TgZ(20,"app-pagination",32),t.NdJ("onPageClick",function(i){t.CHM(n);const l=t.oxw(2);return t.KtG(l.loadProductsByPage(i))}),t.qZA()(),t.YNc(21,ut,2,3,"div",33),t.YNc(22,_t,3,3,"ng-template",null,34,t.W1O),t.YNc(24,ft,1,0,"app-loading-spinner",35),t.TgZ(25,"app-pagination",36),t.NdJ("onPageClick",function(i){t.CHM(n);const l=t.oxw(2);return t.KtG(l.loadProductsByPage(i))}),t.qZA()()()()}if(2&e){const n=t.MAs(23),c=t.oxw().ngLet,i=t.oxw();t.ekj("bidding-container",c),t.xp6(6),t.Tol(i.productGrid.ONE.value===i.selectedGrid.value?"text-[#0086fd]":"text-[#d7d8dd]"),t.xp6(1),t.Tol(i.productGrid.TWO.value===i.selectedGrid.value?"text-[#0086fd]":"text-[#d7d8dd]"),t.xp6(1),t.Tol(i.productGrid.THREE.value===i.selectedGrid.value?"text-[#0086fd]":"text-[#d7d8dd]"),t.xp6(4),t.Q6J("ngClass",t.VKq(19,mt,!i.hasFiltered)),t.xp6(5),t.Q6J("ngIf",i.searchValue),t.xp6(1),t.Q6J("ngIf",i.selectedFilters.brandId),t.xp6(1),t.Q6J("ngIf",i.selectedFilters.categoryId),t.xp6(1),t.Q6J("curPage",i.curPage)("numOfPages",i.numOfPages),t.xp6(1),t.Q6J("ngIf",!i.isLoading&&i.products.length||i.isLoading)("ngIfElse",n),t.xp6(3),t.Q6J("ngIf",i.isLoading),t.xp6(1),t.Q6J("curPage",i.curPage)("numOfPages",i.numOfPages)}}function vt(e,r){1&e&&t._UZ(0,"app-cart-explosion",55)}const xt=function(e,r){return{"top.px":e,"left.px":r}};function Pt(e,r){if(1&e&&(t.TgZ(0,"div",53),t.YNc(1,vt,1,0,"app-cart-explosion",54),t.qZA()),2&e){const n=t.oxw(2);t.Q6J("ngStyle",t.WLB(1,xt,n.top,n.left))}}function Ct(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"ion-content",3),t.NdJ("ionScroll",function(i){t.CHM(n);const l=t.oxw();return t.KtG(l.onContentScroll(i))}),t._UZ(1,"app-global-customer-service"),t.TgZ(2,"ion-toolbar",4,5)(4,"div",6),t._UZ(5,"app-top-navbar",7)(6,"app-top-menu"),t.qZA(),t.TgZ(7,"div",8)(8,"div",9)(9,"div",10)(10,"div",11),t._UZ(11,"app-product-search-filters",12),t.qZA()()()(),t.YNc(12,et,2,3,"div",13),t.qZA(),t.YNc(13,ht,26,21,"div",14),t.ALo(14,"async"),t._UZ(15,"app-footer"),t.YNc(16,Pt,2,4,"div",15),t._UZ(17,"app-new-year-dragons"),t.qZA()}if(2&e){const n=r.ngLet,c=t.oxw();t.xp6(5),t.Q6J("forceFullWidthSearch",!0),t.xp6(7),t.Q6J("ngIf",n&&(c.splashBiddingPopup||c.showBiddingPaneAsPopup)),t.xp6(1),t.Q6J("ngLet",t.lcZ(14,4,c.userService.userInfo$)),t.xp6(3),t.Q6J("ngIf",n&&c.showExplosion)}}function bt(e,r){1&e&&t._UZ(0,"div",59)}function Tt(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"app-bidding-initial-launch-modal",60),t.NdJ("isOpenChange",function(i){t.CHM(n);const l=t.oxw(2);return t.KtG(l.showBiddingInitialLaunchModal=i)}),t.qZA()}if(2&e){const n=t.oxw(2);t.Q6J("isOpen",n.showBiddingInitialLaunchModal)("product",n.selectedProduct)}}function yt(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"app-missed-pool-modal",61),t.NdJ("isOpenChange",function(i){t.CHM(n);const l=t.oxw(2);return t.KtG(l.isOpenMissedPoolModal=i)}),t.qZA()}if(2&e){const n=t.oxw(2);t.Q6J("isOpen",n.isOpenMissedPoolModal)("poolId",n.missedPool.newPoolId)("productId",n.missedPool.productId)}}function Ot(e,r){if(1&e&&(t.ynx(0),t.YNc(1,bt,1,0,"div",56),t.YNc(2,Tt,1,2,"app-bidding-initial-launch-modal",57),t.YNc(3,yt,1,3,"app-missed-pool-modal",58),t.BQk()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.showBiddingInitialLaunchModal),t.xp6(1),t.Q6J("ngIf",n.isOpenMissedPoolModal&&n.missedPool)}}const wt=[{path:"",component:(()=>{class e extends O.c{constructor(n,c,i,l,M,Ft,Jt,kt,Et,Gt,Nt,Yt,Ht,Qt,Ut){super(n,c),this.route=i,this.productService=l,this.router=M,this.brandService=Ft,this.categoryService=Jt,this.sidebarService=kt,this.menuController=Et,this.cacheService=Gt,this.searchService=Nt,this.scrollToProductService=Yt,this.userService=Ht,this.biddingService=Qt,this.cdr=Ut,this.products=[],this.itemsPerPage=72,this.numOfPages=0,this.curPage=1,this.selectedGrid=m._Z.TWO,this.productGrid=m._Z,this.selectedFilters=m.AP.SHOW_ALL.params,this.showExplosion=!1,this.left=0,this.top=0,this.showBiddingInitialLaunchModal=!1,this.isBiddingMode=!1,this.isOpenMissedPoolModal=!1,this.isMobile=!!x.Z.isBrowser&&window.innerWidth<768,this.splashBiddingPopup=!1,this.showBiddingPaneAsPopup=!1}ngOnInit(){this.isBiddingMode=this.biddingService.isBiddingMode$.getValue(),this.biddingService.isBiddingMode$.pipe((0,h.R)(this.destroyStream$)).subscribe(n=>{this.isBiddingMode=n,this.itemsPerPage=this.isBiddingMode?24:72}),this.selectedGrid=this.cacheService.getCacheObject("selected-search-grid")||m._Z.TWO,this.route.queryParams.subscribe(n=>{const c=!n.haStock||"true"===n.haStock,i=!n.hasOpenPool||"true"===n.hasOpenPool,l=n.orderBy?parseInt(n.orderBy):0,M=Number(n.page||"1");this.searchValue=n.name,this.filter={...n,haStock:c,orderBy:l,page:M},this.getProducts(this.filter),this.selectedFilters={...n,hasOpenPool:i,haStock:c,orderBy:l,page:M},this.brandService.getBrandsByParams({rows:20,page:0,keyword:n.name||""}).subscribe(),this.categoryService.getCategoryByParams({rows:20,page:0,keyword:n.name||""}).subscribe(),this.categories$=this.categoryService.categories$,this.brands$=this.brandService.brands$}),x.Z.isBrowser&&(0,p.R)(window,"resize").pipe((0,h.R)(this.destroyStream$),(0,g.b)(100)).subscribe(n=>{this.isMobile=n.target.innerWidth<768}),this.initBiddingMode()}ngOnDestroy(){super.ngOnDestroy(),this.splashBiddingPopupSubscription&&this.splashBiddingPopupSubscription.unsubscribe()}initBiddingMode(){this.biddingService.onLaunchInitialPool$.pipe((0,h.R)(this.destroyStream$)).subscribe(n=>{this.showBiddingInitialLaunchModal=!0,this.selectedProduct=n}),x.Z.isBrowser&&(this.biddingService.biddingClicked$.pipe((0,h.R)(this.destroyStream$),(0,g.b)(1e3)).subscribe(n=>{if(this.biddingService.noOfClicks>=3&&this.biddingService.animationTarget){const i=document.querySelectorAll(this.biddingService.animationTarget);if(!i?.length)return;for(let l=0;l<i.length&&(this.top=i[l].getBoundingClientRect().top,this.left=i[l].getBoundingClientRect().left,!(this.left>=0));l++);this.cdr.detectChanges(),this.showExplosion=!0,setTimeout(()=>{this.showExplosion=!1},2500)}this.biddingService.noOfClicks=0}),this.biddingService.onBeforeBid$.pipe((0,h.R)(this.destroyStream$)).subscribe(()=>{this.splashBiddingPopupSubscription&&this.splashBiddingPopupSubscription.unsubscribe(),this.splashBiddingPopup=!0,this.splashBiddingPopupSubscription=(0,C.F)(1500).pipe((0,b.q)(1)).subscribe(()=>{this.splashBiddingPopup=!1})})),this.biddingService.onPoolMissed$.pipe((0,h.R)(this.destroyStream$)).subscribe(n=>{this.biddingService.onLaunchFinished$.next(!0),this.missedPool=n,this.isOpenMissedPoolModal=!0}),this.biddingService.cancelBiddingInProgressTimer()}get hasFiltered(){if(!this.filter)return!1;const n=Object.keys(this.filter).filter(c=>"page"!==c&&"name"!==c).length;return!(!0===this.filter.haStock&&0==this.filter.orderBy&&2===n)}getProducts(n){let c;if(this.products=[],this.isLoading=!0,this.curPage=n.page||1,this.isBiddingMode){const i={page:this.curPage-1,rows:this.itemsPerPage};n.hasOpenPool&&(i.hasOpenPool=n.hasOpenPool),n.orderBy&&(i.sortType=n.orderBy),n.name&&(i.productName=n.name),n.categoryId&&(i.productCategoryId=n.categoryId),n.productArea&&(i.productArea=n.productArea),n.isSpecialSale&&(i.isSpecialSale=n.isSpecialSale),c=this.biddingService.getProductsWithPoolInfo(i)}else c=this.productService.getProductsByMetaParamsV2({rows:this.itemsPerPage,...n,page:this.curPage-1});c.subscribe(i=>{n.name&&this.searchService.cacheKeyword(n.name),this.products=i.rows||[],this.numOfPages=Math.ceil(i.total/this.itemsPerPage),this.isLoading=!1,setTimeout(()=>{this.scrollToProduct()},300)})}filterSelect(n){console.log(n)}onFilterClick(n){let c=this.selectedFilters;Object.keys(n.params).forEach(l=>{"haStock"!=l&&c[l]==n.params[l]?delete c[l]:c={...c,[l]:n.params[l]}}),this.selectedFilters=c;const i=this.router.url.split("?")[0];this.router.navigate([i],{queryParams:{...this.selectedFilters,page:1}})}selectGrid(n){this.selectedGrid=n,this.cacheService.setCacheObject("selected-search-grid",n)}loadProductsByPage(n){this.content.scrollToTop(0);const c=this.router.url.split("?")[0];this.router.navigate([c],{queryParams:{page:n},queryParamsHandling:"merge"})}openMenu(n){var c=this;return(0,y.Z)(function*(){yield c.menuController.enable(!0,n),yield c.menuController.open(n),c.sidebarService.setOpen()})()}onContentScroll(n){super.onContentScroll(n),this.showBiddingPaneAsPopup=n.detail.scrollTop>(this.isMobile?50:100)}scrollToProduct(){const n=this.scrollToProductService.getProductIdToFocus();if(n){const c=this.element.nativeElement.querySelector(`#productId-${n}`);c&&(this.content.scrollToPoint(0,c.offsetTop-c.clientHeight),this.scrollToProductService.setProductIdToFocus(null))}}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(f.gz),t.Y36(v.s),t.Y36(f.F0),t.Y36(a.G),t.Y36(d.H),t.Y36(_.U),t.Y36(u._q),t.Y36(Z),t.Y36(w.o),t.Y36(F.h),t.Y36(J.K),t.Y36(k.g),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-products"]],viewQuery:function(n,c){if(1&n&&(t.Gf(u.ju,5),t.Gf(u.W2,5)),2&n){let i;t.iGM(i=t.CRH())&&(c.infiniteScroll=i.first),t.iGM(i=t.CRH())&&(c.content=i.first)}},features:[t.qOj],decls:6,vars:6,consts:[["fullscreen","true","scrollEvents","true","backToTopBtn","",3,"ionScroll",4,"ngLet"],[1,"mt-4","md:hidden"],[4,"ngIf"],["fullscreen","true","scrollEvents","true","backToTopBtn","",3,"ionScroll"],["appOverflowVisible","",1,"sticky","top-0","shadow-lg","z-50"],["header",""],[1,"z-10","relative"],[3,"forceFullWidthSearch"],[1,"tyqoon-container","m-auto","hidden","lg:block"],[1,"relative"],[1,"absolute","left-0","top-full"],[1,"sticky-wrapper","mt-4"],[1,"m-auto"],["class","relative",4,"ngIf"],["class","tyqoon-container min-h-[70vh]",3,"bidding-container",4,"ngLet"],["class","explosion-container fixed z-50 pointer-events-none select-none",3,"ngStyle",4,"ngIf"],[1,"filter-popup","top-2.5","md:top-5","lg:top-3","left-0","right-0","absolute","mx-auto",3,"isPopup","elementId"],[1,"tyqoon-container","min-h-[70vh]"],[1,"flex","flex-col","lg:grid","lg:grid-cols-[225px_1fr]","py-4","gap-4"],[1,"flex","flex-col","items-center","h-full"],[1,"flex","items-center","w-full","px-2"],[1,"flex","items-center","w-full"],[1,"gap-3","items-center","hidden","bg-[#f2f3f4]","p-[5px]","rounded-md","border","border-[#eaeaea]","xs:flex","sm:hidden"],[1,"h-[27px]","w-[27px]","block",3,"click"],[1,"h-[22px]","w-[22px]","block",3,"click"],[1,"ml-auto","gap-2","justify-center","items-center","flex","lg:hidden"],[1,"text-[#d1d1d1]","font-medium"],["size","small",1,"m-0",3,"ngClass","click"],["name","options-outline"],[1,"relative","flex","flex-col","items-center","pb-10","lg:py-4"],[1,"flex","flex-col","gap-y-2","items-center","justify-center","w-full","mb-10","md:justify-between","md:items-end","md:flex-row"],["class","text-sm text-[#9f9f9f] whitespace-nowrap font-bold items-center flex",4,"ngIf"],[1,"md:ml-auto","md:mb-auto",3,"curPage","numOfPages","onPageClick"],["class","grid grid-cols-1 gap-x-2 gap-y-8 mb-8 sm:grid-cols-4 md:grid-cols-5 xl:grid-cols-6 w-full",3,"class",4,"ngIf","ngIfElse"],["productsEmpty",""],["text","loading","class","mb-10",4,"ngIf"],[3,"curPage","numOfPages","onPageClick"],[1,"text-sm","text-[#9f9f9f]","whitespace-nowrap","font-bold","items-center","flex"],[1,"inline-block","max-w-[200px]","truncate"],["class","flex items-center mt-2",4,"ngIf"],[1,"flex","items-center","mt-2"],[1,"flex","flex-wrap","gap-2"],[4,"ngFor","ngForOf"],["class","whitespace-nowrap text-xs font-medium rounded-full py-1 px-2 hover:opacity-90 line-clamp-1 break-all",3,"ngClass","click",4,"ngIf"],[1,"whitespace-nowrap","text-xs","font-medium","rounded-full","py-1","px-2","hover:opacity-90","line-clamp-1","break-all",3,"ngClass","click"],["slot","end","name","close",3,"click"],["class","whitespace-nowrap text-xs font-medium rounded-full py-1 px-2 hover:opacity-90",3,"ngClass","click",4,"ngIf"],[1,"whitespace-nowrap","text-xs","font-medium","rounded-full","py-1","px-2","hover:opacity-90",3,"ngClass","click"],[1,"grid","grid-cols-1","gap-x-2","gap-y-8","mb-8","sm:grid-cols-4","md:grid-cols-5","xl:grid-cols-6","w-full"],[3,"ngClass","id","product","isLogin","isBiddingMode",4,"ngFor","ngForOf"],[3,"ngClass","id","product","isLogin","isBiddingMode"],[1,"text-[14px]","text-[#919191]","absolute","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2"],["text","loading",1,"mb-10"],[1,"explosion-container","fixed","z-50","pointer-events-none","select-none",3,"ngStyle"],["url","assets/images/ticket.png","class","h-1 block pointer-events-none",4,"isBrowser"],["url","assets/images/ticket.png",1,"h-1","block","pointer-events-none"],["biddingAnimations","",4,"isBrowser"],[3,"isOpen","product","isOpenChange",4,"ngIf"],[3,"isOpen","poolId","productId","isOpenChange",4,"ngIf"],["biddingAnimations",""],[3,"isOpen","product","isOpenChange"],[3,"isOpen","poolId","productId","isOpenChange"]],template:function(n,c){1&n&&(t.YNc(0,Ct,18,6,"ion-content",0),t.ALo(1,"async"),t.TgZ(2,"ion-footer",1),t._UZ(3,"app-bottom-navbar"),t.qZA(),t.YNc(4,Ot,4,2,"ng-container",2),t.ALo(5,"async")),2&n&&(t.Q6J("ngLet",t.lcZ(1,2,c.biddingService.isBiddingMode$)),t.xp6(4),t.Q6J("ngIf",t.lcZ(5,4,c.biddingService.isBiddingMode$)))},dependencies:[o.mk,o.sg,o.O5,o.PC,u.W2,u.W4,u.fr,u.gu,u.sr,E.Y,G.K,N.c,Y.E,H.g,Q.H,U.Q,$.B,j.Z,z,D,K,R.M,W.h,V.t,X.Y,S.O,B.z,q.z,A.h,tt.p,nt.z,o.Ov,L.X$],styles:['@charset "UTF-8";ion-toolbar[appOverflowVisible][_ngcontent-%COMP%]{contain:none}.sticky-wrapper[_ngcontent-%COMP%]{width:225px}ion-fab-button[_ngcontent-%COMP%]{--box-shadow: none}ion-fab-button.empty[_ngcontent-%COMP%]{--background: transparent;--color: #66696d;--border-width: 1px;--border-style: solid;--border-color: #e5e7eb}.btn-with-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-top:1px}.btn-with-size[_ngcontent-%COMP%]{font-size:16px}.explosion-container[_ngcontent-%COMP%]{width:700px;transform:translate(-250px) translateY(-300px)}.filter-popup[_ngcontent-%COMP%]{width:215px;background:transparent}@media (min-width: 768px){.filter-popup[_ngcontent-%COMP%]{width:250px}.filter-popup[_ngcontent-%COMP%]     .popup-content{width:247px}}'],data:{animation:[(0,P.X$)("slideInOut",[(0,P.eR)(":enter",[(0,P.oB)({transform:"translateY(-60px)",opacity:0}),(0,P.jt)("200ms ease-out",(0,P.oB)({transform:"translateY(0)",opacity:1}))]),(0,P.eR)(":leave",[(0,P.jt)("200ms ease-out",(0,P.oB)({transform:"translateY(-60px)",opacity:0}))])])]}}),e})()}];let Zt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[f.Bz.forChild(wt),f.Bz]}),e})();var Mt=s(99485),It=s(24006),St=s(44466),Bt=s(1927),At=s(1241);let Lt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[o.ez,Zt,u.Pc,L.aw,Mt.kz,It.u5,St.m,Bt.n,S.O,B.z,A.h,At.x]}),e})()},23556:(I,T,s)=>{s.d(T,{Q:()=>P});var o=s(94650),f=s(54968),y=s(78372),u=s(36895),O=s(69975);function m(t,v){if(1&t){const a=o.EpF();o.TgZ(0,"li",6),o.NdJ("click",function(){o.CHM(a);const _=o.oxw(2);return o.KtG(_.onPageClick.emit(1))}),o._UZ(1,"app-chevron-right-icon",7)(2,"app-chevron-right-icon",7),o.qZA()}}function h(t,v){if(1&t){const a=o.EpF();o.TgZ(0,"li",8),o.NdJ("click",function(){o.CHM(a);const _=o.oxw(2);return o.KtG(_.onPageClick.emit(_.curPage-1))}),o._UZ(1,"app-chevron-right-icon",7),o.qZA()}}const p=function(t){return{active:t}};function g(t,v){if(1&t){const a=o.EpF();o.TgZ(0,"li",9),o.NdJ("click",function(){const Z=o.CHM(a).$implicit,w=o.oxw(2);return o.KtG(w.onPageClick.emit(Z))}),o._uU(1),o.qZA()}if(2&t){const a=v.$implicit,d=o.oxw(2);o.Q6J("ngClass",o.VKq(2,p,d.curPage===a)),o.xp6(1),o.hij(" ",a," ")}}function C(t,v){if(1&t){const a=o.EpF();o.TgZ(0,"li",8),o.NdJ("click",function(){o.CHM(a);const _=o.oxw(2);return o.KtG(_.onPageClick.emit(_.curPage+1))}),o._UZ(1,"app-chevron-right-icon",10),o.qZA()}}function b(t,v){if(1&t){const a=o.EpF();o.TgZ(0,"li",11),o.NdJ("click",function(){o.CHM(a);const _=o.oxw(2);return o.KtG(_.onPageClick.emit(_.numOfPages))}),o._UZ(1,"app-chevron-right-icon",10)(2,"app-chevron-right-icon",10),o.qZA()}}function x(t,v){if(1&t&&(o.TgZ(0,"ul",1),o.YNc(1,m,3,0,"li",2),o.YNc(2,h,2,0,"li",3),o.YNc(3,g,2,4,"li",4),o.YNc(4,C,2,0,"li",3),o.YNc(5,b,3,0,"li",5),o.qZA()),2&t){const a=o.oxw();o.xp6(1),o.Q6J("ngIf",a.curPage>1),o.xp6(1),o.Q6J("ngIf",a.curPage>1),o.xp6(1),o.Q6J("ngForOf",a.shownPages),o.xp6(1),o.Q6J("ngIf",a.curPage<a.numOfPages),o.xp6(1),o.Q6J("ngIf",a.curPage<a.numOfPages)}}let P=(()=>{class t{constructor(a){this.ref=a,this.onPageClick=new o.vpe,this.shownPagesLimit=5}get shownPages(){try{const a=Math.floor(this.shownPagesLimit/2);let d=Math.max(1,this.curPage-a);const _=Math.min(d+this.shownPagesLimit,this.numOfPages+1);return this.curPage+a>this.numOfPages&&(d-=this.curPage+a-this.numOfPages,d=Math.max(1,d)),[...Array(_-d)].map((Z,w)=>d+w)}catch{return[]}}ngOnInit(){if(typeof window<"u"){const{innerWidth:a}=window;this.setShowPagesLimit(a),this.subscription=(0,f.R)(window,"resize").pipe((0,y.b)(300)).subscribe(d=>{this.setShowPagesLimit(d.target.innerWidth)})}}ngOnDestroy(){this.subscription?.unsubscribe()}setShowPagesLimit(a){this.shownPagesLimit=a>340?5:3,this.ref.markForCheck()}}return t.\u0275fac=function(a){return new(a||t)(o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-pagination"]],inputs:{curPage:"curPage",numOfPages:"numOfPages"},outputs:{onPageClick:"onPageClick"},decls:1,vars:1,consts:[["class","pagination flex space-x-2",4,"ngIf"],[1,"pagination","flex","space-x-2"],["class","pagination__first bg-gray-100 items-center justify-center p-1 rounded border font-bold cursor-pointer",3,"click",4,"ngIf"],["class","flex items-center justify-center p-1 rounded border font-bold cursor-pointer bg-gray-100",3,"click",4,"ngIf"],["class","flex items-center justify-center p-1 rounded border font-bold cursor-pointer bg-white",3,"ngClass","click",4,"ngFor","ngForOf"],["class","pagination__last bg-gray-100 items-center justify-center p-1 rounded border font-bold cursor-pointer",3,"click",4,"ngIf"],[1,"pagination__first","bg-gray-100","items-center","justify-center","p-1","rounded","border","font-bold","cursor-pointer",3,"click"],[1,"w-2","h-auto","transform","rotate-180"],[1,"flex","items-center","justify-center","p-1","rounded","border","font-bold","cursor-pointer","bg-gray-100",3,"click"],[1,"flex","items-center","justify-center","p-1","rounded","border","font-bold","cursor-pointer","bg-white",3,"ngClass","click"],[1,"w-2","h-auto"],[1,"pagination__last","bg-gray-100","items-center","justify-center","p-1","rounded","border","font-bold","cursor-pointer",3,"click"]],template:function(a,d){1&a&&o.YNc(0,x,6,5,"ul",0),2&a&&o.Q6J("ngIf",d.shownPages.length)},dependencies:[u.mk,u.sg,u.O5,O.B],styles:[".pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-width:2.5rem;transition:all .15s ease-in-out}.pagination[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{pointer-events:none;--tw-border-opacity: 1;border-color:rgb(255 126 24 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(255 126 24 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));transition:all .15s ease-in-out}@media (min-width: 640px){.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.active):hover{--tw-border-opacity: 1;border-color:rgb(255 126 24 / var(--tw-border-opacity));--tw-text-opacity: 1;color:rgb(255 126 24 / var(--tw-text-opacity))}}.pagination__first[_ngcontent-%COMP%], .pagination__last[_ngcontent-%COMP%]{display:none}@media only screen and (min-width: 480px){.pagination__first[_ngcontent-%COMP%], .pagination__last[_ngcontent-%COMP%]{display:flex}}"],changeDetection:0}),t})()},10556:(I,T,s)=>{s.d(T,{p:()=>O});var o=s(15861),f=s(94650),y=s(54463),u=s(95133);let O=(()=>{class m{constructor(p,g){this.i18n=p,this.toast=g,this.payload="",this.showToast=!1,this.copied=new f.vpe,this.elementClass="app-copying-directive"}onClick(p){if(p.preventDefault(),p.stopPropagation(),!this.payload)return;let g=b=>{(b.clipboardData||window.clipboardData).setData("text",this.payload.toString()),b.preventDefault(),this.showToast&&this.toastSuccess(this.i18n.instant("order-button-copied")),this.copied.emit(this.payload)};document.addEventListener("copy",g,!1),document.execCommand("copy"),document.removeEventListener("copy",g,!1);const C=p?.target?.closest(".app-copying-directive");C&&(C.classList.add("copied"),setTimeout(()=>{C.classList.remove("copied")},1e3))}toastSuccess(p){var g=this;return(0,o.Z)(function*(){yield g.presentToast({position:"bottom",message:p,duration:1e3,icon:"checkmark-circle-outline",color:"success"})})()}presentToast(p){var g=this;return(0,o.Z)(function*(){yield(yield g.toast.create(p)).present()})()}}return m.\u0275fac=function(p){return new(p||m)(f.Y36(y.sK),f.Y36(u.yF))},m.\u0275dir=f.lG2({type:m,selectors:[["","appCopying",""]],hostVars:2,hostBindings:function(p,g){1&p&&f.NdJ("click",function(b){return g.onClick(b)}),2&p&&f.Tol(g.elementClass)},inputs:{payload:["appCopying","payload"],showToast:"showToast"},outputs:{copied:"copied"}}),m})()}}]);