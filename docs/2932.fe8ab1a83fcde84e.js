"use strict";(self.webpackChunkangular_tyqoon_client=self.webpackChunkangular_tyqoon_client||[]).push([[2932],{59980:(S,D,i)=>{i.d(D,{X:()=>P});var t=i(92340),e=i(54004),u=i(94650),T=i(80529),O=i(94830);let P=(()=>{class c{constructor(f,v){this.http=f,this.userService=v}getExchangeRate(){return this.http.get(`${t.N.BASE_URL}/user/point/queryTyqoonDollarExchangeBalanceConfig`).pipe((0,e.U)(f=>(f.data.minAmount=parseFloat(f.data.minAmount),f)))}exchangeBalance(f){return this.http.post(`${t.N.BASE_URL}/user/point/tyqoonDollarExchangeBalance`,{amount:f})}getDepositHistory(f){return this.http.get(`${t.N.BASE_URL}/user/deposit/query`,{params:f})}getRebateRecords(f){return this.http.get(`${t.N.BASE_URL}/user/wallet/rebateRecord`,{params:f})}queryGiftCode(f){return this.http.get(`${t.N.BASE_URL}/user/order/queryExchangeCode`,{params:f})}getPoints(f){return this.http.get(`${t.N.BASE_URL}/user/point/query`,{params:f})}}return c.\u0275fac=function(f){return new(f||c)(u.LFG(T.eN),u.LFG(O.K))},c.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},93679:(S,D,i)=>{i.d(D,{K:()=>f});var t=i(36895),e=i(7507),u=i(95133),T=i(54463),O=i(82722),P=i(5565),c=i(94650),b=i(94830);let f=(()=>{class v extends P.V{constructor(p){super(),this.userService=p,this.fontSize="text-[28px] lg:text-3xl"}ngOnInit(){this.userService.pointStatistic$.pipe((0,O.R)(this.destroyStream$)).subscribe(p=>{this.pointStatistic=p})}}return v.\u0275fac=function(p){return new(p||v)(c.Y36(b.K))},v.\u0275cmp=c.Xpm({type:v,selectors:[["app-my-rebate-credit"]],inputs:{fontSize:"fontSize"},standalone:!0,features:[c.qOj,c.jDz],decls:11,vars:9,consts:[["routerLink","/member/store-credits",1,"flex-1","flex","items-center"],[1,"rebate-credit-container","border-gradient-primary","border-2","rounded-lg","w-full","bg-white","py-[2px]","flex"],["src","assets/images/circle-credit-small.png","alt","",1,"h-10","self-center","rebate-logo","ml-2","absolute"],[1,"flex-1","pl-8","text-center","flex","flex-col","justify-between","p-1.5"],[1,"title-txt","text-center","font-bold","whitespace-nowrap","text-lg","sm:text-base"],[1,"point-txt","point-txt","text-center","text-rainbow","font-bold","text-golden","-mt-0.5"]],template:function(p,x){1&p&&(c.TgZ(0,"a",0)(1,"div",1),c._UZ(2,"img",2),c.TgZ(3,"div",3)(4,"p",4),c._uU(5),c.ALo(6,"translate"),c.qZA(),c.TgZ(7,"p",5)(8,"span"),c._uU(9),c.ALo(10,"number"),c.qZA()()()()()),2&p&&(c.xp6(5),c.hij(" ",c.lcZ(6,4,"tqc-discount-credits-v1-1-my")," "),c.xp6(2),c.Tol(x.fontSize),c.xp6(2),c.hij(" ",c.xi3(10,6,(null==x.pointStatistic?null:x.pointStatistic.myRebateCredits)||0,"0.2-2")," "))},dependencies:[t.ez,t.JJ,T.aw,T.X$,u.Pc,u.Fo,e.Bz,e.yS],styles:[".text-golden[_ngcontent-%COMP%]{color:#ffb341}"]}),v})()},3582:(S,D,i)=>{i.d(D,{Z:()=>K});var t=i(15861),e=i(94650),u=i(95133),T=i(82722),O=i(49808),P=i(5963),c=i(5565),b=i(87692),f=i(59980),v=i(94830),Z=i(69975),p=i(24006),x=i(36895),m=i(65433),_=i(6227),C=i(54463);const M=["popover"];function E(h,A){if(1&h&&(e.TgZ(0,"div",51),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&h){const o=e.oxw(2);e.xp6(1),e.AsE(" ",e.lcZ(2,2,"min-amount"),": ",o.minAmount," ")}}function U(h,A){1&h&&(e.TgZ(0,"div",51),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&h&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"not-enough-dollars")," "))}function k(h,A){if(1&h){const o=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"app-chevron-right-icon",6),e.NdJ("click",function(){e.CHM(o),e.oxw();const d=e.MAs(1);return e.KtG(d.dismiss())}),e.qZA(),e.TgZ(3,"span",7),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"button",8),e.NdJ("click",function(){e.CHM(o),e.oxw();const d=e.MAs(1);return e.KtG(d.dismiss())}),e.O4$(),e.TgZ(7,"svg",9),e._UZ(8,"path",10),e.qZA()()(),e.kcU(),e.TgZ(9,"ng-scrollbar",11)(10,"div",12)(11,"div",13),e._UZ(12,"app-dollar-dropdown",14),e.qZA(),e.TgZ(13,"div",15)(14,"div",16),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",17),e._UZ(18,"img",18),e.TgZ(19,"ion-input",19),e.NdJ("ngModelChange",function(d){e.CHM(o);const w=e.oxw();return e.KtG(w.amount=d)})("ionChange",function(d){e.CHM(o);const w=e.oxw();return e.KtG(w.handleChange(d))})("ionBlur",function(){e.CHM(o);const d=e.oxw();return e.KtG(d.onBlurNumber())}),e.qZA()()(),e.TgZ(20,"div",20)(21,"ion-range",21),e.NdJ("ngModelChange",function(d){e.CHM(o);const w=e.oxw();return e.KtG(w.amount=d)}),e.qZA(),e.TgZ(22,"div",22),e.NdJ("click",function(){e.CHM(o);const d=e.oxw();return e.KtG(d.amount=d.maxAmount)}),e._uU(23),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",23)(26,"div",24),e.O4$(),e.TgZ(27,"svg",25),e._UZ(28,"path",26),e.qZA()()(),e.kcU(),e.TgZ(29,"div",27),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"div",28),e.NdJ("click",function(d){e.CHM(o);const w=e.oxw();return e.KtG(w.handleSelectOpen(d))}),e._UZ(33,"img",29),e.TgZ(34,"ion-label",30),e._uU(35),e.ALo(36,"number"),e.qZA(),e._UZ(37,"ion-icon",31),e.qZA(),e.TgZ(38,"div",32)(39,"span",33),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"span",34),e._uU(43),e.ALo(44,"number"),e.qZA()(),e.TgZ(45,"div",35),e._UZ(46,"img",36),e.TgZ(47,"span"),e._uU(48,"1.00"),e.qZA(),e.TgZ(49,"span",37),e._uU(50,"="),e.qZA(),e._UZ(51,"img",38),e.TgZ(52,"span"),e._uU(53),e.ALo(54,"number"),e.qZA()(),e._UZ(55,"div",39),e.TgZ(56,"div",40)(57,"div",41),e._uU(58),e.ALo(59,"translate"),e.qZA(),e.TgZ(60,"div",42)(61,"div",43),e._uU(62),e.ALo(63,"number"),e.qZA(),e._UZ(64,"img",44),e.qZA()(),e.TgZ(65,"div",45)(66,"div",41),e._uU(67),e.ALo(68,"translate"),e.qZA(),e.TgZ(69,"div",46),e._uU(70),e.ALo(71,"number"),e.qZA()(),e._UZ(72,"div",39),e.qZA(),e.TgZ(73,"div",47),e.YNc(74,E,3,4,"div",48),e.YNc(75,U,3,3,"div",48),e.qZA(),e.TgZ(76,"div",49)(77,"button",50),e.NdJ("click",function(){e.CHM(o);const d=e.oxw(),w=e.MAs(1);return e.KtG(d.handleSubmit(w))}),e._uU(78),e.ALo(79,"translate"),e.qZA()()()}if(2&h){const o=e.oxw();let l;e.xp6(4),e.Oqu(e.lcZ(5,31,"convert-tyqoon-dollars")),e.xp6(5),e.Q6J("autoHeightDisabled",!1),e.xp6(3),e.Q6J("showDropdown",!1),e.xp6(3),e.hij(" ",e.lcZ(16,33,"convert-modal-amount-to-convert-label")," "),e.xp6(4),e.Q6J("ngModel",o.amount)("max",o.maxAmount),e.xp6(2),e.Q6J("disabled",0==o.maxAmount)("ngModel",o.amount)("min",0==o.maxAmount?0:o.minAmount)("max",o.maxAmount),e.xp6(2),e.hij(" ",e.lcZ(24,35,"max")," "),e.xp6(7),e.hij(" ",e.lcZ(31,37,o.selectedAsset.amountLabel),": "),e.xp6(3),e.Q6J("src",o.selectedAsset.logo,e.LSH)("alt",o.convertType),e.xp6(1),e.Udp("color",o.isConvertToCredits?"#000000":"#f48300"),e.xp6(1),e.hij(" ",e.xi3(36,39,o.convertFrom(o.amount),"0.0-2")," "),e.xp6(5),e.hij(" ",e.lcZ(41,42,"balance")," "),e.xp6(3),e.hij(" ",e.xi3(44,44,o.isConvertToCredits&&null!==(l=null==o.userInfo?null:o.userInfo.balance)&&void 0!==l?l:0,"0.2-2")," "),e.xp6(3),e.Q6J("src",o.selectedAsset.logo,e.LSH)("alt",o.convertType),e.xp6(7),e.Oqu(e.xi3(54,47,o.convertTo(1),"0.2-2")),e.xp6(5),e.hij(" ",e.lcZ(59,50,"dollars-to-convert")," "),e.xp6(4),e.hij(" ",e.xi3(63,52,-o.amount,"1.2-2")," "),e.xp6(5),e.hij(" ",e.lcZ(68,55,"conversion-fee")," "),e.xp6(3),e.hij(" ",e.xi3(71,57,-o.amount*o.feeRate,"1.2-2")," \uffe5 "),e.xp6(3),e.Q6J("ngSwitch",!0),e.xp6(1),e.Q6J("ngSwitchCase",o.amount<o.minAmount),e.xp6(1),e.Q6J("ngSwitchCase",o.amount>o.maxAmount),e.xp6(2),e.Q6J("disabled",o.maxAmount<o.minAmount||o.amount>o.maxAmount||o.amount<o.minAmount),e.xp6(1),e.hij(" ",e.lcZ(79,60,"convert-dollars")," ")}}function L(h,A){1&h&&e._UZ(0,"img",59)}const J=function(h){return{"border-b border-main-border":h}};function B(h,A){if(1&h){const o=e.EpF();e.TgZ(0,"div",54),e.NdJ("click",function(){const w=e.CHM(o).$implicit,I=e.oxw(2);return e.KtG(I.selectAsset(w))}),e.TgZ(1,"div",55)(2,"div",42),e._UZ(3,"img",56),e.TgZ(4,"div",57),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.YNc(7,L,1,0,"img",58),e.qZA()()}if(2&h){const o=A.$implicit,l=A.index,d=e.oxw(2);e.Q6J("ngClass",e.VKq(7,J,l<d.assets.length-1)),e.xp6(3),e.Q6J("src",o.logo,e.LSH)("alt",o.name),e.xp6(2),e.Oqu(e.lcZ(6,5,o.name)),e.xp6(2),e.Q6J("ngIf",d.selectedAsset.type===o.type)}}function F(h,A){if(1&h&&(e.TgZ(0,"div",52),e.YNc(1,B,8,9,"div",53),e.qZA()),2&h){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.assets)}}let K=(()=>{class h extends c.V{constructor(o,l,d){super(),this.walletService=o,this.userService=l,this.toast=d,this.amount=0,this.convertType=b.K.Credits,this.isOpenChange=new e.vpe,this.amountChange=new e.vpe,this.convertTypeChange=new e.vpe,this.isMenuOpen=!1,this.exchangeRate=null,this.convertToCreditRate=1,this.convertToOptionRate=.1,this.assets=[{type:b.K.Credits,name:"store-credits-title",logo:"assets/images/cny-inverted.png",amountLabel:"store-credits-to-receive",minPointsToConvert:10},{type:b.K.Options,name:"tyqoon-options",logo:"assets/images/tyqoon-options.png",amountLabel:"tyqoon-options-to-receive",minPointsToConvert:10}]}get selectedAsset(){return this.assets.find(o=>o.type===this.convertType)??this.assets[0]}get isConvertToCredits(){return this.convertType===b.K.Credits}ngOnInit(){var o=this;return(0,t.Z)(function*(){o.userService.userInfo$.pipe((0,T.R)(o.destroyStream$)).subscribe(d=>{o.userInfo=d});const l=yield(0,O.n)(o.walletService.getExchangeRate());l?.data&&(o.exchangeRate=l.data,o.amount=Math.min(o.exchangeRate?.minAmount||0,o.userInfo?.point||0),o.amountChange.emit(o.amount))})()}get maxAmount(){return this.userInfo?.point||0}get minAmount(){return this.exchangeRate?.minAmount||0}get feeRate(){return this.exchangeRate?.exchangeFee||0}handleChange(o){this.amountChange.emit(parseFloat(o.target.value))}handleSubmit(o){var l=this;return(0,t.Z)(function*(){try{const d=yield(0,O.n)(l.walletService.exchangeBalance(l.amount));0===d.code?(l.userService.updateUserInfo(),o.dismiss()):l.presentToast({position:"bottom",message:d.message,icon:"alert-circle-outline",duration:1e3,color:"danger"})}catch(d){l.presentToast({position:"bottom",message:d?.message||"Error",icon:"alert-circle-outline",duration:1e3,color:"danger"})}})()}presentToast(o){var l=this;return(0,t.Z)(function*(){yield(yield l.toast.create(o)).present()})()}convertFrom(o){return this.convertType===b.K.Credits?o/this.convertToCreditRate:o/this.convertToOptionRate}convertTo(o){return this.convertType===b.K.Credits?o*this.convertToCreditRate:o*this.convertToOptionRate}handleSelectOpen(o){this.popover.event=o,this.isMenuOpen=!0}selectAsset(o){var l=this;return(0,t.Z)(function*(){yield(0,O.n)((0,P.H)(150)),l.convertType=o.type,l.convertTypeChange.emit(l.convertType)})()}onBlurNumber(){this.amount>this.maxAmount&&(this.amount=this.maxAmount)}}return h.\u0275fac=function(o){return new(o||h)(e.Y36(f.X),e.Y36(v.K),e.Y36(u.yF))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-convert-dollar-modal"]],viewQuery:function(o,l){if(1&o&&(e.Gf(u.ki,5),e.Gf(M,5)),2&o){let d;e.iGM(d=e.CRH())&&(l.modal=d.first),e.iGM(d=e.CRH())&&(l.popover=d.first)}},inputs:{isOpen:"isOpen",amount:"amount",convertType:"convertType"},outputs:{isOpenChange:"isOpenChange",amountChange:"amountChange",convertTypeChange:"convertTypeChange"},features:[e.qOj],decls:6,vars:4,consts:[[3,"isOpen","didDismiss"],["modal",""],["side","bottom","alignment","start","showBackdrop","false",1,"theme-popover",3,"isOpen","dismissOnSelect","size","didDismiss"],["popover",""],[1,"flex","bg-[#f4f4f4]","items-center","p-2"],[1,"flex-1","font-bold","text-2xl","leading-none","flex"],[1,"back-icon","w-4","rotate-180","mr-1.5","text-gray-400","cursor-pointer",3,"click"],[1,"fade-in-from-right",2,"--duration","200ms"],[1,"w-8","p-1","rounded","cursor-pointer","bg-[#ff2145]","text-white",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],["visibility","hover",2,"max-height","85vh",3,"autoHeightDisabled"],[1,"p-4","pb-1"],[1,"fade-in-from-bottom","mb-4",2,"--duration","200ms","--delay","100ms","--distance","50px"],[1,"mb-4",3,"showDropdown"],[1,"fade-in-from-right",2,"--duration","200ms","--delay","100ms"],[1,"font-medium","mb-1"],[1,"border","border-[#dddddd]","flex","items-center","px-2","py-1","rounded-md"],["src","/assets/images/TYD-small.png","alt","",1,"h-8"],["type","number",1,"flex-1","h-10","font-bold","text-3xl","text-left",3,"ngModel","max","ngModelChange","ionChange","ionBlur"],[1,"fade-in","-ml-2","flex","justify-between","items-center","range-container",2,"--delay","150ms"],[3,"disabled","ngModel","min","max","ngModelChange"],[1,"max-badge","cursor-pointer","font-bold","dollar-text-green","rounded-lg","px-2","py-1.5","text-base",3,"click"],[1,"fade-in-from-top","flex","justify-center","items-center","-mt-2","mb-2",2,"--duration","200ms","--delay","150ms","--distance","-50px"],[1,"text-gray-400","bg-gray-200","rounded-full","h-10"],["viewBox","0 0 24 24",1,"rotate-180","h-full"],["fill","currentColor","d","M18.71,11.71a1,1,0,0,1-1.42,0L13,7.41V19a1,1,0,0,1-2,0V7.41l-4.29,4.3a1,1,0,0,1-1.42-1.42l6-6a1,1,0,0,1,1.42,0l6,6A1,1,0,0,1,18.71,11.71Z"],[1,"fade-in-from-bottom","font-medium","mb-1",2,"--duration","300ms","--delay","150ms","--distance","50px"],[1,"converted-amount","fade-in-from-bottom","border","border-[#dddddd]","rounded-md","border","flex","items-center","px-0.5","py-1.5","relative","cursor-pointer",2,"--duration","300ms","--delay","150ms","--distance","50px",3,"click"],[1,"h-8","mx-1","pointer-events-none",3,"src","alt"],[1,"text-3xl","pointer-events-none","font-bold","mr-11","ml-2"],["name","chevron-down-outline",1,"absolute","right-3","w-4","h-4","sm:w-6","sm:h-6","pointer-events-none","text-gray-400"],[1,"flex","justify-between","text-sm","px-2","font-medium","mt-1"],[1,"fade-in-from-right","capitalize",2,"--duration","200ms","--delay","200ms"],[1,"fade-in-from-left",2,"--duration","200ms","--delay","200ms"],[1,"fade-in-from-left","flex","items-center","justify-center","text-xl","my-2","font-bold",2,"--duration","200ms","--delay","200ms","--distance","-50px"],[1,"h-6","mr-1",3,"src","alt"],[1,"mx-3","text-gray-400"],["src","assets/images/TYD-small.png","alt","Otto Token",1,"h-6","mr-1"],[1,"border-b","border-[#dddddd]","my-2"],[1,"fade-in-from-left","flex","justify-between","items-center",2,"--duration","200ms","--delay","250ms"],[1,"font-medium","opacity-60","text-base"],[1,"flex","items-center"],[1,"text-2xl","dollar-text-green","font-bold","whitespace-nowrap"],["src","/assets/images/TYD-small.png","alt","",1,"h-6","ml-1"],[1,"fade-in-from-left","flex","justify-between","items-center",2,"--duration","200ms","--delay","300ms"],[1,"flex","items-center","font-medium","text-xl","whitespace-nowrap"],[1,"fade-in","px-4","h-5","text-center",2,"--duration","200ms","--delay","250ms",3,"ngSwitch"],["class","text-red-500 text-sm",4,"ngSwitchCase"],[1,"p-4","pt-1"],[1,"fade-in-from-bottom","submit-btn","rounded-lg","py-4","w-full","text-center","text-3xl","font-bold","capitalize",2,"--duration","300ms","--delay","250ms",3,"disabled","click"],[1,"text-red-500","text-sm"],[1,"font-medium"],["class","px-4 py-3 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"px-4","py-3","cursor-pointer",3,"ngClass","click"],[1,"flex","items-center","justify-between"],[1,"h-8","w-8","m-1","mr-3.5",3,"src","alt"],[1,"text-text-strong"],["class","h-9 w-9 ml-2","src","assets/images/orange-checkmark.png","alt","Selected",4,"ngIf"],["src","assets/images/orange-checkmark.png","alt","Selected",1,"h-9","w-9","ml-2"]],template:function(o,l){1&o&&(e.TgZ(0,"ion-modal",0,1),e.NdJ("didDismiss",function(){return l.isOpenChange.emit(!1)}),e.YNc(2,k,80,62,"ng-template"),e.qZA(),e.TgZ(3,"ion-popover",2,3),e.NdJ("didDismiss",function(){return l.isMenuOpen=!1}),e.YNc(5,F,2,1,"ng-template"),e.qZA()),2&o&&(e.Q6J("isOpen",l.isOpen),e.xp6(3),e.Q6J("isOpen",l.isMenuOpen)("dismissOnSelect",!0)("size","cover"))},dependencies:[Z.B,p.JJ,p.On,u.gu,u.pK,u.Q$,u.I_,u.ki,u.d8,u.as,u.QI,x.mk,x.sg,x.O5,x.RF,x.n9,m.KC,_.j,x.JJ,C.X$],styles:["ion-modal[_ngcontent-%COMP%]{--background: white;--border-radius: 8px;--width: 450px}ion-input[_ngcontent-%COMP%]{--padding-bottom: 0px;--padding-top: 0px;--color: #2fda94;padding-left:3px!important}ion-input[_ngcontent-%COMP%]     input[type=number]::-webkit-inner-spin-button, ion-input[_ngcontent-%COMP%]     input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}.max-badge[_ngcontent-%COMP%]{background-color:#e9f8f1}.dollar-text-green[_ngcontent-%COMP%]{color:#2fda94}ion-range[_ngcontent-%COMP%]{--bar-background: #dddddd;--bar-height: 6px;--knob-background: #2fda94;--bar-background-active: #2fda94;--knob-size: 30px;--bar-border-radius: 12px}ion-range[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:ng-deep   .range-knob[_ngcontent-%COMP%]{background-color:red!important}.submit-btn[_ngcontent-%COMP%]{background:#FFD800}.submit-btn[disabled][_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity));background-color:#ddd;opacity:.3}.range-container[_ngcontent-%COMP%]{height:58px}.converted-amount[_ngcontent-%COMP%]{background:#f3f3f3}ion-popover[_ngcontent-%COMP%]::part(content){border:1px solid #e0e0e0;border-radius:20px}"]}),h})()},13832:(S,D,i)=>{i.d(D,{p:()=>Z});var t=i(94650),e=i(5565),u=i(87692),T=i(54463);let O=(()=>{class p{constructor(m,_){this.el=m,this.i18n=_,this.myValue=!0,this.backToTopText="",this.elem=m}onMouseMove(m){let C=(m instanceof MouseEvent?[m.clientX,m.clientY]:[m.touches[0].clientX,m.touches[0].clientY]).concat([this.elem.nativeElement]);window.requestAnimationFrame(()=>{this.transformElement(this.elem.nativeElement,C)})}onMouseLeave(m){setTimeout(()=>{this.elem.nativeElement.style.transform="perspective(50px) rotateX(0deg) rotateY(0deg)"},100)}onMouseEnter(m){this.elem.nativeElement.style.transition="transform 0.3s cubic-bezier(.25,.8,.25,1)"}transforms(m,_,C){let M=C.getBoundingClientRect();return"perspective(50px)    rotateX("+(_-M.y-M.height/2)/150+"deg)    rotateY("+-(m-M.x-M.width/2)/150+"deg) "}transformElement(m,_){m.style.transform=this.transforms.apply(null,_)}}return p.\u0275fac=function(m){return new(m||p)(t.Y36(t.SBq),t.Y36(T.sK))},p.\u0275dir=t.lG2({type:p,selectors:[["","hover3d",""]],hostVars:1,hostBindings:function(m,_){1&m&&t.NdJ("mousemove",function(M){return _.onMouseMove(M)})("touchmove",function(M){return _.onMouseMove(M)})("mouseleave",function(M){return _.onMouseLeave(M)})("touchend",function(M){return _.onMouseLeave(M)})("mouseenter",function(M){return _.onMouseEnter(M)}),2&m&&t.Ikx("overflow-scroll",_.myValue)}}),p})();var P=i(95133),c=i(87457),b=i(65433),f=i(6227);function v(p,x){if(1&p){const m=t.EpF();t.TgZ(0,"div",2)(1,"div",3),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(m),t.oxw();const C=t.MAs(1);return t.KtG(C.dismiss())}),t.O4$(),t.TgZ(5,"svg",5),t._UZ(6,"path",6),t.qZA()()(),t.kcU(),t.TgZ(7,"ng-scrollbar",7)(8,"div",8)(9,"div",9),t._UZ(10,"app-dollar-dropdown",10),t.qZA(),t.TgZ(11,"button",11),t.NdJ("click",function(){t.CHM(m);const C=t.oxw();return t.KtG(C.onOpenSendAssetsModal())}),t._UZ(12,"app-send-icon",12),t.TgZ(13,"span",13),t._uU(14),t.ALo(15,"translate"),t.qZA()()(),t._UZ(16,"div",14),t.TgZ(17,"div",15),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"div",16)(21,"div",17),t.NdJ("click",function(){t.CHM(m);const C=t.oxw();return t.KtG(C.onConvertCreditsModal())}),t.TgZ(22,"div",18),t._UZ(23,"img",19),t.TgZ(24,"button",20),t._uU(25),t.ALo(26,"translate"),t.qZA()()(),t.TgZ(27,"div",21),t.NdJ("click",function(){t.CHM(m);const C=t.oxw();return t.KtG(C.onConvertOptionsModal())}),t.TgZ(28,"div",22),t._UZ(29,"img",23),t.TgZ(30,"button",20),t._uU(31),t.ALo(32,"translate"),t.qZA()()()()()}2&p&&(t.xp6(2),t.hij(" ",t.lcZ(3,7,"tyqoon-dollars")," "),t.xp6(5),t.Q6J("autoHeightDisabled",!1),t.xp6(3),t.Q6J("showDropdown",!1),t.xp6(4),t.hij(" ",t.lcZ(15,9,"send")," "),t.xp6(4),t.hij(" ",t.lcZ(19,11,"tyqoon-dollar-convert-desc")," "),t.xp6(7),t.hij(" ",t.lcZ(26,13,"get-store-credits")," "),t.xp6(6),t.hij(" ",t.lcZ(32,15,"get-tyqoon-options")," "))}let Z=(()=>{class p extends e.V{constructor(){super(),this.isOpenChange=new t.vpe,this.handleOpenConvertModal=new t.vpe,this.handleOpenSendModal=new t.vpe}onOpenSendAssetsModal(){this.handleOpenSendModal.emit(u.p.Dollars)}onConvertCreditsModal(){this.handleOpenConvertModal.emit(u.K.Credits)}onConvertOptionsModal(){this.handleOpenConvertModal.emit(u.K.Options)}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-dollar-modal"]],inputs:{isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",handleOpenConvertModal:"handleOpenConvertModal",handleOpenSendModal:"handleOpenSendModal"},features:[t.qOj],decls:3,vars:1,consts:[[3,"isOpen","didDismiss"],["modal",""],[1,"flex","bg-[#f4f4f4]","items-center","p-2"],[1,"fade-in-from-right","flex-1","font-bold","text-3xl",2,"--duration","200ms"],[1,"w-8","p-1","rounded","cursor-pointer","bg-[#ff2145]","text-white",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],["visibility","hover",2,"max-height","85vh",3,"autoHeightDisabled"],[1,"px-3","mt-3","flex","flex-col","items-center","justify-center"],[1,"fade-in-from-right","mb-4","dollar-balance",2,"--duration","200ms","--delay","100ms"],[1,"mb-4","cursor-default",3,"showDropdown"],["appRippleEffect","",1,"fade-in-from-top","send-button","relative","font-medium","m-0","h-14","border-2","border-solid","rounded-md",2,"--duration","200ms","--delay","150ms",3,"click"],[1,"absolute","left-6"],[1,"text-xl","xs:text-2xl","sm:ml-7"],[1,"mx-3","fade-in","seperator","mt-4",2,"--duration","200ms","--delay","200ms"],[1,"fade-in-from-left","font-medium","px-3","my-2","w-full","text-left","description",2,"--duration","200ms","--delay","150ms"],[1,"grid","grid-rows-2","sm:grid-rows-1","sm:grid-cols-2","sm:gap-x-3","gap-y-3","sm:gap-y-0","justify-center","w-full","mb-8","px-3"],[1,"fade-in-from-right","w-full","h-full","cursor-pointer",2,"--duration","300ms","--delay","200ms",3,"click"],["hover3d","",1,"credits-convert-card","relative","flex","flex-col","justify-between","items-center","w-full","h-full","overflow-hidden","rounded-xl","p-3","md:py-3","md:px-4","text-white"],["src","assets/images/cny-inverted.png","alt","Store Credits",1,"h-36","mb-2"],["appRippleEffect","",1,"convert-btn","font-medium","text-lg","sm:text-2xl","uppercase","rounded-md","w-full","mx-5","py-5","z-10"],[1,"fade-in-from-left","w-full","h-full","cursor-pointer",2,"--duration","300ms","--delay","200ms",3,"click"],["hover3d","",1,"options-convert-card","relative","flex","flex-col","justify-between","items-center","w-full","h-full","overflow-hidden","rounded-xl","p-3","md:py-3","md:px-4","text-white"],["src","assets/images/tyqoon-options.png","alt","TYQOON Options",1,"h-40","mb-1"]],template:function(m,_){1&m&&(t.TgZ(0,"ion-modal",0,1),t.NdJ("didDismiss",function(){return _.isOpenChange.emit(!1)}),t.YNc(2,v,33,17,"ng-template"),t.qZA()),2&m&&t.Q6J("isOpen",_.isOpen)},dependencies:[O,P.ki,c.C,b.KC,f.j,T.X$],styles:["ion-modal[_ngcontent-%COMP%]{--background: white;--border-radius: 8px;--width: 680px}.dollar-balance[_ngcontent-%COMP%]{width:260px}@media (min-width: 340px){.dollar-balance[_ngcontent-%COMP%]{width:290px}}.send-button[_ngcontent-%COMP%]{width:244px;border:2px solid #0067fe;background:#e5f0fe;color:#0067fe}@media (min-width: 340px){.send-button[_ngcontent-%COMP%]{width:220px}}@media (min-width: 640px){.send-button[_ngcontent-%COMP%]{width:12rem}}.seperator[_ngcontent-%COMP%]{border-bottom:3px solid #eaeaea}.description[_ngcontent-%COMP%]{font-size:17.5px}.credits-convert-card[_ngcontent-%COMP%]{background-color:#d3b8ff}.credits-convert-card[_ngcontent-%COMP%]   .convert-btn[_ngcontent-%COMP%]{background-color:#131313}.options-convert-card[_ngcontent-%COMP%]{background-color:#ffe7bb}.options-convert-card[_ngcontent-%COMP%]   .convert-btn[_ngcontent-%COMP%]{background-color:#f48300}"]}),p})()},81648:(S,D,i)=>{i.d(D,{s:()=>f});var t=i(94650),e=i(87692),u=i(94830),T=i(36895),O=i(46364),P=i(54463);function c(v,Z){if(1&v&&(t.TgZ(0,"span",7),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&v){const p=Z.ngIf;t.xp6(1),t.Oqu(t.lcZ(2,1,(null==p.user?null:p.user.balance)||0))}}const b=function(v){return{user:v}};let f=(()=>{class v{constructor(p){this.userService=p,this.handleOpenSendModal=new t.vpe,this.isOpenStoreCreditModal=!1}ngOnInit(){}openStoreCreditModal(){this.isOpenStoreCreditModal=!0}onOpenSendModal(){this.handleOpenSendModal.emit(e.p.Credits)}}return v.\u0275fac=function(p){return new(p||v)(t.Y36(u.K))},v.\u0275cmp=t.Xpm({type:v,selectors:[["app-my-store-credit"]],inputs:{value:"value"},outputs:{handleOpenSendModal:"handleOpenSendModal"},decls:10,vars:9,consts:[[1,"w-full","cursor-pointer",3,"click"],[1,"store-credit-wrapper","flex-1","flex","items-center","bg-white","rounded-lg"],[1,"w-full","flex","flex-col","justify-between","h-full","p-1.5"],[1,"text-center","text-lg","font-bold","sm:text-base","text-black","whitespace-nowrap"],[1,"text-center","text-[28px]","font-bold","sm:text-3xl","-mt-0.5"],["class","whitespace-nowrap",4,"ngIf"],[3,"isOpen","isOpenChange","handleOpenSendModal"],[1,"whitespace-nowrap"]],template:function(p,x){1&p&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return x.isOpenStoreCreditModal=!0}),t.TgZ(1,"div",1)(2,"div",2)(3,"p",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"p",4),t.YNc(7,c,3,3,"span",5),t.ALo(8,"async"),t.qZA()()()(),t.TgZ(9,"app-deposit-credit-modal",6),t.NdJ("isOpenChange",function(_){return x.isOpenStoreCreditModal=_})("handleOpenSendModal",function(){return x.onOpenSendModal()}),t.qZA()),2&p&&(t.xp6(4),t.hij(" ",t.lcZ(5,3,"store-credit-my-credit")," "),t.xp6(3),t.Q6J("ngIf",t.VKq(7,b,t.lcZ(8,5,x.userService.userInfo$))),t.xp6(2),t.Q6J("isOpen",x.isOpenStoreCreditModal))},dependencies:[T.O5,O.N,T.Ov,T.H9,P.X$],styles:[".store-credit-wrapper[_ngcontent-%COMP%]{height:76px;border-width:2px;--tw-border-opacity: 1;border-color:rgb(94 94 94 / var(--tw-border-opacity))}"]}),v})()},72564:(S,D,i)=>{i.d(D,{w:()=>Y});var t=i(15861),e=i(94650),u=i(95133),T=i(82722),O=i(49808),P=i(5963),c=i(5565),b=i(87692),f=i(94830),v=i(69975),Z=i(23372),p=i(77579),x=i(65433);let m=(()=>{class r{constructor(n){this.el=n,this.onDestroy$=new p.x,this.content=n}ngAfterViewInit(){var n=this;return(0,t.Z)(function*(){const s=n.content.nativeElement;n.shadowTop=document.createElement("div"),n.shadowBottom=document.createElement("div"),n.shadowTop.classList.add("absolute","w-full","left-0","top-0","z-10"),n.shadowBottom.classList.add("absolute","w-full","left-0","bottom-0","z-10"),s.append(n.shadowTop),s.append(n.shadowBottom);const a=n.content?.nativeElement?.querySelector(".ng-scroll-viewport");a&&n.renderBoxShadow(a),n.content.scrolled.pipe((0,T.R)(n.onDestroy$)).subscribe(y=>{n.renderBoxShadow(y.target)}),n.content.updated.pipe((0,T.R)(n.onDestroy$)).subscribe(y=>{const R=n.content.nativeElement.querySelector(".ng-scroll-viewport");n.renderBoxShadow(R)})})()}renderBoxShadow(n){const s=n.scrollHeight,a=n.offsetHeight;this.shadowTop.style.boxShadow=`0px 0px ${a/25}px ${Math.min(a/30,n.scrollTop/5)}px rgb(0 0 0 / 30%)`,this.shadowBottom.style.boxShadow=`0px 0px ${a/25}px ${Math.min(a/30,(s-(n.scrollTop+n.offsetHeight))/5)}px rgb(0 0 0 / 30%)`}ngOnDestroy(){this.onDestroy$.next(!0),this.onDestroy$.complete()}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(x.KC))},r.\u0275dir=e.lG2({type:r,selectors:[["","scrollShadow",""]]}),r})();var _=i(36895),C=i(87457),M=i(24006),E=i(54463);function U(r,g){1&r&&(e.TgZ(0,"ion-label",15),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"send-to")," "))}function k(r,g){1&r&&(e.TgZ(0,"ion-label",15),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"amount")," "))}const L=function(r){return[r]};let J=(()=>{class r extends c.V{constructor(){super(...arguments),this.recipient={address:"",transferAmount:null},this.canRemove=!0,this.readonly=!1,this.showLabels=!0,this.assetImage="assets/images/TYD-small.png",this.handleRemove=new e.vpe}onClickRemoveBtn(){this.canRemove&&this.handleRemove.emit(!0)}onBlurNumber(){!this.recipient.transferAmount||(this.recipient.transferAmount=parseFloat(`${this.recipient.transferAmount}`).toFixed(2))}onIncrement(){this.recipient.transferAmount=(parseFloat(`${this.recipient.transferAmount??0}`)+1).toFixed(2)}onDecrement(){const n=parseFloat(`${this.recipient.transferAmount??0}`)-1;this.recipient.transferAmount=Math.max(n,0).toFixed(2)}}return r.\u0275fac=function(){let g;return function(s){return(g||(g=e.n5z(r)))(s||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["app-recipient-form-field"]],inputs:{recipient:"recipient",canRemove:"canRemove",readonly:"readonly",showLabels:"showLabels",assetImage:"assetImage"},outputs:{handleRemove:"handleRemove"},features:[e.qOj],decls:18,vars:12,consts:[[1,"flex","items-end","w-full"],[1,"flex-1","grid","grid-cols-2","gap-3"],[1,"fade-in-from-right","col-span-1",2,"--duration","300ms","--delay","100ms","--distance","50px"],["class","text-sm text-grey-1 font-medium ml-1",4,"ngIf"],[1,"wrap","relative","flex","items-center","rounded-lg","border","border-[#dddddd]","text-xl","overflow-hidden","mt-0.5"],[1,"recipient-form-field","text-xs","xs:text-base","sm:text-xl","h-9","font-medium",3,"placeholder","ngModel","ngModelChange"],[1,"fade-in-from-left","col-span-1",2,"--duration","300ms","--delay","100ms","--distance","-50px"],["alt","Transfer type","slot","start",1,"h-5","sm:h-7","ml-2","my-2","sm:my-0",3,"src"],["placeholder","0.00","type","number",1,"recipient-form-field","text-xs","xs:text-base","sm:text-xl","h-9","font-medium",3,"min","ngModel","ngModelChange","ionBlur"],[1,"controls-wrapper","flex","flex-col","h-full","gap-y-1","mr-2"],["name","triangle",1,"w-3","h-3","cursor-pointer",3,"mousedown","click"],["name","triangle",1,"w-3","h-3","rotate-180","cursor-pointer",3,"mousedown","click"],[1,"flex","h-full","ml-1","mr-1","my-2",3,"ngClass"],[1,"remove-btn","flex","items-center","justify-center","rounded-full","w-5","h-5","xs:w-6","xs:h-6","cursor-pointer",3,"click"],["name","close-outline",1,"rotate-180","cursor-pointer","w-5","h-5",3,"mousedown","click"],[1,"text-sm","text-grey-1","font-medium","ml-1"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,U,3,3,"ion-label",3),e.TgZ(4,"div",4)(5,"ion-input",5),e.NdJ("ngModelChange",function(y){return s.recipient.address=y}),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"div",6),e.YNc(8,k,3,3,"ion-label",3),e.TgZ(9,"div",4),e._UZ(10,"img",7),e.TgZ(11,"ion-input",8),e.NdJ("ngModelChange",function(y){return s.recipient.transferAmount=y})("ionBlur",function(){return s.onBlurNumber()}),e.qZA(),e.TgZ(12,"div",9)(13,"ion-icon",10),e.NdJ("mousedown",function(y){return y.preventDefault()})("click",function(){return s.onIncrement()}),e.qZA(),e.TgZ(14,"ion-icon",11),e.NdJ("mousedown",function(y){return y.preventDefault()})("click",function(){return s.onDecrement()}),e.qZA()()()()(),e.TgZ(15,"div",12)(16,"div",13),e.NdJ("click",function(){return s.onClickRemoveBtn()}),e.TgZ(17,"ion-icon",14),e.NdJ("mousedown",function(y){return y.preventDefault()})("click",function(){return s.onDecrement()}),e.qZA()()()()),2&n&&(e.xp6(3),e.Q6J("ngIf",s.showLabels),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,8,"recipient-username"))("ngModel",s.recipient.address),e.xp6(3),e.Q6J("ngIf",s.showLabels),e.xp6(2),e.Q6J("src",s.assetImage,e.LSH),e.xp6(1),e.Q6J("min",0)("ngModel",s.recipient.transferAmount),e.xp6(4),e.Q6J("ngClass",e.VKq(10,L,s.canRemove?"visible":"invisible")))},dependencies:[M.JJ,M.On,u.gu,u.pK,u.Q$,u.as,u.j9,_.mk,_.O5,E.X$],styles:["ion-input[_ngcontent-%COMP%]{--padding-left: 4px;color:var(--text-strong);font-size:1rem;line-height:1.5rem;--padding-top: 4px;--padding-bottom: 4px;--placeholder-color: var(--grey-1);--placeholder-font-weight: 500}ion-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:500!important}@media (min-width: 640px){ion-input[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem}}ion-input[_ngcontent-%COMP%]     input::-webkit-outer-spin-button, ion-input[_ngcontent-%COMP%]     input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}ion-input[_ngcontent-%COMP%]     input[type=number]{-moz-appearance:textfield}.remove-btn[_ngcontent-%COMP%]{background-color:#ee441126;color:#ff0024}.controls-wrapper[_ngcontent-%COMP%]{color:#ccc}"]}),r})();const B=["popover"];function F(r,g){}function K(r,g){}function h(r,g){if(1&r){const n=e.EpF();e.TgZ(0,"div",49)(1,"div",25),e._uU(2),e.qZA(),e.TgZ(3,"app-recipient-form-field",50),e.NdJ("handleRemove",function(){const y=e.CHM(n).index,R=e.oxw(2);return e.KtG(R.onRemoveRecipient(y))}),e.qZA()()}if(2&r){const n=g.$implicit,s=g.index,a=e.oxw(2);e.xp6(2),e.Oqu(s+2),e.xp6(1),e.Q6J("recipient",n)("assetImage",a.selectedAsset.logo)("showLabels",!1)}}function A(r,g){1&r&&e._UZ(0,"app-loading-spinner",51)}function o(r,g){if(1&r){const n=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"app-chevron-right-icon",7),e.NdJ("click",function(){e.CHM(n),e.oxw();const a=e.MAs(1);return e.KtG(a.dismiss())}),e.qZA(),e.TgZ(3,"div",8)(4,"h2",9),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p",10),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.TgZ(10,"div",11),e.YNc(11,F,0,0,"ng-template",12),e.qZA(),e.TgZ(12,"button",13),e.NdJ("click",function(){e.CHM(n),e.oxw();const a=e.MAs(1);return e.KtG(a.dismiss())}),e.O4$(),e.TgZ(13,"svg",14),e._UZ(14,"path",15),e.qZA()()(),e.kcU(),e.TgZ(15,"ng-scrollbar",16)(16,"div",17)(17,"div",18)(18,"span",19),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"div",20),e.YNc(22,K,0,0,"ng-template",12),e.qZA()(),e.TgZ(23,"div",21)(24,"div",22)(25,"ng-scrollbar",23)(26,"div",24)(27,"div",25),e._uU(28,"1"),e.qZA(),e._UZ(29,"app-recipient-form-field",26),e.qZA(),e.YNc(30,h,4,4,"div",27),e.qZA(),e.TgZ(31,"div",28)(32,"div",29),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.onAddRecipient())}),e.TgZ(33,"div",30),e._UZ(34,"ion-icon",31),e.qZA(),e._uU(35),e.ALo(36,"translate"),e.qZA()()()(),e._UZ(37,"div",32),e.TgZ(38,"div",33)(39,"div",34)(40,"div",35),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"div",36),e._uU(44),e.qZA()(),e.TgZ(45,"div",37)(46,"div",38),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"div",39),e._UZ(50,"img",40),e.ALo(51,"translate"),e._uU(52),e.ALo(53,"number"),e.qZA()(),e.TgZ(54,"div",41)(55,"button",42),e.NdJ("click",function(){e.CHM(n),e.oxw();const a=e.MAs(1);return e.KtG(a.dismiss())}),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"div",43)(59,"button",44),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.onSend())}),e.TgZ(60,"div",45),e._UZ(61,"app-send-icon",46),e.TgZ(62,"span",47),e._uU(63),e.ALo(64,"translate"),e.qZA()(),e.YNc(65,A,1,0,"app-loading-spinner",48),e.qZA()()()()()}if(2&r){const n=e.oxw(),s=e.MAs(4);e.xp6(5),e.hij(" ",e.lcZ(6,24,n.selectedAsset.title)," "),e.xp6(3),e.hij(" ",e.lcZ(9,26,n.selectedAsset.description)," "),e.xp6(3),e.Q6J("ngTemplateOutlet",s),e.xp6(4),e.Q6J("autoHeightDisabled",!1),e.xp6(4),e.hij(" ",e.lcZ(20,28,n.selectedAsset.description)," "),e.xp6(3),e.Q6J("ngTemplateOutlet",s),e.xp6(3),e.Q6J("autoHeightDisabled",!1),e.xp6(4),e.Q6J("recipient",n.recipients[0])("canRemove",!1)("assetImage",n.selectedAsset.logo),e.xp6(1),e.Q6J("ngForOf",n.recipients.slice(1)),e.xp6(5),e.hij(" ",e.lcZ(36,30,"add-recipient")," "),e.xp6(6),e.hij(" ",e.lcZ(42,32,"recipients")," "),e.xp6(3),e.Oqu(n.recipients.length),e.xp6(3),e.hij(" ",e.lcZ(48,34,"total-to-send")," "),e.xp6(3),e.Q6J("src",n.selectedAsset.logo,e.LSH)("alt",e.lcZ(51,36,n.selectedAsset.name)),e.xp6(2),e.hij(" ",e.xi3(53,38,n.totalTransferAmount,"0.2-2")," "),e.xp6(4),e.hij(" ",e.lcZ(57,41,"go-back")," "),e.xp6(3),e.Q6J("disabled",n.isInvalidSendForm),e.xp6(1),e.ekj("invisible",n.isLoading),e.xp6(3),e.Oqu(e.lcZ(64,43,"send")),e.xp6(2),e.Q6J("ngIf",n.isLoading)}}function l(r,g){if(1&r&&(e.TgZ(0,"div",58),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&r){const n=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,(null==n.user?null:n.user.balance)||0)," ")}}function d(r,g){if(1&r&&(e.TgZ(0,"div",58),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const n=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,(null==n.user?null:n.user.point)||0,"0.2-2")," ")}}const w=function(r,g){return{"dollar-box":r,"credits-box":g}},I=function(r){return{"ml-0.5":r}},j=function(r){return{"mr-0.5":r}};function q(r,g){if(1&r){const n=e.EpF();e.TgZ(0,"div",52),e.NdJ("click",function(a){e.CHM(n);const y=e.oxw();return e.KtG(y.handleSelectOpen(a))}),e.TgZ(1,"div",53),e._UZ(2,"img",54),e.ALo(3,"translate"),e.TgZ(4,"div",55)(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,l,3,3,"div",56),e.YNc(9,d,3,4,"div",56),e.qZA(),e._UZ(10,"ion-icon",57),e.qZA()()}if(2&r){const n=e.oxw();e.Q6J("ngClass",e.WLB(12,w,n.assetType===n.assetTypes.Dollars,n.assetType===n.assetTypes.Credits)),e.xp6(2),e.Q6J("ngClass",e.VKq(15,I,n.assetType===n.assetTypes.Dollars))("src",n.selectedAsset.logo,e.LSH)("alt",e.lcZ(3,8,n.selectedAsset.name)),e.xp6(4),e.Oqu(e.lcZ(7,10,n.selectedAsset.name)),e.xp6(2),e.Q6J("ngIf",n.assetType===n.assetTypes.Credits),e.xp6(1),e.Q6J("ngIf",n.assetType===n.assetTypes.Dollars),e.xp6(1),e.Q6J("ngClass",e.VKq(17,j,n.assetType===n.assetTypes.Dollars))}}function H(r,g){1&r&&e._UZ(0,"img",66)}const N=function(r){return{"border-b grey-border":r}};function Q(r,g){if(1&r){const n=e.EpF();e.TgZ(0,"div",61),e.NdJ("click",function(){const y=e.CHM(n).$implicit,R=e.oxw(2);return e.KtG(R.selectAsset(y))}),e.TgZ(1,"div",62)(2,"div",58),e._UZ(3,"img",63),e.TgZ(4,"div",64),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.YNc(7,H,1,0,"img",65),e.qZA()()}if(2&r){const n=g.$implicit,s=g.index,a=e.oxw(2);e.Q6J("ngClass",e.VKq(7,N,s<a.assets.length-1)),e.xp6(3),e.Q6J("src",n.logo,e.LSH)("alt",n.name),e.xp6(2),e.Oqu(e.lcZ(6,5,n.name)),e.xp6(2),e.Q6J("ngIf",a.selectedAsset.type===n.type)}}function $(r,g){if(1&r&&(e.TgZ(0,"div",59),e.YNc(1,Q,8,9,"div",60),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.assets)}}let Y=(()=>{class r extends c.V{constructor(n){super(),this.userService=n,this.assetType=b.p.Credits,this.assetTypeChange=new e.vpe,this.isOpenChange=new e.vpe,this.isMenuOpen=!1,this.walletInfo={},this.isLoading=!1,this.recipients=[{address:"",transferAmount:null}],this.assetTypes=b.p,this.assets=[{type:b.p.Credits,name:"store-credits-title",logo:"assets/images/cny-inverted.png",title:"send-store-credits",description:"send-store-credits-desc"},{type:b.p.Dollars,name:"tyqoon-dollars",logo:"assets/images/TYD-small.png",title:"send-tyqoon-dollars",description:"send-tyqoon-dollars-desc"}],this.userService.userInfo$.pipe((0,T.R)(this.destroyStream$)).subscribe(s=>{this.user=s})}get selectedAsset(){return this.assets.find(n=>n.type===this.assetType)??this.assets[0]}get totalTransferAmount(){if(!this.recipients)return;let n=0;for(let s=0;s<this.recipients.length;s++)n+=parseFloat(this.recipients[s].transferAmount?`${this.recipients[s].transferAmount}`:"0");return n}get isInvalidSendForm(){for(let n=0;n<this.recipients.length;n++)if(""===this.recipients[n].address||!this.recipients[n].transferAmount)return!0;return!1}onResetValue(){this.recipients=[{address:"",transferAmount:null}]}onSend(){}onAddRecipient(){this.recipients.push({address:"",transferAmount:null})}onRemoveRecipient(n){this.recipients.splice(n+1,1)}handleSelectOpen(n){this.popover.event=n,this.isMenuOpen=!0}selectAsset(n){var s=this;return(0,t.Z)(function*(){yield(0,O.n)((0,P.H)(150)),s.assetType=n.type,s.assetTypeChange.emit(s.assetType)})()}handleDismiss(){this.recipients=[{address:"",transferAmount:null}],this.isOpenChange.emit(!1)}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(f.K))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-send-modal"]],viewQuery:function(n,s){if(1&n&&(e.Gf(u.ki,5),e.Gf(B,5)),2&n){let a;e.iGM(a=e.CRH())&&(s.modal=a.first),e.iGM(a=e.CRH())&&(s.popover=a.first)}},inputs:{isOpen:"isOpen",assetType:"assetType"},outputs:{assetTypeChange:"assetTypeChange",isOpenChange:"isOpenChange"},features:[e.qOj],decls:8,vars:5,consts:[[3,"backdropDismiss","isOpen","didDismiss"],["modal",""],["assetSelectBox",""],["side","bottom","alignment","start","showBackdrop","false",1,"theme-popover",3,"isOpen","dismissOnSelect","size","didDismiss"],["popover",""],[1,"header","bg-[#f4f4f4]","sm:bg-white","flex","items-center","p-2","sm:px-4","sm:py-2.5"],[1,"flex-1","font-bold","text-2xl","leading-none","flex","items-start"],[1,"back-icon","w-4","rotate-180","mr-2","mt-1","sm:mt-1.5","text-gray-400","cursor-pointer",3,"click"],[1,"flex-1","text-black","font-medium"],[1,"fade-in-from-right","text-2xl","sm:text-3xl","m-0",2,"--duration","200ms"],[1,"hidden","sm:block","fade-in-from-bottom","p-0","mt-1","text-base","sm:text-lg","font-medium","description",2,"--duration","200ms","--delay","100ms","--distance","50px"],[1,"fade-in-from-left","hidden","sm:block","mt-1","mr-3",2,"--duration","300ms","--delay","100ms","--distance","-50px"],[3,"ngTemplateOutlet"],[1,"sm:hidden","w-8","p-1","rounded","cursor-pointer","bg-[#ff2145]","text-white",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],["visibility","hover",1,"content-container",3,"autoHeightDisabled"],[1,"sm:hidden","flex","flex-col","w-full","items-start","px-2"],[1,"mb-2","fade-in-from-bottom","flex-1","text-black","font-medium","mt-2","text-base",2,"--duration","200ms","--delay","100ms","--distance","50px"],[1,"inline-flex","mr-2","description"],[1,"fade-in-from-right","flex","justify-center","mb-2","self-center",2,"--duration","200ms","--delay","100ms"],[1,"modal-content","flex","flex-1","flex-col","flex-auto","items-center","justify-center","w-full","p-2"],[1,"flex","flex-col","gap-y-1","md:gap-y-0.5","w-full","sm:pl-8","sm:pr-4"],["scrollShadow","",1,"recipient-list",3,"autoHeightDisabled"],[1,"flex","items-end","sm:px-1.5"],[1,"mb-1.5","mr-2"],[1,"flex-1",3,"recipient","canRemove","assetImage"],["class","flex items-end mt-1.5 sm:px-1.5 mb-px",4,"ngFor","ngForOf"],[1,"fade-in-from-top","flex","items-center","w-full",2,"--duration","200ms","--delay","200ms","--distance","-50px"],[1,"animate-border","w-full","sm:mr-10","sm:ml-6","flex","items-center","justify-center","rounded-md","text-black","text-xl","py-2","mt-4","sm:mt-8","select-none","cursor-pointer",3,"click"],[1,"add-button","flex","items-center","justify-center","w-5","h-5","rounded-full","mr-1"],["name","add-outline",1,"text-white"],[1,"border-b-2","grey-border","mb-4","mx-2"],[1,"modal-footer","flex","flex-col","px-2","sm:px-5","pb-2"],[1,"flex","justify-between","text-lg","sm:text-xl"],[1,"fade-in-from-top",2,"--duration","200ms","--delay","250ms","--distance","-50px"],[1,"fade-in",2,"--duration","200ms","--delay","200ms"],[1,"flex","justify-between","text-2xl","sm:text-3xl","uppercase","font-medium","text-black","mb-2.5"],[1,"fade-in",2,"--duration","200ms","--delay","300ms"],[1,"fade-in","flex","items-center",2,"--duration","200ms","--delay","300ms"],[1,"h-6","sm:h-7","mr-1",3,"src","alt"],[1,"flex","justify-between","flex-col-reverse","xs:flex-row","gap-2","xs:gap-0"],["appRippleEffect","",1,"fade-in-from-right","btn-medium","w-full","xs:w-32","sm:w-44","close-button",2,"--duration","300ms","--delay","250ms",3,"click"],[1,"fade-in-from-left",2,"--duration","300ms","--delay","350ms"],["appRippleEffect","",1,"send-button","text-white","w-full","xs:w-32","sm:w-44","rounded-lg","font-medium","relative",3,"disabled","click"],[1,"flex","items-center","justify-center"],[1,"-ml-3"],[1,"-ml-1"],["class","text-white absolute top-1/2 left-1/2 transfrom -translate-x-1/2 -translate-y-1/2","size","30px","thick","3px",4,"ngIf"],[1,"flex","items-end","mt-1.5","sm:px-1.5","mb-px"],[1,"flex-1",3,"recipient","assetImage","showLabels","handleRemove"],["size","30px","thick","3px",1,"text-white","absolute","top-1/2","left-1/2","transfrom","-translate-x-1/2","-translate-y-1/2"],["id","asset-select-button",1,"relative","flex","items-center","justify-center","rounded-lg","text-black","cursor-pointer",3,"ngClass","click"],[1,"asset-select","flex","items-center","justify-center","pointer-events-none","w-full","h-full","py-1","rounded-lg"],[1,"absolute","left-3","h-11","mr-1",3,"ngClass","src","alt"],[1,"flex","flex-col","items-center","justify-center","font-medium"],["class","flex items-center",4,"ngIf"],["name","chevron-down-outline",1,"absolute","right-3","w-4","h-4","sm:w-6","sm:h-6","text-text-strong",3,"ngClass"],[1,"flex","items-center"],[1,"font-medium"],["class","px-4 py-3 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"px-4","py-3","cursor-pointer",3,"ngClass","click"],[1,"flex","items-center","justify-between"],[1,"h-8","w-8","m-1","mr-3.5",3,"src","alt"],[1,"text-text-strong"],["class","h-9 w-9 ml-2","src","assets/images/orange-checkmark.png","alt","Selected",4,"ngIf"],["src","assets/images/orange-checkmark.png","alt","Selected",1,"h-9","w-9","ml-2"]],template:function(n,s){1&n&&(e.TgZ(0,"ion-modal",0,1),e.NdJ("didDismiss",function(){return s.handleDismiss()}),e.YNc(2,o,66,45,"ng-template"),e.qZA(),e.YNc(3,q,11,19,"ng-template",null,2,e.W1O),e.TgZ(5,"ion-popover",3,4),e.NdJ("didDismiss",function(){return s.isMenuOpen=!1}),e.YNc(7,$,2,1,"ng-template"),e.qZA()),2&n&&(e.Q6J("backdropDismiss",!1)("isOpen",s.isOpen),e.xp6(5),e.Q6J("isOpen",s.isMenuOpen)("dismissOnSelect",!0)("size","cover"))},dependencies:[v.B,Z.g,m,u.gu,u.ki,u.d8,_.mk,_.sg,_.O5,_.tP,C.C,x.KC,J,_.JJ,_.H9,E.X$],styles:["ion-modal[_ngcontent-%COMP%]{--background: white;--width: 720px;--border-radius: 0;--height: 100% !important}@media (min-width: 640px){ion-modal[_ngcontent-%COMP%]{--border-radius: 8px;--height: auto !important}}ion-modal[_ngcontent-%COMP%]    >.ion-page{height:100%;justify-content:flex-start}.dollar-box[_ngcontent-%COMP%], .credits-box[_ngcontent-%COMP%]{width:260px;padding:2px!important;border-radius:10px}.dollar-box[_ngcontent-%COMP%]   .asset-select[_ngcontent-%COMP%], .credits-box[_ngcontent-%COMP%]   .asset-select[_ngcontent-%COMP%]{background:#edebec}.dollar-box[_ngcontent-%COMP%]{background:radial-gradient(circle at top left,#10ab8b,#1ff7b8)}.credits-box[_ngcontent-%COMP%]{background:#5e5e5e}ion-popover[_ngcontent-%COMP%]::part(content){border:1px solid #e0e0e0;border-radius:20px}.header[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0}@media (min-width: 640px){.header[_ngcontent-%COMP%]{border-bottom:0}}.content-container[_ngcontent-%COMP%]{max-height:calc(100% - 50px)}@media (min-width: 640px){.content-container[_ngcontent-%COMP%]{max-height:unset}}.modal-content[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 768px){.modal-content[_ngcontent-%COMP%]{margin-bottom:1.6rem;min-height:300px}}.description[_ngcontent-%COMP%]{color:#383838}.recipient-list[_ngcontent-%COMP%]{min-height:64px}@media (min-width: 640px){.recipient-list[_ngcontent-%COMP%]{max-height:calc(100vh - 450px)}}.modal-footer[_ngcontent-%COMP%]{margin-bottom:.35rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3rem;border-radius:.375rem;border-width:1px;border-style:solid;font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3.5rem;font-size:1.5rem;line-height:2rem}}.animate-border[_ngcontent-%COMP%]{background-color:#e5f0fe;background:linear-gradient(90deg,#0067fe 50%,transparent 50%),linear-gradient(90deg,#0067fe 50%,transparent 50%),linear-gradient(0deg,#0067fe 50%,transparent 50%),linear-gradient(0deg,#0067fe 50%,transparent 50%);background-repeat:repeat-x,repeat-x,repeat-y,repeat-y;background-size:16px 2px,16px 2px,2px 16px,2px 16px;background-position:0px 0px,0 100%,0 0,100% 0px;padding:10px}.animate-border[_ngcontent-%COMP%]:hover{animation:border-dance .3s infinite linear}@keyframes border-dance{to{background-position:16px 0,-16px 100%,0 -16px,100% 16px}}.add-button[_ngcontent-%COMP%]{background-color:#0067fe}.close-button[_ngcontent-%COMP%]{background-color:#d6d6eb;border-color:#b1b1c9}.send-button[_ngcontent-%COMP%]{border-color:#00deff;background-color:#0067fe}.close-button[_ngcontent-%COMP%], .send-button[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.close-button[_ngcontent-%COMP%], .send-button[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem}}button[disabled][_ngcontent-%COMP%]{color:#8d8d8d;background:rgba(237,235,235,.5);border-color:#ddd;cursor:default!important}.grey-border[_ngcontent-%COMP%]{border-color:#e0e0e0}"]}),r})()}}]);