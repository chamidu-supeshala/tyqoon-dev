"use strict";(self.webpackChunkangular_tyqoon_client=self.webpackChunkangular_tyqoon_client||[]).push([[3132],{85898:(B,T,c)=>{c.d(T,{b:()=>q});var d=c(15861),b=c(77579),p=c(82722),x=c(59468),C=c(49808),m=c(24837),t=c(95133),I=c(54463),h=c(36895),F=c(44466),A=c(59809),y=c(5565),O=c(18110),u=c(94650),M=c(35482),L=c(94830),D=c(23284);function J(g,P){1&g&&u._UZ(0,"app-product-card",3),2&g&&u.Q6J("product",P.$implicit)}function k(g,P){1&g&&u._UZ(0,"app-product-card-skeleton",5)}const N=function(){return[]};function U(g,P){if(1&g&&(u.ynx(0),u.YNc(1,k,1,0,"app-product-card-skeleton",4),u.BQk()),2&g){const s=u.oxw();u.xp6(1),u.Q6J("ngForOf",u.DdM(2,N).constructor(s.pageSize).fill(1))("ngForTrackBy",s.trackByFn2)}}let q=(()=>{class g extends y.V{constructor(s,f,S){super(),this.productService=s,this.userService=f,this.cdr=S,this.pageSize=20,this.offsetScroll=2e3,this.additionalParams={},this.isSSR=!1,this.throttleScroll=new b.x,this.page=-1,this.isLoading=!1,this.total=0,this.products=[]}ngOnInit(){!this.isSSR&&m.Z.isServer?this.isLoading=!0:this.fetchData()}ngAfterViewInit(){var s=this;return(0,d.Z)(function*(){m.Z.isServer||s.scrollContainer&&(s.scrollElement=yield s.scrollContainer.getScrollElement(),s.scrollContainer.ionScroll.pipe((0,p.R)(s.destroyStream$)).subscribe(f=>{s.scrollElement.scrollHeight-f.detail.scrollTop<s.offsetScroll&&s.throttleScroll.next(1)}),s.throttleScroll.pipe((0,x.p)(300),(0,p.R)(s.destroyStream$)).subscribe(()=>{s.fetchData()}))})()}fetchData(){var s=this;return(0,d.Z)(function*(){if(!s.isLoading&&(-1===s.page||s.products.length<s.total)){s.isLoading=!0,s.page++,s.cdr.markForCheck();const f=yield(0,C.n)(s.productService.getProductsByMetaParamsV2({page:s.page,rows:s.pageSize,traceId:s.userService.traceId,isRecommended:!0,...s.additionalParams}));s.products=[...s.products,...f.rows||[]],s.products=(0,O.DI)(s.products),s.total=f.total,s.isLoading=!1,s.cdr.markForCheck()}})()}clear(){this.page=-1,this.isLoading=!1,this.total=0,this.products=[]}trackByFn(s,f){return f.id}trackByFn2(s){return s}}return g.\u0275fac=function(s){return new(s||g)(u.Y36(M.s),u.Y36(L.K),u.Y36(u.sBO))},g.\u0275cmp=u.Xpm({type:g,selectors:[["app-products-infinite-scroll"]],inputs:{pageSize:"pageSize",scrollContainer:"scrollContainer",offsetScroll:"offsetScroll",additionalParams:"additionalParams",isSSR:"isSSR"},standalone:!0,features:[u.qOj,u.jDz],decls:4,vars:3,consts:[[1,"flex","flex-wrap","-mx-1"],["class","px-1 flex-shrink-0 mb-6 flex justify-center",3,"product",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"px-1","flex-shrink-0","mb-6","flex","justify-center",3,"product"],["class","px-1 flex-shrink-0 mb-6 flex justify-center",4,"ngFor","ngForOf","ngForTrackBy"],[1,"px-1","flex-shrink-0","mb-6","flex","justify-center"]],template:function(s,f){1&s&&(u.TgZ(0,"div")(1,"div",0),u.YNc(2,J,1,1,"app-product-card",1),u.YNc(3,U,2,3,"ng-container",2),u.qZA()()),2&s&&(u.xp6(2),u.Q6J("ngForOf",f.products)("ngForTrackBy",f.trackByFn),u.xp6(1),u.Q6J("ngIf",f.isLoading))},dependencies:[I.aw,h.ez,h.sg,h.O5,t.Pc,F.m,D.Y,A.I],styles:["app-product-card[_ngcontent-%COMP%], app-product-card-skeleton[_ngcontent-%COMP%]{width:50%}@media (min-width: 340px){app-product-card[_ngcontent-%COMP%], app-product-card-skeleton[_ngcontent-%COMP%]{width:33.3333333333%}}@media (min-width: 640px){app-product-card[_ngcontent-%COMP%], app-product-card-skeleton[_ngcontent-%COMP%]{width:25%}}@media (min-width: 768px){app-product-card[_ngcontent-%COMP%], app-product-card-skeleton[_ngcontent-%COMP%]{width:20%}}@media (min-width: 1024px){app-product-card[_ngcontent-%COMP%], app-product-card-skeleton[_ngcontent-%COMP%]{width:16.6666666667%}}"],changeDetection:0}),g})()},43132:(B,T,c)=>{c.r(T),c.d(T,{ProductDetailModule:()=>wn});var d=c(36895),b=c(7507),p=c(95133),x=c(54463),C=c(44466),m=c(15861),t=c(94650),I=c(82722),h=c(49808),F=c(24499),A=c(24837),y=(()=>{return(n=y||(y={}))[n.ShopScoreTypeByAll=0]="ShopScoreTypeByAll",n[n.ShopScoreTypeByNice=1]="ShopScoreTypeByNice",n[n.ShopScoreTypeByAverage=2]="ShopScoreTypeByAverage",n[n.ShopScoreTypeByBad=3]="ShopScoreTypeByBad",y;var n})(),O=c(85898),u=c(6104),M=c(35482),L=c(80164),D=c(94830),J=c(10118),k=c(24006),N=c(22775),U=c(52313),q=c(46032),g=c(52646),P=c(40432),s=c(5068),f=c(17445);function S(n,r){}const tt=function(n,r,e,i){return{seconds:n,minutes:r,hours:e,days:i}},et=function(n){return{$implicit:n}};let nt=(()=>{class n{constructor(e){this.platformId=e}getTimeDifference(){this.difference=new Date(this.time).getTime()-(new Date).getTime(),this.allocateTimeUnits(this.difference)}allocateTimeUnits(e){this.seconds=Math.floor(e/1e3),this.minutes=Math.floor(this.seconds/60),this.hours=Math.floor(this.minutes/60),this.days=Math.floor(this.hours/24),this.hours%=24,this.minutes%=60,this.seconds%=60,this.hours=this.hours<10?"0"+this.hours:this.hours,this.minutes=this.minutes<10?"0"+this.minutes:this.minutes,this.seconds=this.seconds<10?"0"+this.seconds:this.seconds}ngOnInit(){(0,d.PM)(this.platformId)&&this.getTimeDifference(),(0,d.NF)(this.platformId)&&(this.subscription=(0,f.F)(1e3).subscribe(e=>{this.getTimeDifference()}))}ngOnDestroy(){this.subscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Lbi))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-countdown"]],contentQueries:function(e,i,o){if(1&e&&t.Suo(o,t.Rgc,5),2&e){let a;t.iGM(a=t.CRH())&&(i.templateRef=a.first)}},inputs:{time:"time"},decls:2,vars:9,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(t.ynx(0),t.YNc(1,S,0,0,"ng-template",0),t.BQk()),2&e&&(t.xp6(1),t.Q6J("ngTemplateOutlet",i.templateRef)("ngTemplateOutletContext",t.VKq(7,et,t.l5B(2,tt,i.seconds,i.minutes,i.hours,i.days))))},dependencies:[d.tP],encapsulation:2}),n})();var Y=c(10556),R=c(63225),it=c(56095),ot=c(70957),rt=c(49127),at=c(23556),ct=c(28137),st=c(24719),dt=c(45210),lt=c(12163),pt=c(18215),j=c(7858),K=c(61977);function ut(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",17),t.NdJ("click",function(){const a=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.handleImageClick(a))}),t._UZ(1,"img",18),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(1),t.Q6J("src",e,t.LSH)}}function _t(n,r){if(1&n&&(t.TgZ(0,"div",15),t.YNc(1,ut,2,1,"div",16),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.images)}}function mt(n,r){if(1&n&&(t.TgZ(0,"div",19)(1,"div",20),t._uU(2),t.TgZ(3,"span",21),t._uU(4),t.ALo(5,"date"),t.qZA()(),t.TgZ(6,"p"),t._uU(7),t.qZA()()),2&n){const e=r.$implicit,i=t.oxw();t.xp6(2),t.hij(" ",i.storeName," "),t.xp6(2),t.Oqu(t.xi3(5,3,e.createdDate,"YYYY-MM-dd")),t.xp6(3),t.Oqu(e.content)}}let gt=(()=>{class n{constructor(){this.onImageClick=new t.vpe,this.storeName=""}get images(){let e=JSON.parse(this.review.images||"[]");return"string"==typeof e&&(e=JSON.parse(e)),e.length>0?e:[]}get avatar(){return this.review.memberAvatar?this.review.memberAvatar:"/assets/images/sign-up-user.svg"}get specifications(){return JSON.parse(this.review.specifications||"[]").join(",")}handleImageClick(e){this.onImageClick.emit({images:this.images,index:e})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-review-item"]],inputs:{review:"review",storeName:"storeName"},outputs:{onImageClick:"onImageClick"},decls:21,vars:12,consts:[[1,"border-b","border-[#eaeaea]","py-2"],[1,"flex"],[1,"h-12","w-12","relative","mt-1","mr-2"],[1,"object-fit","object-cover","!h-full","!w-full","rounded-full",3,"src"],[1,"flex-1"],[1,"flex","items-center"],[1,"flex-1","opacity-60","self-end"],[3,"stopEvent","rating"],[1,"mb-1"],["class","flex flex-wrap my-4",4,"ngIf"],[1,"flex","justify-between","items-center","opacity-40","text-sm"],[1,"specifications"],[1,"time"],[1,"pl-20","mt-3"],["class","p-2 mb-2 border border-[#dddddd] bg-[#fafafa] rounded-lg",4,"ngFor","ngForOf"],[1,"flex","flex-wrap","my-4"],["class","h-32 w-32 mr-1 mb-1 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"h-32","w-32","mr-1","mb-1","cursor-pointer",3,"click"],["alt","",1,"object-fit","object-cover","!w-full","!h-full","rounded-md",3,"src"],[1,"p-2","mb-2","border","border-[#dddddd]","bg-[#fafafa]","rounded-lg"],[1,"font-bold","text-sm","amb-2"],[1,"ml-2","opacity-40","font-normal"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6),t._uU(7),t.qZA(),t.TgZ(8,"div"),t._UZ(9,"app-order-rating",7),t.qZA()(),t.TgZ(10,"p",8),t._uU(11),t.qZA(),t.YNc(12,_t,2,1,"div",9),t.TgZ(13,"div",10)(14,"div",11),t._uU(15),t.qZA(),t.TgZ(16,"div",12),t._uU(17),t.ALo(18,"date"),t.qZA()()()(),t.TgZ(19,"div",13),t.YNc(20,mt,8,6,"div",14),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("src",i.avatar,t.LSH),t.xp6(4),t.hij(" ",i.review.memberName," "),t.xp6(2),t.Q6J("stopEvent",!0)("rating",i.review.score),t.xp6(2),t.Oqu(i.review.content),t.xp6(1),t.Q6J("ngIf",i.images.length>0),t.xp6(3),t.hij("[",i.specifications,"]"),t.xp6(2),t.hij(" ",t.xi3(18,9,i.review.createdDate,"YYYY-MM-dd")," "),t.xp6(3),t.Q6J("ngForOf",i.review.replies))},dependencies:[K.K,d.O5,d.sg,d.uU],styles:[".top_review[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;align-items:flex-start;display:flex;flex-flow:row wrap;justify-content:flex-start;flex-wrap:nowrap}.top_review[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:12px}.top_review[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-left:12px}.text[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:500;color:#000;line-height:26px}.text-gray-darker[_ngcontent-%COMP%]{color:#5a5a5a}.text-gray[_ngcontent-%COMP%]{color:#bfbfbf}.content[_ngcontent-%COMP%]{word-break:break-all;line-height:3em}.images[_ngcontent-%COMP%]{width:300px}.replies-item[_ngcontent-%COMP%]{margin-top:12px;line-height:3em}.replies-item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{border-top:1px solid #f2f2f2}.replies-item[_ngcontent-%COMP%]   .replie-content[_ngcontent-%COMP%]{padding-right:16px}"]}),n})();var H=c(48910),G=c(39172),_=c(68879),Q=c(94464),w=c(99485);function ft(n,r){if(1&n&&t._UZ(0,"img",9),2&n){const e=t.oxw().$implicit;t.Q6J("src",e,t.LSH)}}function xt(n,r){1&n&&t.YNc(0,ft,1,1,"ng-template",8)}function ht(n,r){if(1&n&&(t.TgZ(0,"button",1),t._uU(1," \u2715 "),t.qZA(),t.TgZ(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"swiper",4,5),t.YNc(6,xt,1,0,null,6),t.qZA(),t._UZ(7,"div",7),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("config",e.slideOpts),t.xp6(2),t.Q6J("ngForOf",e.images)}}_.ZP.use([_.W_,_.pt,_.N1,_.tl,_.LW,_.LG,Q.L$]);let z=(()=>{class n{constructor(e){this.platformId=e,this.images=[],this.initialSlide=0,this.isOpenChange=new t.vpe,this.navigation={prevEl:".lightbox-prev-btn",nextEl:".lightbox-next-btn"},this.slideOpts={slidesPerView:"auto",speed:400,navigation:this.navigation},this.activeIndex=0}ngOnInit(){this.slideOpts.initialSlide=this.initialSlide}onClick(e){const i=document.querySelectorAll(".lightbox-next-btn, .lightbox-prev-btn, .lightbox-image");for(let o=0;o<i.length;o++)if(!i[o]||i[o].contains(e.target))return;this.modal.dismiss()}handleKeyboardEvent(e){if(this.isOpen)switch(e.key){case"ArrowLeft":this.swiper?.swiperRef.slidePrev();break;case"ArrowRight":this.swiper?.swiperRef.slideNext()}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Lbi))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-images-lightbox"]],viewQuery:function(e,i){if(1&e&&(t.Gf(p.ki,5),t.Gf(w.nF,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.modal=o.first),t.iGM(o=t.CRH())&&(i.swiper=o.first)}},hostBindings:function(e,i){1&e&&t.NdJ("click",function(a){return i.onClick(a)},!1,t.evT)("keydown",function(a){return i.handleKeyboardEvent(a)},!1,t.evT)},inputs:{productDetail:"productDetail",images:"images",initialSlide:"initialSlide",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},decls:2,vars:1,consts:[[3,"isOpen","didDismiss"],[1,"absolute","top-0","right-0","text-5xl","z-10","mt-2","mr-2","text-primary"],[1,"light-box-modal","flex","items-center"],[1,"swiper-button-prev","lightbox-prev-btn","mr-2","flex-shrink-0"],[1,"big-swiper","flex-1","overflow-hidden",3,"config"],["swiper",""],[4,"ngFor","ngForOf"],[1,"swiper-button-next","lightbox-next-btn","ml-2","flex-shrink-0"],["swiperSlide",""],[1,"lightbox-image",3,"src"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-modal",0),t.NdJ("didDismiss",function(){return i.isOpenChange.emit(!1)}),t.YNc(1,ht,8,2,"ng-template"),t.qZA()),2&e&&t.Q6J("isOpen",i.isOpen)},dependencies:[d.sg,p.ki,w.nF,w.YC],styles:["ion-modal[_ngcontent-%COMP%]{--backdrop-opacity: .8;--height: 100%}.light-box-modal[_ngcontent-%COMP%]{height:100%}swiper[_ngcontent-%COMP%]{height:100%;width:100vw}swiper[_ngcontent-%COMP%]     .swiper-wrapper{align-items:center}swiper[_ngcontent-%COMP%]     .swiper-slide{height:600px;max-height:90vh}.swiper-button-next.lightbox-next-btn[_ngcontent-%COMP%], .swiper-button-prev.lightbox-prev-btn[_ngcontent-%COMP%]{pointer-events:auto;--swiper-navigation-color: #ff7e18;background-image:none!important;width:calc(var(--swiper-navigation-size) / 44 * 27);height:var(--swiper-navigation-size);margin-top:0!important;transform:translateY(-50%)}@media (min-width: 1024px){.swiper-button-next.lightbox-next-btn[_ngcontent-%COMP%], .swiper-button-prev.lightbox-prev-btn[_ngcontent-%COMP%]{--swiper-navigation-size: 70px}}.swiper-button-next.lightbox-next-btn.swiper-button-disabled[_ngcontent-%COMP%], .swiper-button-prev.lightbox-prev-btn.swiper-button-disabled[_ngcontent-%COMP%]{opacity:0}.swiper-button-prev.lightbox-prev-btn[_ngcontent-%COMP%]{padding:80px 80px 80px 20px;left:0}@media (min-width: 768px){.swiper-button-prev.lightbox-prev-btn[_ngcontent-%COMP%]{padding-left:80px}}@media (min-width: 1280px){.swiper-button-prev.lightbox-prev-btn[_ngcontent-%COMP%]{transform:translate(100%,-50%)}}@media (min-width: 1440px){.swiper-button-prev.lightbox-prev-btn[_ngcontent-%COMP%]{transform:translate(15vw,-50%)}}.swiper-button-next.lightbox-next-btn[_ngcontent-%COMP%]{padding:80px 20px 80px 80px;right:0}@media (min-width: 768px){.swiper-button-next.lightbox-next-btn[_ngcontent-%COMP%]{padding-right:80px}}@media (min-width: 1280px){.swiper-button-next.lightbox-next-btn[_ngcontent-%COMP%]{transform:translate(-100%,-50%)}}@media (min-width: 1440px){.swiper-button-next.lightbox-next-btn[_ngcontent-%COMP%]{transform:translate(calc(0px - 15vw),-50%)}}"]}),n})();const vt=["largeSwiper"],wt=["smallSwiper"];function Ct(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().index,a=t.oxw();return t.KtG(a.handleImageClick(o))}),t.TgZ(1,"div",13),t._UZ(2,"img",14),t.qZA()()}if(2&n){const e=t.oxw(),i=e.$implicit,o=e.index,a=t.oxw();t.xp6(2),t.Q6J("src",i.source,t.LSH)("alt",a.productDetail.name+" "+o)}}function bt(n,r){1&n&&t.YNc(0,Ct,3,2,"ng-template",11)}const Pt=function(n){return{active:n}};function Zt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",15),t.NdJ("mouseenter",function(){t.CHM(e);const o=t.oxw().index,a=t.oxw();return t.KtG(a.handleSelect(o))})("click",function(){t.CHM(e);const o=t.oxw().index,a=t.oxw();return t.KtG(a.handleImageClick(o))}),t._UZ(1,"img",16),t.qZA()}if(2&n){const e=t.oxw(),i=e.index,o=e.$implicit,a=t.oxw();t.Q6J("ngClass",t.VKq(3,Pt,a.activeIndex===i)),t.xp6(1),t.Q6J("src",o.source,t.LSH)("alt",a.productDetail.name+" "+i)}}function Tt(n,r){1&n&&t.YNc(0,Zt,2,5,"ng-template",11)}function At(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-images-lightbox",18),t.NdJ("isOpenChange",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openLightbox=o)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("isOpen",e.openLightbox)("images",e.images)("initialSlide",e.lighboxSlideNumber)}}function yt(n,r){if(1&n&&(t.ynx(0),t.YNc(1,At,1,3,"app-product-images-lightbox",17),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.openLightbox)}}const Ot=function(n){return{"glowing-active":n}};_.ZP.use([_.W_,_.pt,_.N1,_.tl,_.LW,_.LG,Q.L$]);let Mt=(()=>{class n{constructor(){this.lighboxSlideNumber=0,this.openLightbox=!1,this.navigation={prevEl:".custom-prev-btn",nextEl:".custom-next-btn"},this.slideOpts={slidesPerView:"auto",speed:400},this.smallSwiperOpts={slidesPerView:"auto",speed:400,spaceBetween:10,navigation:this.navigation,autoplay:{delay:2e3,disableOnInteraction:!1,pauseOnMouseEnter:!0}},this.activeIndex=0}handleSelect(e){this.largeSwiper?.swiperRef.slideTo(e),this.smallSpwiper?.swiperRef.slideTo(e),this.activeIndex=e}handleSlideChange(e){var i=this;return(0,m.Z)(function*(){i.activeIndex=e[0].activeIndex||0,i.smallSpwiper?.swiperRef.slideTo(i.activeIndex)})()}handleImageClick(e){var i=this;return(0,m.Z)(function*(){i.lighboxSlideNumber=e,i.openLightbox=!0})()}get images(){return this.productDetail.productImages.map(e=>e.source)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-detail-images"]],viewQuery:function(e,i){if(1&e&&(t.Gf(vt,5),t.Gf(wt,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.largeSwiper=o.first),t.iGM(o=t.CRH())&&(i.smallSpwiper=o.first)}},inputs:{productDetail:"productDetail",glowing:"glowing"},decls:13,vars:7,consts:[[1,"glowing-container",3,"ngClass"],[1,"glowing-content","large-swiper","border","border-[#dddddd]","rounded-2xl","overflow-hidden",3,"config","activeIndexChange"],["largeSwiper",""],[4,"ngFor","ngForOf"],[1,"flex","justify-center"],[1,"flex","items-center","mt-3","max-w-7/12","max-w-full"],[1,"swiper-button-prev","custom-prev-btn","mr-2","flex-shrink-0"],[1,"small-swiper","flex-1","overflow-hidden",3,"config"],["smallSwiper",""],[1,"swiper-button-next","custom-next-btn","ml-2","flex-shrink-0"],[4,"isBrowser"],["swiperSlide",""],[1,"image-wrapper","relative","cursor-pointer",3,"click"],[1,"absolute","inset-0"],[1,"object-cover","object-center","!w-full","!h-full",3,"src","alt"],[1,"preview-wrapper","overflow-hidden","cursor-pointer",3,"ngClass","mouseenter","click"],[1,"object-contain","object-center","!w-full","!h-full",3,"src","alt"],[3,"isOpen","images","initialSlide","isOpenChange",4,"ngIf"],[3,"isOpen","images","initialSlide","isOpenChange"]],template:function(e,i){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"swiper",1,2),t.NdJ("activeIndexChange",function(a){return i.handleSlideChange(a)}),t.YNc(4,bt,1,0,null,3),t.qZA()(),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"div",6),t.TgZ(8,"swiper",7,8),t.YNc(10,Tt,1,0,null,3),t.qZA(),t._UZ(11,"div",9),t.qZA()()(),t.YNc(12,yt,2,1,"ng-container",10)),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(5,Ot,i.glowing)),t.xp6(1),t.Q6J("config",i.slideOpts),t.xp6(2),t.Q6J("ngForOf",i.productDetail.productImages),t.xp6(4),t.Q6J("config",i.smallSwiperOpts),t.xp6(2),t.Q6J("ngForOf",i.productDetail.productImages))},dependencies:[d.mk,d.sg,d.O5,R.E,w.nF,w.YC,z],styles:['.large-swiper[_ngcontent-%COMP%]     .swiper-slide{width:100%!important;height:auto}.large-swiper[_ngcontent-%COMP%]     .swiper-wrapper{align-items:center}.large-swiper[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{width:100%;padding-top:100%}.small-swiper[_ngcontent-%COMP%]{height:40px}.small-swiper[_ngcontent-%COMP%]     .swiper-slide{width:auto!important}.preview-wrapper[_ngcontent-%COMP%]{width:40px;height:40px}.preview-wrapper.active[_ngcontent-%COMP%]{border-radius:.375rem;border-width:2px;--tw-border-opacity: 1;border-color:rgb(255 126 24 / var(--tw-border-opacity))}.custom-next-btn[_ngcontent-%COMP%], .custom-prev-btn[_ngcontent-%COMP%]{position:static;--swiper-navigation-color: #999;--swiper-pagination-color: #999;--swiper-navigation-size: 24px;margin-top:0;background-image:none!important;width:calc(var(--swiper-navigation-size) / 44 * 27);height:var(--swiper-navigation-size)}.glowing-container[_ngcontent-%COMP%]{position:relative;border-radius:1rem}.glowing-container.glowing-active[_ngcontent-%COMP%]{padding:2px;box-shadow:0 0 8px 3px #ffd80099;margin:2px}@media (min-width: 768px){.glowing-container.glowing-active[_ngcontent-%COMP%]{margin:3px}}.glowing-container.glowing-active[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;z-index:1;border-radius:inherit;border-radius:1rem;background:linear-gradient(to top,#f68104,#ffd800)}'],changeDetection:0}),n})();var kt=c(11481);_.ZP.use([_.W_,_.pt,_.N1,_.tl,_.LW,_.LG,Q.L$]);let Dt=(()=>{class n{constructor(e){this.sanitizer=e}get introductionHTML(){return console.log(this.productDetail?.introduction),this.sanitizer.bypassSecurityTrustHtml(this.productDetail?.introduction||"")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(kt.H7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-images-description"]],inputs:{productDetail:"productDetail"},decls:8,vars:4,consts:[[1,"flex","mb-4"],[1,"border-b","border-primary","first-divider","mb-2","opacity-50"],[1,"shrink-0","text-primary","mx-3"],[1,"border-b","border-primary","flex-1","mb-2","opacity-50"],[3,"innerHTML"]],template:function(e,i){1&e&&(t.TgZ(0,"div")(1,"div",0),t._UZ(2,"div",1),t.TgZ(3,"div",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"div",3),t.qZA(),t._UZ(7,"div",4),t.qZA()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"shop-product-page-description")),t.xp6(3),t.Q6J("innerHTML",i.introductionHTML,t.oJD))},dependencies:[x.X$],styles:[".first-divider[_ngcontent-%COMP%]{width:20px}"],changeDetection:0}),n})();var St=c(95698),It=c(38461);function Ft(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",15),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.share(a.type))}),t._UZ(1,"img",16),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(1),t.Q6J("src",e.icon,t.LSH)}}function Lt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t._UZ(2,"img",3),t.TgZ(3,"p",4),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isOpenChange.emit(!1))}),t._UZ(7,"app-close-icon",6),t.qZA()(),t.TgZ(8,"div",7)(9,"div",8),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",9),t.YNc(13,Ft,2,1,"div",10),t.qZA(),t.TgZ(14,"div",11)(15,"div",12),t._uU(16),t.qZA(),t.TgZ(17,"div",13)(18,"button",14),t.NdJ("copied",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.copied())}),t._uU(19),t.ALo(20,"translate"),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,6,"shop-product-page-share-modal-title")," "),t.xp6(6),t.hij(" ",t.lcZ(11,8,"game-social-media-share")," "),t.xp6(3),t.Q6J("ngForOf",e.SOCIALS),t.xp6(3),t.hij(" ",e.shareLink," "),t.xp6(2),t.s9C("appCopying",e.shareLink),t.xp6(1),t.hij(" ",t.lcZ(20,10,e.successTitle)," ")}}let Nt=(()=>{class n{constructor(e){this.translate=e,this.isOpenChange=new t.vpe,this.inviteTextKey="other-meta-title",this.successTitle="shop-product-page-share-modal",this.SOCIALS=[{link:"/facebook",icon:"assets/svgs/color-fb.svg",type:"fb"},{link:"/twitter",icon:"assets/svgs/color-twitter.svg",type:"twitter"},{link:"/wechat",icon:"assets/svgs/color-wechat.svg",type:"wechat"}],this.shareLink="",this.inviteText=""}ngOnInit(){this.shareLink=window.location.href,this.inviteText=this.translate.instant(this.inviteTextKey)}shareUrlByType(e){const{inviteText:i,shareLink:o}=this,a=encodeURIComponent(i);console.log(o);const l=encodeURIComponent(`${i} ${o}`);switch(e){case"fb":return`https://www.facebook.com/sharer/sharer.php?u=${o}`;case"telegram":return`https://t.me/share/url?url=${o}&text=${a}`;case"twitter":return`https://twitter.com/share?text=${a}&url=${o}`;case"wechat":return`https://www.shareaholic.com/share/wechat/?link=${o}&notes=${a}`;case"whatsapp":return`https://wa.me/?text=${l}`;case"sms":return`sms:?&body=${l}`;case"mail":return`mailto:?body=${l}&subject=${i}`;default:return""}}share(e){const i=this.shareUrlByType(e);let o=window.open(i,"share-popup","height=350,width=600");o?.focus&&o.focus()}copied(){const e=this.successTitle;this.successTitle="order-button-copied",(0,f.F)(2e3).pipe((0,St.q)(1)).subscribe(()=>{this.successTitle=e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-share-modal"]],inputs:{isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},decls:2,vars:1,consts:[[3,"isOpen","didDismiss"],[1,"share-modal","flex","flex-col","rounded-lg","overflow-hidden"],[1,"flex","items-center","bg-[#f4f4f4]","p-2","w-full"],["src","assets/svgs/invite.svg","alt","Level Up",1,"img-title","mr-1"],[1,"font-medium","text-3xl","mr-4","tracking-tighter"],[1,"rounded-[5px]","bg-[#ff2145]","p-1","ml-auto","flex","items-center","justify-center",3,"click"],[1,"w-[20px]","text-white"],[1,"bg-white","w-full","h-full","overflow-y-auto","shadow-scroll","p-4"],[1,"font-bold","text-xl"],[1,"flex"],["class","mr-1",3,"click",4,"ngFor","ngForOf"],[1,"flex","items-center","mt-4"],[1,"url-box","rounded-xl","px-2","py-1","w-8/12","break-all"],[1,"flex-auto","pl-2"],["successTitle","copied","type","button",1,"rounded-lg","bg-gradient-primary","text-white","py-2","w-full","font-bold","text-2xl",3,"appCopying","copied"],[1,"mr-1",3,"click"],["alt","",3,"src"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-modal",0),t.NdJ("didDismiss",function(){return i.isOpenChange.emit(!1)}),t.YNc(1,Lt,21,12,"ng-template"),t.qZA()),2&e&&t.Q6J("isOpen",i.isOpen)},dependencies:[d.sg,It.D,Y.p,p.ki,x.X$],styles:[".share-modal[_ngcontent-%COMP%]{width:500px;max-width:95vw}.share-modal[_ngcontent-%COMP%]   .img-title[_ngcontent-%COMP%]{height:50px}.url-box[_ngcontent-%COMP%]{min-height:50px;display:flex;align-items:center;border:2px solid #406899;background-color:#7d7d7d66}"]}),n})();const Ut=function(){return["/product","detail"]},qt=function(n){return{id:n}};function Qt(n,r){if(1&n&&(t.TgZ(0,"a",4)(1,"div",5),t._UZ(2,"img",6),t.TgZ(3,"div",7),t._UZ(4,"img",8),t.TgZ(5,"span",9),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.TgZ(8,"div",10),t._uU(9),t.ALo(10,"currency"),t.qZA()(),t.TgZ(11,"div",11)(12,"div",12),t._uU(13),t.qZA()()()()),2&n){const e=t.oxw().$implicit;t.Q6J("routerLink",t.DdM(10,Ut))("queryParams",t.VKq(11,qt,e.id)),t.xp6(2),t.Q6J("src",e.productImages[0].source,t.LSH),t.xp6(4),t.hij(" ",t.lcZ(7,6,e.price)," "),t.xp6(3),t.hij(" ",t.lcZ(10,8,e.marketPrice)," "),t.xp6(4),t.hij(" ",e.name," ")}}function Et(n,r){1&n&&t.YNc(0,Qt,14,13,"ng-template",3)}function Bt(n,r){if(1&n&&(t.TgZ(0,"swiper",1),t.YNc(1,Et,1,0,null,2),t.qZA()),2&n){const e=t.oxw();t.Q6J("config",e.swiperOpts),t.xp6(1),t.Q6J("ngForOf",e.productList)("ngForTrackBy",e.trackByFn)}}let Yt=(()=>{class n{constructor(e,i,o){this.productsService=e,this.userService=i,this.cdr=o,this.productList=[],this.loading=!1,this.swiperOpts={direction:"vertical",slidesPerView:"auto",speed:400,autoplay:{delay:5e3,disableOnInteraction:!0,pauseOnMouseEnter:!0}}}ngOnInit(){}ngOnChanges(e){var i=this;return(0,m.Z)(function*(){if(!A.Z.isServer&&e.relatedProduct.currentValue&&e.relatedProduct.currentValue!==e.relatedProduct.previousValue){const o=yield(0,h.n)(i.productsService.getProductsByMetaParamsV2({rows:10,page:Math.floor(10*Math.random()),isRecommended:!0,categoryId:i.relatedProduct?.productCategoryId,traceId:i.userService.traceId}));i.productList=o.rows,i.cdr.markForCheck()}})()}trackByFn(e,i){return i.id}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.s),t.Y36(D.K),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-recommend"]],inputs:{relatedProduct:"relatedProduct"},features:[t.TTD],decls:1,vars:1,consts:[["class","recommend-swiper",3,"config",4,"ngIf"],[1,"recommend-swiper",3,"config"],[4,"ngFor","ngForOf","ngForTrackBy"],["swiperSlide",""],[3,"routerLink","queryParams"],[1,"w-full"],["alt","",1,"w-full","mb-2",3,"src"],[1,"flex","justify-center","items-center"],["src","assets/svgs/fire-animation.svg","alt","",1,"!h-6"],[1,"mx-2","text-primary","text-sm","font-medium"],[1,"line-through","opacity-20"],[1,"relative","w-full","h-6"],[1,"absolute","truncate","inset-0","opacity-70"]],template:function(e,i){1&e&&t.YNc(0,Bt,2,3,"swiper",0),2&e&&t.Q6J("ngIf",i.productList.length>0)},dependencies:[d.sg,d.O5,p.Fo,w.nF,w.YC,b.yS,d.H9],styles:[".recommend-swiper[_ngcontent-%COMP%]{max-height:900px}.recommend-swiper[_ngcontent-%COMP%]     .swiper-wrapper{align-items:center}.recommend-swiper[_ngcontent-%COMP%]     .swiper-slide{height:auto;max-width:220px;margin-bottom:1rem;align-items:flex-start}"],changeDetection:0}),n})();var Rt=c(54004),jt=c(23284),$=c(59809);function Kt(n,r){if(1&n&&t._UZ(0,"app-product-card",4),2&n){const e=t.oxw().$implicit;t.Q6J("product",e)}}function Ht(n,r){1&n&&t.YNc(0,Kt,1,1,"ng-template",3)}function Gt(n,r){if(1&n&&(t.TgZ(0,"swiper",1),t.YNc(1,Ht,1,0,null,2),t.qZA()),2&n){const e=t.oxw();t.Q6J("config",e.slideOpts),t.xp6(1),t.Q6J("ngForOf",e.relatedProducts.rows)("ngForTrackBy",e.identify)}}function zt(n,r){1&n&&t._UZ(0,"app-product-card-skeleton",6)}function $t(n,r){1&n&&t.YNc(0,zt,1,0,"ng-template",3)}const Wt=function(){return[]};function Vt(n,r){if(1&n&&(t.TgZ(0,"swiper",1),t.YNc(1,$t,1,0,null,5),t.qZA()),2&n){const e=t.oxw();t.Q6J("config",e.slideOpts),t.xp6(1),t.Q6J("ngForOf",t.DdM(2,Wt).constructor(7).fill(1))}}let Xt=(()=>{class n{constructor(e,i){this.productsService=e,this.cdr=i,this.isRandom=!1,this.slideOpts={slidesPerView:"auto",autoplay:{delay:2e3,disableOnInteraction:!0,pauseOnMouseEnter:!0}},this.isLoading=!0}ngOnInit(){}identify(e,i){return i.id}ngOnChanges(e){this.isRandom?e.productId?.currentValue!==e.productId?.previousValue&&this.fetchData():e.product?.currentValue!==e.product?.previousValue&&this.product&&this.fetchData({categoryId:this.product.productCategoryId,brandId:this.product.brandId})}fetchData(e={}){var i=this;return(0,m.Z)(function*(){if(i.isLoading=!0,i.cdr.markForCheck(),!A.Z.isServer){if(!i.isRandom&&!i.product)return;i.productsService.getProductsByMetaParamsV2({page:Math.floor(5*Math.random()),rows:Math.floor(14*Math.random())+7,...e}).pipe((0,Rt.U)(o=>({...o,rows:o.rows.filter(a=>a.id!==i.productId)}))).subscribe({next:o=>{i.relatedProducts=o,i.isLoading=!1,i.cdr.markForCheck()},complete:()=>{i.isLoading=!1,i.cdr.markForCheck()},error:()=>{i.isLoading=!1,i.cdr.markForCheck()}})}})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.s),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-related"]],inputs:{productId:"productId",product:"product",isRandom:"isRandom"},features:[t.TTD],decls:3,vars:2,consts:[["class","related-swiper",3,"config",4,"ngIf"],[1,"related-swiper",3,"config"],[4,"ngFor","ngForOf","ngForTrackBy"],["swiperSlide",""],[1,"w-full",3,"product"],[4,"ngFor","ngForOf"],[1,"w-full"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.YNc(1,Gt,2,3,"swiper",0),t.YNc(2,Vt,2,3,"swiper",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",!i.isLoading&&i.relatedProducts),t.xp6(1),t.Q6J("ngIf",i.isLoading))},dependencies:[d.sg,d.O5,jt.Y,w.nF,w.YC,$.I],styles:[".related-swiper[_ngcontent-%COMP%]     .swiper-wrapper{margin-left:-.125rem;margin-right:-.125rem;padding-top:.25rem}@media only screen and (min-width: 279px){.related-swiper[_ngcontent-%COMP%]     .swiper-wrapper{margin-left:-.25rem;margin-right:-.25rem}}.related-swiper[_ngcontent-%COMP%]     .swiper-slide{width:150px;padding-left:.125rem;padding-right:.125rem}@media only screen and (min-width: 260px){.related-swiper[_ngcontent-%COMP%]     .swiper-slide{padding-left:.25rem;padding-right:.25rem}}@media (min-width: 1024px){.related-swiper[_ngcontent-%COMP%]     .swiper-slide{width:20%}}@media (min-width: 1280px){.related-swiper[_ngcontent-%COMP%]     .swiper-slide{width:16.8067226891%}}.related-swiper[_ngcontent-%COMP%]     .swiper-slide app-product-card .product-title, .related-swiper[_ngcontent-%COMP%]     .swiper-slide app-product-card-skeleton .product-title{height:24px;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}"],changeDetection:0}),n})();const te=["popover"],ee=["mobileSticky"],ne=["stickyReview"];function ie(n,r){1&n&&t._UZ(0,"img",52)}function oe(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",54),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t._UZ(1,"app-heart-animated",55),t.qZA()}if(2&n){const e=r.isDisabled,i=t.oxw(4);t.Q6J("disabled",e),t.xp6(1),t.Q6J("active",i.isFavorite)}}function re(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-favorite",53),t.NdJ("isBelongChange",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.handleFavoriteChange(o))}),t.YNc(1,oe,2,2,"ng-template"),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("product",e.productDetail)("skuId",null==e.selectedSku?null:e.selectedSku.id)}}function ae(n,r){if(1&n&&(t.TgZ(0,"div",46,47)(2,"div",7),t._UZ(3,"app-product-detail-images",48),t.YNc(4,ie,1,0,"img",49),t.qZA(),t.TgZ(5,"div",50),t.YNc(6,re,2,2,"app-product-favorite",51),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("glowing",e.productDetail.isSpecialSale)("productDetail",e.productDetail),t.xp6(1),t.Q6J("ngIf",e.productDetail.isSpecialSale),t.xp6(2),t.Q6J("ngIf",e.productDetail)}}function ce(n,r){if(1&n&&(t.TgZ(0,"span",99),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("",null==e.selectedSku?null:e.selectedSku.exchangePoint," \u79ef\u5206 + ")}}function se(n,r){if(1&n&&(t.TgZ(0,"span",99),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("",null==e.selectedSku?null:e.selectedSku.exchangePoint," \u79ef\u5206 + ")}}function de(n,r){1&n&&t._UZ(0,"ion-spinner",103)}function le(n,r){if(1&n&&(t.TgZ(0,"span",111),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"currency"),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.hij(" ",e.areaCanBuy?"\u542b\u8fd0\u8d39\uff08 "+t.lcZ(3,3,e.shippingFee)+"\uff09":t.lcZ(2,1,"product-page-not-available-buy"),"")}}function pe(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",112),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.isOpenChangeAddressModal=!0)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"product-page-switch-address")," "))}function ue(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",113),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.isOpenEditAddressModal=!0)}),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()}2&n&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"checkout-shipping-add-btn"),"",t.lcZ(3,4,"order-details-address")," "))}const _e=function(n){return{"text-red-500":n}};function me(n,r){if(1&n&&(t.TgZ(0,"div",104)(1,"div",105),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",106)(5,"div",107),t._uU(6),t.qZA()(),t.YNc(7,le,4,5,"span",108),t.qZA(),t.YNc(8,pe,3,3,"div",109),t.YNc(9,ue,4,6,"ng-template",null,110,t.W1O)),2&n){const e=t.MAs(10);t.oxw();const i=t.MAs(3),o=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(8,_e,!i)),t.xp6(1),t.hij(" ",t.lcZ(3,6,"product-page-delivery-to"),": "),t.xp6(4),t.Oqu(null==o.selectedReceiver?null:o.selectedReceiver.areaName),t.xp6(1),t.Q6J("ngIf",o.selectedReceiver),t.xp6(1),t.Q6J("ngIf",o.selectedReceiver)("ngIfElse",e)}}function ge(n,r){if(1&n&&(t.TgZ(0,"div",100),t.YNc(1,de,1,0,"ion-spinner",101),t.YNc(2,me,11,10,"ng-template",null,102,t.W1O),t.qZA()),2&n){const e=t.MAs(3),i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",!i.areaCanBuy)("ngIfElse",e)}}function fe(n,r){if(1&n&&(t.TgZ(0,"div",114),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"product-place-of-origin"),"\uff1a",e.productDetail.productArea," ")}}const xe=function(n){return{"!border-primary text-primary":n}};function he(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",119),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw().$implicit,v=t.oxw(3);return t.KtG(v.specificationChange(a.id,l.name))}),t._uU(1),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw().$implicit,o=t.oxw(3);t.Q6J("ngClass",t.VKq(2,xe,o.specificationMap["specification-"+i.name]==e.id)),t.xp6(1),t.hij(" ",e.value," ")}}const W=function(n){return{"w-full":n}};function ve(n,r){if(1&n&&(t.TgZ(0,"div",115)(1,"div",116),t._uU(2),t.qZA(),t.TgZ(3,"div",117)(4,"div",70),t.YNc(5,he,2,4,"div",118),t.qZA()()()),2&n){const e=r.$implicit;t.Q6J("ngClass",t.VKq(3,W,r.index>0)),t.xp6(2),t.hij(" ",e.name,": "),t.xp6(3),t.Q6J("ngForOf",e.entries)}}function we(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",120),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t._UZ(1,"app-cart-icon",121),t.TgZ(2,"span",122),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"translate"),t.qZA()()}if(2&n){const e=r.isOnCart,i=r.isLoading,o=t.oxw(3);t.Q6J("targetSelector","#product-toolbar .badge-cart-mobile")("flyProduct",o.productDetail)("disabled",i||!o.canBuy),t.xp6(3),t.Oqu(o.canBuy?t.lcZ(5,6,e?"shop-product-page-in-the-cart":"shop-product-page-add"):t.lcZ(4,4,o.areaCanBuy?"shop-product-page-sku-stock-out":"product-page-not-available-buy"))}}function Ce(n,r){}function be(n,r){}const Pe=function(n){return{"product-info-disabled":n}};function Ze(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",56)(1,"div",57)(2,"div",58)(3,"h1",59),t._uU(4),t.TgZ(5,"app-copy-icon",60),t.NdJ("copied",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.copied())}),t.qZA()(),t.TgZ(6,"div",61)(7,"app-order-rating",62),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.scrollToScoreSection())}),t.qZA(),t.TgZ(8,"div",63),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.scrollToScoreSection())}),t._uU(9),t.qZA(),t.TgZ(10,"div",64),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.scrollToScoreSection())}),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"div",65)(14,"div",66),t.GkF(15,9),t.TgZ(16,"div",67),t._uU(17),t.ALo(18,"currency"),t.qZA()()()(),t.TgZ(19,"div",68),t.GkF(20,9),t.qZA(),t._UZ(21,"div",69),t.TgZ(22,"div",70)(23,"div",71)(24,"div",72),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"div",73),t._uU(28),t.ALo(29,"currency"),t.qZA(),t.TgZ(30,"div",74),t._uU(31),t.ALo(32,"translate"),t.TgZ(33,"div",75),t._uU(34," ? "),t.qZA()(),t.TgZ(35,"div",76),t.YNc(36,ce,2,1,"span",77),t.TgZ(37,"div",78)(38,"strong",79),t._uU(39),t.ALo(40,"currency"),t.qZA(),t._UZ(41,"img",80),t.qZA()(),t.TgZ(42,"div",81),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"div",72),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"div",82),t.YNc(49,se,2,1,"span",77),t.TgZ(50,"div",78)(51,"strong",83),t._uU(52),t.ALo(53,"currency"),t.qZA()()()()(),t._UZ(54,"div",84),t.YNc(55,ge,4,2,"div",85),t.YNc(56,fe,3,4,"div",86),t.TgZ(57,"div",87)(58,"div",88),t.GkF(59,9),t.qZA(),t.YNc(60,ve,6,5,"div",89),t.qZA(),t.TgZ(61,"div",90)(62,"app-add-to-cart",91),t.YNc(63,we,6,8,"ng-template"),t.qZA()(),t.TgZ(64,"div",92),t.YNc(65,Ce,0,0,"ng-template",9),t.qZA(),t.TgZ(66,"div",93)(67,"div",94),t._uU(68),t.ALo(69,"translate"),t.qZA(),t.TgZ(70,"div",95)(71,"ion-input",96),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.quantity=o)})("ionBlur",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.setQuantity(o))}),t.qZA()(),t._UZ(72,"div",97),t.TgZ(73,"div",98),t.YNc(74,be,0,0,"ng-template",9),t.qZA()()()}if(2&n){const e=t.oxw(2),i=t.MAs(52),o=t.MAs(56),a=t.MAs(44),l=t.MAs(48);t.xp6(4),t.hij(" ",e.productDetail.name," "),t.xp6(1),t.s9C("appCopying",e.productDetail.name),t.xp6(2),t.Q6J("stopEvent",!0)("rating",e.getReviewTotal.averageScore),t.xp6(2),t.hij("(",e.getReviewTotal.total,")"),t.xp6(2),t.AsE("",t.lcZ(12,33,"reviews-number-label"),": ",e.getReviewTotal.total,""),t.xp6(4),t.Q6J("ngTemplateOutlet",i),t.xp6(2),t.hij(" ",t.lcZ(18,35,null==e.selectedSku?null:e.selectedSku.price)," "),t.xp6(3),t.Q6J("ngTemplateOutlet",o),t.xp6(3),t.Q6J("ngClass",t.VKq(53,Pe,e.stockCount<=0)),t.xp6(2),t.hij(" ",t.lcZ(26,37,"item-price-from-retailers"),": "),t.xp6(3),t.hij(" ",t.lcZ(29,39,null==e.selectedSku?null:e.selectedSku.price)," "),t.xp6(3),t.hij(" ",t.lcZ(32,41,"tqc-discount")," "),t.xp6(5),t.Q6J("ngIf",null==e.selectedSku?null:e.selectedSku.exchangePoint),t.xp6(3),t.hij("-",t.lcZ(40,43,null==e.selectedSku?null:e.selectedSku.cashBack)," "),t.xp6(4),t.hij(" ",t.lcZ(44,45,"actual-price-you-pay"),": "),t.xp6(3),t.hij(" ",t.lcZ(47,47,"actual-price-you-pay"),": "),t.xp6(3),t.Q6J("ngIf",null==e.selectedSku?null:e.selectedSku.exchangePoint),t.xp6(3),t.hij(" ",t.lcZ(53,49,e.actualPrice)," "),t.xp6(3),t.Q6J("ngIf",e.isLogin),t.xp6(1),t.Q6J("ngIf",e.productDetail.productArea),t.xp6(3),t.Q6J("ngTemplateOutlet",a),t.xp6(1),t.Q6J("ngForOf",e.specificationItems),t.xp6(2),t.Q6J("sku",e.selectedSku)("quantity",e.realQuantity),t.xp6(3),t.Q6J("ngTemplateOutlet",l),t.xp6(3),t.hij(" ",t.lcZ(69,51,"add-to-cart-qty"),"\uff1a "),t.xp6(3),t.Q6J("ngModel",e.quantity)("min",1)("max",e.stockCount)("disabled",e.stockCount<=0),t.xp6(3),t.Q6J("ngTemplateOutlet",l)}}function Te(n,r){if(1&n&&(t.TgZ(0,"div",20),t.YNc(1,ae,7,4,"div",44),t.YNc(2,Ze,75,55,"div",45),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.productDetail),t.xp6(1),t.Q6J("ngIf",e.productDetail)}}function Ae(n,r){1&n&&(t.TgZ(0,"div",128),t._UZ(1,"div",129),t.TgZ(2,"div",130),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"div",131),t.qZA()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"product-detail-point-type-review")))}function ye(n,r){if(1&n&&(t.TgZ(0,"ion-row",132)(1,"ion-col",133)(2,"h5",134),t._uU(3,"\u8bc4\u5206"),t.qZA(),t.TgZ(4,"div",135),t._uU(5),t.ALo(6,"number"),t.qZA(),t._UZ(7,"app-order-rating",136),t.qZA(),t.TgZ(8,"ion-col",137)(9,"div",138),t._uU(10),t.ALo(11,"translate"),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(5),t.Oqu(t.xi3(6,5,e.getReviewTotal.averageScore,"1.1-1")),t.xp6(2),t.Q6J("stopEvent",!0)("rating",e.getReviewTotal.averageScore),t.xp6(3),t.AsE("",t.lcZ(11,8,"reviews-number-label"),"\uff1a",e.getReviewTotal.total,"")}}function Oe(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-review-item",141),t.NdJ("onImageClick",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.handleReviewImageClick(o))}),t.qZA()}if(2&n){const e=r.$implicit;t.Q6J("review",e)("storeName",e.storeName)}}function Me(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",142)(1,"app-pagination",143),t.NdJ("onPageClick",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.loadAftersalesByPage(o))}),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("curPage",e.currentReviewPage)("numOfPages",e.reviewTotalPages)}}function ke(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Oe,1,2,"app-product-review-item",139),t.YNc(2,Me,2,2,"div",140),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.reviewList),t.xp6(1),t.Q6J("ngIf",e.reviewTotalPages>1)}}function De(n,r){if(1&n&&(t.TgZ(0,"div",123),t._UZ(1,"app-product-images-description",124),t.YNc(2,Ae,6,3,"div",125),t.YNc(3,ye,12,10,"ion-row",126),t.YNc(4,ke,3,2,"ng-container",127),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("productDetail",e.productDetail),t.xp6(1),t.Q6J("ngIf",e.reviewList.length>0),t.xp6(1),t.Q6J("ngIf",e.productDetail&&e.reviewList.length>0),t.xp6(1),t.Q6J("ngIf",e.reviewList.length>0)}}const Se=function(n,r){return{categoryId:n,brandId:r}};function Ie(n,r){if(1&n&&t._UZ(0,"app-products-infinite-scroll",144),2&n){const e=t.oxw(),i=t.MAs(1);t.Q6J("additionalParams",t.WLB(3,Se,e.productDetail.productCategoryId,e.productDetail.brandId))("scrollContainer",i)("pageSize",10)}}function Fe(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-share-modal",145),t.NdJ("isOpenChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.openShareModal=o)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("isOpen",e.openShareModal)}}function Le(n,r){if(1&n&&(t.TgZ(0,"ion-select-option",148),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,"add-to-cart-qty")+": "+e," ")}}function Je(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-select",146),t.NdJ("ionChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.handleSelectQuantity(o))}),t.ALo(1,"translate"),t.YNc(2,Le,3,4,"ion-select-option",147),t.ALo(3,"slice"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("value",e.quantity)("placeholder",t.lcZ(1,4,"add-to-cart-qty"))("disabled",!e.canBuy),t.xp6(2),t.Q6J("ngForOf",t.Dn7(3,6,e.stockCountList,0,99))}}function Ne(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",160),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t._UZ(1,"app-cart-icon",121),t.TgZ(2,"span",161),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"translate"),t.qZA()()}if(2&n){const e=r.isOnCart,i=r.isLoading,o=t.oxw(2);t.Q6J("targetSelector","#product-toolbar .badge-cart-desktop")("flyProduct",o.productDetail)("disabled",i||!o.canBuy),t.xp6(3),t.Oqu(o.canBuy?t.lcZ(5,6,e?"shop-product-page-in-the-cart":"shop-product-page-add"):t.lcZ(4,4,o.areaCanBuy?"shop-product-page-sku-stock-out":"product-page-not-available-buy"))}}function Ue(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",162),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t._UZ(1,"app-heart-animated",55),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()}if(2&n){const e=r.isDisabled,i=t.oxw(3);t.Q6J("disabled",e),t.xp6(1),t.Q6J("active",i.isFavorite),t.xp6(2),t.Oqu(t.lcZ(4,3,i.isFavorite?"shop-product-page-in-the-wishlist":"shop-product-page-add-to-wishlist"))}}function qe(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-favorite",53),t.NdJ("isBelongChange",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.handleFavoriteChange(o))}),t.YNc(1,Ue,5,5,"ng-template"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("product",e.productDetail)("skuId",null==e.selectedSku?null:e.selectedSku.id)}}function Qe(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",149,150),t.NdJ("click",function(){t.CHM(e),t.oxw();const o=t.MAs(1);return t.KtG(o.scrollToTop(300))}),t.TgZ(2,"div",151)(3,"div",152),t._UZ(4,"img",153),t.qZA(),t.TgZ(5,"div",154)(6,"div",155),t._uU(7),t.qZA()()(),t._UZ(8,"div",156),t.qZA(),t.TgZ(9,"strong",157),t._uU(10),t.ALo(11,"currency"),t.qZA(),t.TgZ(12,"div",158),t._uU(13),t.ALo(14,"currency"),t.qZA(),t.GkF(15,9),t.TgZ(16,"div",159)(17,"app-add-to-cart",91),t.YNc(18,Ne,6,8,"ng-template"),t.qZA()(),t.TgZ(19,"div",159),t.YNc(20,qe,2,2,"app-product-favorite",51),t.qZA(),t.TgZ(21,"div"),t.GkF(22,9),t.qZA()}if(2&n){const e=t.oxw(),i=t.MAs(44),o=t.MAs(52);t.xp6(4),t.Q6J("src",null==e.productDetail?null:e.productDetail.productImages[0].source,t.LSH),t.xp6(3),t.hij(" ",null==e.productDetail?null:e.productDetail.name," "),t.xp6(3),t.Oqu(t.lcZ(11,9,null==e.selectedSku?null:e.selectedSku.price)),t.xp6(3),t.hij(" ",t.lcZ(14,11,e.actualPrice)," "),t.xp6(2),t.Q6J("ngTemplateOutlet",i),t.xp6(2),t.Q6J("sku",e.selectedSku)("quantity",e.realQuantity),t.xp6(3),t.Q6J("ngIf",e.productDetail),t.xp6(2),t.Q6J("ngTemplateOutlet",o)}}function Ee(n,r){if(1&n&&t._UZ(0,"img",169),2&n){const e=t.oxw(4);t.Q6J("src",e.brand.logo,t.LSH)("alt",e.brand.name)}}const Be=function(n){return{brandId:n}};function Ye(n,r){if(1&n&&(t.TgZ(0,"a",166),t.YNc(1,Ee,1,2,"img",167),t.TgZ(2,"div",168),t._uU(3),t.qZA()()),2&n){const e=t.oxw(3);t.Q6J("queryParams",t.VKq(4,Be,e.brand.id))("routerLink","/product/search"),t.xp6(1),t.Q6J("ngIf",e.brand.logo),t.xp6(2),t.hij(" ",e.brand.name," ")}}function Re(n,r){if(1&n&&(t.TgZ(0,"div",164),t.YNc(1,Ye,4,6,"a",165),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.brand)}}function je(n,r){if(1&n&&t.YNc(0,Re,2,1,"div",163),2&n){const e=t.oxw();t.Q6J("ngIf",null==e.productDetail?null:e.productDetail.brandId)}}function Ke(n,r){if(1&n&&(t.TgZ(0,"div",170)(1,"div",171)(2,"div",172),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",78,173),t._UZ(7,"img",174),t.TgZ(8,"div",175,36),t._uU(10),t.ALo(11,"number"),t.qZA()(),t.TgZ(12,"div",172),t._uU(13),t.ALo(14,"translate"),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,4,"cash-back-reward"),": "),t.xp6(7),t.hij(" ",t.xi3(11,6,null==e.selectedSku?null:e.selectedSku.cashBack,"0.2-2")," "),t.xp6(3),t.AsE(" +",e.cashbackByDays,"/",t.lcZ(14,9,"shop-product-page-reward-days-45")," ")}}function He(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",176),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openShareModal=!0)}),t.TgZ(1,"span",177),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"img",178),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"shop-product-page-share")," "))}function Ge(n,r){1&n&&t._UZ(0,"div",201)}function ze(n,r){1&n&&(t.TgZ(0,"div",202)(1,"div")(2,"span",203),t._uU(3,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),t.qZA()()()),2&n&&t.Q6J("ngClass",t.VKq(1,W,r.index>0))}const V=function(){return[]};function $e(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",20)(2,"div",179,47)(4,"div",180),t._UZ(5,"div",181),t.qZA(),t.TgZ(6,"div",182),t.YNc(7,Ge,1,0,"div",183),t.qZA()(),t.TgZ(8,"div",184)(9,"div",70)(10,"h1",185)(11,"span",186),t._uU(12," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(13,"div",65)(14,"div"),t.GkF(15,9),t._UZ(16,"div",187),t.qZA()()(),t._UZ(17,"div",188),t.TgZ(18,"div",70)(19,"div",189)(20,"div",190)(21,"span",191),t._uU(22," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(23,"div",192)(24,"span",193),t._uU(25," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(26,"div",190)(27,"span",193),t._uU(28," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(29,"div",76)(30,"span",193),t._uU(31," \xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(32,"div",194)(33,"span",193),t._uU(34," \xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(35,"div",190)(36,"span",193),t._uU(37," \xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(38,"div",82)(39,"span",193),t._uU(40," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()(),t.TgZ(41,"div",194)(42,"span",193),t._uU(43," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()()()(),t._UZ(44,"div",195),t.TgZ(45,"div",196)(46,"div",88)(47,"span",193),t._uU(48,"\xa0\xa0\xa0\xa0\xa0"),t.qZA()(),t.YNc(49,ze,4,3,"div",197),t.qZA(),t.TgZ(50,"div",90)(51,"button",198),t._UZ(52,"app-cart-icon",121),t.TgZ(53,"span",199),t._uU(54),t.ALo(55,"translate"),t.qZA()()(),t.TgZ(56,"div",200)(57,"span",193),t._uU(58,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),t.qZA()()()(),t.BQk()),2&n){t.oxw(2);const e=t.MAs(52);t.xp6(7),t.Q6J("ngForOf",t.DdM(6,V).constructor(3).fill(1)),t.xp6(8),t.Q6J("ngTemplateOutlet",e),t.xp6(34),t.Q6J("ngForOf",t.DdM(7,V).constructor(2).fill(1)),t.xp6(5),t.Oqu(t.lcZ(55,4,"shop-product-page-add"))}}function We(n,r){1&n&&t.YNc(0,$e,59,8,"ng-container",43)}function Ve(n,r){if(1&n&&(t.TgZ(0,"div",206)(1,"div",207),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",208),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,7,"product-detail-limited-deals")," "),t.xp6(3),t.gL8(" ",t.lcZ(6,9,"product-detail-edns-in"),": ",e.days," ",t.lcZ(7,11,"days")," ",e.hours,":",e.minutes,":",e.seconds," ")}}function Xe(n,r){if(1&n&&(t.TgZ(0,"app-countdown",205),t.YNc(1,Ve,8,13,"ng-template"),t.qZA()),2&n){const e=t.oxw(3);t.Q6J("time",e.productDetail.endTime)}}function tn(n,r){if(1&n&&(t.TgZ(0,"div",206)(1,"div",207),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,7,"product-detail-limited-deals")," "),t.xp6(3),t.gL8(" ",t.lcZ(6,9,"product-detail-limited-start"),": ",e.days," ",t.lcZ(7,11,"days")," ",e.hours,":",e.minutes,":",e.seconds," ")}}function en(n,r){if(1&n&&(t.TgZ(0,"app-countdown",205),t.YNc(1,tn,8,13,"ng-template"),t.qZA()),2&n){const e=t.oxw(3);t.Q6J("time",e.productDetail.beginTime)}}function nn(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Xe,2,1,"app-countdown",204),t.YNc(2,en,2,1,"app-countdown",204),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.isEventStarted),t.xp6(1),t.Q6J("ngIf",e.isEventNotStarted)}}function on(n,r){if(1&n&&t.YNc(0,nn,3,2,"ng-container",127),2&n){const e=t.oxw();t.Q6J("ngIf",e.productDetail)}}function rn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",217),t.NdJ("click",function(){const a=t.CHM(e).method;return t.KtG(a())}),t.TgZ(1,"ion-label"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=r.isDisabled,i=t.oxw(4);t.Q6J("disabled",e),t.xp6(2),t.Oqu(t.lcZ(3,2,i.isFavorite?"shop-product-page-in-the-wishlist":"shop-product-page-add-to-wishlist"))}}function an(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",216),t.NdJ("click",function(){const a=t.CHM(e).method,l=t.oxw(4);return t.KtG(l.handleGetHelp(a))}),t.TgZ(1,"ion-label"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"footer-help")))}function cn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",218),t.NdJ("click",function(){const a=t.CHM(e).method,l=t.oxw(4);return a(),t.KtG(l.isMenuOpen=!1)}),t.TgZ(1,"ion-label"),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA()()}if(2&n){const e=r.isOnCart,i=t.oxw(4);t.Q6J("disabled",!i.canBuy)("targetSelector","#product-toolbar .badge-cart-mobile")("flyProduct",i.productDetail),t.xp6(2),t.Oqu(i.canBuy?t.lcZ(4,6,e?"shop-product-page-in-the-cart":"shop-product-page-add"):t.lcZ(3,4,"shop-product-page-sku-stock-out"))}}function sn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-list",215)(1,"app-product-favorite",53),t.NdJ("isBelongChange",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.handleFavoriteChange(o))}),t.YNc(2,rn,4,4,"ng-template"),t.qZA(),t.TgZ(3,"app-customer-service"),t.YNc(4,an,4,3,"ng-template"),t.qZA(),t.TgZ(5,"ion-item",216),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return o.openShareModal=!0,t.KtG(o.isMenuOpen=!1)}),t.TgZ(6,"ion-label"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"app-add-to-cart",91),t.YNc(10,cn,5,8,"ng-template"),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("product",e.productDetail)("skuId",null==e.selectedSku?null:e.selectedSku.id),t.xp6(6),t.Oqu(t.lcZ(8,5,"product-share-item")),t.xp6(2),t.Q6J("sku",e.selectedSku)("quantity",e.realQuantity)}}function dn(n,r){if(1&n){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"ion-popover",213,214),t.NdJ("didDismiss",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isMenuOpen=!1)}),t.YNc(2,sn,11,7,"ng-template"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("keepContentsMounted",e.isPopOverDidOpen)("dismissOnSelect",!0)("isOpen",e.isMenuOpen)}}function ln(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",209),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.handleMenuClick(o))}),t.O4$(),t.TgZ(1,"svg",210),t._UZ(2,"path",211),t.qZA()(),t.YNc(3,dn,3,3,"ion-popover",212)}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.productDetail)}}function pn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-change-address-modal",219),t.NdJ("addNewAddress",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openCreateAddressModal())})("onSelected",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.handleSelectAddress(o))})("isOpenChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.isOpenChangeAddressModal=o)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("selectedAddress",e.selectedReceiver||null)("addressList",e.shippingAddrs)("isOpen",e.isOpenChangeAddressModal)}}function un(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-edit-address-modal",220),t.NdJ("onSuccess",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleSubmitAddressSuccess())})("isOpenChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.isOpenEditAddressModal=o)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("currAddress",e.currAddress)("isOpen",e.isOpenEditAddressModal)}}function _n(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-product-images-lightbox",222),t.NdJ("isOpenChange",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openReviewLightbox=o)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("isOpen",e.openReviewLightbox)("images",e.reviewImages)("initialSlide",e.lighboxSlideNumber)}}function mn(n,r){if(1&n&&(t.ynx(0),t.YNc(1,_n,1,3,"app-product-images-lightbox",221),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.openReviewLightbox)}}let gn=(()=>{class n extends F.c{constructor(e,i,o,a,l,v,E,Cn,bn,Pn){super(e,i),this.productsService=o,this.route=a,this.checkoutService=l,this.userService=v,this.platformId=E,this.scrollToProductService=Cn,this.toast=bn,this.i18n=Pn,this.isPopOverDidOpen=!1,this.isMenuOpen=!1,this.productId="",this.productDetail=null,this.reviewList=[],this.skuList=[],this.specificationMap={},this.specificationItems=[],this.stockCountList=[],this.quantity=1,this.openShareModal=!1,this.isFavorite=!1,this.shippingAddrs=null,this.selectedAddress=null,this.shippingFee=null,this.areaCanBuy=!1,this.isOpenChangeAddressModal=!1,this.currAddress=null,this.isOpenEditAddressModal=!1,this.DictKey=u.f,this.reviewTotal={averageScore:"0",total:0},this.productReviewPage=0,this.isReviewLoading=!1,this.reviewTotalRows=0,this.currentReviewPage=1,this.reviewPageSize=5,this.handleScroll=Z=>{super.onContentScroll(Z),this.mobileSticky&&Z.detail.currentY>68&&(this.mobileSticky.nativeElement.style.transform=`translateY(-${Math.min(100,(Z.detail.currentY-68)/10)}%)`),this.mobileSticky&&Z.detail.currentY<=68&&(this.mobileSticky.nativeElement.style.transform="translateY(-0px)"),this.stickyReview.nativeElement.style.height=`${Math.min(Z.detail.currentY/8,72)}px`},this.handleFavoriteChange=Z=>{this.isFavorite=Z},this.openReviewLightbox=!1,this.reviewImages=[],this.lighboxSlideNumber=0,this.isBrowser=(0,d.NF)(this.platformId)}onPopState(e){this.scrollToProductService.setProductIdToFocus(this.productId)}ngOnInit(){var e=this;return(0,m.Z)(function*(){e.route.queryParams.pipe((0,I.R)(e.destroyStream$)).subscribe(function(){var i=(0,m.Z)(function*(o){e.productId=o.id||"",e.productId&&(e.getProductInfo(e.productId),e.productScroll?.clear())});return function(o){return i.apply(this,arguments)}}()),yield e.getShippingAddress()})()}getProductInfo(e){var i=this;return(0,m.Z)(function*(){[i.productDetail,i.skuList]=yield Promise.all([(0,h.n)(i.productsService.getProductById(e)),(0,h.n)(i.productsService.getSkusByProductId(e)),i.getProductReview(1,!0)]),A.Z.isServer||(i.brand=yield(0,h.n)(i.productsService.getBrandById(i.productDetail.brandId))),i.isFavorite=i.productDetail.collect,i.specificationItems=JSON.parse(i.productDetail.specificationItems||"[]").map(a=>({...a,entries:a.entries.filter(l=>l.isSelected)}));const o=JSON.parse(i.productDetail?.defaultSku?.specificationValues||"[]").map(a=>a.id);if(i.specificationMap=i.specificationItems.reduce((a,l)=>{const v=l.entries.find(E=>o.includes(E.id));return a[`specification-${l.name}`]=v?v.id:void 0,a},{}),i.skuList.length){for(let a=1;a<=i.skuList[0].stock;a++)i.stockCountList.push(a);i.selectedSku=i.skuList.find(a=>a.specifications.every(l=>Object.values(i.specificationMap).includes(l.id)))}yield i.getShippingFee(),yield i.getProductAreaCanBuy()})()}get reviewTotalPages(){return Math.ceil(this.reviewTotalRows/this.reviewPageSize)}loadAftersalesByPage(e){var i=this;return(0,m.Z)(function*(){yield i.getProductReview(e),i.currentReviewPage=e})()}getProductReview(e=1,i=!1){var o=this;return(0,m.Z)(function*(){i&&(o.productReviewPage=0,o.isReviewLoading=!1,o.reviewTotalRows=0,o.reviewList=[]);try{o.isReviewLoading=!0;const a=yield(0,h.n)(o.productsService.getProductReview(o.productId,y.ShopScoreTypeByAll,e-1,o.reviewPageSize));o.isReviewLoading=!1,o.reviewTotal=a.reviewTotal,o.reviewList=a.rows,o.reviewTotalRows=a.total}catch{o.isReviewLoading=!1}})()}get isLogin(){return this.userService.isLogin()}get getReviewTotal(){return{averageScore:Number(this.reviewTotal.averageScore),total:this.reviewTotal.total}}get isEventStarted(){return!!(this.productDetail?.isSpecialSale&&Number(this.productDetail.beginTime)<(new Date).getTime())}get isEventNotStarted(){return!!(this.productDetail?.isSpecialSale&&Number(this.productDetail.beginTime)>(new Date).getTime())}get actualPrice(){return this.selectedSku?this.selectedSku?.price-this.selectedSku?.cashBack+(this.shippingFee||0):null}get canBuy(){return this.stockCount>0&&this.areaCanBuy}get stockCount(){return this.selectedSku?.stock||0}getShippingAddress(e){var i=this;return(0,m.Z)(function*(){if(i.shippingAddrs=(yield(0,h.n)(i.checkoutService.getShippingAddress()))?.data?.rows||null,i.shippingAddrs?.length){i.selectedAddress=i.shippingAddrs[i.shippingAddrs.length-1];const o=i.shippingAddrs.find(a=>a.isDefault)||i.shippingAddrs[0];if(e)return void(i.receiverId=i.shippingAddrs[i.shippingAddrs.length-1].id);i.receiverId=i.editAddressId?i.editAddressId:o.id}})()}getShippingFee(){var e=this;return(0,m.Z)(function*(){!e.receiverId||(e.shippingFee=(yield(0,h.n)(e.checkoutService.getShippingFee(e.receiverId,e?.selectedSku?.id,e.quantity)))?.data||null,e.shippingFee=Number(e.shippingFee))})()}getProductAreaCanBuy(){var e=this;return(0,m.Z)(function*(){e.areaCanBuy=!e.receiverId||(yield(0,h.n)(e.checkoutService.getAreaCanBuy(e.receiverId,e?.selectedSku?.id,e.quantity)))?.data||null})()}handleSelectAddress(e){var i=this;return(0,m.Z)(function*(){i.receiverId=e.id,yield i.getShippingFee(),yield i.getProductAreaCanBuy()})()}openCreateAddressModal(){this.currAddress=null,this.isCreateAddress=!0,this.isOpenEditAddressModal=!0}handleSubmitAddressSuccess(){var e=this;return(0,m.Z)(function*(){if(e.isCreateAddress)return yield e.getShippingAddress(!0),e.isOpenEditAddressModal=!1,e.isCreateAddress=!1,yield e.getShippingFee(),void(yield e.getProductAreaCanBuy());e.editAddressId=e.receiverId,yield e.getShippingAddress(),e.isOpenEditAddressModal=!1,yield e.getShippingFee(),yield e.getProductAreaCanBuy(),e.editAddressId=""})()}specificationChange(e,i){this.specificationMap["specification-"+i]=e,this.selectedSku=this.skuList.find(o=>o.specifications.every(a=>Object.values(this.specificationMap).includes(a.id))),this.quantity=this.stockCount<1?0:Math.min(this.quantity,this.stockCount)}get selectedReceiver(){if(this.receiverId)return this.shippingAddrs.find(e=>Object.is(e.id,this.receiverId))}get specificationSelectable(){const e=Object.values(this.specificationMap);return this.specificationItems.length<2?new Set(this.specificationItems[0].entries.map(i=>i.id)):this.skuList.reduce((i,o)=>{const a=o.specifications.map(l=>l.id);return a.some(l=>e.includes(l))&&e.forEach(l=>{a.filter(v=>!Object.is(l,v)).forEach(v=>i.add(v))}),i},new Set)}setQuantity(e){this.quantity=Math.min(this.quantity,this.stockCount)}get cashbackByDays(){return(Number(this.selectedSku?.cashBack)/45).toFixed(4)}handleSelectQuantity(e){this.quantity=e.target.value}get realQuantity(){return Math.min(this.quantity,this.stockCount)}handleMenuClick(e){this.isPopOverDidOpen=!0,this.popover.event=e,this.isMenuOpen=!0}get supportData(){return A.Z.isServer?{}:{imageName:this.productDetail?.name,type:"custom",msgtype:{track:{title:"\u6211\u6b63\u5728\u770b\uff1a",price:`\uffe5${this.productDetail?.price}`,desc:this.productDetail?.name,img_url:this.productDetail?.productImages[0].thumbnail,item_url:window.location.href}}}}handleGetHelp(e){e(this.supportData)}handleReviewImageClick(e){this.openReviewLightbox=!0,this.reviewImages=e.images||[],this.lighboxSlideNumber=e.index}scrollToScoreSection(){let e=document.getElementById("score-section").offsetTop;this.iconContent.scrollToPoint(0,e,1e3)}copied(){this.presentToast({position:"bottom",message:this.i18n.instant("order-button-copied"),duration:3e3,icon:"checkmark-circle-outline",color:"success"})}presentToast(e){var i=this;return(0,m.Z)(function*(){yield(yield i.toast.create(e)).present()})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(M.s),t.Y36(b.gz),t.Y36(L.Z),t.Y36(D.K),t.Y36(t.Lbi),t.Y36(J.h),t.Y36(p.yF),t.Y36(x.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-detail"]],viewQuery:function(e,i){if(1&e&&(t.Gf(te,5),t.Gf(O.b,5),t.Gf(ee,5),t.Gf(ne,5),t.Gf(p.W2,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.popover=o.first),t.iGM(o=t.CRH())&&(i.productScroll=o.first),t.iGM(o=t.CRH())&&(i.mobileSticky=o.first),t.iGM(o=t.CRH())&&(i.stickyReview=o.first),t.iGM(o=t.CRH())&&(i.iconContent=o.first)}},hostBindings:function(e,i){1&e&&t.NdJ("popstate",function(a){return i.onPopState(a)},!1,t.Jf7)},features:[t.qOj],decls:62,vars:22,consts:[["id","app-product-detail","scrollTop","","fullscreen","true","scrollEvents","true","backToTopBtn","",3,"ionScroll"],["ionContent",""],[3,"additionalData"],["id","product-toolbar","appOverflowVisible","",1,"sticky","top-0","shadow-lg","z-50"],["header",""],["end","",3,"ngTemplateOutlet"],[1,"m-auto","md:hidden"],[1,"relative"],[1,"absolute","top-full","cursor-pointer",2,"left","-4px","right","-4px",3,"click"],[3,"ngTemplateOutlet"],[1,"tyqoon-container","m-auto","hidden","md:block"],[1,"absolute","right-0","top-full"],[1,"sticky-section","pt-4","ml-auto",2,"width","234px"],[1,"p-4","border","border-[#eaeaea]","bg-[#f8f8f8]","rounded-xl"],[1,"tyqoon-container","px-0","md:px-3","xl:px-4","bg-lightblue"],[1,"flex","flex-wrap","md:flex-nowrap"],[1,"w-full","md:w-8/12","lg:w-9/12","flex-1","flex","flex-wrap"],["class","w-full flex flex-wrap max-constraint",4,"ngIf","ngIfElse"],[1,"w-full","pb-2","bg-white","px-4","md:pr-5","md:px-0","z-1","max-constraint"],[1,"block",3,"productId","product"],[1,"w-full","flex","flex-wrap","max-constraint"],[1,"w-full","md:w-4/12","hidden","md:block","px-4","md:px-0","bg-white","z-1"],[1,"sticky","top-0"],[1,"text-primary","font-medium","mb-4","text-center"],[3,"relatedProduct"],["class","w-full md:w-8/12 px-4 bg-white z-1",4,"ngIf"],[1,"w-full","py-3","bg-white","px-4","md:pr-5","md:px-0","z-1","max-constraint"],[1,"mt-4","block",3,"isRandom","productId","product"],[1,"font-medium","text-xl","xs:text-2xl","mt-8","mb-2"],[3,"additionalParams","scrollContainer","pageSize",4,"ngIf"],[1,"w-auto","mt-3",2,"width","234px"],[3,"isOpen","isOpenChange",4,"isBrowser"],[1,"mt-4","md:hidden"],["quantitySelect",""],["stickySection",""],["brandTemplate",""],["cashback",""],["shareBtn",""],["skeleton",""],["countdownLimitedDeal",""],["kebabMenu",""],[3,"selectedAddress","addressList","isOpen","addNewAddress","onSelected","isOpenChange",4,"ngIf"],[3,"currAddress","isOpen","onSuccess","isOpenChange",4,"ngIf"],[4,"isBrowser"],["class","w-full md:w-4/12 my-3 md:px-0 sticky md:static top-0 z-0 md:z-20","id","product-sticky-section",4,"ngIf"],["class","w-full md:w-8/12 md:px-5 pt-4 bg-white px-4 rounded-t-2xl z-1 border-t md:border-none border-[#ddd]",4,"ngIf"],["id","product-sticky-section",1,"w-full","md:w-4/12","my-3","md:px-0","sticky","md:static","top-0","z-0","md:z-20"],["mobileSticky",""],[3,"glowing","productDetail"],["class","absolute fire-animation z-1","src","assets/svgs/fire-animation.svg","alt","",4,"ngIf"],[1,"absolute","mobile-favorite","z-1","md:hidden"],[3,"product","skuId","isBelongChange",4,"ngIf"],["src","assets/svgs/fire-animation.svg","alt","",1,"absolute","fire-animation","z-1"],[3,"product","skuId","isBelongChange"],[1,"rounded-full","border","border-solid","border-[#dddddd]","bg-white","w-full","flex","justify-center","items-center","text-[#dddddd]","p-1",3,"disabled","click"],[3,"active"],[1,"w-full","md:w-8/12","md:px-5","pt-4","bg-white","px-4","rounded-t-2xl","z-1","border-t","md:border-none","border-[#ddd]"],[1,"flex","flex-wrap","flex-col","xs:flex-row"],[1,"flex-1","mb-1","md:mb-2"],[1,"product-name","text-black","text-xl","break-all","relative","pr-5","-mr-4"],[1,"cursor-pointer","w-8","h-8","absolute","-right-1.5","opacity-40","fill-black","-top-0.5","p-1.5",3,"appCopying","copied"],[1,"flex","items-center","md:justify-between"],[1,"-ml-1","block","cursor-pointer",3,"stopEvent","rating","click"],[1,"cursor-pointer","opacity-30","text-lg","font-medium","mt-0.5","md:hidden","pl-1",3,"click"],[1,"cursor-pointer","opacity-30","text-lg","font-medium","hidden","md:block",3,"click"],[1,"md:hidden","flex-shrink-0"],[1,"flex","justify-between","flex-row-reverse","items-end","mb-2","xs:block","xs:mb-0","xs:items-center","md:mb-4"],[1,"text-[#ff1a44]","text-center","font-bold","text-lg","line-through"],[1,"hidden","md:block"],[1,"border","border-bottom","opacity-50","mb-4","hidden","md:block"],[1,"flex","flex-wrap"],[1,"flex-1","mr-1",3,"ngClass"],[1,"opacity-60","font-medium","leading-4","hidden","md:block"],[1,"text-[#ff1a44]","font-bold","mb-2","line-through","text-3xl","hidden","md:block"],[1,"opacity-60","font-medium","leading-4"],[1,"mb-1","text-xs","w-3","h-3","text-center","rounded-full","border","border-black","text-black","opacity-70","inline-block",2,"line-height","10px"],[1,"mb-2"],["class","text-xl font-medium opacity-60",4,"ngIf"],[1,"flex","items-center"],[1,"text-3xl","letter-tight","text-[#FEB000]","animated-gradient-golden-text"],["src","assets/images/circle-credit-small.png","alt","",1,"h-7","ml-2"],[1,"opacity-60","font-medium","text-xs","md:hidden"],[1,"leading-6"],[1,"letter-tight","text-4xl","text-[#424242]"],[1,"border","border-bottom","opacity-50","mt-3","mb-4","hidden","md:block"],["class","flex justify-between items-center flex-nowrap mt-2 mb-5 md:mt-0","style","position: relative",4,"ngIf"],["class","mt-2 mb-2 md:mt-0",4,"ngIf"],[1,"flex","flex-wrap","mt-2","md:mt-0"],[1,"md:hidden","mr-2","mt-1"],["class","flex flex-wrap mb-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-1","md:hidden"],[3,"sku","quantity"],[1,"md:hidden","mt-2"],[1,"flex-wrap","items-center","hidden","md:flex"],[1,"mr-2","my-1","flex-shrink-0","self-center"],[1,"my-1","mr-2"],["type","number",1,"quantity-txt",3,"ngModel","min","max","disabled","ngModelChange","ionBlur"],[1,"flex-1"],[1,"flex","items-center","my-2"],[1,"text-xl","font-medium","opacity-60"],[1,"flex","justify-between","items-center","flex-nowrap","mt-2","mb-5","md:mt-0",2,"position","relative"],["name","circles","color","primary","size","large","style","text-align: center; width: 100%",4,"ngIf","ngIfElse"],["canBuy",""],["name","circles","color","primary","size","large",2,"text-align","center","width","100%"],[1,"flex","items-center","flex-nowrap","overflow-hidden","whitespace-nowrap","text-ellipsis"],[1,"mr-2","whitespace-nowrap",3,"ngClass"],[1,"button_style","overflow-hidden","whitespace-nowrap","text-ellipsis"],[1,"px-4","py-1","cursor-pointer"],["class","opacity-70 font-medium leading-4 text-sm text-red-500 shipping_included",4,"ngIf"],["class","block ml-5 whitespace-nowrap text-[#0087ff] font-bold underline cursor-pointer",3,"click",4,"ngIf","ngIfElse"],["addReceiver",""],[1,"opacity-70","font-medium","leading-4","text-sm","text-red-500","shipping_included"],[1,"block","ml-5","whitespace-nowrap","text-[#0087ff]","font-bold","underline","cursor-pointer",3,"click"],[1,"block","whitespace-nowrap","ml-5","text-[#0087ff]","font-bold","underline","cursor-pointer",3,"click"],[1,"mt-2","mb-2","md:mt-0"],[1,"flex","flex-wrap","mb-2",3,"ngClass"],[1,"mr-2","my-1","flex-shrink-0","self-center","hidden","md:block"],[1,"flex-auto"],["class","border mr-2 my-1 border-[#ddd] rounded-md px-4 py-1 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"border","mr-2","my-1","border-[#ddd]","rounded-md","px-4","py-1","cursor-pointer",3,"ngClass","click"],["flyToCart","",1,"btn-add-to-cart","mt-1","rounded-lg","border","border-solid","text-white","w-full","flex","justify-center","items-center","py-2.5",3,"targetSelector","flyProduct","disabled","click"],[1,"mr-2"],[1,"font-medium"],[1,"w-full","md:w-8/12","px-4","bg-white","z-1"],[1,"introduction",3,"productDetail"],["id","score-section","class","flex mb-4",4,"ngIf"],["class","score score-style",4,"ngIf"],[4,"ngIf"],["id","score-section",1,"flex","mb-4"],[1,"border-b","border-primary","first-divider","mb-2","opacity-50"],[1,"shrink-0","text-primary","mx-3"],[1,"border-b","border-primary","flex-1","mb-2","opacity-50"],[1,"score","score-style"],["size","auto",1,"score-level","score-item-style",2,"white-space","nowrap"],[1,"text-2xl"],[1,"num","text-3xl"],[2,"display","flex","justify-content","center",3,"stopEvent","rating"],["size","auto",1,"score-count","score-item-style"],[1,"count","text-gray"],["style","box-sizing: border-box",3,"review","storeName","onImageClick",4,"ngFor","ngForOf"],["class","flex justify-end mt-4",4,"ngIf"],[2,"box-sizing","border-box",3,"review","storeName","onImageClick"],[1,"flex","justify-end","mt-4"],[3,"curPage","numOfPages","onPageClick"],[3,"additionalParams","scrollContainer","pageSize"],[3,"isOpen","isOpenChange"],["interface","popover",1,"quantity-select","rounded-lg","px-2","py-1","border","border-[#dddddd]","mb-3",3,"value","placeholder","disabled","ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"overflow-hidden","sticky-widget-scroll","cursor-pointer",2,"height","0px",3,"click"],["stickyReview",""],[1,"flex"],[1,"sticky-image-preview","rounded-lg","overflow-hidden","border","border-[#dddddd]","mr-2"],["alt","",1,"object-cover","object-center","!w-full","!h-full",3,"src"],[1,"flex-1","self-stretch","relative"],[1,"absolute","inset-0","line-clamp-3","break-all","text-xs"],[1,"border","border-bottom","opacity-50","mt-3","mb-2"],[1,"letter-tight","text-[#ff1a44]","line-through","font-bold"],[1,"font-bold","mb-2","text-3xl","text-[#424242]"],[1,"mb-3"],["flyToCart","",1,"btn-add-to-cart","font-bold","rounded-md","border","border-solid","bg-gradient-primary","w-full","flex","justify-center","items-center","py-1",3,"targetSelector","flyProduct","disabled","click"],[1,"mt-1"],[1,"rounded-md","border","border-solid","border-[#c4c4c4]","w-full","flex","justify-center","items-center",3,"disabled","click"],["class","flex items-center h-10",4,"ngIf"],[1,"flex","items-center","h-10"],["class","flex items-center h-full",3,"queryParams","routerLink",4,"ngIf"],[1,"flex","items-center","h-full",3,"queryParams","routerLink"],["class","h-full mr-1",3,"src","alt",4,"ngIf"],[1,"block","whitespace-nowrap","text-[#0087ff]","font-bold","underline"],[1,"h-full","mr-1",3,"src","alt"],[1,"cashback","mb-2","border-animated"],[1,"content"],[1,"text-center","text-sm"],["cashbackContainer",""],["src","/assets/images/TYD-small.png","alt","TYD",1,"mr-2"],[1,"text-3xl","font-bold","text-[#36d690]","animated-gradient-green-text","tracking-tighter"],[1,"share-btn","px-4","py-1","text-white","flex","rounded-lg","items-center",3,"click"],[1,"mr-2","whitespace-nowrap"],["src","assets/svgs/paper-plane.svg","alt",""],["id","product-sticky-section",1,"w-full","md:w-4/12","my-3","px-4","md:px-0","sticky","md:static","top-0","z-0"],[1,"image-wrapper","relative","cursor-pointer",2,"padding-top","100%"],[1,"absolute","inset-0","pulSate"],[1,"flex","mt-3","justify-center"],["class","pulSate mx-2","style","width: 40px; height: 40px",4,"ngFor","ngForOf"],[1,"w-full","md:w-8/12","md:px-5","py-4","bg-white","px-4","rounded-t-2xl","z-1"],[1,"text-xl","mb-4","flex-1"],[1,"pulSate","tracking-widest","break-all"],[1,"mt-1","text-lg","mb-2","pulSate"],[1,"border","border-bottom","mb-4","hidden","md:block"],[1,"flex-1","mb-2","mr-1"],[1,"leading-4","hidden","md:block"],[1,"pulSate","tracking-widest"],[1,"text-lg","mb-2","hidden","md:block"],[1,"pulSate"],[1,"text-xs","md:hidden"],[1,"mt-3","border","border-bottom","opacity-50","mb-4","hidden","md:block"],[1,"flex","flex-wrap","mt-4","md:mt-0"],["class","flex flex-wrap mb-5",3,"ngClass",4,"ngFor","ngForOf"],[1,"rounded-lg","border","border-solid","w-full","flex","justify-center","items-center","py-2.5","add-cart-shadow"],[1,"font-medium","text-white"],[1,"flex-wrap","mb-3","items-center","hidden","md:flex","py-1"],[1,"pulSate","mx-2",2,"width","40px","height","40px"],[1,"flex","flex-wrap","mb-5",3,"ngClass"],[1,"pulSate","py-1"],[3,"time",4,"ngIf"],[3,"time"],[1,"mb-4","bg-gradient-primary","flex","px-3","py-2","text-white","md:rounded-md","flex-wrap"],[1,"flex-1","mr-2","limited-deal-text"],[1,""],["id","product-detail-menu-btn",1,"top-nav-btn","mr-1","flex","justify-center","items-center","flex-shrink-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16px","height","16px","viewBox","0 0 16 16","fill","currentColor"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.444 13.832a1 1 0 1 0 1.111-1.663 1 1 0 0 0-1.11 1.662zM8 9a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"],["side","bottom","alignment","center",3,"keepContentsMounted","dismissOnSelect","isOpen","didDismiss",4,"ngIf"],["side","bottom","alignment","center",3,"keepContentsMounted","dismissOnSelect","isOpen","didDismiss"],["popover",""],["lines","full"],["lines","none",1,"cursor-pointer",3,"click"],["lines","none",1,"cursor-pointer",3,"disabled","click"],["flyToCart","","lines","none",1,"cursor-pointer",3,"disabled","targetSelector","flyProduct","click"],[3,"selectedAddress","addressList","isOpen","addNewAddress","onSelected","isOpenChange"],[3,"currAddress","isOpen","onSuccess","isOpenChange"],[3,"isOpen","images","initialSlide","isOpenChange",4,"ngIf"],[3,"isOpen","images","initialSlide","isOpenChange"]],template:function(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"ion-content",0,1),t.NdJ("ionScroll",function(l){return i.handleScroll(l)}),t._UZ(2,"app-global-customer-service",2),t.TgZ(3,"ion-toolbar",3,4)(5,"app-top-navbar"),t.GkF(6,5),t.qZA(),t._UZ(7,"app-top-menu"),t.TgZ(8,"div",6)(9,"div",7)(10,"div",8),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(1);return t.KtG(l.scrollToTop(500))}),t.GkF(11,9),t.qZA()()(),t.TgZ(12,"div",10)(13,"div",7)(14,"div",11)(15,"div",12)(16,"div",13),t.GkF(17,9),t.qZA()()()()()(),t.TgZ(18,"div",14)(19,"div",15)(20,"div",16),t.YNc(21,Te,3,2,"div",17),t.TgZ(22,"div",18),t._UZ(23,"app-product-related",19),t.qZA(),t.TgZ(24,"div",20)(25,"div",21)(26,"div",22)(27,"div",23),t._uU(28),t.ALo(29,"translate"),t.qZA(),t._UZ(30,"app-product-recommend",24),t.qZA()(),t.YNc(31,De,5,4,"div",25),t.qZA(),t.TgZ(32,"div",26),t._UZ(33,"app-product-related",27),t.TgZ(34,"div",28),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.YNc(37,Ie,1,6,"app-products-infinite-scroll",29),t.qZA()(),t._UZ(38,"div",30),t.qZA()(),t.YNc(39,Fe,1,1,"app-product-share-modal",31),t._UZ(40,"app-footer"),t.qZA(),t.TgZ(41,"ion-footer",32),t._UZ(42,"app-bottom-navbar"),t.qZA(),t.YNc(43,Je,4,10,"ng-template",null,33,t.W1O),t.YNc(45,Qe,23,13,"ng-template",null,34,t.W1O),t.YNc(47,je,1,1,"ng-template",null,35,t.W1O),t.YNc(49,Ke,15,11,"ng-template",null,36,t.W1O),t.YNc(51,He,5,3,"ng-template",null,37,t.W1O),t.YNc(53,We,1,0,"ng-template",null,38,t.W1O),t.YNc(55,on,1,1,"ng-template",null,39,t.W1O),t.YNc(57,ln,4,1,"ng-template",null,40,t.W1O),t.YNc(59,pn,1,3,"app-change-address-modal",41),t.YNc(60,un,1,2,"app-edit-address-modal",42),t.YNc(61,mn,2,1,"ng-container",43)}if(2&e){const o=t.MAs(46),a=t.MAs(54),l=t.MAs(56),v=t.MAs(58);t.xp6(2),t.Q6J("additionalData",i.supportData),t.xp6(4),t.Q6J("ngTemplateOutlet",v),t.xp6(5),t.Q6J("ngTemplateOutlet",l),t.xp6(6),t.Q6J("ngTemplateOutlet",o),t.xp6(4),t.Q6J("ngIf",!i.isBrowser||i.isBrowser&&(null==i.productDetail?null:i.productDetail.id)===i.productId)("ngIfElse",a),t.xp6(2),t.Q6J("productId",i.productId)("product",i.productDetail),t.xp6(5),t.hij(" ",t.lcZ(29,18,"home-recommended-title")," "),t.xp6(2),t.Q6J("relatedProduct",i.productDetail),t.xp6(1),t.Q6J("ngIf",i.productDetail),t.xp6(2),t.Q6J("isRandom",!0)("productId",i.productId)("product",i.productDetail),t.xp6(2),t.hij(" ",t.lcZ(36,20,"home-recommended-title")," "),t.xp6(2),t.Q6J("ngIf",i.productDetail),t.xp6(22),t.Q6J("ngIf",i.isOpenChangeAddressModal),t.xp6(1),t.Q6J("ngIf",i.isOpenEditAddressModal)}},dependencies:[d.mk,d.sg,d.O5,d.tP,k.JJ,k.On,N.Q,U.p,q.K,g.c,P.l,s.z,nt,Y.p,R.E,it.y,ot.V,rt.H,at.Q,ct.I,st.q,dt.B,lt.M,pt.Z,p.wI,p.W2,p.fr,p.pK,p.Ie,p.Q$,p.q_,p.Nd,p.t9,p.n0,p.PQ,p.sr,p.d8,p.as,p.QI,p.Fo,j.j,O.b,b.yS,gt,K.K,H.u,G.c,Mt,Dt,Nt,Yt,Xt,z,d.OU,d.JJ,d.H9,x.X$],styles:['.introduction[_ngcontent-%COMP%]{max-width:700px!important}.introduction[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{max-width:100%!important}.introduction[_ngcontent-%COMP%]     .ssd-module-wrap{width:auto!important}.introduction[_ngcontent-%COMP%]     .ssd-module-wrap>div{max-width:100%!important}.introduction[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 1100px){.introduction[_ngcontent-%COMP%]{max-width:580px!important}}@media (max-width: 950px){.introduction[_ngcontent-%COMP%]{max-width:400px!important}.introduction[_ngcontent-%COMP%]     .ssd-module-wrap>div{height:464px!important}}@media (max-width: 690px){.introduction[_ngcontent-%COMP%]{max-width:580px!important}}@media (max-width: 591px){.introduction[_ngcontent-%COMP%]{max-width:380px!important}.introduction[_ngcontent-%COMP%]     .ssd-module-wrap>div{height:464px!important}}ion-progress-bar[_ngcontent-%COMP%]{--background: green;--buffer-background: red;--progress-background: linear-gradient(to right,#FFFFFB,#FFFFA7,#FFF38D,#FFDC80,#FFBE75,#FFA76C)}ion-toolbar[appOverflowVisible][_ngcontent-%COMP%]{contain:none}.product-info-disabled[_ngcontent-%COMP%]{color:#9c9c9c!important;opacity:.5}.quantity-txt[_ngcontent-%COMP%]{width:100px;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(221 221 221 / var(--tw-border-opacity))}.quantity-txt[_ngcontent-%COMP%]     input{padding-top:4px;padding-bottom:4px}.score-style[_ngcontent-%COMP%]{flex-direction:column!important;margin:0!important;padding:30px 0!important}@media (max-width: 1023px){.score-style[_ngcontent-%COMP%]{flex-direction:column!important;margin:0!important;padding:30px 0!important}.score-item-style[_ngcontent-%COMP%]{max-width:100%!important;margin:7px 0!important}.main-detail-product[_ngcontent-%COMP%]{justify-content:unset}.product-detail-style.ant-col-12[_ngcontent-%COMP%]{flex:0 0 66%;max-width:66%}}.score[_ngcontent-%COMP%]{padding:48px 0}.score[_ngcontent-%COMP%]   .text-gray[_ngcontent-%COMP%]{color:#bfbfbf}.score[_ngcontent-%COMP%]   .text-item[_ngcontent-%COMP%]{flex:1;text-align:center}.score-level[_ngcontent-%COMP%]{text-align:center}.score-level[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{font-weight:800}.score-graph[_ngcontent-%COMP%]{flex:1}.score-graph[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{width:28px;height:18px;line-height:18px;display:block;position:relative;margin-left:-14px;color:#fff;font-style:normal;text-align:center;background:linear-gradient(180deg,#fed3a7,#fb8811)}.score-graph[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]   .caret[_ngcontent-%COMP%]{display:inline-block;width:0;height:0;vertical-align:middle;border-top:4px dashed;border-top:4px solid \\\t;border-right:4px solid transparent;border-left:4px solid transparent;margin-left:-4px;position:absolute;bottom:-4px;left:50%;color:#fb8811}.score-graph[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative}.score-graph[_ngcontent-%COMP%]   .text-item[_ngcontent-%COMP%]{flex:1;text-align:center}.score-count[_ngcontent-%COMP%]{text-align:center}.cashback[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-radius:.75rem;padding:.25rem .75rem;border:1px solid #12cc73;box-shadow:0 0 5px #12cc72;min-width:160px}.cashback[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px}.quantity-select[_ngcontent-%COMP%]{width:100px;background-color:#f2f4f3}app-cart-icon[_ngcontent-%COMP%], app-heart-icon[_ngcontent-%COMP%]{width:24px}.sticky-section[_ngcontent-%COMP%]{float:right}button[disabled][_ngcontent-%COMP%]{opacity:.5}.share-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#067bff,#081fff);border:1px solid #63d3fd}.share-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px}.border-animated[_ngcontent-%COMP%]{position:relative}.border-animated[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;z-index:2;background-color:#fff}.border-animated[_ngcontent-%COMP%]:before, .border-animated[_ngcontent-%COMP%]:after{content:"";position:absolute;left:-2px;top:-2px;background:linear-gradient(45deg,#58ccae 40%,#62f6cb 50%,#58ccae 60%);background-size:400%;width:calc(100% + 4px);height:calc(100% + 4px);z-index:1;border-radius:12px;border-radius:.75rem;animation:bordersteam 2s linear infinite}@keyframes bordersteam{0%{background-position:150% 0}to{background-position:0% 0}}.border-animated[_ngcontent-%COMP%]:after{filter:blur(5px)}.add-cart-shadow[_ngcontent-%COMP%]{box-shadow:0 0 6px 1px #ff7e1880}.bg-lightblue[_ngcontent-%COMP%]{background-color:#eff4fa}@media (min-width: 768px){.bg-lightblue[_ngcontent-%COMP%]{background-color:transparent}}#product-sticky-section[_ngcontent-%COMP%]{transition:transform .05s}@media (min-width: 768px){#product-sticky-section[_ngcontent-%COMP%]{transform:none!important}}.z-0[_ngcontent-%COMP%]{z-index:0}.z-1[_ngcontent-%COMP%]{z-index:1}app-product-related[_ngcontent-%COMP%]     swiper{margin-right:-1rem}@media (min-width: 768px){app-product-related[_ngcontent-%COMP%]     swiper{margin-right:0}}.letter-tight[_ngcontent-%COMP%]{letter-spacing:-.04em}.pulSate[_ngcontent-%COMP%]{word-break:break-word;letter-spacing:40px}.mobile-favorite[_ngcontent-%COMP%]{bottom:68px;right:32px}.max-constraint[_ngcontent-%COMP%]{max-width:1075px}.sticky-image-preview[_ngcontent-%COMP%]{width:50px;height:50px}.sticky-widget-scroll[_ngcontent-%COMP%]{min-width:200px}@media only screen and (max-width: 399px){.limited-deal-text[_ngcontent-%COMP%]{display:none}}.fire-animation[_ngcontent-%COMP%]{width:50px;bottom:62px;left:0}.animated-gradient-golden-text[_ngcontent-%COMP%]{background:linear-gradient(to right,#feb000 20%,#ffda84 40%,#ffda84 40%,#feb000 80%);background-size:200% auto;color:#000;background-clip:text;text-fill-color:transparent;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shine 2s linear infinite}.product-detail-menu-btn[_ngcontent-%COMP%]{width:45px;height:45px;background-color:#fafafa}ion-popover[_ngcontent-%COMP%]{--backdrop-opacity: 0;--max-width: 180px}app-heart-animated[_ngcontent-%COMP%]{height:36px}.btn-add-to-cart[_ngcontent-%COMP%]{border:1px solid #00d2ff;background:#007eff}@media (min-width: 768px){.btn-add-to-cart[_ngcontent-%COMP%]{border:1px solid #ffd200;background:#ffdf00}}app-product-card[_ngcontent-%COMP%], app-product-card-skeleton[_ngcontent-%COMP%]{width:50%}@media (min-width: 340px){app-product-card[_ngcontent-%COMP%], app-product-card-skeleton[_ngcontent-%COMP%]{width:33.3333333333%}}@media (min-width: 640px){app-product-card[_ngcontent-%COMP%], app-product-card-skeleton[_ngcontent-%COMP%]{width:25%}}@media (min-width: 768px){app-product-card[_ngcontent-%COMP%], app-product-card-skeleton[_ngcontent-%COMP%]{width:25%}}@media (min-width: 1024px){app-product-card[_ngcontent-%COMP%], app-product-card-skeleton[_ngcontent-%COMP%]{width:20%}}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;position:absolute;height:32px;width:32px;clip:rect(16px,32px,32px,0);margin:auto;inset:0;animation:loader-2-2 1.5s linear infinite}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;inset:0;margin:auto;height:20px;width:20px;border:2px solid transparent;border-top:2px solid rgba(0,0,0,.3);border-radius:50%;animation:loader-2-3 1.5s linear infinite}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;inset:0;margin:auto;height:20px;width:20px;border:2px solid rgba(0,0,0,.3);border-radius:50%}.product-name[_ngcontent-%COMP%]   app-copy-icon[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.product-name[_ngcontent-%COMP%]:hover   app-copy-icon[_ngcontent-%COMP%]{display:block}}']}),n})();var fn=c(22193),xn=c(97717);let hn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,p.Pc,x.aw,C.m,xn.O]}),n})();var X=c(99501);let vn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[C.m,p.Pc,X.OrdersModule]}),n})(),wn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,k.u5,C.m,p.Pc,w.kz,$.I,x.aw,j.j,O.b,b.Bz.forChild([{path:"",component:gn}]),fn.n,hn,vn,X.OrdersModule,H.u,G.c]}),n})()},59809:(B,T,c)=>{c.d(T,{I:()=>b});var d=c(94650);let b=(()=>{class p{}return p.\u0275fac=function(C){return new(C||p)},p.\u0275cmp=d.Xpm({type:p,selectors:[["app-product-card-skeleton"]],standalone:!0,features:[d.jDz],decls:9,vars:0,consts:[[1,"cursor-pointer","flex","flex-col","w-full","max-w-[246px]","lg:max-w-[220px]","xl:max-w-[245px]"],[1,"relative","w-full","mb-2",2,"padding-top","100%"],[1,"absolute","inset-0","pulSate","rounded-lg"],[1,"product-title","truncate","mb-1","pulSate","text-sm",2,"letter-spacing","20px"],[1,"text-xs","leading-3","text-center","pulSate",2,"letter-spacing","20px"],[1,"text-base","text-center","pulSate",2,"letter-spacing","20px"]],template:function(C,m){1&C&&(d.TgZ(0,"div",0)(1,"div",1),d._UZ(2,"div",2),d.qZA(),d.TgZ(3,"p",3),d._uU(4," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),d.qZA(),d.TgZ(5,"p",4),d._uU(6," \xa0\xa0 "),d.qZA(),d.TgZ(7,"p",5),d._uU(8," \xa0\xa0 "),d.qZA()())}}),p})()}}]);