"use strict";(self.webpackChunkangular_tyqoon_client=self.webpackChunkangular_tyqoon_client||[]).push([[3915],{83811:(qt,K,l)=>{l.r(K),l.d(K,{HomeModule:()=>Pr});var s=l(36895),d=l(95133),C=l(81212),g=l(82722),P=l(77579),T=l(54968),I=l(78372),y=l(17445),O=l(95698),q=l(24499),Z=(()=>{return(n=Z||(Z={})).HOME_MAIN_SWIPER_AD="\u9996\u9875-\u4e3b\u8f6e\u64ad\u5e7f\u544a",n.HOME_ASIDE_SWIPER_AD="\u9996\u9875-\u4fa7\u8f6e\u64ad\u5e7f\u544a",Z;var n})(),m=l(24837),S=l(37340),c=l(15861),st=l(5963),h=l(49808),_=l(5565),t=l(94650),N=l(56889),Ut=l(69158),A=l(99485),u=l(54463);const Bt=["swiper"];function Ht(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"app-bidding-winner-card",7),t.NdJ("selectWinner",function(o){t.CHM(e);const r=t.oxw(3);return t.KtG(r.routePush(o))}),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.Q6J("winner",e)}}function zt(n,a){1&n&&t.YNc(0,Ht,1,1,"ng-template",6)}const lt=function(n){return{"is-swiping":n}};function Nt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("touchstart",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleElementTouch())}),t.TgZ(1,"swiper",3,4),t.NdJ("init",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleInit())})("transitionEnd",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleTransitionEnd())})("mouseenter",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.handleMouseEnter(o))})("mouseleave",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleMouseLeave())})("touchEnd",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.handleTouchEnd(o))})("breakpoint",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.handleBreakPointChange(o))}),t.YNc(3,zt,1,0,null,5),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(3,lt,e.isSwiping))("config",e.slideOpts),t.xp6(2),t.Q6J("ngForOf",e.winners)}}function Jt(n,a){1&n&&(t.TgZ(0,"div",10),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"no-winners-found")," "))}function Qt(n,a){1&n&&t._UZ(0,"div",12)}function Ft(n,a){1&n&&t.YNc(0,Qt,1,0,"ng-template",6)}const Rt=function(){return[]};function Yt(n,a){if(1&n&&(t.TgZ(0,"div")(1,"swiper",11,4),t.YNc(3,Ft,1,0,null,5),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,lt,e.isSwiping))("config",e.slideOpts),t.xp6(2),t.Q6J("ngForOf",t.DdM(5,Rt).constructor(7).fill(1))}}function Et(n,a){if(1&n&&(t.YNc(0,Jt,3,3,"div",8),t.YNc(1,Yt,4,6,"div",9)),2&n){const e=t.oxw();t.Q6J("ngIf",!e.isLoading),t.xp6(1),t.Q6J("ngIf",e.isLoading)}}let ct=(()=>{class n extends _.V{constructor(e,i){super(),this.biddingService=e,this.cdr=i,this.winners=[],this.isInitalize=!1,this.slideOpts={speed:35e3,freeMode:!0,loop:!0,autoplay:!1,slidesPerView:"auto",breakpoints:{340:{speed:35e3},640:{speed:35e3}}},this.oneRoundWidth=0,this.isLoading=!0,this.isSwiping=!1,this.isMouseEnter=!1,this.handleTransitionEnd=()=>{if(!m.Z.isServer&&this.isInitalize&&!this.isSwiping&&!this.isMouseEnter){const o=this.swiper?.swiperRef,r=o?.getTranslate();r===this.end1RoundPosition?setTimeout(()=>{o?.translateTo(this.initPosition,0,!0,!1)},0):(r<this.end1RoundPosition&&o?.translateTo(this.initPosition+(r-this.end1RoundPosition),0,!1,!1),setTimeout(()=>{o?.translateTo(this.end1RoundPosition,Math.abs(this.end1RoundPosition-o.getTranslate())/this.oneRoundWidth*this.speed1Round,!0,!1)},0))}}}ngOnInit(){var e=this;return(0,c.Z)(function*(){e.isLoading=!0,yield e.fetchWinners(),e.isLoading=!1,e.initPollRecentWinners()})()}initPollRecentWinners(){m.Z.isBrowser&&(this.stopPoll(),this.pollSubscription=(0,st.H)(8e3,8e3).pipe((0,g.R)(this.destroyStream$)).subscribe(()=>{this.fetchWinners()}),console.log(this.pollSubscription))}stopPoll(){this.pollSubscription&&this.pollSubscription.unsubscribe()}fetchWinners(){var e=this;return(0,c.Z)(function*(){const i=yield(0,h.n)(e.biddingService.getRecentWinners(10));if(i?.data){const o=i.data.map(r=>({productId:r.productId,productName:r.productName,productImage:r.productImages[0].source,winnerId:r.userName,winnerAvatar:r.avatar||"/assets/images/sign-up-user.svg",ticketId:e.getFormattedTicketId(r.winningValue),poolId:r.groupBuyingId,isIWon:r.isIWon}));if(e.winners.length==o.length)for(let r=0;r<o.length;r++)e.winners[r].productId=o[r].productId,e.winners[r].productName=o[r].productName,e.winners[r].productImage=o[r].productImage,e.winners[r].winnerId=o[r].winnerId,e.winners[r].winnerAvatar=o[r].winnerAvatar,e.winners[r].ticketId=o[r].ticketId,e.winners[r].poolId=o[r].poolId,e.winners[r].isIWon=o[r].isIWon;else e.winners=o}})()}getFormattedTicketId(e,i=6){return e?e.substring(2,2+i)+"..."+e.substring(e.length-i,e.length):""}ngOnDestroy(){super.ngOnDestroy(),this.subscription?.unsubscribe(),this.stopPoll()}handleInit(){m.Z.isServer||this.setTranslate()}handleMouseEnter(e){this.isMouseEnter=!0;const i=this.swiper?.swiperRef,o=i?.getTranslate();i?.translateTo(o-10,0,!1,!1)}handleElementTouch(){const e=this.swiper?.swiperRef;this.isMouseEnter=!0;const i=e?.getTranslate();e?.translateTo(i-10,0,!1,!1)}handleTouchStart([e,i]){this.isSwiping=!0}routePush(e){console.log(e)}handleTouchEnd([e,i]){if(m.Z.isServer)return;this.isSwiping=!1,"mouse"!==i.pointerType&&(this.isMouseEnter=!1);const o=this.swiper?.swiperRef;o&&setTimeout(()=>{const r=o.getTranslate();o.translateTo(r>=this.end1RoundPosition?r:this.initPosition+(r-this.end1RoundPosition),0,!1,!1)},0),setTimeout(()=>{this.resumeSlide()},10)}handleMouseLeave(){m.Z.isServer||(this.isMouseEnter=!1,setTimeout(()=>{this.resumeSlide()},10))}resumeSlide(){if(!this.isSwiping&&!this.isMouseEnter){const e=this.swiper?.swiperRef;if(e){const i=e.getTranslate();i>=this.end1RoundPosition||e?.translateTo(this.initPosition+(i-this.end1RoundPosition),0,!1,!1),e.translateTo(this.end1RoundPosition,Math.abs(this.end1RoundPosition-i)/this.oneRoundWidth*this.speed1Round,!0,!1)}}}setTranslate(){m.Z.isServer||setTimeout(()=>{const e=this.swiper?.swiperRef;if(e){const i=e.wrapperEl?.querySelector(".swiper-slide");this.oneRoundWidth=(i?.clientWidth||0)*this.winners.length,e.translateTo(this.end1RoundPosition,this.speed1Round,!0,!1),this.isInitalize=!0,this.subscription?.unsubscribe(),this.subscription=(0,T.R)(e.wrapperEl,"transitionend").subscribe(this.handleTransitionEnd)}},2e3)}get speed1Round(){const e=this.swiper?.swiperRef;return e?.params?.breakpoints?.[e.currentBreakpoint]?.speed||e?.params?.speed||0}get initPosition(){return-this.oneRoundWidth}get end1RoundPosition(){return 2*this.initPosition}handleBreakPointChange([e,i]){m.Z.isServer||setTimeout(()=>{const r=this.swiper?.swiperRef?.wrapperEl.querySelector(".swiper-slide");this.oneRoundWidth=(r?.clientWidth||0)*this.winners.length},100)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(N.g),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bidding-recent-winners"]],viewQuery:function(e,i){if(1&e&&t.Gf(Bt,5),2&e){let o;t.iGM(o=t.CRH())&&(i.swiper=o.first)}},features:[t.qOj],decls:3,vars:2,consts:[[3,"touchstart",4,"ngIf","ngIfElse"],["noWinners",""],[3,"touchstart"],[1,"winners-swiper",3,"ngClass","config","init","transitionEnd","mouseenter","mouseleave","touchEnd","breakpoint"],["swiper",""],[4,"ngFor","ngForOf"],["swiperSlide",""],[1,"w-full",3,"winner","selectWinner"],["class","no-winners flex w-full justify-center items-center rounded-lg font-medium text-lg",4,"ngIf"],[4,"ngIf"],[1,"no-winners","flex","w-full","justify-center","items-center","rounded-lg","font-medium","text-lg"],[1,"winners-swiper",3,"ngClass","config"],[1,"rounded-xl","w-full","pulSate",2,"height","100px"]],template:function(e,i){if(1&e&&(t.YNc(0,Nt,4,5,"div",0),t.YNc(1,Et,2,2,"ng-template",null,1,t.W1O)),2&e){const o=t.MAs(2);t.Q6J("ngIf",null==i.winners?null:i.winners.length)("ngIfElse",o)}},dependencies:[s.mk,s.sg,s.O5,Ut.M,A.nF,A.YC,u.X$],styles:["[_nghost-%COMP%]     .winners-swiper:not(.is-swiping)   .swiper-wrapper{transition-timing-function:linear!important}[_nghost-%COMP%]     .winners-swiper   .swiper-wrapper{margin-left:-.25rem;margin-right:-.25rem}[_nghost-%COMP%]     .winners-swiper   .swiper-slide{padding-left:.25rem;padding-right:.25rem;flex-shrink:0;width:280px}.no-winners[_ngcontent-%COMP%]{height:100px;background:rgba(0,0,0,.07)}"]}),n})();var jt=l(81418),Dt=l(11481);function $t(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.routerPush(o.country))}),t.TgZ(1,"div",2)(2,"div",3),t._UZ(3,"img",4),t.qZA(),t.TgZ(4,"span",5),t._uU(5),t.ALo(6,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.Udp("background-image",e.backgroundImage),t.xp6(3),t.Q6J("src",e.country.flagURL,t.LSH),t.xp6(2),t.hij(" ",t.lcZ(6,4,e.country.name)," ")}}let Wt=(()=>{class n{constructor(e,i,o){this.sanitizer=e,this.router=i,this.i18n=o,this.selectCountry=new t.vpe}ngOnInit(){this.backgroundImage=this.sanitizer.bypassSecurityTrustStyle(`url('assets/images/${this.country.background}')`)}routerPush(e){this.router.navigate(["/product/search"],{queryParams:{productArea:e.chinese,bid:!1}}),this.selectCountry.emit(e.name)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Dt.H7),t.Y36(C.F0),t.Y36(u.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home-country-card"]],inputs:{country:"country"},outputs:{selectCountry:"selectCountry"},decls:1,vars:1,consts:[["class","country-card rounded-xl bg-cover pl-2 pb-2 sm:pl-3 sm:pb-3 flex items-end border border-slate-300","style","cursor: pointer",3,"background-image","click",4,"ngIf"],[1,"country-card","rounded-xl","bg-cover","pl-2","pb-2","sm:pl-3","sm:pb-3","flex","items-end","border","border-slate-300",2,"cursor","pointer",3,"click"],[1,"flex","items-center","w-full"],[1,"country-card__flag","mr-1"],[1,"object-cover","!w-full",3,"src"],[1,"country-card__name","flex","items-center","text-white","uppercase","font-semibold"]],template:function(e,i){1&e&&t.YNc(0,$t,7,6,"div",0),2&e&&t.Q6J("ngIf",i.country)},dependencies:[s.O5,u.X$],styles:[".country-card[_ngcontent-%COMP%]{height:68px;box-shadow:#0009 0 -50px 36px -28px inset}@media (min-width: 340px){.country-card[_ngcontent-%COMP%]{height:80px}}@media only screen and (min-width: 480px){.country-card[_ngcontent-%COMP%]{height:96px}}@media (min-width: 640px){.country-card[_ngcontent-%COMP%]{height:106px}}.country-card__flag[_ngcontent-%COMP%]{width:26px;height:20px;box-shadow:#0000004d 0 0 1px,#0000004d 0 4px 6px}@media (min-width: 640px){.country-card__flag[_ngcontent-%COMP%]{width:42px;height:29px}}.country-card__name[_ngcontent-%COMP%]{text-shadow:1px 1px 4px black;font-size:12px}@media (min-width: 640px){.country-card__name[_ngcontent-%COMP%]{font-size:16px}}"]}),n})();const Kt=["swiper"];function Vt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"app-home-country-card",6),t.NdJ("selectCountry",function(o){t.CHM(e);const r=t.oxw(3);return t.KtG(r.routePush(o))}),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.Q6J("country",e)}}function Xt(n,a){1&n&&t.YNc(0,Vt,1,1,"ng-template",5)}const te=function(n){return{"is-swiping":n}};function ee(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("touchstart",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleElementTouch())}),t.TgZ(1,"swiper",2,3),t.NdJ("init",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleInit())})("transitionEnd",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleTransitionEnd())})("mouseenter",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.handleMouseEnter(o))})("mouseleave",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleMouseLeave())})("touchEnd",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.handleTouchEnd(o))})("breakpoint",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.handleBreakPointChange(o))}),t.YNc(3,Xt,1,0,null,4),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(3,te,e.isSwiping))("config",e.slideOpts),t.xp6(2),t.Q6J("ngForOf",e.countries)}}let pt=(()=>{class n{constructor(){this.countries=jt.h,this.isInitalize=!1,this.slideOpts={speed:2e4,freeMode:!0,loop:!0,autoplay:!1,slidesPerView:"auto",breakpoints:{340:{speed:2e4},640:{speed:2e4}}},this.oneRoundWidth=0,this.isSwiping=!1,this.isMouseEnter=!1,this.handleTransitionEnd=()=>{if(this.isInitalize&&!this.isSwiping&&!this.isMouseEnter){const e=this.countrySwiper?.swiperRef,i=e?.getTranslate();i===this.end1RoundPosition?setTimeout(()=>{e?.translateTo(this.initPosition,0,!0,!1)},0):(i<this.end1RoundPosition&&e?.translateTo(this.initPosition+(i-this.end1RoundPosition),0,!1,!1),setTimeout(()=>{e?.translateTo(this.end1RoundPosition,Math.abs(this.end1RoundPosition-e.getTranslate())/this.oneRoundWidth*this.speed1Round,!0,!1)},0))}}}ngOnInit(){}ngOnDestroy(){this.subscription?.unsubscribe()}handleInit(){m.Z.isServer||this.setTranslate()}handleMouseEnter(e){this.isMouseEnter=!0;const i=this.countrySwiper?.swiperRef,o=i?.getTranslate();i?.translateTo(o-10,0,!1,!1)}handleElementTouch(){const e=this.countrySwiper?.swiperRef;this.isMouseEnter=!0;const i=e?.getTranslate();e?.translateTo(i-10,0,!1,!1)}handleTouchStart([e,i]){this.isSwiping=!0}routePush(e){console.log(e)}handleTouchEnd([e,i]){this.isSwiping=!1,"mouse"!==i.pointerType&&(this.isMouseEnter=!1);const o=this.countrySwiper?.swiperRef;o&&setTimeout(()=>{const r=o.getTranslate();o.translateTo(r>=this.end1RoundPosition?r:this.initPosition+(r-this.end1RoundPosition),0,!1,!1)},0),setTimeout(()=>{this.resumeSlide()},10)}handleMouseLeave(){this.isMouseEnter=!1,setTimeout(()=>{this.resumeSlide()},10)}resumeSlide(){if(!this.isSwiping&&!this.isMouseEnter){const e=this.countrySwiper?.swiperRef;if(e){const i=e.getTranslate();i>=this.end1RoundPosition||e?.translateTo(this.initPosition+(i-this.end1RoundPosition),0,!1,!1),e.translateTo(this.end1RoundPosition,Math.abs(this.end1RoundPosition-i)/this.oneRoundWidth*this.speed1Round,!0,!1)}}}setTranslate(){setTimeout(()=>{const e=this.countrySwiper?.swiperRef;if(e){const i=e.wrapperEl?.querySelector(".swiper-slide");this.oneRoundWidth=(i?.clientWidth||0)*this.countries.length,e.translateTo(this.end1RoundPosition,this.speed1Round,!0,!1),this.isInitalize=!0,this.subscription?.unsubscribe(),this.subscription=(0,T.R)(e.wrapperEl,"transitionend").subscribe(this.handleTransitionEnd)}},2e3)}get speed1Round(){const e=this.countrySwiper?.swiperRef;return e?.params.breakpoints?.[e.currentBreakpoint]?.speed||e?.params.speed||0}get initPosition(){return-this.oneRoundWidth}get end1RoundPosition(){return 2*this.initPosition}handleBreakPointChange([e,i]){setTimeout(()=>{const r=this.countrySwiper?.swiperRef?.wrapperEl.querySelector(".swiper-slide");this.oneRoundWidth=(r?.clientWidth||0)*this.countries.length},100)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home-country-banner"]],viewQuery:function(e,i){if(1&e&&t.Gf(Kt,5),2&e){let o;t.iGM(o=t.CRH())&&(i.countrySwiper=o.first)}},decls:1,vars:1,consts:[[3,"touchstart",4,"ngIf"],[3,"touchstart"],[1,"country-swiper",3,"ngClass","config","init","transitionEnd","mouseenter","mouseleave","touchEnd","breakpoint"],["swiper",""],[4,"ngFor","ngForOf"],["swiperSlide",""],[1,"w-full",3,"country","selectCountry"]],template:function(e,i){1&e&&t.YNc(0,ee,4,5,"div",0),2&e&&t.Q6J("ngIf",i.countries)},dependencies:[s.mk,s.sg,s.O5,A.nF,A.YC,Wt],styles:["[_nghost-%COMP%]     .country-swiper:not(.is-swiping)   .swiper-wrapper{transition-timing-function:linear!important}[_nghost-%COMP%]     .country-swiper   .swiper-wrapper{margin-left:-.25rem;margin-right:-.25rem}[_nghost-%COMP%]     .country-swiper   .swiper-slide{width:150px;flex-shrink:0;padding-left:.25rem;padding-right:.25rem}@media (min-width: 340px){[_nghost-%COMP%]     .country-swiper   .swiper-slide{width:170px}}@media (min-width: 640px){[_nghost-%COMP%]     .country-swiper   .swiper-slide{width:200px}}[_nghost-%COMP%]     .country-swiper   .swiper-slide{padding-left:.25rem;padding-right:.25rem;flex-shrink:0;width:150px}@media (min-width: 640px){[_nghost-%COMP%]     .country-swiper   .swiper-slide{width:170px}}@media (min-width: 340px){[_nghost-%COMP%]     .country-swiper   .swiper-slide{width:200px}}"]}),n})();var J=l(6074),ne=l(46032),ie=l(52646),M=l(45329);const oe=function(){return["/product/search"]},ae=function(){return{categoryId:285102657,bid:!1}},re=function(){return["/product/","search"]},se=function(){return{isSpecialSale:!0}};let le=(()=>{class n extends _.V{constructor(e,i){super(),this.userService=e,this.translateService=i,this.sidesAdsName=Z.HOME_ASIDE_SWIPER_AD}ngOnInit(){this.userService.pointStatistic$.pipe((0,g.R)(this.destroyStream$)).subscribe(e=>{this.pointStatistic=e})}getTyqoonMartImage(){switch(this.translateService.currentLang){case"cn":case"tr":return"assets/images/Tyqoon-mart-logo-cnv2-360px.png";default:return"assets/images/tyqoon-mart.png"}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.K),t.Y36(u.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-profile-details-summary"]],features:[t.qOj],decls:60,vars:29,consts:[[1,"flex","flex-col","justify-between","items-end","md:items-center","items","h-full","w-full","2md:w-auto"],[1,"flex-1","hidden","2md:flex","flex-col","items-center","justify-center"],["routerLink","/member/store-credits",1,"mb-1.5","flex-1","flex","items-center"],[1,"border-gradient-primary","border-2","rounded-lg","w-[160px]","xl:w-[175px]","bg-[#f8f8f8]","p-1"],["src","assets/images/bg-web-world.png","alt","",1,"absolute","-z-10","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2","h-full"],[1,"text-center","text-xs","font-bold"],[1,"text-center","text-primary","text-xl","whitespace-nowrap","overflow-hidden","leading-6","font-bold","font-system"],["routerLink","/member/store-credits",1,"mb-2","flex-1","flex","items-center"],[1,"border-gradient-secondary","border-2","rounded-lg","w-[160px]","xl:w-[175px]","bg-[#f8f8f8]","p-1"],["src","assets/images/bg-coin-temp.png","alt","",1,"-z-10","absolute","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2","h-full"],[1,"text-center","text-rainbow","text-xl","whitespace-nowrap","overflow-hidden","leading-6","font-bold","font-system"],[1,"container-wrapper","flex-shrink-0","pb-0.5","2md:pb-0"],[1,"small-container-ratio","block",3,"routerLink","queryParams"],[1,"absolute","inset-0"],[1,"gold-mall","w-full","h-full","p-0.5","2xs:p-1","md:p-1.5","lg:p-2","rounded-lg","blue-gradient","shadow-md","flex","items-center","justify-center"],[1,"flex","items-center","justify-center","flex-col","w-full","h-full","relative"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 400 400",1,"rounded-xl","mx-auto","absolute","radial-lines","z-0"],["id","rays-shine","x","-40%","y","-40%","width","180%","height","180%","color-interpolation-filters","linearRGB"],["stdDeviation","20 20","in","SourceGraphic","edgeMode","none","result","blur"],["id","rays-grad","cx","200","cy","200","r","300","gradientUnits","userSpaceOnUse"],["offset","0","stop-color","#fff"],["offset","0.17","stop-color","#fff","stop-opacity","0.74"],["offset","0.33","stop-color","#fff","stop-opacity","0.51"],["offset","0.49","stop-color","#fff","stop-opacity","0.33"],["offset","0.64","stop-color","#fff","stop-opacity","0.19"],["offset","0.78","stop-color","#fff","stop-opacity","0.08"],["offset","0.9","stop-color","#fff","stop-opacity","0.02"],["offset","1","stop-color","#fff","stop-opacity","0"],["id","rare-rays-out","opacity","1"],["id","rare-rays"],["cx","200","cy","200","rx","50","ry","50","fill","#e9f1fe","filter","url(#rays-shine)"],["d","M200.08,500H200a302.62,302.62,0,0,1-38.8-2.5l38.51-296.65.18-.44-.16.28v-.07l0,.1L50,459.86a303.84,303.84,0,0,1-32.6-21.8L199.75,200.51l0-.26h0L-12,412.28A302.65,302.65,0,0,1-37.81,382.9L199.32,200.37l-.18,0L-59.64,350.34a301.36,301.36,0,0,1-17.43-35.2L198.25,200.66l-288,77.2a298.68,298.68,0,0,1-7.67-38.57l296.52-39,.34-.14H-100V200a301.73,301.73,0,0,1,2.48-38.62L192,198.77l3.66,0L-89.94,122.8A299.55,299.55,0,0,1-77.32,85.47l274.1,113.25h.78L-59.94,50.18A300.75,300.75,0,0,1-38.17,17.57L198.14,198.71h.56L-12.39-11.87A301.45,301.45,0,0,1,17-37.71L199.15,198.7h.17L49.51-59.55A300.56,300.56,0,0,1,84.7-77L199.35,198.27,122-89.72a300.83,300.83,0,0,1,38.55-7.69L199.64,198.7h.11V-100H200a302.72,302.72,0,0,1,38.45,2.46L200.84,195v2.2L277-90a300.15,300.15,0,0,1,37.34,12.6L200.85,197.79v.51L349.67-60a301.28,301.28,0,0,1,32.62,21.76l-181.43,237v.43L411.75-12.51a301.38,301.38,0,0,1,25.86,29.35L200.86,199.47v.09L459.47,49.36a302.28,302.28,0,0,1,17.47,35.19L201.7,199.35l288-77.54a300.38,300.38,0,0,1,7.72,38.56L200.87,199.7v.3h-.65l.17.1-.19-.11v0h-.09l0,0,.05,0H200v0l.05.05h0l0-.05v0h0v.09h0l0,0h0l0,0,0,0h.07l0,.08-.11,0,.06.12h.08l0,.16-.1-.13.12.21.06.21,0-.15L350.2,459.72A299.77,299.77,0,0,1,315,477.13l-114.61-276L277.7,489.8a300.51,300.51,0,0,1-38.58,7.66l-38.8-296.53-.26-.62h0l-.08-.11h0v0Zm-.24-299.77-.06.25.2-.28Zm-.26-.06-.18.1h.07l.12-.09Zm.21,0h0Zm.07,0v0l.14,0h-.13Zm.14,0Zm0,0h0Zm-.89-.49.17,0h0l-.34-.09Zm1.19-.57,0,.19h0l.1-.37ZM199.75-100v0ZM122.63,489.89a299.51,299.51,0,0,1-37.32-12.64L199.62,201.06Zm260.13-52L200.27,200.53l0-.22h.07l211.85,211.8A302.78,302.78,0,0,1,382.76,437.92ZM438,382.7,200.58,200.31h.17l259,149.8A299.87,299.87,0,0,1,438,382.7Zm39.23-67.85L201.1,200.39l288.75,77.14A299.61,299.61,0,0,1,477.19,314.85ZM497.48,239,200.89,200.31,500,199v1A303.43,303.43,0,0,1,497.48,239ZM200.66,200.28l-.18-.05Z","fill","url(#rays-grad)"],["src","assets/images/Ticket-Gold-v3-540px-min.png","alt","",1,"ticket-img","z-1"],[1,"mall-text","text-black","font-black","absolute","text-center","z-1"],[1,"shop-now-btn","absolute","bottom-0","overflow-hidden","mt-1","md:mt-2","text-black","rounded-lg","w-full","shop-now-btn","2xs:py-0.5","md:py-1","uppercase","font-bold","text-xs","xs:text-xs","sm:text-base","whitespace-nowrap","z-1"],[1,"container-wrapper","flex-shrink-0","2md:hidden","pt-0.5"],[1,"w-full","h-full","p-1","sm:p-2","rounded-lg","yellow-gradient","shadow-md","flex","items-center","justify-center"],["src","assets/images/price-tag.png","alt","",1,"tag","w-3/12","absolute","right-1/2","top-1/2","transform","-translate-y-1/2","translate-x-1/4"],["src","assets/svgs/fire-animation.svg","alt","",1,"fire","w-6/12","m-auto"],[1,"limited-deal-btn","mt-2","text-black","rounded-lg","w-full","xs:py-1","uppercase","font-bold","text-xs","xs:text-xs","sm:text-base","whitespace-nowrap"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2)(3,"div",3),t._UZ(4,"img",4),t.TgZ(5,"p",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"p",6),t._uU(9),t.ALo(10,"currency"),t.qZA()()(),t.TgZ(11,"a",7)(12,"div",8),t._UZ(13,"img",9),t.TgZ(14,"p",5),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"p",10),t._uU(18),t.ALo(19,"currency"),t.qZA()()()(),t.TgZ(20,"div",11)(21,"a",12)(22,"div",13)(23,"div",14)(24,"div",15),t.O4$(),t.TgZ(25,"svg",16)(26,"defs")(27,"filter",17),t._UZ(28,"feGaussianBlur",18),t.qZA(),t.TgZ(29,"radialGradient",19),t._UZ(30,"stop",20)(31,"stop",20)(32,"stop",21)(33,"stop",22)(34,"stop",23)(35,"stop",24)(36,"stop",25)(37,"stop",26)(38,"stop",27),t.qZA()(),t.TgZ(39,"g",28)(40,"g",29),t._UZ(41,"ellipse",30)(42,"path",31),t.qZA()()(),t.kcU(),t._UZ(43,"img",32),t.TgZ(44,"div",33),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"button",34),t._uU(48),t.ALo(49,"translate"),t.qZA()()()()()(),t.TgZ(50,"div",35)(51,"a",12)(52,"div",13)(53,"div",36)(54,"div"),t._UZ(55,"img",37)(56,"img",38),t.TgZ(57,"button",39),t._uU(58),t.ALo(59,"translate"),t.qZA()()()()()()()),2&e&&(t.xp6(6),t.hij(" ",t.lcZ(7,11,"platform-total-savings")," "),t.xp6(3),t.hij(" ",t.lcZ(10,13,(null==i.pointStatistic?null:i.pointStatistic.platformTotalSavings)||0)," "),t.xp6(6),t.hij(" ",t.lcZ(16,15,"my-total-savings")," "),t.xp6(3),t.hij(" ",t.lcZ(19,17,(null==i.pointStatistic?null:i.pointStatistic.myselfTotalSavings)||0)," "),t.xp6(3),t.Q6J("routerLink",t.DdM(25,oe))("queryParams",t.DdM(26,ae)),t.xp6(24),t.hij(" ",t.lcZ(46,19,"gold-package-mall")," "),t.xp6(3),t.hij(" ",t.lcZ(49,21,"shop-now-gold")," "),t.xp6(3),t.Q6J("routerLink",t.DdM(27,re))("queryParams",t.DdM(28,se)),t.xp6(7),t.hij(" ",t.lcZ(59,23,"header-limited-deals-links")," "))},dependencies:[d.Fo,C.yS,s.H9,u.X$],styles:['.container-wrapper[_ngcontent-%COMP%]{width:100%;flex:1}.small-container-ratio[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.yellow-gradient[_ngcontent-%COMP%]{background:radial-gradient(#fffbde,#ffe226)}.yellow-gradient[_ngcontent-%COMP%]   .fire[_ngcontent-%COMP%]{transform:translate(20%)}@media only screen and (max-width: 399px){.shop-now-btn[_ngcontent-%COMP%], .limited-deal-btn[_ngcontent-%COMP%]{margin-top:4px;font-size:10px}}.gold-mall[_ngcontent-%COMP%]{background:radial-gradient(#ffffff,#ffdd9d)}.gold-mall[_ngcontent-%COMP%]   .shop-now-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,#ffcc00,#ffda44);border:1px solid #ffeb66}.gold-mall[_ngcontent-%COMP%]   .shop-now-btn[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:100%;height:100%;position:absolute;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.6) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);animation:3s shinebg 1.2s forwards infinite}.gold-mall[_ngcontent-%COMP%]   .ticket-img[_ngcontent-%COMP%]{height:73%;margin-bottom:15%}@media (min-width: 450px){.gold-mall[_ngcontent-%COMP%]   .ticket-img[_ngcontent-%COMP%]{height:75%;margin-bottom:15%}}@media (min-width: 768px){.gold-mall[_ngcontent-%COMP%]   .ticket-img[_ngcontent-%COMP%]{height:77%;margin-bottom:8%}}@media (min-width: 992px){.gold-mall[_ngcontent-%COMP%]   .ticket-img[_ngcontent-%COMP%]{height:68%;margin-bottom:20%}}@media (min-width: 1024px){.gold-mall[_ngcontent-%COMP%]   .ticket-img[_ngcontent-%COMP%]{height:74%;margin-bottom:17%}}.gold-mall[_ngcontent-%COMP%]   .mall-text[_ngcontent-%COMP%]{bottom:33%;font-size:9px;text-shadow:-2px -1px 0px #fff,-2px 0px 0px #fff,-2px 1px 0px #fff,-2px 2px 0px #fff,-1px -2px 0px #fff,-1px 0px 0px #fff,-1px 1px 0px #fff,-1px 2px 0px #fff,0px -2px 0px #fff,0px -1px 0px #fff,0px 1px 0px #fff,0px 2px 0px #fff,1px -2px 0px #fff,1px -1px 0px #fff,1px 0px 0px #fff,1px 2px 0px #fff,2px -2px 0px #fff,2px -1px 0px #fff,2px 0px 0px #fff,2px 1px 0px #fff}@media (min-width: 450px){.gold-mall[_ngcontent-%COMP%]   .mall-text[_ngcontent-%COMP%]{font-size:11px}}@media (min-width: 640px){.gold-mall[_ngcontent-%COMP%]   .mall-text[_ngcontent-%COMP%]{bottom:30%}}@media (min-width: 768px){.gold-mall[_ngcontent-%COMP%]   .mall-text[_ngcontent-%COMP%]{font-size:14px}}@media (min-width: 992px){.gold-mall[_ngcontent-%COMP%]   .mall-text[_ngcontent-%COMP%]{bottom:43px}}@media (min-width: 1440px){.gold-mall[_ngcontent-%COMP%]   .mall-text[_ngcontent-%COMP%]{font-size:15px}}.gold-mall[_ngcontent-%COMP%]   .radial-lines[_ngcontent-%COMP%]{left:0;right:0;top:0;z-index:0;opacity:1;height:100%;width:100%}@keyframes rays-reveal{0%{transform:scale(.6)}to{transform:scale(1.05)}}@keyframes rays-rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.gold-mall[_ngcontent-%COMP%]   #rare-rays[_ngcontent-%COMP%]{transform-origin:200px 200px;animation:rays-rotate 7s linear both 1}.gold-mall[_ngcontent-%COMP%]   #rare-rays-out[_ngcontent-%COMP%]{transform-origin:200px 200px;animation:rays-reveal 1.5s ease-in-out both}@keyframes shinebg{0%{transform:translate(-200%)}to{transform:translate(100%)}}']}),n})();var ce=l(94464),U=l(68879),pe=l(24056),b=l(92340),w=l(54004),V=l(80529);let de=(()=>{class n{constructor(e){this.http=e}getAdsByPositionName(e){return this.http.get(`${b.N.BASE_URL}/common/queryAd`,{params:{positionName:e}}).pipe((0,w.U)(({data:i})=>i))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(V.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fe=["swiper"];function ge(n,a){if(1&n&&(t.TgZ(0,"a",7),t._UZ(1,"img",8),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.Q6J("href",e.url,t.LSH),t.xp6(1),t.Q6J("src",e.path,t.LSH)("alt",e.title)}}function me(n,a){if(1&n&&(t.TgZ(0,"a",9),t._UZ(1,"img",8),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.s9C("routerLink",i.getPath(e.url)),t.Q6J("queryParams",i.getQueryStringObj(e.url)),t.xp6(1),t.Q6J("src",e.path,t.LSH)("alt",e.title)}}function ue(n,a){if(1&n&&(t.TgZ(0,"div",4),t.YNc(1,ge,2,3,"a",5),t.YNc(2,me,2,4,"ng-template",null,6,t.W1O),t.qZA()),2&n){const e=t.MAs(3),i=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.checkIsUrl(i.url))("ngIfElse",e)}}function he(n,a){1&n&&t.YNc(0,ue,4,2,"ng-template",3)}U.ZP.use([U.W_,U.pt,U.N1,U.tl,U.LW,U.LG,ce.L$]);let _e=(()=>{class n{constructor(e,i,o){this.adsService=e,this.cdr=i,this.ngZone=o,this.slideOpts={slidesPerView:"auto",loop:!0,autoplay:{delay:this.duration}},this.checkIsUrl=pe.L_}get finalOptions(){return{...this.slideOpts,autoplay:{delay:this.duration}}}ngOnInit(){m.Z.isBrowser&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.swiper?.swiperRef?.autoplay?.start(),this.cdr.detectChanges()},2e3)}),this.positionName&&(this.ads$=this.adsService.getAdsByPositionName(this.positionName))}getPath(e){return e.split("?")?.[0]}trackbyFn(e,i){return i.id}getQueryStringObj(e){const i=e.split("?")?.[1];if(!i)return null;const o=new URLSearchParams(i);return Object.fromEntries(o.entries())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(de),t.Y36(t.sBO),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ads-carousel"]],viewQuery:function(e,i){if(1&e&&t.Gf(fe,5),2&e){let o;t.iGM(o=t.CRH())&&(i.swiper=o.first)}},inputs:{positionName:"positionName",duration:"duration"},decls:4,vars:5,consts:[[1,"large-swiper","border","border-[#dddddd]","rounded-lg","overflow-hidden","w-full","h-full",3,"config","mouseenter","mouseleave"],["swiper",""],[4,"ngFor","ngForOf","ngForTrackBy"],["swiperSlide",""],[1,"image-wrapper","w-full","h-full","relative","cursor-pointer"],["target","_blank","class","absolute inset-0",3,"href",4,"ngIf","ngIfElse"],["path",""],["target","_blank",1,"absolute","inset-0",3,"href"],[1,"object-cover","object-center","!w-full","!h-full",3,"src","alt"],[1,"absolute","inset-0",3,"routerLink","queryParams"]],template:function(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"swiper",0,1),t.NdJ("mouseenter",function(){t.CHM(o);const p=t.MAs(1);return t.KtG(null==p||null==p.swiperRef||null==p.swiperRef.autoplay?null:p.swiperRef.autoplay.stop())})("mouseleave",function(){t.CHM(o);const p=t.MAs(1);return t.KtG(null==p||null==p.swiperRef||null==p.swiperRef.autoplay?null:p.swiperRef.autoplay.start())}),t.YNc(2,he,1,0,null,2),t.ALo(3,"async"),t.qZA()}2&e&&(t.Q6J("config",i.finalOptions),t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,3,i.ads$))("ngForTrackBy",i.trackbyFn))},dependencies:[s.sg,s.O5,d.Fo,C.yS,A.nF,A.YC,s.Ov],styles:["swiper[_ngcontent-%COMP%]     .swiper-slide{width:100%!important;height:100%}swiper[_ngcontent-%COMP%]     .swiper-wrapper{align-items:center}swiper[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),n})();var xe=l(63225),be=l(70957),Ce=l(49127),we=l(45210),ve=l(18215),H=l(90147),ye=l(69799),Me=l(11592),Oe=l(70563),Ze=l(71832),dt=l(85898),k=l(61135),L=l(18505),nt=l(38419);let Q=(()=>{class n{constructor(e,i,o){this.http=e,this.req=i,this.userService=o,this.count$=new k.X(0),this.prizeHistory$=new k.X([]),this._notificationWinners=[],this.notificationWinnner$=new P.x,this.prizeMap={1:"assets/images/circle-credit-small.png",2:"assets/images/cny-250px-min.png",3:"assets/images/TYQOON-DOLLAR-V2-Cropped.png"},this.init(),this.userService.loginStateChange.subscribe(r=>{this.userService.isLogin()&&this.updateOpenCount()})}init(){m.Z.isServer||(this.userService.isLogin()&&this.updateOpenCount(),this.initNotification())}updateOpenCount(e=!1){var i=this;return(0,c.Z)(function*(){return yield(0,h.n)(i.getOpenCount(e).pipe((0,L.b)(o=>{i.count$.next(o)})))})()}getOpenCount(e=!1){return this.http.get(`${b.N.BASE_URL}/user/lottery/getLotteryNum`,{params:{type:4}}).pipe((0,w.U)(i=>e?0:i?.data?.num||0))}open(){return this.http.post(`${b.N.BASE_URL}/user/lottery/lotteryGift`,{type:4}).pipe((0,w.U)(e=>{const i=e;return i.data&&(i.data.icon=4==i.data.rewardType?`assets/images/gift-new/${i.data.name}.png`:this.prizeMap[parseInt(i.data.rewardType)]),i}))}getHistory(e){return this.http.get(`${b.N.BASE_URL}/user/lottery/queryLotteryLog`,{params:{...e,type:4}}).pipe((0,w.U)(i=>i?.data))}updatePrizeHistory(){var e=this;return(0,c.Z)(function*(){return yield(0,h.n)(e.getPrize().pipe((0,L.b)(i=>{e.prizeHistory$.next(i)})))})()}getPrize(){return this.http.get(`${b.N.BASE_URL}/user/lottery/queryExchangeGift`).pipe((0,w.U)(e=>(e?.data?.rows&&(e.data.rows=e.data.rows.map(i=>({...i,credit:parseInt(i.credit)}))),e?.data?.rows||[])))}getConfig(){return this.http.get(`${b.N.BASE_URL}/user/lottery/getNewYearGiftConfig`).pipe((0,w.U)(e=>e?.data?.rows||[]))}queryGiftAll(e){return this.http.get(`${b.N.BASE_URL}/user/lottery/queryGiftAll?type=4&rows=${e}`).pipe((0,w.U)(i=>i?.data||[]))}redeemMajorPrize(){return this.http.post(`${b.N.BASE_URL}/user/lottery/exchangeGift `,{type:4,exchangeId:1})}initNotification(){var e=this;return(0,c.Z)(function*(){e._notificationWinners=yield(0,h.n)(e.queryGiftAll(5)),e.scheduleNotifcation()})()}scheduleNotifcation(){if(this._notificationWinners?.length){const e=ft(6,10);this.timeoutId=setTimeout(()=>{const i=ft(0,this._notificationWinners.length-1),o=this._notificationWinners.splice(i,1);o[0]&&this.notificationWinnner$.next(o[0]),this.scheduleNotifcation()},1e3*e)}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(V.eN),t.LFG(nt.Z,8),t.LFG(M.K))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ft(n,a){return n=Math.ceil(n),a=Math.floor(a),Math.floor(Math.random()*(a-n+1))+n}var F=l(8316);const gt=function(n){return{active:n}};function ke(n,a){if(1&n&&(t.TgZ(0,"div",4),t.ALo(1,"isCharacterActive"),t._UZ(2,"img",5)(3,"img",6),t.TgZ(4,"span",7),t._uU(5),t.qZA()()),2&n){const e=a.$implicit,i=a.index,o=t.oxw();t.Q6J("ngClass",t.VKq(8,gt,t.xi3(1,5,e,o.prizeHistoryMap))),t.xp6(2),t.Q6J("src","assets/images/gift-new/disabled-"+e+".png",t.LSH),t.xp6(1),t.Q6J("ngStyle",o.getDelayJump(i))("src","assets/images/gift-new/"+e+".png",t.LSH),t.xp6(2),t.Oqu((null==o.prizeHistoryMap[e]?null:o.prizeHistoryMap[e].credit)||0)}}let Pe=(()=>{class n{transform(e,i={}){return!!(i[e]&&i[e]?.credit>0)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"isCharacterActive",type:n,pure:!0}),n})(),mt=(()=>{class n extends _.V{constructor(e){super(),this.giftService=e,this.giftIds=[],this.showCount=!1,this.showTotalLeft=!1,this.showTotalRight=!1,this.prizeHistory=[],this.prizeHistoryMap={},this.total=0,this.mapCharacters=["T","Y","Q","OO","N"]}ngOnInit(){var e=this;return(0,c.Z)(function*(){e.giftService.prizeHistory$.pipe((0,g.R)(e.destroyStream$)).subscribe(i=>{e.prizeHistoryMap={},i.forEach(o=>{e.prizeHistoryMap[o?.giftName]=o}),e.getTotal()})})()}get isActive(){return this.mapCharacters.every(e=>this.prizeHistoryMap[e]?.credit>0)}formatBadge(){}getDelayJump(e){return{"--delay":.2*e+"s"}}getTotal(){this.total=this.prizeHistoryMap[this.mapCharacters[0]]?.credit||0;for(let e=1;e<this.mapCharacters.length;e++)this.total=Math.min(this.total,this.prizeHistoryMap[this.mapCharacters[e]]?.credit||0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gift-merge-character"]],inputs:{giftIds:"giftIds",showCount:"showCount",showTotalLeft:"showTotalLeft",showTotalRight:"showTotalRight"},features:[t.qOj],decls:4,vars:4,consts:[[1,"relative","z-10","rounded-full"],[1,"word-container","flex","justify-center","rounded-full","font-bold","bg-white","border-2","border-white","relative","px-4",3,"ngClass"],["class","character-container relative z-10 py-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"rounded-full","animation-container","overflow-hidden"],[1,"character-container","relative","z-10","py-3",3,"ngClass"],["alt","",1,"img-disable","h-8",3,"src"],["alt","",1,"img-active","h-8",3,"ngStyle","src"],[1,"absolute","z-10","badge","shadow-lg","rounded-full","top-0","left-1/2","transform","-translate-x-1/2","-translate-y-1/2"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,ke,6,10,"div",2),t._UZ(3,"div",3),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(2,gt,i.isActive)),t.xp6(1),t.Q6J("ngForOf",i.mapCharacters))},dependencies:[s.mk,s.sg,s.PC,Pe],styles:['.word-container[_ngcontent-%COMP%]{min-height:60px;min-width:230px;box-shadow:0 1px 9px 3px #0003;border-color:#c6c4c4}.word-container[_ngcontent-%COMP%]   .animation-container[_ngcontent-%COMP%]{display:none}.word-container.active[_ngcontent-%COMP%]{border-color:#fd5a00}.word-container.active[_ngcontent-%COMP%]   .animation-container[_ngcontent-%COMP%]{display:block;position:absolute;inset:0;box-shadow:none;background:linear-gradient(to right,#FFEE9E,#FDE96C);z-index:1}.word-container.active[_ngcontent-%COMP%]   .animation-container[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:100%;height:100%;position:absolute;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.8) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);animation:shinebg 2s infinite}.word-container.active[_ngcontent-%COMP%]   .img-active[_ngcontent-%COMP%]{animation:jump 4s infinite;animation-timing-function:ease-in-out;animation-delay:var(--delay)}.badge[_ngcontent-%COMP%]{display:block;height:18px;width:18px;font-size:8px;font-weight:lighter;background-color:#940214;-webkit-text-stroke:0;white-space:nowrap;line-height:18px;text-align:center;box-shadow:0 2px 4px 1px #0000004d;color:#fff;font-weight:500}@media (min-width: 768px){.badge[_ngcontent-%COMP%]{height:22px;width:22px;line-height:22px;font-size:10px}}@keyframes shinebg{0%{transform:translate(-100%)}to{transform:translate(100%)}}@keyframes jump{0%,20%{transform:translateY(0)}10%{transform:translateY(-6px)}to{transform:translateY(0)}}.total-prize[_ngcontent-%COMP%]{width:22px;height:22px;line-height:22px;background-color:#0086ff;font-size:12px}.pulse[_ngcontent-%COMP%]{animation:blue-pulse 1.5s infinite}.character-container[_ngcontent-%COMP%]   .img-active[_ngcontent-%COMP%], .character-container.active[_ngcontent-%COMP%]   .img-disable[_ngcontent-%COMP%]{display:none}.character-container.active[_ngcontent-%COMP%]   .img-active[_ngcontent-%COMP%]{display:block}']}),n})(),Te=(()=>{class n{ngOnInit(){m.Z.isServer||this.playConfetti()}getRndInteger(e,i){return Math.floor(Math.random()*(i-e+1))+e}randomFloatBetween(e,i,o){return typeof o>"u"&&(o=2),parseFloat(Math.min(e+Math.random()*(i-e),i).toFixed(o))}playConfetti(){(0,F.Z)({gsap:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"}).gsap.onLoad(()=>{document.querySelectorAll("#gift-confetti path, svg g").forEach(function(f){f.removeAttribute("data-name")}),document.querySelectorAll('#gift-confetti [id*="_Group"], svg [id*="_Path"]').forEach(function(f){f.removeAttribute("id")});const{TweenLite:i,Sine:o,TimelineMax:p}=window;i.randomEase=o.easeInOut;var x=new p({repeat:0,repeatDelay:1.5});x.to("#gift-confetti #confetti-particles",.5,{opacity:1}),document.querySelectorAll("#gift-confetti #confetti-particles rect").forEach((f,It)=>{let G=new p({});var j=this.getRndInteger(-400,400),D=this.getRndInteger(200,800),v=this.randomFloatBetween(2,3),$=this.randomFloatBetween(.8,1.5);let W="-="+v/3;G.to(f,v,{x:j},0).fromTo(f,v/3,{y:100},{y:-D,ease:"power3.out"},0).to(f,v/2,{y:100,ease:"power1.in"},v/3).to(f,.5,{opacity:0},W).to(f,$,{transformOrigin:"50% 50%",rotation:Math.random()>.5?-360:360,repeat:1.5,ease:"linear"},0),x.add(G,0)})})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-confetti-animation"]],decls:45,vars:0,consts:[["id","gift-confetti","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 800 800"],["confetti",""],["id","confetti-particles",2,"opacity","0"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#42bcec"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#ed1d63"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#fcb316"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#7452a2"]],template:function(e,i){1&e&&(t.O4$(),t.TgZ(0,"svg",0,1)(2,"g",2),t._UZ(3,"rect",3)(4,"rect",4)(5,"rect",5)(6,"rect",5)(7,"rect",6)(8,"rect",4)(9,"rect",6)(10,"rect",3)(11,"rect",3)(12,"rect",3)(13,"rect",4)(14,"rect",5)(15,"rect",6)(16,"rect",5)(17,"rect",6)(18,"rect",6)(19,"rect",6)(20,"rect",3)(21,"rect",3)(22,"rect",3)(23,"rect",6)(24,"rect",3)(25,"rect",3)(26,"rect",3)(27,"rect",4)(28,"rect",5)(29,"rect",6)(30,"rect",5)(31,"rect",6)(32,"rect",6)(33,"rect",6)(34,"rect",3)(35,"rect",3)(36,"rect",3)(37,"rect",6)(38,"rect",4)(39,"rect",6)(40,"rect",3)(41,"rect",4)(42,"rect",3)(43,"rect",5)(44,"rect",6),t.qZA()())},styles:["svg[_ngcontent-%COMP%]{width:100%}"]}),n})();const Ae=["confetti"];function Se(n,a){if(1&n&&(t.O4$(),t._UZ(0,"image",41)),2&n){const e=t.oxw();t.uIk("href",e.giftImage,null,"xlink")}}function Le(n,a){1&n&&(t.O4$(),t.kcU(),t._UZ(0,"app-confetti-animation",42))}const Ge=function(n){return{active:n}};let Ie=(()=>{class n extends _.V{constructor(){super(),this.isActive=!1,this.showConfetti=!1}ngOnChanges(e){!e.isActive?.isFirstChange()&&e.isActive?.currentValue!==e.isActive?.previousValue&&!0===e.isActive?.currentValue&&(setTimeout(()=>{this.showConfetti=!0},2e3),setTimeout(()=>{this.showConfetti=!1},4500))}ngOnInit(){return(0,c.Z)(function*(){})()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gift-open-animation"]],viewQuery:function(e,i){if(1&e&&t.Gf(Ae,5),2&e){let o;t.iGM(o=t.CRH())&&(i.confetti=o.first)}},inputs:{giftImage:"giftImage",isActive:"isActive"},features:[t.qOj,t.TTD],decls:43,vars:5,consts:[[1,"relative"],["id","prize-animation","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 400 400",2,"overflow","visible",3,"ngClass"],["id","rays-shine","x","-40%","y","-40%","width","180%","height","180%","color-interpolation-filters","linearRGB"],["stdDeviation","20 20","in","SourceGraphic","edgeMode","none","result","blur"],["id","rays-grad","cx","200","cy","200","r","300","gradientUnits","userSpaceOnUse"],["offset","0","stop-color","#fff"],["offset","0.17","stop-color","#fff","stop-opacity","0.74"],["offset","0.33","stop-color","#fff","stop-opacity","0.51"],["offset","0.49","stop-color","#fff","stop-opacity","0.33"],["offset","0.64","stop-color","#fff","stop-opacity","0.19"],["offset","0.78","stop-color","#fff","stop-opacity","0.08"],["offset","0.9","stop-color","#fff","stop-opacity","0.02"],["offset","1","stop-color","#fff","stop-opacity","0"],["id","rare-rays-out","opacity","0"],["id","rare-rays"],["cx","200","cy","200","rx","50","ry","50","fill","#e9f1fe","filter","url(#rays-shine)"],["d","M200.08,500H200a302.62,302.62,0,0,1-38.8-2.5l38.51-296.65.18-.44-.16.28v-.07l0,.1L50,459.86a303.84,303.84,0,0,1-32.6-21.8L199.75,200.51l0-.26h0L-12,412.28A302.65,302.65,0,0,1-37.81,382.9L199.32,200.37l-.18,0L-59.64,350.34a301.36,301.36,0,0,1-17.43-35.2L198.25,200.66l-288,77.2a298.68,298.68,0,0,1-7.67-38.57l296.52-39,.34-.14H-100V200a301.73,301.73,0,0,1,2.48-38.62L192,198.77l3.66,0L-89.94,122.8A299.55,299.55,0,0,1-77.32,85.47l274.1,113.25h.78L-59.94,50.18A300.75,300.75,0,0,1-38.17,17.57L198.14,198.71h.56L-12.39-11.87A301.45,301.45,0,0,1,17-37.71L199.15,198.7h.17L49.51-59.55A300.56,300.56,0,0,1,84.7-77L199.35,198.27,122-89.72a300.83,300.83,0,0,1,38.55-7.69L199.64,198.7h.11V-100H200a302.72,302.72,0,0,1,38.45,2.46L200.84,195v2.2L277-90a300.15,300.15,0,0,1,37.34,12.6L200.85,197.79v.51L349.67-60a301.28,301.28,0,0,1,32.62,21.76l-181.43,237v.43L411.75-12.51a301.38,301.38,0,0,1,25.86,29.35L200.86,199.47v.09L459.47,49.36a302.28,302.28,0,0,1,17.47,35.19L201.7,199.35l288-77.54a300.38,300.38,0,0,1,7.72,38.56L200.87,199.7v.3h-.65l.17.1-.19-.11v0h-.09l0,0,.05,0H200v0l.05.05h0l0-.05v0h0v.09h0l0,0h0l0,0,0,0h.07l0,.08-.11,0,.06.12h.08l0,.16-.1-.13.12.21.06.21,0-.15L350.2,459.72A299.77,299.77,0,0,1,315,477.13l-114.61-276L277.7,489.8a300.51,300.51,0,0,1-38.58,7.66l-38.8-296.53-.26-.62h0l-.08-.11h0v0Zm-.24-299.77-.06.25.2-.28Zm-.26-.06-.18.1h.07l.12-.09Zm.21,0h0Zm.07,0v0l.14,0h-.13Zm.14,0Zm0,0h0Zm-.89-.49.17,0h0l-.34-.09Zm1.19-.57,0,.19h0l.1-.37ZM199.75-100v0ZM122.63,489.89a299.51,299.51,0,0,1-37.32-12.64L199.62,201.06Zm260.13-52L200.27,200.53l0-.22h.07l211.85,211.8A302.78,302.78,0,0,1,382.76,437.92ZM438,382.7,200.58,200.31h.17l259,149.8A299.87,299.87,0,0,1,438,382.7Zm39.23-67.85L201.1,200.39l288.75,77.14A299.61,299.61,0,0,1,477.19,314.85ZM497.48,239,200.89,200.31,500,199v1A303.43,303.43,0,0,1,497.48,239ZM200.66,200.28l-.18-.05Z","fill","url(#rays-grad)"],["id","prize-image","opacity","0"],["width","360","height","360","transform","translate(20 20)",4,"ngIf"],["id","gift-box-out"],["id","gift-box-in"],["width","512","height","513","transform","translate(52.49 52.21) scale(0.58)",0,"xlink","href","assets/images/orange-gift-box.png"],["id","clouds"],["id","cloud-1","opacity","0"],["d","M258,277.34c4.49-11.38-7-70.18-53.94-72.08-16.25-35.92-55.78-59.2-76.13-43.75-5.82,4.42-10.08,12-11.77,23.37-9.38-5.44-19.38-7.82-27.52-6-10.94,2.49-18.53,12.61-16.76,33.17,3.08,35.85,27.27,58.72,48.09,71S256.47,361.23,259.89,363c4.91,2.52,22.78,10.08,34.65-.7S296.08,296.64,258,277.34Z","fill","#f4f8fd"],["d","M127.91,161.51c-5.82,4.42-10.08,12-11.77,23.37C106.76,179.44,96,177,87.48,179.2,94.11,174.24,107.21,162.59,127.91,161.51Z","fill","#b3daf4"],["d","M258,277.34c4.49-11.38-7-70.18-53.94-72.08l30.86-16c15.11.14,31.68,6.74,43.26,27.56s11.29,45.45,11.29,45.45Z","fill","#b3daf4"],["d","M294.54,362.29c11.88-10.77,1.54-65.65-36.56-85l31.47-15c37.53,17,45.16,72.14,34.6,83.58Z","fill","#cfe6f7"],["d","M204,205.26l30.86-16s-18.21-39.89-49.5-47.58c-16.77-4-39.51,2.86-57.49,19.81,20.35-15.45,59.88,7.83,76.13,43.75","fill","#cfe6f7"],["id","cloud-2","opacity","0"],["d","M142,277.34C137.53,266,149,207.16,196,205.26c16.25-35.92,55.78-59.2,76.13-43.75,5.82,4.42,10.08,12,11.77,23.37,9.38-5.44,19.38-7.82,27.52-6,10.94,2.49,18.53,12.61,16.76,33.17-3.08,35.85-27.27,58.72-48.09,71S143.53,361.23,140.11,363c-4.91,2.52-22.78,10.08-34.65-.7S103.92,296.64,142,277.34Z","fill","#f4f8fd"],["d","M272.09,161.51c5.82,4.42,10.08,12,11.77,23.37,9.38-5.44,20.12-7.86,28.66-5.68C305.89,174.24,292.79,162.59,272.09,161.51Z","fill","#b3daf4"],["d","M142,277.34C137.53,266,149,207.16,196,205.26l-30.86-16c-15.11.14-31.68,6.74-43.26,27.56s-11.29,45.45-11.29,45.45Z","fill","#b3daf4"],["d","M105.46,362.29c-11.88-10.77-1.54-65.65,36.56-85l-31.47-15C73,279.3,65.39,334.43,76,345.87Z","fill","#cfe6f7"],["d","M196,205.26l-30.86-16s18.21-39.89,49.5-47.58c16.77-4,39.51,2.86,57.49,19.81-20.35-15.45-59.88,7.83-76.13,43.75","fill","#cfe6f7"],["id","stars"],["id","star-1","d","M77.16,187.81l28.67,9.92a.83.83,0,0,1,0,1.57l-28.67,9.92a.85.85,0,0,0-.51.52L66.73,238.4a.84.84,0,0,1-1.58,0l-9.92-28.66a.85.85,0,0,0-.51-.52L26.06,199.3a.83.83,0,0,1,0-1.57l28.66-9.92a.85.85,0,0,0,.51-.52l9.92-28.66a.84.84,0,0,1,1.58,0l9.92,28.66A.85.85,0,0,0,77.16,187.81Z","fill","#fdf9cc","stroke","#fed195","stroke-miterlimit","10","stroke-width","1.33","opacity","0"],["id","star-2","d","M257.8,197.32l28.66,9.92a.83.83,0,0,1,0,1.57l-28.66,9.93a.82.82,0,0,0-.52.51l-9.92,28.66a.83.83,0,0,1-1.57,0l-9.92-28.66a.85.85,0,0,0-.52-.51l-28.66-9.93a.83.83,0,0,1,0-1.57l28.66-9.92a.85.85,0,0,0,.52-.51l9.92-28.67a.83.83,0,0,1,1.57,0l9.92,28.67A.82.82,0,0,0,257.8,197.32Z","fill","#fdf9cc","stroke","#fed195","stroke-miterlimit","10","stroke-width","1.33","opacity","0"],["id","star-3","d","M164.65,163.8l28.66,9.92a.84.84,0,0,1,0,1.58l-28.66,9.92a.85.85,0,0,0-.52.51l-9.92,28.67a.83.83,0,0,1-1.57,0l-9.92-28.67a.82.82,0,0,0-.52-.51l-28.66-9.92a.84.84,0,0,1,0-1.58l28.66-9.92a.82.82,0,0,0,.52-.51l9.92-28.66a.83.83,0,0,1,1.57,0l9.92,28.66A.85.85,0,0,0,164.65,163.8Z","fill","#fdf9cc","stroke","#fed195","stroke-miterlimit","10","stroke-width","1.33","opacity","0"],["id","star-4","d","M350.78,163.8l28.66,9.92a.84.84,0,0,1,0,1.58l-28.66,9.92a.85.85,0,0,0-.52.51l-9.92,28.67a.83.83,0,0,1-1.57,0l-9.92-28.67a.82.82,0,0,0-.52-.51l-28.66-9.92a.84.84,0,0,1,0-1.58l28.66-9.92a.82.82,0,0,0,.52-.51l9.92-28.66a.83.83,0,0,1,1.57,0l9.92,28.66A.85.85,0,0,0,350.78,163.8Z","fill","#fdf9cc","stroke","#fed195","stroke-miterlimit","10","stroke-width","1.33","opacity","0"],["class","block z-20 absolute left-1/2 bottom-0",4,"ngIf"],["width","360","height","360","transform","translate(20 20)"],[1,"block","z-20","absolute","left-1/2","bottom-0"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.O4$(),t.TgZ(1,"svg",1)(2,"defs")(3,"filter",2),t._UZ(4,"feGaussianBlur",3),t.qZA(),t.TgZ(5,"radialGradient",4),t._UZ(6,"stop",5)(7,"stop",5)(8,"stop",6)(9,"stop",7)(10,"stop",8)(11,"stop",9)(12,"stop",10)(13,"stop",11)(14,"stop",12),t.qZA()(),t.TgZ(15,"g",13)(16,"g",14),t._UZ(17,"ellipse",15)(18,"path",16),t.qZA()(),t.TgZ(19,"g",17),t.YNc(20,Se,1,1,"image",18),t.qZA(),t.TgZ(21,"g",19)(22,"g",20),t._UZ(23,"image",21),t.qZA()(),t.TgZ(24,"g",22)(25,"g",23),t._UZ(26,"path",24)(27,"path",25)(28,"path",26)(29,"path",27)(30,"path",28),t.qZA(),t.TgZ(31,"g",29),t._UZ(32,"path",30)(33,"path",31)(34,"path",32)(35,"path",33)(36,"path",34),t.qZA()(),t.TgZ(37,"g",35),t._UZ(38,"path",36)(39,"path",37)(40,"path",38)(41,"path",39),t.qZA()(),t.YNc(42,Le,1,0,"app-confetti-animation",40),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(3,Ge,i.isActive)),t.xp6(19),t.Q6J("ngIf",i.giftImage),t.xp6(22),t.Q6J("ngIf",i.showConfetti))},dependencies:[s.mk,s.O5,Te],styles:["@keyframes gift-box-wiggle{0%,30%,35%,65%,to{transform:none}15%{transform:rotate(-5deg) translate(-10px,-15px)}50%{transform:rotate(5deg) translate(10px,-15px)}}@keyframes gift-box-scale{0%,15%,35%,50%,to{transform:none}7.5%{transform:scale(1.03,1.01)}42.5%{transform:scale(1.01,1.02)}}#gift-box-out[_ngcontent-%COMP%]{transform-origin:200px 200px;animation:gift-box-wiggle 2s ease-in-out infinite}#gift-box-in[_ngcontent-%COMP%]{transform-origin:200px 200px;animation:gift-box-scale 2s ease-in-out infinite}@keyframes gift-star-move-up{0%{transform:none}to{transform:translateY(-250px) rotate(-360deg)}}@keyframes gift-star-fade{0%,to{opacity:0}10%,60%{opacity:1}}#star-1[_ngcontent-%COMP%]{transform-origin:65.9412px 198.5149px;animation:gift-star-move-up 2s -2s ease-out both infinite,gift-star-fade 2s -2s ease-in-out both infinite}#star-2[_ngcontent-%COMP%]{transform-origin:246.5744px 208.0277px;animation:gift-star-move-up 2s -1.5s ease-out both infinite,gift-star-fade 2s -1.5s ease-in-out both infinite}#star-3[_ngcontent-%COMP%]{transform-origin:153.4256px 174.5113px;animation:gift-star-move-up 2s -1s ease-out both infinite,gift-star-fade 2s -1s ease-in-out both infinite}#star-4[_ngcontent-%COMP%]{transform-origin:339.5559px 174.5113px;animation:gift-star-move-up 2s -.5s ease-out both infinite,gift-star-fade 2s -.5s ease-in-out both infinite}@keyframes gift-cloud-1{0%{opacity:0}28.57%,71.43%{opacity:1}to{transform:translate(-200px,-114px);opacity:0}}@keyframes gift-cloud-2{0%{opacity:0}28.57%,71.43%{opacity:1}to{transform:translate(200px,-114px);opacity:0}}@keyframes gift-open-in{0%,30%,35%,65%,75%{transform:none;opacity:1}15%{transform:scale(1.1,1.05)}50%{transform:scale(1.05,1.1)}95%{opacity:1;transform:scale(.95,.9) translateY(50px)}to{opacity:0;transform:scaleY(1.1) translateY(-50px)}}@keyframes gift-open-out{0%,30%,35%,65%,to{transform:none}15%{transform:translate(-70px,-65px) rotate(-15deg)}50%{transform:translate(70px,-65px) rotate(15deg)}}#prize-animation.active[_ngcontent-%COMP%]   #gift-box-in[_ngcontent-%COMP%]{transform-origin:200px 200px;animation:gift-open-in 2s ease-in-out both}#prize-animation.active[_ngcontent-%COMP%]   #gift-box-out[_ngcontent-%COMP%]{transform-origin:200px 200px;animation:gift-open-out 2s ease-in-out both}#prize-animation.active[_ngcontent-%COMP%]   #cloud-1[_ngcontent-%COMP%]{animation:gift-cloud-1 .7s 1.8s cubic-bezier(.37,0,.63,1) both}#prize-animation.active[_ngcontent-%COMP%]   #cloud-2[_ngcontent-%COMP%]{animation:gift-cloud-2 .7s 1.9s cubic-bezier(.37,0,.63,1) both}@keyframes gift-reveal{0%{opacity:0;transform:scale(.6)}to{opacity:1;transform:scale(1)}}#prize-animation.active[_ngcontent-%COMP%]   #prize-image[_ngcontent-%COMP%]{transform-origin:200px 200px;animation:gift-reveal .4s 2.3s cubic-bezier(.34,1.56,.64,1) both}@keyframes gift-star-fade-2{0%,to{opacity:0}10%,60%{opacity:1}}@keyframes gift-star-1-move{0%{transform:none}to{transform:translate(-100px,100px) rotate(-360deg)}}@keyframes gift-star-2-move{0%{transform:none}to{transform:translate(50px,200px) rotate(360deg)}}@keyframes gift-star-3-move{0%{transform:none}to{transform:translate(-50px,-200px) rotate(-360deg)}}@keyframes gift-star-4-move{0%{transform:none}to{transform:translate(100px,-100px) rotate(360deg)}}#prize-animation.active[_ngcontent-%COMP%]   #star-1[_ngcontent-%COMP%]{animation:gift-star-fade-2 1s 1.9s ease-in-out both,gift-star-1-move 1s 1.9s ease-out both}#prize-animation.active[_ngcontent-%COMP%]   #star-2[_ngcontent-%COMP%]{animation:gift-star-fade-2 1s 1.9s ease-in-out both,gift-star-2-move 1s 1.9s ease-out both}#prize-animation.active[_ngcontent-%COMP%]   #star-3[_ngcontent-%COMP%]{animation:gift-star-fade-2 1s 1.9s ease-in-out both,gift-star-3-move 1s 1.9s ease-out both}#prize-animation.active[_ngcontent-%COMP%]   #star-4[_ngcontent-%COMP%]{animation:gift-star-fade-2 1s 1.9s ease-in-out both,gift-star-4-move 1s 1.9s ease-out both}@keyframes rays-reveal{0%{opacity:0;transform:scale(.6)}to{opacity:1;transform:scale(1.05)}}@keyframes rays-rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}#prize-animation.active[_ngcontent-%COMP%]   #rare-rays[_ngcontent-%COMP%]{transform-origin:200px 200px;animation:rays-rotate 8s 1.9s linear both infinite}#prize-animation.active[_ngcontent-%COMP%]   #rare-rays-out[_ngcontent-%COMP%]{transform-origin:200px 200px;animation:rays-reveal 1s 1.9s ease-in-out both}app-confetti-animation[_ngcontent-%COMP%]{width:200%;transform:translate(-50%)}"]}),n})(),ut=(()=>{class n{transform(e,i,o=!1){return e>i?`${i}${o?"+":""}`:e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"maxNumber",type:n,pure:!0}),n})();function qe(n,a){1&n&&(t.TgZ(0,"div",29)(1,"div",30),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"gift-you-won")))}function Ue(n,a){if(1&n&&t._UZ(0,"app-gift-open-animation",31),2&n){const e=t.oxw(2);t.Q6J("isActive",e.isOpenGift)("giftImage",null==e.openedGift?null:e.openedGift.icon)}}function Be(n,a){1&n&&(t.TgZ(0,"div",32),t._UZ(1,"img",33),t.qZA())}const He=function(n){return{quantity:n}};function ze(n,a){if(1&n&&(t.TgZ(0,"div",34),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"card-game-you-won")," ",t.xi3(3,4,"card-game-reward-"+(null==e.openedGift?null:e.openedGift.rewardType),t.VKq(7,He,null==e.openedGift?null:e.openedGift.rewardNum))," ")}}function Ne(n,a){if(1&n&&(t.TgZ(0,"div",34),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"card-game-you-won")," ",null==e.openedGift?null:e.openedGift.name," ")}}function Je(n,a){1&n&&t._UZ(0,"div",40)}function Qe(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"gift-button-opening")))}function Fe(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Oqu(t.lcZ(2,1,"opened"===e.state?"gift-button-next":"gift-button-open"))}}function Re(n,a){1&n&&(t.TgZ(0,"div",41),t._UZ(1,"span"),t.qZA())}function Ye(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.handleClickOpen())}),t.YNc(1,Je,1,0,"div",36),t.YNc(2,Qe,3,3,"span",37),t.YNc(3,Fe,3,3,"span",37),t.YNc(4,Re,2,0,"div",38),t.GkF(5,39),t.qZA()}if(2&n){const e=t.oxw(2),i=t.MAs(4);t.Q6J("disabled",e.loadingButton),t.xp6(1),t.Q6J("ngIf",!e.loadingButton),t.xp6(1),t.Q6J("ngIf",e.loadingButton),t.xp6(1),t.Q6J("ngIf",!e.loadingButton),t.xp6(1),t.Q6J("ngIf",e.loadingButton),t.xp6(1),t.Q6J("ngTemplateOutlet",i)}}function Ee(n,a){1&n&&(t.TgZ(0,"div",42)(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"gift-no-gifts-1")),t.xp6(3),t.Oqu(t.lcZ(6,4,"gift-no-gifts-2")))}const je=function(){return["22","23","24","25"]};function De(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"button",6),t.NdJ("click",function(){t.CHM(e),t.oxw();const o=t.MAs(1);return t.KtG(o.dismiss())}),t.O4$(),t.TgZ(6,"svg",7),t._UZ(7,"path",8),t.qZA()()(),t.kcU(),t.TgZ(8,"div",9)(9,"div",10)(10,"app-gift-merge-character",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickCharacter.emit())}),t.qZA(),t.YNc(11,qe,4,3,"div",12),t.qZA(),t.TgZ(12,"div",13),t.YNc(13,Ue,1,2,"app-gift-open-animation",14),t.YNc(14,Be,2,0,"ng-template",null,15,t.W1O),t.qZA(),t.TgZ(16,"div",16),t.YNc(17,ze,4,9,"div",17),t.YNc(18,Ne,3,4,"div",17),t.YNc(19,Ye,6,6,"button",18),t.YNc(20,Ee,7,6,"div",19),t.qZA()(),t.TgZ(21,"div",20)(22,"div",21),t._UZ(23,"img",22),t.TgZ(24,"div",23),t._uU(25),t.ALo(26,"translate"),t.qZA()(),t.TgZ(27,"div",21)(28,"span",24),t._uU(29,"\uffe5"),t.qZA(),t.TgZ(30,"div",23),t._uU(31),t.ALo(32,"translate"),t.qZA()(),t._UZ(33,"div",25),t.TgZ(34,"div",26)(35,"button",27),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleHistoryClick())}),t._uU(36),t.ALo(37,"translate"),t._UZ(38,"span",28),t.qZA()()()()}if(2&n){const e=t.MAs(15),i=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,13,"gift-title")," "),t.xp6(7),t.Q6J("showTotalLeft",!0)("giftIds",t.DdM(21,je)),t.xp6(1),t.Q6J("ngIf","opened"===i.state),t.xp6(2),t.Q6J("ngIf",!i.isShowingEmptyScreen)("ngIfElse",e),t.xp6(4),t.Q6J("ngIf",!i.isShowingEmptyScreen&&"opened"===i.state&&4!=(null==i.openedGift?null:i.openedGift.rewardType)),t.xp6(1),t.Q6J("ngIf",!i.isShowingEmptyScreen&&"opened"===i.state&&4==(null==i.openedGift?null:i.openedGift.rewardType)),t.xp6(1),t.Q6J("ngIf",!i.isShowingEmptyScreen&&"loading"!==i.state),t.xp6(1),t.Q6J("ngIf",i.isShowingEmptyScreen),t.xp6(5),t.Oqu(t.lcZ(26,15,"new-game-desc-1")),t.xp6(6),t.Oqu(t.lcZ(32,17,"new-game-desc-2")),t.xp6(5),t.hij(" ",t.lcZ(37,19,"gift-see-history-link")," ")}}function $e(n,a){if(1&n&&(t.TgZ(0,"div",43),t._UZ(1,"div",44),t.O4$(),t.TgZ(2,"svg",45)(3,"g",46),t._UZ(4,"polygon",47),t.qZA()(),t.kcU(),t.TgZ(5,"div",48),t._uU(6),t.ALo(7,"maxNumber"),t.ALo(8,"async"),t.qZA()()),2&n){const e=t.oxw();t.xp6(6),t.hij(" ",t.Dn7(7,1,t.lcZ(8,5,e.giftService.count$)||0,99,!0)," ")}}let We=(()=>{class n extends _.V{constructor(e,i){super(),this.giftService=e,this.toast=i,this.isOpen=!1,this.isOpenChange=new t.vpe,this.onOpenHistory=new t.vpe,this.onClickCharacter=new t.vpe,this.animated=!0,this.state="not-open",this.openedGift=null,this.isShowingEmptyScreen=!1,this.loadingButton=!1,this.count=0,this.isOpenGift=!1}ngOnChanges(e){var i=this;return(0,c.Z)(function*(){m.Z.isServer||((0,F.Z)({gsap:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"}),!0===e.isOpen.currentValue&&(i.loadingButton=!1,i.state="not-open",i.isOpenGift=!1,i.giftService.updatePrizeHistory(),i.isShowingEmptyScreen=!((yield i.giftService.updateOpenCount())>0)))})()}ngOnInit(){var e=this;return(0,c.Z)(function*(){e.giftService.count$.pipe((0,g.R)(e.destroyStream$)).subscribe(i=>{e.count=i})})()}handleClickOpen(){var e=this;return(0,c.Z)(function*(){switch(e.state){case"not-open":e.loadingButton=!0;try{const o=yield(0,h.n)(e.giftService.open());if(e.loadingButton=!1,0==o.code){e.state="loading";const r=e.openGift();e.openedGift=o.data||null,yield r,e.state="opened"}else e.toastError(o.message);e.giftService.updatePrizeHistory(),e.giftService.updateOpenCount()}catch(o){e.toastError(o)}break;case"loading":break;case"opened":const i=yield e.giftService.updateOpenCount();e.state="not-open",e.isShowingEmptyScreen=!(i>0),e.openedGift=null,e.isOpenGift=!1}})()}openGift(){return new Promise(e=>{this.isOpenGift=!0,setTimeout(()=>{e(!0)},3e3)})}handleHistoryClick(){var e=this;return(0,c.Z)(function*(){e.onOpenHistory.emit()})()}toastError(e){var i=this;return(0,c.Z)(function*(){yield i.presentToast({position:"bottom",message:e,icon:"alert-circle-outline",duration:1e3,color:"danger"})})()}presentToast(e){var i=this;return(0,c.Z)(function*(){yield(yield i.toast.create(e)).present()})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Q),t.Y36(d.yF))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gift-open-modal"]],viewQuery:function(e,i){if(1&e&&t.Gf(d.ki,5),2&e){let o;t.iGM(o=t.CRH())&&(i.modal=o.first)}},inputs:{isOpen:"isOpen",animated:"animated"},outputs:{isOpenChange:"isOpenChange",onOpenHistory:"onOpenHistory",onClickCharacter:"onClickCharacter"},features:[t.qOj,t.TTD],decls:5,vars:2,consts:[[1,"normal-opacity",3,"animated","isOpen","didDismiss"],["modal",""],["badge",""],[1,"rounded-2xl","bg-white"],[1,"flex","items-center","p-2","relative"],[1,"flex-1","font-bold","text-xl","xs:text-2xl","sm:text-3xl"],[1,"absolute","right-0","top-0","transform","translate-x-1/3","-translate-y-1/3","w-8","p-1","cursor-pointer","bg-[#ff2145]","text-white","rounded-md","border-2","border-[#9D152B]",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],[1,"p-2","modal-body"],[1,"relative","-mx-1","flex","justify-center"],[1,"m-auto","cursor-pointer",3,"showTotalLeft","giftIds","click"],["class","absolute inset-0",4,"ngIf"],[1,"mx-auto","px-12","relative"],[3,"isActive","giftImage",4,"ngIf","ngIfElse"],["staticGift",""],[1,"bottom-wrapper","flex","flex-col","justify-center"],["class","text-white text-xl font-bold uppercase text-center mb-1",4,"ngIf"],["class","relative z-10 open-gift-btn w-full block rounded-xl text-3xl border border-white text-black font-bold uppercase py-4",3,"disabled","click",4,"ngIf"],["class","text-center font-bold text-white",4,"ngIf"],[1,"p-2"],[1,"flex","items-center"],["src","assets/images/ticket-voucher-single-gold.png","alt","",1,"mr-2","h-7","px-1"],[1,"font-bold"],[1,"text-3xl","font-bold","mr-2"],[1,"border-b","border-[#dddddd]","-mx-2"],[1,"flex","justify-end","mt-1"],[1,"see-my-gift","font-bold","text-sm","py-3","px-2",3,"click"],[1,"inline-block","right-caret"],[1,"absolute","inset-0"],[1,"text-white","font-bold","uppercase","text-3xl","text-center","py-2"],[3,"isActive","giftImage"],[1,"square-box","relative"],["src","assets/images/orange-gift-box.png","alt","",1,"absolute","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2"],[1,"text-white","text-xl","font-bold","uppercase","text-center","mb-1"],[1,"relative","z-10","open-gift-btn","w-full","block","rounded-xl","text-3xl","border","border-white","text-black","font-bold","uppercase","py-4",3,"disabled","click"],["class","shine-container rounded-xl",4,"ngIf"],[4,"ngIf"],["class","loader-container absolute left-3 top-1/2 transform -translate-y-1/2",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"shine-container","rounded-xl"],[1,"loader-container","absolute","left-3","top-1/2","transform","-translate-y-1/2"],[1,"text-center","font-bold","text-white"],[1,"badge","absolute","w-10","right-0","top-0","transform","-translate-y-1/2","translate-x-1/4","z-10"],[1,"absolute","w-3","h-3","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2",2,"box-shadow","0px 7px 10px 8px rgba(0,0,0,0.3)"],["xmlns","http://www.w3.org/2000/svg","id","badge-an","viewBox","0 0 25 25",1,"w-full","relative"],["id","badge"],["id","badge-bg","points","12.5 22.55 10.93 24.95 10.01 22.23 7.9 24.17 7.68 21.31 5.15 22.66 5.66 19.84 2.87 20.52 4.06 17.91 1.19 17.87 2.99 15.64 0.22 14.89 2.52 13.18 0.03 11.76 2.68 10.68 0.61 8.69 3.45 8.29 1.95 5.85 4.79 6.17 3.94 3.44 6.62 4.46 6.48 1.59 8.82 3.25 9.39 0.44 11.25 2.63 12.5 0.05 13.75 2.63 15.61 0.44 16.18 3.25 18.52 1.59 18.38 4.46 21.06 3.44 20.2 6.17 23.05 5.85 21.55 8.29 24.39 8.69 22.32 10.68 24.98 11.76 22.48 13.18 24.78 14.89 22.01 15.64 23.81 17.87 20.94 17.91 22.13 20.52 19.34 19.84 19.85 22.66 17.32 21.31 17.1 24.17 14.99 22.23 14.07 24.95 12.5 22.55","fill","#1d96ff"],[1,"text-white","absolute","top-1/2","left-1/2","transform","font-bold","text-xl","-translate-x-1/2","-translate-y-1/2"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-modal",0,1),t.NdJ("didDismiss",function(){return i.isOpenChange.emit(!1)}),t.YNc(2,De,39,22,"ng-template"),t.qZA(),t.YNc(3,$e,9,7,"ng-template",null,2,t.W1O)),2&e&&t.Q6J("animated",i.animated)("isOpen",i.isOpen)},dependencies:[s.O5,s.tP,d.ki,mt,Ie,s.Ov,u.X$,ut],styles:['ion-modal[_ngcontent-%COMP%]{--width: 400px}ion-modal[_ngcontent-%COMP%]     .ion-page{padding-left:1rem;padding-right:1rem;padding-top:1rem;overflow:unset!important}ion-modal[_ngcontent-%COMP%]::part(content){overflow:unset!important}.modal-body[_ngcontent-%COMP%]{background:radial-gradient(circle at 50% 50%,rgb(255,255,255) 0%,rgb(145,171,217) 35%,rgb(1,90,255) 66%)}.close-btn[_ngcontent-%COMP%]{background-color:#0000004d}@media (hover: hover){.close-btn[_ngcontent-%COMP%]:hover{background-color:#ffda44;--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}}.open-gift-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,#FFCA10,#FEE011);position:relative}.open-gift-btn[_ngcontent-%COMP%]   .shine-container[_ngcontent-%COMP%]{position:absolute;inset:0;overflow:hidden}.open-gift-btn[_ngcontent-%COMP%]   .shine-container[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:100%;height:100%;position:absolute;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.8) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);animation:shinebg 2s infinite}.open-gift-for-credit-btn[_ngcontent-%COMP%]{background:#00166C}.see-my-gift[_ngcontent-%COMP%]{color:#2369ff}.right-caret[_ngcontent-%COMP%]{width:10px;height:10px;border-top:2px solid #2369FF;border-right:2px solid #2369FF;transform:rotate(45deg)}.lantern[_ngcontent-%COMP%]{width:12.5%}.bottom-wrapper[_ngcontent-%COMP%]{height:100px}.square-box[_ngcontent-%COMP%]{width:100%;padding-top:100%}.square-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:75%}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;inset:0;margin:auto;height:32px;width:32px;border:3px solid transparent;border-top:3px solid rgba(0,0,0,.3);border-radius:50%;animation:loader-2-3 1.5s cubic-bezier(.77,0,.175,1) infinite}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;inset:0;margin:auto;height:32px;width:32px;border:3px solid rgba(0,0,0,.3);border-radius:50%}button[disabled][_ngcontent-%COMP%]{background:#dddddd;color:#fff}']}),n})();var ht=l(59468);function Ke(n,a){if(1&n&&t._UZ(0,"img",31),2&n){const e=t.oxw().$implicit;t.Q6J("src","assets/images/gift-new/"+e.giftName+".png",t.LSH)}}function Ve(n,a){1&n&&t._UZ(0,"img",34),2&n&&t.Q6J("src","assets/images/gift-new/"+a.$implicit+".png",t.LSH)}const Xe=function(){return["T","Y","Q","OO","N"]};function tn(n,a){1&n&&(t.TgZ(0,"div",32),t.YNc(1,Ve,1,1,"img",33),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,Xe)))}function en(n,a){if(1&n&&t._UZ(0,"img",31),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("src",i.prizeMap[i.parseInt(e.giftType)],t.LSH)}}function nn(n,a){if(1&n&&(t.TgZ(0,"div",35),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.giftName," ")}}const on=function(n){return{quantity:n}};function an(n,a){if(1&n&&(t.TgZ(0,"div",35),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,"card-game-reward-"+e.giftType,t.VKq(4,on,e.reward))," ")}}function rn(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td",26),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t.YNc(5,Ke,1,1,"img",27),t.YNc(6,tn,2,2,"div",28),t.YNc(7,en,1,1,"img",27),t.qZA(),t.TgZ(8,"td",29),t.YNc(9,nn,2,1,"div",30),t.YNc(10,an,3,6,"div",30),t.qZA()()),2&n){const e=a.$implicit;t.xp6(2),t.Oqu(t.xi3(3,6,e.createDate,"YYYY-MM-dd")),t.xp6(3),t.Q6J("ngIf",4==e.giftType),t.xp6(1),t.Q6J("ngIf",5==e.giftType),t.xp6(1),t.Q6J("ngIf",4!=e.giftType&&5!=e.giftType),t.xp6(2),t.Q6J("ngIf",4==e.giftType||5==e.giftType),t.xp6(1),t.Q6J("ngIf",4!=e.giftType&&5!=e.giftType)}}function sn(n,a){1&n&&(t.TgZ(0,"div",36),t._UZ(1,"span"),t.qZA())}function ln(n,a){1&n&&(t.TgZ(0,"div",37),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"no-data")," "))}function cn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"button",5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.back.emit())}),t._UZ(4,"div",6),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"button",7),t.NdJ("click",function(){t.CHM(e),t.oxw();const o=t.MAs(1);return t.KtG(o.dismiss())}),t.O4$(),t.TgZ(9,"svg",8),t._UZ(10,"path",9),t.qZA()()(),t.kcU(),t.TgZ(11,"div",10),t.NdJ("scroll",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.handleScroll(o))}),t.TgZ(12,"div",11)(13,"table",12)(14,"thead")(15,"tr",13)(16,"th",14)(17,"div",15),t._uU(18),t.ALo(19,"translate"),t.qZA()(),t._UZ(20,"th",16),t.TgZ(21,"th",17)(22,"div",15),t._uU(23),t.ALo(24,"translate"),t.qZA()()()(),t.TgZ(25,"tbody"),t.YNc(26,rn,11,9,"tr",18),t.qZA()(),t.YNc(27,sn,2,0,"div",19),t.YNc(28,ln,3,3,"div",20),t.qZA()(),t.TgZ(29,"div",21),t._UZ(30,"div",22),t.TgZ(31,"div",23)(32,"button",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleBack())}),t._UZ(33,"span",25),t._uU(34),t.ALo(35,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,7,"gift-history-title")),t.xp6(12),t.hij(" ",t.lcZ(19,9,"gift-history-heading-date")," "),t.xp6(5),t.hij(" ",t.lcZ(24,11,"gift-history-heading-prize")," "),t.xp6(3),t.Q6J("ngForOf",e.history),t.xp6(1),t.Q6J("ngIf",e.isLoading),t.xp6(1),t.Q6J("ngIf",!(e.isLoading||null!=e.history&&e.history.length)),t.xp6(6),t.hij(" ",t.lcZ(35,13,"game-go-back")," ")}}let pn=(()=>{class n extends _.V{constructor(e){super(),this.giftService=e,this.isOpen=!1,this.isOpenChange=new t.vpe,this.back=new t.vpe,this.animated=!0,this.isLoading=!1,this.history=[],this.page=-1,this.total=0,this.rows=30,this.throttleScroll=new P.x,this.parseInt=parseInt,this.prizeMap={1:"assets/images/circle-credit-small.png",2:"assets/images/cny-250px-min.png",3:"assets/images/TYQOON-DOLLAR-V2-Cropped.png"}}ngOnInit(){this.throttleScroll.pipe((0,ht.p)(300),(0,g.R)(this.destroyStream$)).subscribe(()=>{this.getHistory()})}ngOnChanges(e){!0===e.isOpen.currentValue&&(this.page=-1,this.total=0,this.history=[],this.getHistory())}handleScroll(e){console.log(e),e.target.scrollHeight-(e.target.scrollTop+e.target.offsetHeight)<200&&this.throttleScroll.next(1)}getHistory(){var e=this;return(0,c.Z)(function*(){if(!e.isLoading&&(-1===e.page||e.history.length<e.total)){e.isLoading=!0,e.page++;const i=yield(0,h.n)(e.giftService.getHistory({page:e.page,rows:e.rows}));e.history=[...e.history,...i?.rows||[]],e.total=i?.total||0,e.isLoading=!1}})()}handleBack(){var e=this;return(0,c.Z)(function*(){e.back.emit()})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gift-history-modal"]],viewQuery:function(e,i){if(1&e&&t.Gf(d.ki,5),2&e){let o;t.iGM(o=t.CRH())&&(i.modal=o.first)}},inputs:{isOpen:"isOpen",animated:"animated"},outputs:{isOpenChange:"isOpenChange",back:"back"},features:[t.qOj,t.TTD],decls:3,vars:2,consts:[[1,"normal-opacity",3,"animated","isOpen","didDismiss"],["modal",""],[1,"rounded-2xl","bg-white"],[1,"flex","items-center","p-2","relative"],[1,"flex-1","font-bold","text-xl","xs:text-2xl","sm:text-3xl","flex","items-center"],[1,"-ml-2","p-2",3,"click"],[1,"left-caret","big","mx-1","cursor-pointer"],[1,"absolute","right-0","top-0","transform","translate-x-1/3","-translate-y-1/3","w-8","p-1","cursor-pointer","bg-[#ff2145]","text-white","rounded-md","border-2","border-[#9D152B]",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],[1,"p-2","pt-0","modal-body",3,"scroll"],[1,"-mx-2"],[1,"w-full"],[1,"text-sm"],[1,"font-bold","opacity-70",2,"width","95px"],[1,""],[1,"w-12"],[1,"font-bold","opacity-70"],[4,"ngFor","ngForOf"],["class","loader-container absolute inset-0",4,"ngIf"],["class","font-bold opacity-30 text-center mt-4",4,"ngIf"],[1,"px-2","py-2"],[1,"border-b","border-[#dddddd]","-mx-2"],[1,"mt-1"],[1,"back-btn","font-bold","text-sm","py-3","px-2",3,"click"],[1,"inline-block","left-caret"],[1,"whitespace-nowrap"],["class","table-prize-logo","alt","",3,"src",4,"ngIf"],["class","flex items-center",4,"ngIf"],[1,"capitalize","relative"],["class","absolute inset-2 truncate",4,"ngIf"],["alt","",1,"table-prize-logo",3,"src"],[1,"flex","items-center"],["class","h-1.5","alt","",3,"src",4,"ngFor","ngForOf"],["alt","",1,"h-1.5",3,"src"],[1,"absolute","inset-2","truncate"],[1,"loader-container","absolute","inset-0"],[1,"font-bold","opacity-30","text-center","mt-4"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-modal",0,1),t.NdJ("didDismiss",function(){return i.isOpenChange.emit(!1)}),t.YNc(2,cn,36,15,"ng-template"),t.qZA()),2&e&&t.Q6J("animated",i.animated)("isOpen",i.isOpen)},dependencies:[s.sg,s.O5,d.ki,s.uU,u.X$],styles:['ion-modal[_ngcontent-%COMP%]{--width: 400px}ion-modal[_ngcontent-%COMP%]     .ion-page{padding-left:1rem;padding-right:1rem;padding-top:1rem;overflow:unset!important}ion-modal[_ngcontent-%COMP%]::part(content){overflow:unset!important}.modal-body[_ngcontent-%COMP%]{height:400px;overflow:auto}.back-btn[_ngcontent-%COMP%]{color:#2369ff}.left-caret[_ngcontent-%COMP%]{width:10px;height:10px;border-top:2px solid #2369FF;border-right:2px solid #2369FF;transform:rotate(-135deg)}.left-caret.big[_ngcontent-%COMP%]{width:14px;height:14px;border-top:3px solid #c0bcbc;border-right:3px solid #c0bcbc}table[_ngcontent-%COMP%]{color:#4e4e4e;border-collapse:collapse;padding:0;width:100%}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid #ddd;border-bottom:1px solid #ddd}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fafafa;padding-left:.5rem;padding-right:.5rem;text-align:left}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:35px;padding-left:.5rem;padding-right:.5rem;text-align:left;font-size:.875rem;font-weight:700;line-height:1rem}.loader-container[_ngcontent-%COMP%]{height:80px;width:100%;position:relative}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;inset:0;margin:auto;height:32px;width:32px;border:3px solid transparent;border-top:3px solid rgba(0,0,0,.3);border-radius:50%;animation:loader-2-3 1.5s cubic-bezier(.77,0,.175,1) infinite}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;inset:0;margin:auto;height:32px;width:32px;border:3px solid rgba(0,0,0,.3);border-radius:50%}']}),n})();var R=l(97717);function dn(n,a){1&n&&(t.TgZ(0,"div",39),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"gift-cny-bonus-reedemed")," "))}function fn(n,a){if(1&n&&t._UZ(0,"img",40),2&n){const e=a.$implicit,i=a.index,o=t.oxw(2);t.Q6J("ngStyle",o.getDelayJump(i))("src","assets/images/gift-new/"+e+".png",t.LSH)}}function gn(n,a){1&n&&t._UZ(0,"img",41),2&n&&t.Q6J("src","assets/images/gift-new/disabled-"+a.$implicit+".png",t.LSH)}function mn(n,a){if(1&n&&t.GkF(0,42),2&n){t.oxw(2);const e=t.MAs(4);t.Q6J("ngTemplateOutlet",e)}}function un(n,a){1&n&&t._UZ(0,"app-cart-explosion",43)}const hn=function(n){return{disabled:n}},_t=function(n){return{invisible:n}};function _n(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"button",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.back.emit())}),t._UZ(4,"div",7),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"button",8),t.NdJ("click",function(){t.CHM(e),t.oxw();const o=t.MAs(1);return t.KtG(o.dismiss())}),t.O4$(),t.TgZ(9,"svg",9),t._UZ(10,"path",10),t.qZA()()(),t.kcU(),t.TgZ(11,"div",11)(12,"div",12)(13,"div",13),t._UZ(14,"app-gift-merge-character",14),t.qZA()(),t.TgZ(15,"div",15)(16,"div",16),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"div",17)(20,"span",18)(21,"span"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t._UZ(24,"img",19),t.qZA()(),t._UZ(25,"img",20),t.TgZ(26,"div",21)(27,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.redeem())}),t.YNc(28,dn,3,3,"div",23),t.TgZ(29,"div",24),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"div",25),t.YNc(33,fn,1,2,"img",26),t.YNc(34,gn,1,1,"img",27),t.qZA(),t.YNc(35,mn,1,1,"ng-container",28),t.qZA()(),t.TgZ(36,"div",29)(37,"div",30),t.YNc(38,un,1,0,"app-cart-explosion",31),t.qZA()()()(),t.TgZ(39,"div",32),t._UZ(40,"div",33),t.TgZ(41,"div",34)(42,"button",35),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.back.emit())}),t._UZ(43,"span",36),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"button",37),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onOpenHistory.emit())}),t._uU(47),t.ALo(48,"translate"),t._UZ(49,"span",38),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,16,"ultimate-reward")),t.xp6(8),t.Q6J("showCount",!0),t.xp6(3),t.hij(" ",t.lcZ(18,18,"gift-cny-bonus-description-1")," "),t.xp6(5),t.Oqu(t.lcZ(23,20,"new-gift-bonus-description")),t.xp6(4),t.Q6J("ngClass",t.VKq(28,hn,e.isDisabled()||e.isSubmiting)),t.xp6(1),t.Q6J("disabled",e.isDisabled()||e.isSubmiting),t.xp6(1),t.Q6J("ngIf",e.showRedeemedStatus),t.xp6(1),t.Q6J("ngClass",t.VKq(30,_t,e.showRedeemedStatus)),t.xp6(1),t.hij(" ",t.lcZ(31,22,"gift-cny-bonus-redeem")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(32,_t,e.showRedeemedStatus)),t.xp6(1),t.Q6J("ngForOf",e.mapCharacters),t.xp6(1),t.Q6J("ngForOf",e.mapCharacters),t.xp6(1),t.Q6J("ngIf",e.showLoading),t.xp6(3),t.Q6J("ngIf",e.showExplosion),t.xp6(6),t.hij(" ",t.lcZ(45,24,"game-go-back")," "),t.xp6(3),t.hij(" ",t.lcZ(48,26,"gift-see-history-link")," ")}}function xn(n,a){1&n&&(t.TgZ(0,"div",44),t._UZ(1,"span"),t.qZA())}let bn=(()=>{class n extends _.V{constructor(e,i){super(),this.giftService=e,this.toast=i,this.isOpen=!1,this.isOpenChange=new t.vpe,this.onOpenHistory=new t.vpe,this.onClickCharacter=new t.vpe,this.back=new t.vpe,this.animated=!0,this.showExplosion=!1,this.mapCharacters=["T","Y","Q","OO","N"],this.openedGift=null,this.isShowingEmptyScreen=!1,this.prizeHistory=[],this.prizeHistoryMap={},this.isSubmiting=!1,this.showRedeemedStatus=!1,this.showLoading=!1}ngOnChanges(e){return(0,c.Z)(function*(){})()}ngOnInit(){var e=this;return(0,c.Z)(function*(){e.giftService.count$.pipe((0,g.R)(e.destroyStream$)).subscribe(i=>{}),e.giftService.prizeHistory$.pipe((0,g.R)(e.destroyStream$)).subscribe(i=>{e.prizeHistoryMap={},i.forEach(o=>{e.prizeHistoryMap[o?.giftName]=o})})})()}isDisabled(){return this.mapCharacters.some(e=>!this.prizeHistoryMap[e]?.credit||this.prizeHistoryMap[e]?.credit<=0)}redeem(){var e=this;return(0,c.Z)(function*(){if(!e.showRedeemedStatus){e.isSubmiting=!0,e.showLoading=!0;try{const i=yield(0,h.n)(e.giftService.redeemMajorPrize());e.isSubmiting=!1,e.showLoading=!1,e.giftService.updatePrizeHistory(),0==i.code?(e.displayRedeemedStatus(),e.playExplosion()):e.toastError(i.message)}catch(i){e.showLoading=!1,e.isSubmiting=!1,e.toastError(i?.message)}}})()}displayRedeemedStatus(){this.showRedeemedStatus=!0,setTimeout(()=>{this.showRedeemedStatus=!1},2500)}toastError(e){var i=this;return(0,c.Z)(function*(){yield i.presentToast({position:"bottom",message:e,icon:"alert-circle-outline",duration:1e3,color:"danger"})})()}presentToast(e){var i=this;return(0,c.Z)(function*(){yield(yield i.toast.create(e)).present()})()}playExplosion(){this.showExplosion=!0,setTimeout(()=>{this.showExplosion=!1},2500)}getDelayJump(e){return{"--delay":.2*e+"s"}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Q),t.Y36(d.yF))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gift-bonus-modal"]],viewQuery:function(e,i){if(1&e&&t.Gf(d.ki,5),2&e){let o;t.iGM(o=t.CRH())&&(i.modal=o.first)}},inputs:{isOpen:"isOpen",animated:"animated"},outputs:{isOpenChange:"isOpenChange",onOpenHistory:"onOpenHistory",onClickCharacter:"onClickCharacter",back:"back"},features:[t.qOj,t.TTD],decls:5,vars:2,consts:[[1,"normal-opacity",3,"animated","isOpen","didDismiss"],["modal",""],["loader",""],[1,"rounded-2xl","bg-white"],[1,"flex","items-center","p-2","relative"],[1,"flex-1","font-bold","text-xl","xs:text-2xl","sm:text-3xl","flex","items-center","capitalize"],[1,"p-2","-ml-2",3,"click"],[1,"left-caret","big","mx-1","cursor-pointer"],[1,"absolute","right-0","top-0","transform","translate-x-1/3","-translate-y-1/3","w-8","p-1","cursor-pointer","bg-[#ff2145]","text-white","rounded-md","border-2","border-[#9D152B]",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],[1,"p-2","modal-body"],[1,"-mx-1"],[1,"flex","justify-center"],[3,"showCount"],[1,"mx-auto","px-2","pt-4","relative"],[1,"text-center","font-bold","mb-2","text-sm","sm:text-base"],[1,"text-center","font-bold","mb-2"],[1,"text-sm","sm:text-base"],["src","assets/images/TYQOON-DOLLAR-V2-Cropped.png","alt","",1,"inline-block","ml-1","h-5","leading-5","align-sub"],["src","/assets/images/tyqoon-dollars-cc-small.png","alt","",1,"m-auto","w-36","relative","z-10","mt-5"],[1,"gradient-border","mb-28","p-0.5","-mt-2",3,"ngClass"],[1,"redeem-btn","w-full","rounded-lg","py-1","justify-between","px-2","relative",3,"disabled","click"],["class","absolute inset-0 flex items-center justify-center font-bold text-2xl sm:text-3xl",4,"ngIf"],[1,"font-bold","text-2xl","sm:text-3xl","text-center",3,"ngClass"],[1,"flex","items-center","justify-center",3,"ngClass"],["class","img-active h-8 character","alt","",3,"ngStyle","src",4,"ngFor","ngForOf"],["class","img-disable h-8 character","alt","",3,"src",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"relative"],[1,"explosion-container","absolute","z-50"],["url","assets/images/TYQOON-DOLLAR-V2-Cropped.png","class","h-1 block",4,"ngIf"],[1,"px-2","py-2"],[1,"border-b","border-[#dddddd]","-mx-2"],[1,"flex","justify-between","mt-1"],[1,"back-btn","font-bold","text-sm","py-3","px-2",3,"click"],[1,"inline-block","left-caret"],[1,"see-my-gift","font-bold","text-sm","py-3","px-2",3,"click"],[1,"inline-block","right-caret"],[1,"absolute","inset-0","flex","items-center","justify-center","font-bold","text-2xl","sm:text-3xl"],["alt","",1,"img-active","h-8","character",3,"ngStyle","src"],["alt","",1,"img-disable","h-8","character",3,"src"],[3,"ngTemplateOutlet"],["url","assets/images/TYQOON-DOLLAR-V2-Cropped.png",1,"h-1","block"],[1,"loader-container","absolute","inset-0"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-modal",0,1),t.NdJ("didDismiss",function(){return i.isOpenChange.emit(!1)}),t.YNc(2,_n,50,34,"ng-template"),t.qZA(),t.YNc(3,xn,2,0,"ng-template",null,2,t.W1O)),2&e&&t.Q6J("animated",i.animated)("isOpen",i.isOpen)},dependencies:[s.mk,s.sg,s.O5,s.tP,s.PC,d.ki,R.O,mt,u.X$],styles:['ion-modal[_ngcontent-%COMP%]{--width: 400px}ion-modal[_ngcontent-%COMP%]     .ion-page{padding-left:1rem;padding-right:1rem;padding-top:1rem;overflow:unset!important}ion-modal[_ngcontent-%COMP%]::part(content){overflow:unset!important}.close-btn[_ngcontent-%COMP%]{background-color:#0000004d}@media (hover: hover){.close-btn[_ngcontent-%COMP%]:hover{background-color:#ffda44;--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}}.back-btn[_ngcontent-%COMP%], .see-my-gift[_ngcontent-%COMP%]{color:#2369ff}.left-caret[_ngcontent-%COMP%]{width:10px;height:10px;border-top:2px solid #2369FF;border-right:2px solid #2369FF;transform:rotate(-135deg)}.left-caret.big[_ngcontent-%COMP%]{width:14px;height:14px;border-top:3px solid #c0bcbc;border-right:3px solid #c0bcbc}.right-caret[_ngcontent-%COMP%]{width:10px;height:10px;border-top:2px solid #2369FF;border-right:2px solid #2369FF;transform:rotate(45deg)}.lantern[_ngcontent-%COMP%]{width:12.5%}.redeem-btn[_ngcontent-%COMP%]{border-color:#fd5a00;background:linear-gradient(to right,#FFEE9E,#FDE96C);position:relative;overflow:hidden}.redeem-btn[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:100%;height:100%;position:absolute;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.8) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);animation:shinebg 2s infinite}.redeem-btn[_ngcontent-%COMP%]   .character[_ngcontent-%COMP%]{z-index:1;animation:jump 4s infinite;animation-timing-function:ease-in-out;animation-delay:var(--delay)}.redeem-btn[_ngcontent-%COMP%]   .img-disable[_ngcontent-%COMP%]{display:none}.redeem-btn[_ngcontent-%COMP%]   .img-active[_ngcontent-%COMP%]{display:block}.redeem-btn[disabled][_ngcontent-%COMP%]{background:linear-gradient(to right,#EEEEEE,#E5E5E5);color:#a5a5a5;border-color:#d3d3d3}.redeem-btn[disabled][_ngcontent-%COMP%]   .character[_ngcontent-%COMP%]{color:#dadada;-webkit-text-stroke:1px #c9c3c3;animation:none}.redeem-btn[disabled][_ngcontent-%COMP%]:after{content:none}.redeem-btn[disabled][_ngcontent-%COMP%]   .img-disable[_ngcontent-%COMP%]{display:block}.redeem-btn[disabled][_ngcontent-%COMP%]   .img-active[_ngcontent-%COMP%]{display:none}.explosion-container[_ngcontent-%COMP%]{width:500px;left:50%;transform:translate(-50%);bottom:140px}app-cart-explosion[_ngcontent-%COMP%]{height:500px}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;inset:0;margin:auto;height:32px;width:32px;border:3px solid transparent;border-top:3px solid rgba(0,0,0,.3);border-radius:50%;animation:loader-2-3 1.5s cubic-bezier(.77,0,.175,1) infinite}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;inset:0;margin:auto;height:32px;width:32px;border:3px solid rgba(0,0,0,.3);border-radius:50%}.gradient-border[_ngcontent-%COMP%]{position:relative;z-index:1}.gradient-border[_ngcontent-%COMP%]:after{content:"";position:absolute;z-index:-1;inset:0;border-radius:.5rem;background:linear-gradient(45deg,#0014ff,#042fff,#044dff,#ff00f7,#fd8aff,#002bff,#7a00ff,#ff00c8,#e400ff);background:linear-gradient(45deg,#f80000,#f80000,#f80000,#ff9101,#faa92e,#f9b067,#d9dd05,#c1c41c,#bdb827);background-position:0 50%;background-size:200% 200%;animation:changeBg 2.5s linear infinite}.gradient-border.disabled[_ngcontent-%COMP%]:after{background:#dddddd}@keyframes changeBg{50%{background-position:100% 50%}}']}),n})();const Cn=function(n){return{active:n}},wn=function(n){return{"hide-popup":n}};let vn=(()=>{class n extends _.V{constructor(e,i,o){super(),this.giftService=e,this.userService=i,this.router=o,this.displayNotification=!1,this.isOpenComingSoonModal=!1,this.isOpenHistoryModal=!1,this.isOpenBonusModal=!1,this.isDisableAnimation=!1,this.amount=2,this.notification=null,this.showNotification=!1,this.enableAnimation=!0}ngOnInit(){m.Z.isServer||(this.giftService.updateOpenCount(),this.preloadImage(),this.displayNotification&&this.giftService.notificationWinnner$.pipe((0,g.R)(this.destroyStream$)).subscribe(e=>{this.setNoti(e)}),this.displayNotification&&this.giftService.initNotification())}setNoti(e){clearTimeout(this.timeout),this.notification=e,this.showNotification=!0,this.timeout=setTimeout(()=>{this.showNotification=!1},5e3)}handleClick(){this.userService.isLogin(!0)?(this.enableAnimation=!0,this.isOpenComingSoonModal=!0):this.router.navigate(["/auth/login"],{queryParams:{back:encodeURIComponent(this.router.url)}})}handleOpenHistory(e){this.enableAnimation=!1,this.from=e,this.isOpenHistoryModal=!0,this.isOpenComingSoonModal=!1,this.isOpenBonusModal=!1}handleBackFromHistory(){"bonus-modal"===this.from&&(this.isOpenBonusModal=!0),"open-gift-modal"===this.from&&(this.isOpenComingSoonModal=!0),this.isOpenHistoryModal=!1}preloadImage(){var e=this;return(0,c.Z)(function*(){const i=yield(0,h.n)(e.giftService.getConfig());for(let o=0;o<i.length;o++)(new Image).src=i[o].icon})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Q),t.Y36(M.K),t.Y36(C.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gift-new-button"]],inputs:{displayNotification:"displayNotification"},features:[t.qOj],decls:49,vars:29,consts:[[1,"prize-btn","relative",3,"click"],[1,"fake-button","absolute","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2","rounded-full"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 84.68 74.41",1,"prize-button",2,"overflow","visible",3,"ngClass"],["id","but-radgrad","cx","42.34","cy","38.72","r","32.14","gradientUnits","userSpaceOnUse"],["offset","0","stop-color","#70d5ff"],["offset","0.18","stop-color","#61c5ff"],["offset","0.54","stop-color","#3a9aff"],["offset","1","stop-color","#005aff"],["id","button"],["id","button-body","cx","42.34","cy","38.72","r","32.14","fill","#fff","stroke","#dfdfdf","stroke-miterlimit","10","stroke-width","2"],["id","button-box-out"],["id","button-box-in"],["width","512","height","513","transform","translate(16.88 13.21) scale(0.1)",0,"xlink","href","assets/images/orange-gift-box.png"],["id","stars"],["opacity","0","id","star-1","d","M19.37,26.15l4.55,1.58a.13.13,0,0,1,0,.25l-4.55,1.57a.15.15,0,0,0-.08.08l-1.58,4.55a.13.13,0,0,1-.25,0l-1.57-4.55a.15.15,0,0,0-.08-.08L11.26,28a.13.13,0,0,1,0-.25l4.55-1.58a.11.11,0,0,0,.08-.08l1.57-4.55a.13.13,0,0,1,.25,0l1.58,4.55A.11.11,0,0,0,19.37,26.15Z","fill","#fffcca","stroke","#ffd195","stroke-miterlimit","10","stroke-width","0.21"],["opacity","0","id","star-2","d","M45.2,26.15l4.55,1.58a.13.13,0,0,1,0,.25L45.2,29.55l-.08.08-1.57,4.55a.13.13,0,0,1-.25,0l-1.58-4.55a.15.15,0,0,0-.08-.08L37.09,28a.13.13,0,0,1,0-.25l4.55-1.58a.11.11,0,0,0,.08-.08l1.58-4.55a.13.13,0,0,1,.25,0l1.57,4.55A.15.15,0,0,0,45.2,26.15Z","fill","#fffcca","stroke","#ffd195","stroke-miterlimit","10","stroke-width","0.21"],["opacity","0","id","star-3","d","M34.81,26.15l4.55,1.58a.13.13,0,0,1,0,.25l-4.55,1.57a.15.15,0,0,0-.08.08l-1.58,4.55a.13.13,0,0,1-.25,0l-1.57-4.55a.15.15,0,0,0-.08-.08L26.7,28a.13.13,0,0,1,0-.25l4.55-1.58a.11.11,0,0,0,.08-.08l1.57-4.55a.13.13,0,0,1,.25,0l1.58,4.55A.11.11,0,0,0,34.81,26.15Z","fill","#fffcca","stroke","#ffd195","stroke-miterlimit","10","stroke-width","0.21"],["opacity","0","id","star-4","d","M69.58,26.15l4.55,1.58a.13.13,0,0,1,0,.25l-4.55,1.57a.15.15,0,0,0-.08.08l-1.58,4.55a.13.13,0,0,1-.25,0L66.1,29.63a.3.3,0,0,0-.08-.08L61.47,28a.13.13,0,0,1,0-.25L66,26.15a.15.15,0,0,0,.08-.08l1.57-4.55a.13.13,0,0,1,.25,0l1.58,4.55A.11.11,0,0,0,69.58,26.15Z","fill","#fffcca","stroke","#ffd195","stroke-miterlimit","10","stroke-width","0.21"],["opacity","0","id","star-5","d","M56,26.15l4.55,1.58a.13.13,0,0,1,0,.25L56,29.55a.15.15,0,0,0-.08.08l-1.57,4.55a.13.13,0,0,1-.25,0l-1.58-4.55a.15.15,0,0,0-.08-.08L47.86,28a.13.13,0,0,1,0-.25l4.55-1.58a.11.11,0,0,0,.08-.08l1.58-4.55a.13.13,0,0,1,.25,0l1.57,4.55A.11.11,0,0,0,56,26.15Z","fill","#fffcca","stroke","#ffd195","stroke-miterlimit","10","stroke-width","0.21"],["opacity","0","id","star-6","d","M28.39,26.15l4.55,1.58a.13.13,0,0,1,0,.25l-4.55,1.57a.15.15,0,0,0-.08.08l-1.58,4.55a.13.13,0,0,1-.25,0l-1.57-4.55a.15.15,0,0,0-.08-.08L20.28,28a.13.13,0,0,1,0-.25l4.55-1.58a.11.11,0,0,0,.08-.08l1.57-4.55a.13.13,0,0,1,.25,0l1.58,4.55A.11.11,0,0,0,28.39,26.15Z","fill","#fffcca","stroke","#ffd195","stroke-miterlimit","10","stroke-width","0.21"],["id","badge","opacity","0"],["id","badge-bg","points","71.46 24.18 69.89 26.58 68.97 23.87 66.86 25.8 66.64 22.95 64.11 24.29 64.61 21.47 61.83 22.15 63.02 19.54 60.15 19.5 61.95 17.27 59.18 16.52 61.48 14.81 58.98 13.4 61.64 12.31 59.57 10.32 62.41 9.92 60.91 7.48 63.76 7.81 62.9 5.07 65.58 6.09 65.44 3.23 67.78 4.88 68.35 2.07 70.21 4.26 71.46 1.68 72.71 4.26 74.57 2.07 75.14 4.88 77.48 3.23 77.34 6.09 80.02 5.07 79.17 7.81 82.02 7.48 80.51 9.92 83.35 10.32 81.28 12.31 83.94 13.4 81.44 14.81 83.74 16.52 80.97 17.27 82.77 19.5 79.9 19.54 81.09 22.15 78.31 21.47 78.81 24.29 76.28 22.95 76.06 25.8 73.95 23.87 73.03 26.58 71.46 24.18","fill","#ff8a00"],["id","badge-text","transform","translate(71.5 20.42)","font-size","16","fill","#fff","font-weight","600","text-anchor","middle"],[1,"notification-popup","absolute","left-2","bottom-full",3,"ngClass"],[1,"w-full","rounded-full","shadow-2xl","px-2","bg-white","flex","items-center","border","border-[#e4e2e2]"],[1,"avatar","rounded-full","overflow-hidden"],["alt","",1,"object-cover","object-center","w-full","h-full",3,"src"],[1,"prize-info","flex-1","text-center","p-1"],[1,"text-xs","font-bold","text-pink","leading-4"],[1,"font-bold","text-xl","leading-6","relative","h-6"],[1,"absolute","inset-0","truncate"],[1,"font-bold","text-xl","leading-4","relative","h-4"],[1,"font-medium","opacity-70","text-xs","leading-4","inset-0","absolute"],["alt","",1,"prize-icon","h-10",3,"src"],[1,"caret"],[3,"animated","isOpen","onClickCharacter","onOpenHistory","isOpenChange"],[3,"animated","isOpen","back","isOpenChange"],[3,"animated","isOpen","onOpenHistory","back","isOpenChange"]],template:function(e,i){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return i.handleClick()}),t._UZ(1,"div",1),t.O4$(),t.TgZ(2,"svg",2),t.ALo(3,"async"),t.TgZ(4,"defs")(5,"radialGradient",3),t._UZ(6,"stop",4)(7,"stop",5)(8,"stop",6)(9,"stop",7),t.qZA()(),t.TgZ(10,"g",8),t._UZ(11,"circle",9),t.TgZ(12,"g",10)(13,"g",11),t._UZ(14,"image",12),t.qZA()()(),t.TgZ(15,"g",13),t._UZ(16,"path",14)(17,"path",15)(18,"path",16)(19,"path",17)(20,"path",18)(21,"path",19),t.qZA(),t.TgZ(22,"g",20),t._UZ(23,"polygon",21),t.TgZ(24,"text",22),t._uU(25),t.ALo(26,"maxNumber"),t.ALo(27,"async"),t.qZA()()(),t.kcU(),t.TgZ(28,"div",23)(29,"div",24)(30,"div",25),t._UZ(31,"img",26),t.qZA(),t.TgZ(32,"div",27)(33,"div",28),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"div",29)(37,"div",30),t._uU(38),t.qZA()(),t.TgZ(39,"div",31)(40,"div",32),t._uU(41),t.ALo(42,"translate"),t.qZA()()(),t.TgZ(43,"div"),t._UZ(44,"img",33),t.qZA()(),t._UZ(45,"div",34),t.qZA()(),t.TgZ(46,"app-gift-open-modal",35),t.NdJ("onClickCharacter",function(){return i.enableAnimation=!1,i.isOpenComingSoonModal=!1,i.isOpenBonusModal=!0})("onOpenHistory",function(){return i.handleOpenHistory("open-gift-modal")})("isOpenChange",function(r){return i.isOpenComingSoonModal=r}),t.qZA(),t.TgZ(47,"app-gift-history-modal",36),t.NdJ("back",function(){return i.handleBackFromHistory()})("isOpenChange",function(r){return i.isOpenHistoryModal=r}),t.qZA(),t.TgZ(48,"app-gift-bonus-modal",37),t.NdJ("onOpenHistory",function(){return i.handleOpenHistory("bonus-modal")})("back",function(){return i.isOpenBonusModal=!1,i.isOpenComingSoonModal=!0})("isOpenChange",function(r){return i.isOpenBonusModal=r}),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngClass",t.VKq(25,Cn,t.lcZ(3,14,i.giftService.count$))),t.xp6(23),t.hij(" ",t.xi3(26,16,t.lcZ(27,19,i.giftService.count$)||0,99)," "),t.xp6(3),t.Q6J("ngClass",t.VKq(27,wn,!i.showNotification)),t.xp6(3),t.Q6J("src",(null==i.notification?null:i.notification.userAvatar)||"/assets/images/sign-up-user.svg",t.LSH),t.xp6(3),t.hij(" ",t.lcZ(35,21,"gift-notification-title")," "),t.xp6(4),t.Oqu(null==i.notification?null:i.notification.username),t.xp6(3),t.hij(" ",t.lcZ(42,23,""+(null==i.notification?null:i.notification.giftName))," "),t.xp6(3),t.Q6J("src",null==i.notification?null:i.notification.giftIcon,t.LSH),t.xp6(2),t.Q6J("animated",i.enableAnimation)("isOpen",i.isOpenComingSoonModal),t.xp6(1),t.Q6J("animated",!1)("isOpen",i.isOpenHistoryModal),t.xp6(1),t.Q6J("animated",!1)("isOpen",i.isOpenBonusModal))},dependencies:[s.mk,We,pn,bn,s.Ov,u.X$,ut],styles:["[_nghost-%COMP%]{display:block;position:fixed;bottom:65px;left:0;cursor:pointer}@media (min-width: 768px){[_nghost-%COMP%]{left:10px;bottom:10px}}@media (min-width: 1024px){[_nghost-%COMP%]{left:10px;bottom:10px}}@media (min-width: 1280px){[_nghost-%COMP%]{left:calc(50vw - 645px)}}@media (min-width: 1360px){[_nghost-%COMP%]{left:calc(50vw - 650px)}}@media (min-width: 1440px){[_nghost-%COMP%]{left:calc(50vw - 725px)}}@media (min-width: 1480px){[_nghost-%COMP%]{left:calc(50vw - 750px)}}@keyframes button-star-fade{0%{opacity:0;transform:none}35%{opacity:1}60%{opacity:1}to{opacity:0;transform:translateY(-40px)}}.prize-btn[_ngcontent-%COMP%]   .fake-button[_ngcontent-%COMP%]{width:64.5px;height:64.5px;box-shadow:0 10px 16px #0006}.prize-button[_ngcontent-%COMP%]{width:85px;cursor:pointer}.prize-button.active[_ngcontent-%COMP%]   #star-1[_ngcontent-%COMP%]{transform-origin:17.5886px 27.8539px;animation:button-star-fade 2s ease-in-out both infinite}.prize-button.active[_ngcontent-%COMP%]   #star-2[_ngcontent-%COMP%]{transform-origin:43.4229px 27.8538px;animation:button-star-fade 2s -.6s ease-in-out both infinite}.prize-button.active[_ngcontent-%COMP%]   #star-3[_ngcontent-%COMP%]{transform-origin:33.028px 27.8538px;animation:button-star-fade 2s -1.2s ease-in-out both infinite}.prize-button.active[_ngcontent-%COMP%]   #star-4[_ngcontent-%COMP%]{transform-origin:67.7971px 27.8538px;animation:button-star-fade 2s -1.8s ease-in-out both infinite}.prize-button.active[_ngcontent-%COMP%]   #star-5[_ngcontent-%COMP%]{transform-origin:54.192px 27.8538px;animation:button-star-fade 2s -2.4s ease-in-out both infinite}.prize-button.active[_ngcontent-%COMP%]   #button-body[_ngcontent-%COMP%]{fill:url(#but-radgrad);stroke:#00c6ff}.prize-button.active[_ngcontent-%COMP%]   #badge[_ngcontent-%COMP%]{opacity:1}@keyframes button-box-wiggle{0%,30%,35%,65%,to{transform:none}15%{transform:rotate(-5deg)}50%{transform:rotate(5deg)}}@keyframes button-box-scale{0%,15%,35%,50%,to{transform:none}7.5%{transform:scale(1.03,1.01)}42.5%{transform:scale(1.01,1.02)}}.prize-button.active[_ngcontent-%COMP%]   #button-box-out[_ngcontent-%COMP%]{transform-origin:42.3408px 64.2226px;animation:button-box-wiggle 2s ease-in-out infinite}.prize-button.active[_ngcontent-%COMP%]   #button-box-in[_ngcontent-%COMP%]{transform-origin:42.3408px 64.2226px;animation:button-box-scale 2s ease-in-out infinite}.notification-popup[_ngcontent-%COMP%]{width:250px}.notification-popup[_ngcontent-%COMP%]:not(.hide-popup){animation:shift .3s;opacity:100}.notification-popup[_ngcontent-%COMP%]:not(.hide-popup)   .prize-info[_ngcontent-%COMP%]{opacity:0;transform:translate(-30px);animation:infoshift .3s forwards;animation-delay:.3s}.notification-popup[_ngcontent-%COMP%]:not(.hide-popup)   .prize-icon[_ngcontent-%COMP%]{opacity:0;transform:translate(-30px);animation:iconshift .3s forwards;animation-delay:.3s}.notification-popup.hide-popup[_ngcontent-%COMP%]{opacity:0!important;visibility:hidden;transition:opacity .5s,visibility .1s ease .5s}.avatar[_ngcontent-%COMP%]{width:50px;height:50px}.text-pink[_ngcontent-%COMP%]{color:#ff0060}.caret[_ngcontent-%COMP%]{--a: 1em;border-bottom:calc(.866 * var(--a)) solid white;border-left:calc(var(--a) / 2) solid transparent;border-right:calc(var(--a) / 2) solid transparent;border-top:0;height:0;width:0;transform:rotate(-60deg);margin-left:24px;margin-top:-5px}@keyframes shift{0%{transform:translate(-30px)}to{transform:translate(0)}}@keyframes infoshift{0%{transform:translate(-30px);opacity:0}to{transform:translate(0);opacity:100}}@keyframes iconshift{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:100}}"]}),n})(),B=(()=>{class n{constructor(e,i,o){this.http=e,this.req=i,this.userService=o,this.count$=new k.X(0),this.isTransferWord$=new k.X(!1),this.prizeHistory$=new k.X([]),this._notificationWinners=[],this.notificationWinnner$=new P.x,this.iconMap={"Gift-1":"assets/images/TYQOON CREDITS CC (cropped) 250px-min.png","Gift-2":"/assets/images/tyqoon-options-points.png","Gift-3":"/assets/images/TQC-discount-points.png","Gift-4":"/assets/images/ticket.png","Gift-5":"/assets/images/TYQOON-DOLLAR-V2-Cropped.png","Gift-6":"/assets/images/gift-bidding-game/Word-1-min.png","Gift-7":"/assets/images/gift-bidding-game/Word-2-min.png","Gift-8":"/assets/images/gift-bidding-game/Word-3-min.png","Gift-9":"/assets/images/gift-bidding-game/Word-4-min.png","Gift-10":"/assets/images/gift-bidding-game/Word-5-min.png","Gift-11":"/assets/images/gift-bidding-game/Word-6-min.png","Gift-12":"/assets/images/gift-bidding-game/Word-7-min.png","Gift-13":"/assets/images/gift-bidding-game/Word-8-min.png","Gift-14":"/assets/images/cny-inverted.png"},this.init(),this.userService.loginStateChange.subscribe(r=>{this.userService.isLogin()&&this.updatePrizeHistory()})}init(){m.Z.isServer||this.userService.isLogin()&&this.updatePrizeHistory()}openBox(e=1){return this.http.post(`${b.N.BASE_URL}/shop/groupBuying/lottery/lotteryGift`,{lotteryType:1,amount:e}).pipe((0,w.U)(i=>(0===i.code&&i.data&&(i.data=i.data.map(o=>(o.giftIcon=this.iconMap[o.giftCode],o.giftQuantity=parseInt(o.giftReward),o.desc="cny-2024-"+o.giftCode,o))),i)))}getUltimatePrizeCount(){return this.http.get(`${b.N.BASE_URL}/shop/groupBuying/lottery/queryUserExchangeInfo`,{params:{lotteryType:1}})}getHistory(e){return this.http.get(`${b.N.BASE_URL}/shop/groupBuying/lottery/queryLotteryLogPage`,{params:e}).pipe((0,w.U)(i=>(i?.data?.rows&&(i.data.rows=i.data.rows.map(o=>({...o,giftIcon:this.iconMap[o.giftCode]}))),i?.data)))}updatePrizeHistory(){var e=this;return(0,c.Z)(function*(){return yield(0,h.n)(e.getPrize().pipe((0,L.b)(i=>{e.prizeHistory$.next(i)})))})()}getPrize(){return this.http.get(`${b.N.BASE_URL}/shop/groupBuying/lottery/queryUserLotteryInfo`,{params:{lotteryType:1}}).pipe((0,L.b)(e=>{this.isTransferWord$.next(e?.data?.isTransferWord||!1),this.count$.next(e?.data?.lotteryAmount||0)}),(0,w.U)(e=>(e?.data?.wordsInfo&&(e.data.wordsInfo=e.data.wordsInfo.map(i=>({...i,amount:parseInt(i.amount)}))),e?.data?.wordsInfo||[])))}getConfig(){return this.http.get(`${b.N.BASE_URL}/user/lottery/getNewYearGiftConfig`).pipe((0,w.U)(e=>e?.data?.rows||[]))}queryWinner(e){return this.http.get(`${b.N.BASE_URL}/shop/groupBuying/lottery/queryGrandPrizePage`,{params:{lotteryType:1,rows:e}}).pipe((0,w.U)(i=>i?.data||[]))}sendGift(e){return this.http.post(`${b.N.BASE_URL}/shop/groupBuying/lottery/giveWords`,{lotteryType:1,receiveWordsParam:e})}redeemMajorPrize(e){return this.http.post(`${b.N.BASE_URL}/shop/groupBuying/lottery/exchangeGift`,{lotteryType:1,giftCode:"Exchange-Gift-"+e})}initNotification(){var e=this;return(0,c.Z)(function*(){e._notificationWinners=yield(0,h.n)(e.queryWinner(10)),e.scheduleNotifcation()})()}scheduleNotifcation(){if(this._notificationWinners?.length){const e=xt(6,10);this.timeoutId=setTimeout(()=>{const i=xt(0,this._notificationWinners.length-1),o=this._notificationWinners.splice(i,1);this.notificationWinnner$.next(o[0]),this.scheduleNotifcation()},1e3*e)}}getMajorPrizeList(){return this.http.get(`${b.N.BASE_URL}/shop/groupBuying/lottery/queryGrandPrizeConfig?lotteryType=1`).pipe((0,w.U)(e=>(e.data&&(e.data=e.data.map(i=>(i.GiftList=i.GiftList.map(o=>({...o,icon:this.iconMap[o.type]})),i))),e?.data||[])))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(V.eN),t.LFG(nt.Z,8),t.LFG(M.K))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xt(n,a){return n=Math.ceil(n),a=Math.floor(a),Math.floor(Math.random()*(a-n+1))+n}var z=l(65433),X=l(1470);let it=(()=>{class n{transform(e,i,o=!1){return e>i?`${i}${o?"+":""}`:e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"maxNumber",type:n,pure:!0}),n})();function yn(n,a){1&n&&(t.TgZ(0,"div",9),t._UZ(1,"img",10),t.qZA())}function Mn(n,a){1&n&&(t.TgZ(0,"div",11),t._UZ(1,"img",12),t.qZA())}function On(n,a){if(1&n&&(t.TgZ(0,"div",13),t._uU(1),t.ALo(2,"maxNumber"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.Dn7(2,1,e.total,99,!0)," ")}}function Zn(n,a){if(1&n&&(t.TgZ(0,"div",14),t._uU(1),t.ALo(2,"maxNumber"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.Dn7(2,1,e.total,99,!0)," ")}}function kn(n,a){if(1&n&&(t.TgZ(0,"div",16)(1,"span",17),t._uU(2),t.qZA()()),2&n){const e=a.$implicit,i=t.oxw(2);t.xp6(2),t.Oqu((null==i.prizeHistoryMap[e]?null:i.prizeHistoryMap[e].amount)||0)}}function Pn(n,a){if(1&n&&(t.ynx(0),t.YNc(1,kn,3,1,"div",15),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.giftIds)}}const Tn=function(n){return{active:n}};function An(n,a){if(1&n&&(t._UZ(0,"img",18),t.ALo(1,"isCharacterActive")),2&n){const e=a.$implicit,i=a.index,o=t.oxw();t.Q6J("ngStyle",o.getDelayJump(i))("ngClass",t.VKq(6,Tn,t.xi3(1,3,e,o.prizeHistoryMap)))("src","/assets/images/gift-bidding-game/"+e+"-min.png",t.LSH)}}const Sn=function(n){return{"active glow-container":n}};let Ln=(()=>{class n{transform(e,i={}){return!!(i[e]&&i[e]?.amount>0)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"isCharacterActive",type:n,pure:!0}),n})(),ot=(()=>{class n extends _.V{constructor(e){super(),this.giftService=e,this.giftIds=[],this.fanLeft=!1,this.fanRight=!1,this.showCount=!1,this.showTotalLeft=!1,this.showTotalRight=!1,this.prizeHistory=[],this.prizeHistoryMap={},this.total=0}ngOnInit(){var e=this;return(0,c.Z)(function*(){e.giftService.prizeHistory$.pipe((0,g.R)(e.destroyStream$)).subscribe(i=>{e.prizeHistoryMap={},i.forEach(o=>{e.prizeHistoryMap[o.wordId]=o}),e.getTotal()})})()}get isActive(){return this.giftIds.every(e=>this.prizeHistoryMap[e]?.amount>0)}formatBadge(){}getDelayJump(e){return{"--delay":.2*e+"s"}}getTotal(){this.total=this.prizeHistoryMap[this.giftIds[0]]?.amount||0;for(let e=1;e<this.giftIds.length;e++)this.total=Math.min(this.total,this.prizeHistoryMap[this.giftIds[e]]?.amount||0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(B))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gift-merge-character"]],inputs:{giftIds:"giftIds",fanLeft:"fanLeft",fanRight:"fanRight",showCount:"showCount",showTotalLeft:"showTotalLeft",showTotalRight:"showTotalRight"},features:[t.qOj],decls:9,vars:9,consts:[[1,"relative","z-10","rounded-full"],["class","fan-left h-full absolute left-0 top-0 z-0",4,"ngIf"],["class","fan-right h-full absolute right-0 top-0 z-0",4,"ngIf"],["class","pulse total-prize transform -translate-x-1/4 -translate-y-1/3 z-10 absolute rounded-full left-0 top-0 font-bold text-white text-center",4,"ngIf"],["class","pulse total-prize transform translate-x-1/4 -translate-y-1/3 z-10 absolute rounded-full right-0 top-0 font-bold text-white text-center",4,"ngIf"],[1,"absolute","top-0","left-0","transform","-translate-y-3/4","w-full","flex","justify-evenly","z-10","px-1"],[4,"ngIf"],[1,"container","grid","grid-cols-4","rounded-full","font-bold","text-xl","xs:text-2xl","md:text-3xl","bg-white","py-0.5","border-2","border-white","relative","overflow-hidden","px-1",3,"ngClass"],["class","w-8 character mx-auto","alt","",3,"ngStyle","ngClass","src",4,"ngFor","ngForOf"],[1,"fan-left","h-full","absolute","left-0","top-0","z-0"],["src","assets/images/fan-left.png","alt","",1,"fan-img"],[1,"fan-right","h-full","absolute","right-0","top-0","z-0"],["src","assets/images/fan-right.png","alt","",1,"fan-img"],[1,"pulse","total-prize","transform","-translate-x-1/4","-translate-y-1/3","z-10","absolute","rounded-full","left-0","top-0","font-bold","text-white","text-center"],[1,"pulse","total-prize","transform","translate-x-1/4","-translate-y-1/3","z-10","absolute","rounded-full","right-0","top-0","font-bold","text-white","text-center"],["class","flex-1 text-center flex justify-center",4,"ngFor","ngForOf"],[1,"flex-1","text-center","flex","justify-center"],[1,"badge","shadow-lg","rounded-full"],["alt","",1,"w-8","character","mx-auto",3,"ngStyle","ngClass","src"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,yn,2,0,"div",1),t.YNc(2,Mn,2,0,"div",2),t.YNc(3,On,3,5,"div",3),t.YNc(4,Zn,3,5,"div",4),t.TgZ(5,"div",5),t.YNc(6,Pn,2,1,"ng-container",6),t.qZA(),t.TgZ(7,"div",7),t.YNc(8,An,2,8,"img",8),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("ngIf",i.fanLeft),t.xp6(1),t.Q6J("ngIf",i.fanRight),t.xp6(1),t.Q6J("ngIf",i.isActive&&i.showTotalLeft),t.xp6(1),t.Q6J("ngIf",i.isActive&&i.showTotalRight),t.xp6(2),t.Q6J("ngIf",i.showCount),t.xp6(1),t.Q6J("ngClass",t.VKq(7,Sn,i.isActive)),t.xp6(1),t.Q6J("ngForOf",i.giftIds))},dependencies:[s.mk,s.sg,s.O5,s.PC,Ln,it],styles:[".container[_ngcontent-%COMP%]{box-shadow:0 1px 9px 3px #0003}.container[_ngcontent-%COMP%]:hover{background:rgb(228,227,227);border-color:#e4e3e3}.container.active[_ngcontent-%COMP%]{background:linear-gradient(to right,#FFEE9E,#FDE96C);border-color:#fd5a00;position:relative;z-index:1}.container.active[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#fbf0bf,#fcf1a7);border-color:#fd5a00}.container.active[_ngcontent-%COMP%]   .character[_ngcontent-%COMP%]{animation:jump 4s infinite;animation-timing-function:ease-in-out;animation-delay:var(--delay)}.fan-left[_ngcontent-%COMP%]{transform:translate(-40%,-40%)}.fan-right[_ngcontent-%COMP%]{transform:translate(40%,-40%)}.fan-img[_ngcontent-%COMP%]{height:90%}.character[_ngcontent-%COMP%]{filter:grayscale(1);opacity:.3}.character.active[_ngcontent-%COMP%]{filter:none;opacity:1}.badge[_ngcontent-%COMP%]{display:block;height:18px;width:18px;font-size:8px;font-weight:lighter;background-color:#940214;-webkit-text-stroke:0;white-space:nowrap;line-height:18px;text-align:center;box-shadow:0 2px 4px 1px #0000004d;color:#fff;font-weight:500}@media (min-width: 768px){.badge[_ngcontent-%COMP%]{height:22px;width:22px;line-height:22px;font-size:10px}}@keyframes jump{0%,20%{transform:translateY(0)}10%{transform:translateY(-6px)}to{transform:translateY(0)}}.total-prize[_ngcontent-%COMP%]{width:22px;height:22px;line-height:22px;background-color:#8101ff;--color-pulse: #8101FF;font-size:12px}.pulse[_ngcontent-%COMP%]{animation:blue-pulse 1.5s infinite}"]}),n})(),bt=(()=>{class n{ngOnInit(){m.Z.isServer||this.playConfetti()}getRndInteger(e,i){return Math.floor(Math.random()*(i-e+1))+e}randomFloatBetween(e,i,o){return typeof o>"u"&&(o=2),parseFloat(Math.min(e+Math.random()*(i-e),i).toFixed(o))}playConfetti(){(0,F.Z)({gsap:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"}).gsap.onLoad(()=>{document.querySelectorAll("#gift-confetti path, svg g").forEach(function(f){f.removeAttribute("data-name")}),document.querySelectorAll('#gift-confetti [id*="_Group"], svg [id*="_Path"]').forEach(function(f){f.removeAttribute("id")});const{TweenLite:i,Sine:o,TimelineMax:p}=window;i.randomEase=o.easeInOut;var x=new p({repeat:0,repeatDelay:1.5});x.to("#gift-confetti #confetti-particles",.5,{opacity:1}),document.querySelectorAll("#gift-confetti #confetti-particles rect").forEach((f,It)=>{let G=new p({});var j=this.getRndInteger(-400,400),D=this.getRndInteger(200,800),v=this.randomFloatBetween(2,3),$=this.randomFloatBetween(.8,1.5);let W="-="+v/3;G.to(f,v,{x:j},0).fromTo(f,v/3,{y:100},{y:-D,ease:"power3.out"},0).to(f,v/2,{y:100,ease:"power1.in"},v/3).to(f,.5,{opacity:0},W).to(f,$,{transformOrigin:"50% 50%",rotation:Math.random()>.5?-360:360,repeat:1.5,ease:"linear"},0),x.add(G,0)})})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-confetti-animation"]],decls:45,vars:0,consts:[["id","gift-confetti","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 800 800"],["confetti",""],["id","confetti-particles",2,"opacity","0"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#42bcec"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#ed1d63"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#fcb316"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#7452a2"]],template:function(e,i){1&e&&(t.O4$(),t.TgZ(0,"svg",0,1)(2,"g",2),t._UZ(3,"rect",3)(4,"rect",4)(5,"rect",5)(6,"rect",5)(7,"rect",6)(8,"rect",4)(9,"rect",6)(10,"rect",3)(11,"rect",3)(12,"rect",3)(13,"rect",4)(14,"rect",5)(15,"rect",6)(16,"rect",5)(17,"rect",6)(18,"rect",6)(19,"rect",6)(20,"rect",3)(21,"rect",3)(22,"rect",3)(23,"rect",6)(24,"rect",3)(25,"rect",3)(26,"rect",3)(27,"rect",4)(28,"rect",5)(29,"rect",6)(30,"rect",5)(31,"rect",6)(32,"rect",6)(33,"rect",6)(34,"rect",3)(35,"rect",3)(36,"rect",3)(37,"rect",6)(38,"rect",4)(39,"rect",6)(40,"rect",3)(41,"rect",4)(42,"rect",3)(43,"rect",5)(44,"rect",6),t.qZA()())},styles:["svg[_ngcontent-%COMP%]{width:100%}"]}),n})();const Gn=["confetti"];function In(n,a){1&n&&(t.O4$(),t.kcU(),t._UZ(0,"app-confetti-animation",40))}const qn=function(n){return{active:n}};let Un=(()=>{class n extends _.V{constructor(){super(),this.isActive=!1,this.showConfetti=!1}ngOnChanges(e){!e.isActive?.isFirstChange()&&e.isActive?.currentValue!==e.isActive?.previousValue&&!0===e.isActive?.currentValue&&(setTimeout(()=>{this.showConfetti=!0},2e3),setTimeout(()=>{this.showConfetti=!1},4500))}ngOnInit(){return(0,c.Z)(function*(){})()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gift-open-animation"]],viewQuery:function(e,i){if(1&e&&t.Gf(Gn,5),2&e){let o;t.iGM(o=t.CRH())&&(i.confetti=o.first)}},inputs:{giftImage:"giftImage",isActive:"isActive"},features:[t.qOj,t.TTD],decls:42,vars:4,consts:[[1,"relative"],["id","prize-animation","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 400 400",2,"overflow","visible",3,"ngClass"],["id","rays-shine","x","-40%","y","-40%","width","180%","height","180%","color-interpolation-filters","linearRGB"],["stdDeviation","20 20","in","SourceGraphic","edgeMode","none","result","blur"],["id","rays-grad","cx","200","cy","200","r","300","gradientUnits","userSpaceOnUse"],["offset","0","stop-color","#fff"],["offset","0.17","stop-color","#fff","stop-opacity","0.74"],["offset","0.33","stop-color","#fff","stop-opacity","0.51"],["offset","0.49","stop-color","#fff","stop-opacity","0.33"],["offset","0.64","stop-color","#fff","stop-opacity","0.19"],["offset","0.78","stop-color","#fff","stop-opacity","0.08"],["offset","0.9","stop-color","#fff","stop-opacity","0.02"],["offset","1","stop-color","#fff","stop-opacity","0"],["id","rare-rays-out","opacity","0"],["id","rare-rays"],["cx","200","cy","200","rx","50","ry","50","fill","#e9f1fe","filter","url(#rays-shine)"],["d","M200.08,500H200a302.62,302.62,0,0,1-38.8-2.5l38.51-296.65.18-.44-.16.28v-.07l0,.1L50,459.86a303.84,303.84,0,0,1-32.6-21.8L199.75,200.51l0-.26h0L-12,412.28A302.65,302.65,0,0,1-37.81,382.9L199.32,200.37l-.18,0L-59.64,350.34a301.36,301.36,0,0,1-17.43-35.2L198.25,200.66l-288,77.2a298.68,298.68,0,0,1-7.67-38.57l296.52-39,.34-.14H-100V200a301.73,301.73,0,0,1,2.48-38.62L192,198.77l3.66,0L-89.94,122.8A299.55,299.55,0,0,1-77.32,85.47l274.1,113.25h.78L-59.94,50.18A300.75,300.75,0,0,1-38.17,17.57L198.14,198.71h.56L-12.39-11.87A301.45,301.45,0,0,1,17-37.71L199.15,198.7h.17L49.51-59.55A300.56,300.56,0,0,1,84.7-77L199.35,198.27,122-89.72a300.83,300.83,0,0,1,38.55-7.69L199.64,198.7h.11V-100H200a302.72,302.72,0,0,1,38.45,2.46L200.84,195v2.2L277-90a300.15,300.15,0,0,1,37.34,12.6L200.85,197.79v.51L349.67-60a301.28,301.28,0,0,1,32.62,21.76l-181.43,237v.43L411.75-12.51a301.38,301.38,0,0,1,25.86,29.35L200.86,199.47v.09L459.47,49.36a302.28,302.28,0,0,1,17.47,35.19L201.7,199.35l288-77.54a300.38,300.38,0,0,1,7.72,38.56L200.87,199.7v.3h-.65l.17.1-.19-.11v0h-.09l0,0,.05,0H200v0l.05.05h0l0-.05v0h0v.09h0l0,0h0l0,0,0,0h.07l0,.08-.11,0,.06.12h.08l0,.16-.1-.13.12.21.06.21,0-.15L350.2,459.72A299.77,299.77,0,0,1,315,477.13l-114.61-276L277.7,489.8a300.51,300.51,0,0,1-38.58,7.66l-38.8-296.53-.26-.62h0l-.08-.11h0v0Zm-.24-299.77-.06.25.2-.28Zm-.26-.06-.18.1h.07l.12-.09Zm.21,0h0Zm.07,0v0l.14,0h-.13Zm.14,0Zm0,0h0Zm-.89-.49.17,0h0l-.34-.09Zm1.19-.57,0,.19h0l.1-.37ZM199.75-100v0ZM122.63,489.89a299.51,299.51,0,0,1-37.32-12.64L199.62,201.06Zm260.13-52L200.27,200.53l0-.22h.07l211.85,211.8A302.78,302.78,0,0,1,382.76,437.92ZM438,382.7,200.58,200.31h.17l259,149.8A299.87,299.87,0,0,1,438,382.7Zm39.23-67.85L201.1,200.39l288.75,77.14A299.61,299.61,0,0,1,477.19,314.85ZM497.48,239,200.89,200.31,500,199v1A303.43,303.43,0,0,1,497.48,239ZM200.66,200.28l-.18-.05Z","fill","url(#rays-grad)"],["id","prize-image","opacity","0"],["id","gift-box-out"],["id","gift-box-in"],["width","512","height","513","transform","translate(52.49 52.21) scale(0.58)",0,"xlink","href","assets/images/gift-bidding-game/gift-box-orange-cropped-250px-min.png"],["id","clouds"],["id","cloud-1","opacity","0"],["d","M258,277.34c4.49-11.38-7-70.18-53.94-72.08-16.25-35.92-55.78-59.2-76.13-43.75-5.82,4.42-10.08,12-11.77,23.37-9.38-5.44-19.38-7.82-27.52-6-10.94,2.49-18.53,12.61-16.76,33.17,3.08,35.85,27.27,58.72,48.09,71S256.47,361.23,259.89,363c4.91,2.52,22.78,10.08,34.65-.7S296.08,296.64,258,277.34Z","fill","#f4f8fd"],["d","M127.91,161.51c-5.82,4.42-10.08,12-11.77,23.37C106.76,179.44,96,177,87.48,179.2,94.11,174.24,107.21,162.59,127.91,161.51Z","fill","#b3daf4"],["d","M258,277.34c4.49-11.38-7-70.18-53.94-72.08l30.86-16c15.11.14,31.68,6.74,43.26,27.56s11.29,45.45,11.29,45.45Z","fill","#b3daf4"],["d","M294.54,362.29c11.88-10.77,1.54-65.65-36.56-85l31.47-15c37.53,17,45.16,72.14,34.6,83.58Z","fill","#cfe6f7"],["d","M204,205.26l30.86-16s-18.21-39.89-49.5-47.58c-16.77-4-39.51,2.86-57.49,19.81,20.35-15.45,59.88,7.83,76.13,43.75","fill","#cfe6f7"],["id","cloud-2","opacity","0"],["d","M142,277.34C137.53,266,149,207.16,196,205.26c16.25-35.92,55.78-59.2,76.13-43.75,5.82,4.42,10.08,12,11.77,23.37,9.38-5.44,19.38-7.82,27.52-6,10.94,2.49,18.53,12.61,16.76,33.17-3.08,35.85-27.27,58.72-48.09,71S143.53,361.23,140.11,363c-4.91,2.52-22.78,10.08-34.65-.7S103.92,296.64,142,277.34Z","fill","#f4f8fd"],["d","M272.09,161.51c5.82,4.42,10.08,12,11.77,23.37,9.38-5.44,20.12-7.86,28.66-5.68C305.89,174.24,292.79,162.59,272.09,161.51Z","fill","#b3daf4"],["d","M142,277.34C137.53,266,149,207.16,196,205.26l-30.86-16c-15.11.14-31.68,6.74-43.26,27.56s-11.29,45.45-11.29,45.45Z","fill","#b3daf4"],["d","M105.46,362.29c-11.88-10.77-1.54-65.65,36.56-85l-31.47-15C73,279.3,65.39,334.43,76,345.87Z","fill","#cfe6f7"],["d","M196,205.26l-30.86-16s18.21-39.89,49.5-47.58c16.77-4,39.51,2.86,57.49,19.81-20.35-15.45-59.88,7.83-76.13,43.75","fill","#cfe6f7"],["id","stars"],["id","star-1","d","M77.16,187.81l28.67,9.92a.83.83,0,0,1,0,1.57l-28.67,9.92a.85.85,0,0,0-.51.52L66.73,238.4a.84.84,0,0,1-1.58,0l-9.92-28.66a.85.85,0,0,0-.51-.52L26.06,199.3a.83.83,0,0,1,0-1.57l28.66-9.92a.85.85,0,0,0,.51-.52l9.92-28.66a.84.84,0,0,1,1.58,0l9.92,28.66A.85.85,0,0,0,77.16,187.81Z","fill","#fdf9cc","stroke","#fed195","stroke-miterlimit","10","stroke-width","1.33","opacity","0"],["id","star-2","d","M257.8,197.32l28.66,9.92a.83.83,0,0,1,0,1.57l-28.66,9.93a.82.82,0,0,0-.52.51l-9.92,28.66a.83.83,0,0,1-1.57,0l-9.92-28.66a.85.85,0,0,0-.52-.51l-28.66-9.93a.83.83,0,0,1,0-1.57l28.66-9.92a.85.85,0,0,0,.52-.51l9.92-28.67a.83.83,0,0,1,1.57,0l9.92,28.67A.82.82,0,0,0,257.8,197.32Z","fill","#fdf9cc","stroke","#fed195","stroke-miterlimit","10","stroke-width","1.33","opacity","0"],["id","star-3","d","M164.65,163.8l28.66,9.92a.84.84,0,0,1,0,1.58l-28.66,9.92a.85.85,0,0,0-.52.51l-9.92,28.67a.83.83,0,0,1-1.57,0l-9.92-28.67a.82.82,0,0,0-.52-.51l-28.66-9.92a.84.84,0,0,1,0-1.58l28.66-9.92a.82.82,0,0,0,.52-.51l9.92-28.66a.83.83,0,0,1,1.57,0l9.92,28.66A.85.85,0,0,0,164.65,163.8Z","fill","#fdf9cc","stroke","#fed195","stroke-miterlimit","10","stroke-width","1.33","opacity","0"],["id","star-4","d","M350.78,163.8l28.66,9.92a.84.84,0,0,1,0,1.58l-28.66,9.92a.85.85,0,0,0-.52.51l-9.92,28.67a.83.83,0,0,1-1.57,0l-9.92-28.67a.82.82,0,0,0-.52-.51l-28.66-9.92a.84.84,0,0,1,0-1.58l28.66-9.92a.82.82,0,0,0,.52-.51l9.92-28.66a.83.83,0,0,1,1.57,0l9.92,28.66A.85.85,0,0,0,350.78,163.8Z","fill","#fdf9cc","stroke","#fed195","stroke-miterlimit","10","stroke-width","1.33","opacity","0"],["class","block z-20 absolute left-1/2 bottom-0",4,"ngIf"],[1,"block","z-20","absolute","left-1/2","bottom-0"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.O4$(),t.TgZ(1,"svg",1)(2,"defs")(3,"filter",2),t._UZ(4,"feGaussianBlur",3),t.qZA(),t.TgZ(5,"radialGradient",4),t._UZ(6,"stop",5)(7,"stop",5)(8,"stop",6)(9,"stop",7)(10,"stop",8)(11,"stop",9)(12,"stop",10)(13,"stop",11)(14,"stop",12),t.qZA()(),t.TgZ(15,"g",13)(16,"g",14),t._UZ(17,"ellipse",15)(18,"path",16),t.qZA()(),t._UZ(19,"g",17),t.TgZ(20,"g",18)(21,"g",19),t._UZ(22,"image",20),t.qZA()(),t.TgZ(23,"g",21)(24,"g",22),t._UZ(25,"path",23)(26,"path",24)(27,"path",25)(28,"path",26)(29,"path",27),t.qZA(),t.TgZ(30,"g",28),t._UZ(31,"path",29)(32,"path",30)(33,"path",31)(34,"path",32)(35,"path",33),t.qZA()(),t.TgZ(36,"g",34),t._UZ(37,"path",35)(38,"path",36)(39,"path",37)(40,"path",38),t.qZA()(),t.YNc(41,In,1,0,"app-confetti-animation",39),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(2,qn,i.isActive)),t.xp6(40),t.Q6J("ngIf",i.showConfetti))},dependencies:[s.mk,s.O5,bt],styles:["@keyframes gift-box-wiggle{0%,30%,35%,65%,to{transform:none}15%{transform:rotate(-5deg) translate(-10px,-15px)}50%{transform:rotate(5deg) translate(10px,-15px)}}@keyframes gift-box-scale{0%,15%,35%,50%,to{transform:none}7.5%{transform:scale(1.03,1.01)}42.5%{transform:scale(1.01,1.02)}}#gift-box-out[_ngcontent-%COMP%]{transform-origin:200px 200px;animation:gift-box-wiggle 2s ease-in-out infinite}#gift-box-in[_ngcontent-%COMP%]{transform-origin:200px 200px;animation:gift-box-scale 2s ease-in-out infinite}@keyframes gift-star-move-up{0%{transform:none}to{transform:translateY(-250px) rotate(-360deg)}}@keyframes gift-star-fade{0%,to{opacity:0}10%,60%{opacity:1}}#star-1[_ngcontent-%COMP%]{transform-origin:65.9412px 198.5149px;animation:gift-star-move-up 2s -2s ease-out both infinite,gift-star-fade 2s -2s ease-in-out both infinite}#star-2[_ngcontent-%COMP%]{transform-origin:246.5744px 208.0277px;animation:gift-star-move-up 2s -1.5s ease-out both infinite,gift-star-fade 2s -1.5s ease-in-out both infinite}#star-3[_ngcontent-%COMP%]{transform-origin:153.4256px 174.5113px;animation:gift-star-move-up 2s -1s ease-out both infinite,gift-star-fade 2s -1s ease-in-out both infinite}#star-4[_ngcontent-%COMP%]{transform-origin:339.5559px 174.5113px;animation:gift-star-move-up 2s -.5s ease-out both infinite,gift-star-fade 2s -.5s ease-in-out both infinite}@keyframes gift-cloud-1{0%{opacity:0}28.57%,71.43%{opacity:1}to{transform:translate(-200px,-114px);opacity:0}}@keyframes gift-cloud-2{0%{opacity:0}28.57%,71.43%{opacity:1}to{transform:translate(200px,-114px);opacity:0}}@keyframes gift-open-in{0%,30%,35%,65%,75%{transform:none;opacity:1}15%{transform:scale(1.1,1.05)}50%{transform:scale(1.05,1.1)}95%{opacity:1;transform:scale(.95,.9) translateY(50px)}to{opacity:0;transform:scaleY(1.1) translateY(-50px)}}@keyframes gift-open-out{0%,30%,35%,65%,to{transform:none}15%{transform:translate(-70px,-65px) rotate(-15deg)}50%{transform:translate(70px,-65px) rotate(15deg)}}#prize-animation.active[_ngcontent-%COMP%]   #gift-box-in[_ngcontent-%COMP%]{transform-origin:200px 200px;animation:gift-open-in 2s ease-in-out both}#prize-animation.active[_ngcontent-%COMP%]   #gift-box-out[_ngcontent-%COMP%]{transform-origin:200px 200px;animation:gift-open-out 2s ease-in-out both}#prize-animation.active[_ngcontent-%COMP%]   #cloud-1[_ngcontent-%COMP%]{animation:gift-cloud-1 .7s 1.8s cubic-bezier(.37,0,.63,1) both}#prize-animation.active[_ngcontent-%COMP%]   #cloud-2[_ngcontent-%COMP%]{animation:gift-cloud-2 .7s 1.9s cubic-bezier(.37,0,.63,1) both}@keyframes gift-reveal{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1.3)}}#prize-animation.active[_ngcontent-%COMP%]   #prize-image[_ngcontent-%COMP%]{transform-origin:200px 200px;animation:gift-reveal .4s 2.3s cubic-bezier(.34,1.56,.64,1) both}@keyframes gift-star-fade-2{0%,to{opacity:0}10%,60%{opacity:1}}@keyframes gift-star-1-move{0%{transform:none}to{transform:translate(-100px,100px) rotate(-360deg)}}@keyframes gift-star-2-move{0%{transform:none}to{transform:translate(50px,200px) rotate(360deg)}}@keyframes gift-star-3-move{0%{transform:none}to{transform:translate(-50px,-200px) rotate(-360deg)}}@keyframes gift-star-4-move{0%{transform:none}to{transform:translate(100px,-100px) rotate(360deg)}}#prize-animation.active[_ngcontent-%COMP%]   #star-1[_ngcontent-%COMP%]{animation:gift-star-fade-2 1s 1.9s ease-in-out both,gift-star-1-move 1s 1.9s ease-out both}#prize-animation.active[_ngcontent-%COMP%]   #star-2[_ngcontent-%COMP%]{animation:gift-star-fade-2 1s 1.9s ease-in-out both,gift-star-2-move 1s 1.9s ease-out both}#prize-animation.active[_ngcontent-%COMP%]   #star-3[_ngcontent-%COMP%]{animation:gift-star-fade-2 1s 1.9s ease-in-out both,gift-star-3-move 1s 1.9s ease-out both}#prize-animation.active[_ngcontent-%COMP%]   #star-4[_ngcontent-%COMP%]{animation:gift-star-fade-2 1s 1.9s ease-in-out both,gift-star-4-move 1s 1.9s ease-out both}@keyframes rays-reveal{0%{opacity:0;transform:scale(.6)}to{opacity:1;transform:scale(1.05)}}@keyframes rays-rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}#prize-animation.active[_ngcontent-%COMP%]   #rare-rays[_ngcontent-%COMP%]{transform-origin:200px 200px;animation:rays-rotate 8s 1.9s linear both infinite}#prize-animation.active[_ngcontent-%COMP%]   #rare-rays-out[_ngcontent-%COMP%]{transform-origin:200px 200px;animation:rays-reveal 1s 1.9s ease-in-out both}app-confetti-animation[_ngcontent-%COMP%]{width:200%;transform:translate(-50%)}"]}),n})();function Bn(n,a){if(1&n&&(t.TgZ(0,"span",38),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij(" x ",e.openedGifts.length,"")}}function Hn(n,a){if(1&n&&(t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"translate"),t.YNc(3,Bn,2,1,"span",37),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("",t.lcZ(2,2,"gift-you-won")," "),t.xp6(2),t.Q6J("ngIf",e.openedGifts.length>1)}}const zn=function(n){return{"!text-4xl mt-6":n}},Nn=function(n){return{amount:n}};function Jn(n,a){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"img",43),t.TgZ(2,"div",44),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n){const e=a.$implicit,i=t.oxw(5);t.xp6(1),t.Q6J("src",e.giftIcon,t.LSH),t.xp6(1),t.Q6J("ngClass",t.VKq(6,zn,1===i.openedGifts.length)),t.xp6(1),t.Oqu(t.xi3(4,3,e.desc,t.VKq(8,Nn,e.giftReward)))}}const Qn=function(n){return{"!grid-cols-3":n}};function Fn(n,a){if(1&n&&(t.TgZ(0,"div",41),t.YNc(1,Jn,5,10,"div",42),t.qZA()),2&n){const e=t.oxw(4);t.Q6J("ngClass",t.VKq(2,Qn,e.openedGifts.length>1)),t.xp6(1),t.Q6J("ngForOf",e.openedGifts)}}const Rn=function(n){return{"h-0 block":n}};function Yn(n,a){if(1&n&&(t.ynx(0),t._UZ(1,"app-gift-open-animation",39),t.YNc(2,Fn,2,4,"div",40),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(4,Rn,"opened"===e.state))("isActive",e.isOpenGift)("giftImage",null==e.openedGift?null:e.openedGift.icon),t.xp6(1),t.Q6J("ngIf","opened"===e.state)}}function En(n,a){1&n&&(t.TgZ(0,"div",45),t._UZ(1,"img",46),t.qZA())}function jn(n,a){1&n&&(t.TgZ(0,"div",53),t._UZ(1,"span"),t.qZA())}function Dn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",49),t.NdJ("click",function(){const r=t.CHM(e).$implicit,p=t.oxw(4);return t.KtG(p.handleClickOpen(r))}),t.TgZ(1,"div")(2,"div",50),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",51),t._uU(6),t.qZA()(),t.YNc(7,jn,2,0,"div",52),t.qZA()}if(2&n){const e=a.$implicit,i=t.oxw(2).ngLet,o=t.oxw(2);t.Q6J("disabled",o.loadingButton||(i||0)<e),t.xp6(3),t.Oqu(t.lcZ(4,4,"gift-button-open")),t.xp6(3),t.Oqu(e),t.xp6(1),t.Q6J("ngIf",o.loadingButton)}}function $n(n,a){if(1&n&&(t.TgZ(0,"div",47),t.YNc(1,Dn,8,6,"button",48),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.buttonNumbers)}}function Wn(n,a){1&n&&(t.TgZ(0,"div",54)(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"gift-no-gifts-1")),t.xp6(3),t.Oqu(t.lcZ(6,4,"gift-no-gifts-2")))}function Kn(n,a){if(1&n&&(t.TgZ(0,"div",56)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"async"),t.ALo(5,"translate"),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(2),t.lnq(" ",t.lcZ(3,3,"gift-remaining-1")," ",t.lcZ(4,5,e.giftService.count$)," ",t.lcZ(5,7,"gift-remaining-2")," ")}}function Vn(n,a){if(1&n&&t.YNc(0,Kn,6,9,"div",55),2&n){const e=t.oxw(3);t.Q6J("ngIf","not-open"===e.state&&!e.loadingButton)}}function Xn(n,a){1&n&&(t.TgZ(0,"div",57)(1,"div",58),t._UZ(2,"img",59),t.TgZ(3,"div",60),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",58)(7,"span",61),t._uU(8,"\uffe5"),t.qZA(),t.TgZ(9,"div",60),t._uU(10),t.ALo(11,"translate"),t.qZA()()()),2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"bid-gift-description-1")),t.xp6(6),t.Oqu(t.lcZ(11,4,"gift-description-2")))}function ti(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",65),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.handleClickOpen())}),t._uU(1),t.ALo(2,"translate"),t._UZ(3,"ion-icon",66),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"gift-button-next")," "))}function ei(n,a){1&n&&(t._UZ(0,"app-text-jumping",67),t.ALo(1,"translate")),2&n&&t.Q6J("text",t.lcZ(1,1,"opening-gifts-waiting"))}function ni(n,a){if(1&n&&(t.TgZ(0,"div",62),t.YNc(1,ti,4,3,"button",63),t.YNc(2,ei,2,3,"app-text-jumping",64),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf","opened"===e.state),t.xp6(1),t.Q6J("ngIf","loading"===e.state)}}const Y=function(n){return{invisible:n}},ii=function(){return["Word-1","Word-2","Word-3","Word-4"]},oi=function(){return["Word-5","Word-6","Word-7","Word-8"]};function ai(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"button",6),t.NdJ("click",function(){t.CHM(e),t.oxw(2);const o=t.MAs(1);return t.KtG(o.dismiss())}),t.O4$(),t.TgZ(6,"svg",7),t._UZ(7,"path",8),t.qZA()()(),t.kcU(),t.TgZ(8,"div",9)(9,"div",10)(10,"div",11)(11,"app-gift-merge-character",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onClickCharacter.emit())}),t.qZA(),t.TgZ(12,"app-gift-merge-character",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onClickCharacter.emit())}),t.qZA(),t._UZ(13,"img",14)(14,"img",15),t.qZA()(),t.TgZ(15,"div",16)(16,"ng-scrollbar",17)(17,"div",18)(18,"div",19)(19,"div",20),t.YNc(20,Hn,4,4,"div",21),t.qZA(),t.YNc(21,Yn,3,6,"ng-container",22),t.YNc(22,En,2,0,"ng-template",null,23,t.W1O),t.qZA(),t.TgZ(24,"div",24),t.YNc(25,$n,2,1,"div",25),t.YNc(26,Wn,7,6,"div",26),t.YNc(27,Vn,1,1,"ng-template",null,27,t.W1O),t.qZA()()()()(),t.TgZ(29,"div",28)(30,"div",29),t.YNc(31,Xn,12,6,"div",30),t.qZA(),t.TgZ(32,"div",31)(33,"button",32),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onClickCharacter.emit())}),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"button",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.handleHistoryClick())}),t._uU(37),t.ALo(38,"translate"),t._UZ(39,"span",34),t.qZA()(),t.YNc(40,ni,3,2,"div",35),t.qZA()()}if(2&n){const e=t.MAs(23),i=t.MAs(28),o=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,22,"gift-title")," "),t.xp6(7),t.Q6J("ngClass",t.VKq(28,Y,"not-open"!==o.state||o.loadingButton)),t.xp6(1),t.Q6J("showTotalLeft",!0)("fanLeft",!0)("giftIds",t.DdM(30,ii)),t.xp6(1),t.Q6J("showTotalRight",!0)("fanRight",!0)("giftIds",t.DdM(31,oi)),t.xp6(1),t.Q6J("ngClass",t.VKq(32,Y,"not-open"!==o.state)),t.xp6(1),t.Q6J("ngClass",t.VKq(34,Y,"not-open"!==o.state)),t.xp6(6),t.Q6J("ngIf","opened"===o.state),t.xp6(1),t.Q6J("ngIf",!o.isShowingEmptyScreen)("ngIfElse",e),t.xp6(4),t.Q6J("ngIf",!o.isShowingEmptyScreen&&"loading"!==o.state&&"opened"!==o.state&&!o.loadingButton),t.xp6(1),t.Q6J("ngIf",o.isShowingEmptyScreen)("ngIfElse",i),t.xp6(4),t.Q6J("ngClass",t.VKq(36,Y,"not-open"!==o.state||o.loadingButton)),t.xp6(1),t.Q6J("ngIf","opened"!==o.state),t.xp6(1),t.Q6J("ngClass",t.VKq(38,Y,"not-open"!==o.state||o.loadingButton)),t.xp6(2),t.hij(" ",t.lcZ(35,24,"bonus-cny-game")," "),t.xp6(3),t.hij(" ",t.lcZ(38,26,"gift-see-history-link")," "),t.xp6(3),t.Q6J("ngIf","not-open"!==o.state)}}function ri(n,a){if(1&n&&(t.YNc(0,ai,41,40,"div",2),t.ALo(1,"async")),2&n){const e=t.oxw();t.Q6J("ngLet",t.lcZ(1,1,e.giftService.count$))}}let si=(()=>{class n extends _.V{constructor(e,i,o,r){super(),this.giftService=e,this.toast=i,this.cdr=o,this.userService=r,this.isOpen=!1,this.isOpenChange=new t.vpe,this.onOpenHistory=new t.vpe,this.onClickCharacter=new t.vpe,this.animated=!0,this.state="not-open",this.openedGift=null,this.openedGifts=[],this.isShowingEmptyScreen=!1,this.loadingButton=!1,this.count=0,this.isOpenGift=!1,this.buttonNumbers=[1,10,50]}ngOnChanges(e){var i=this;return(0,c.Z)(function*(){m.Z.isServer||((0,F.Z)({gsap:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"}),!0===e.isOpen.currentValue&&(i.loadingButton=!1,i.state="not-open",i.isOpenGift=!1,i.isShowingEmptyScreen=i.giftService.count$.getValue()<=0,yield i.giftService.updatePrizeHistory(),i.isShowingEmptyScreen=i.giftService.count$.getValue()<=0))})()}ngOnInit(){var e=this;return(0,c.Z)(function*(){e.giftService.count$.pipe((0,g.R)(e.destroyStream$)).subscribe(i=>{e.count=i})})()}handleClickOpen(e=1){var i=this;return(0,c.Z)(function*(){switch(i.state){case"not-open":i.loadingButton=!0;try{const r=yield(0,h.n)(i.giftService.openBox(e));if(i.loadingButton=!1,0==r.code){i.state="loading";const p=i.openGift();i.openedGifts=r.data||[],i.cdr.markForCheck(),yield p,i.state="opened"}else i.toastError(r.message);i.giftService.updatePrizeHistory(),i.userService.updateUserInfo()}catch(r){i.toastError(r)}break;case"loading":break;case"opened":yield i.giftService.updatePrizeHistory();const o=i.giftService.count$.getValue();i.state="not-open",i.isShowingEmptyScreen=!(o>0),i.openedGift=null,i.isOpenGift=!1}})()}openGift(){return new Promise(e=>{this.isOpenGift=!0,setTimeout(()=>{e(!0)},2200)})}handleHistoryClick(){var e=this;return(0,c.Z)(function*(){e.onOpenHistory.emit()})()}toastError(e){var i=this;return(0,c.Z)(function*(){yield i.presentToast({position:"bottom",message:e,icon:"alert-circle-outline",duration:1e3,color:"danger"})})()}presentToast(e){var i=this;return(0,c.Z)(function*(){yield(yield i.toast.create(e)).present()})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(B),t.Y36(d.yF),t.Y36(t.sBO),t.Y36(M.K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gift-open-modal"]],viewQuery:function(e,i){if(1&e&&t.Gf(d.ki,5),2&e){let o;t.iGM(o=t.CRH())&&(i.modal=o.first)}},inputs:{isOpen:"isOpen",animated:"animated"},outputs:{isOpenChange:"isOpenChange",onOpenHistory:"onOpenHistory",onClickCharacter:"onClickCharacter"},features:[t.qOj,t.TTD],decls:3,vars:3,consts:[[1,"normal-opacity",3,"canDismiss","animated","isOpen","didDismiss"],["modal",""],["class","rounded-2xl modal-wrapper-all",4,"ngLet"],[1,"rounded-2xl","modal-wrapper-all"],[1,"flex","items-center","p-2","relative"],[1,"flex-1","text-white","font-bold","text-xl","xs:text-2xl","sm:text-3xl"],[1,"absolute","right-0","top-0","transform","translate-x-1/3","-translate-y-1/3","w-8","p-1","cursor-pointer","bg-[#ff2145]","text-white","rounded-md","border-2","border-[#9D152B]",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],[1,"p-2","modal-body"],[1,"absolute","top-2","left-2","right-2","-mx-1"],[1,"flex","justify-between","relative",3,"ngClass"],[1,"flex-1","mr-0.5","cursor-pointer",3,"showTotalLeft","fanLeft","giftIds","click"],[1,"flex-1","ml-0.5","cursor-pointer",3,"showTotalRight","fanRight","giftIds","click"],["src","assets/images/lantern.png","alt","",1,"lantern","absolute","top-full","left-0",3,"ngClass"],["src","assets/images/lantern.png","alt","",1,"lantern","absolute","top-full","right-0",3,"ngClass"],[1,"absolute","inset-0"],[1,"h-full","w-full","block"],[1,"px-2"],[1,"mx-auto","px-12","relative"],[1,"h-10","-mx-12"],["class","text-border text-white font-bold uppercase text-3xl text-center relative z-10 pt-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["staticGift",""],[1,"bottom-wrapper","flex","flex-col","justify-center","-mt-8","xs:-mt-12"],["class","flex justify-between gap-1",4,"ngIf"],["class","text-center font-bold mt-8 xs:mt-12",4,"ngIf","ngIfElse"],["message",""],[1,"p-2","relative"],[1,"h-20","flex","items-center","justify-center",3,"ngClass"],["class","w-full text-white",4,"ngIf"],[1,"flex","justify-between","mt-1",3,"ngClass"],[1,"bonus-btn","font-bold","text-sm","py-2","px-2","text-white","rounded",3,"click"],[1,"see-my-gift","font-bold","text-sm","py-2","px-2","rounded",3,"click"],[1,"inline-block","right-caret"],["class","absolute z-10 inset-0 flex items-center justify-center",4,"ngIf"],[1,"text-border","text-white","font-bold","uppercase","text-3xl","text-center","relative","z-10","pt-1"],["class","lowercase",4,"ngIf"],[1,"lowercase"],[3,"ngClass","isActive","giftImage"],["class","prize-list grid grid-cols-1 gap-x-2 gap-y-6 -mx-12 mt-4 pb-4",3,"ngClass",4,"ngIf"],[1,"prize-list","grid","grid-cols-1","gap-x-2","gap-y-6","-mx-12","mt-4","pb-4",3,"ngClass"],[4,"ngFor","ngForOf"],["alt","",1,"w-9/12","mx-auto","mb-1",2,"max-width","160px",3,"src"],[1,"text-center","text-border","text-xs","2xs:text-sm",3,"ngClass"],[1,"square-box","relative","px-12"],["src","assets/images/gift-bidding-game/gift-box-orange-cropped-250px-min.png","alt","",1,"absolute","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2"],[1,"flex","justify-between","gap-1"],["class","glow-container relative z-10 open-gift-btn w-full block rounded-xl text-xl md:text-3xl border border-white text-black font-bold uppercase py-1",3,"disabled","click",4,"ngFor","ngForOf"],[1,"glow-container","relative","z-10","open-gift-btn","w-full","block","rounded-xl","text-xl","md:text-3xl","border","border-white","text-black","font-bold","uppercase","py-1",3,"disabled","click"],[1,"text-xs","xs:text-sm"],[1,"text-3xl","xs:text-5xl","leading-10"],["class","loader-container absolute left-3 top-1/2 transform -translate-y-1/2",4,"ngIf"],[1,"loader-container","absolute","left-3","top-1/2","transform","-translate-y-1/2"],[1,"text-center","font-bold","mt-8","xs:mt-12"],["class","font-bold text-center text-black mt-2 text-xl",4,"ngIf"],[1,"font-bold","text-center","text-black","mt-2","text-xl"],[1,"w-full","text-white"],[1,"flex","items-center"],["src","assets/images/ticket.png","alt","",1,"mr-0.5","h-7","px-1"],[1,"font-bold"],[1,"text-3xl","font-bold","mr-2"],[1,"absolute","z-10","inset-0","flex","items-center","justify-center"],["class","relative w-48 z-10 open-gift-btn rounded-xl md:text-3xl border border-white text-black font-bold uppercase py-3 text-2xl px-3",3,"click",4,"ngIf"],["class","text-white text-2xl font-bold",3,"text",4,"ngIf"],[1,"relative","w-48","z-10","open-gift-btn","rounded-xl","md:text-3xl","border","border-white","text-black","font-bold","uppercase","py-3","text-2xl","px-3",3,"click"],["name","chevron-forward-outline",1,"absolute","right-0","top-1/2","transform","-translate-y-1/2"],[1,"text-white","text-2xl","font-bold",3,"text"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-modal",0,1),t.NdJ("didDismiss",function(){return i.isOpenChange.emit(!1)}),t.YNc(2,ri,2,3,"ng-template"),t.qZA()),2&e&&t.Q6J("canDismiss",!i.loadingButton&&"loading"!==i.state)("animated",i.animated)("isOpen",i.isOpen)},dependencies:[s.mk,s.sg,s.O5,d.gu,d.ki,H.h,z.KC,X.P,ot,Un,s.Ov,u.X$],styles:['ion-modal[_ngcontent-%COMP%]{--width: 400px}ion-modal[_ngcontent-%COMP%]     .ion-page{padding-left:1rem;padding-right:1rem;padding-top:1rem;overflow:unset!important}ion-modal[_ngcontent-%COMP%]::part(content){overflow:unset!important}.modal-wrapper-all[_ngcontent-%COMP%]{box-shadow:0 2px 11px 3px #0000004d}.modal-body[_ngcontent-%COMP%]{background:linear-gradient(135deg,#858AD8,#FCD1FD);width:100%;padding-bottom:100%;position:relative}.close-btn[_ngcontent-%COMP%]{background-color:#0000004d}@media (hover: hover){.close-btn[_ngcontent-%COMP%]:not([disabled]):hover{background-color:#ffda44;--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}}.open-gift-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,#FFCA10,#FEE011)}.open-gift-btn[_ngcontent-%COMP%]:not([disabled]):hover{background:linear-gradient(to right,#ffe073,#fff4ab)}.see-my-gift[_ngcontent-%COMP%]{color:#fff;background-color:#2369ff}.see-my-gift[_ngcontent-%COMP%]:not([disabled]):hover{background-color:#5288fb}.right-caret[_ngcontent-%COMP%]{width:10px;height:10px;border-top:2px solid currentColor;border-right:2px solid currentColor;transform:rotate(45deg)}.lantern[_ngcontent-%COMP%]{width:12.5%}.square-box[_ngcontent-%COMP%]{width:100%;padding-top:100%}.square-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:75%}.loader-container[_ngcontent-%COMP%]{left:50%;transform:translate(-16px)}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;inset:0;margin:auto;height:32px;width:32px;border:3px solid transparent;border-top:3px solid rgba(103,80,215,.3);border-radius:50%;animation:loader-2-3 1.5s cubic-bezier(.77,0,.175,1) infinite}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;inset:0;margin:auto;height:32px;width:32px;border:3px solid rgba(103,80,215,.3);border-radius:50%}button[disabled][_ngcontent-%COMP%]{background:#B2B0B2;color:#747474;border-color:#a59e9e}.modal-wrapper-all[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6750D7,#3F1C66)}.prize-list[_ngcontent-%COMP%]{transform:scale(0);transform-origin:center 140px;animation:scaleup .3s linear forwards}@keyframes scaleup{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}.text-border[_ngcontent-%COMP%]{color:#fff;font-weight:900;text-shadow:2px 0 black,-2px 0 black,0 2px black,0 -2px black,1px 1px black,-1px -1px black,1px -1px black,-1px 1px black}.bonus-btn[_ngcontent-%COMP%]{background-color:#8b42ff}.bonus-btn[_ngcontent-%COMP%]:hover{background-color:#aa7af8}']}),n})();var Ct=l(75352);const li=function(n){return{active:n}};function ci(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",32),t.NdJ("click",function(){const r=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.handleFilterClick(r.value))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=a.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(4,li,i.logType===e.value)),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.text)," ")}}const pi=function(n){return{amount:n}};function di(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,"cny-2024-"+e.giftCode,t.VKq(4,pi,e.giftReward))," ")}}function fi(n,a){if(1&n&&(t.TgZ(0,"span",45)(1,"span",46),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._uU(4),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.lcZ(3,2,"cny-24-used")),t.xp6(2),t.hij(" -",e.giftReward," ")}}function gi(n,a){if(1&n&&(t.TgZ(0,"span",47)(1,"span",48),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._uU(4),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.lcZ(3,2,"cny-24-received")),t.xp6(2),t.hij(" +",e.giftReward," ")}}function mi(n,a){if(1&n&&(t.TgZ(0,"span",49)(1,"span",50),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._uU(4),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.lcZ(3,2,"cny-24-sent")),t.xp6(2),t.hij(" -",e.giftReward," ")}}function ui(n,a){if(1&n&&(t.TgZ(0,"span",51)(1,"span",52),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._uU(4),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.lcZ(3,2,"cny-24-claimed")),t.xp6(2),t.hij(" +",e.giftReward," ")}}function hi(n,a){if(1&n&&(t.TgZ(0,"div",33)(1,"div",34),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"div",35),t._UZ(5,"img",36),t.qZA(),t.TgZ(6,"div",37)(7,"div",38),t.ynx(8,39),t.YNc(9,di,3,6,"span",40),t.YNc(10,fi,5,4,"span",41),t.YNc(11,gi,5,4,"span",42),t.YNc(12,mi,5,4,"span",43),t.YNc(13,ui,5,4,"span",44),t.BQk(),t.qZA()()()),2&n){const e=a.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,9,e.createDate,"YYYY/MM/dd")," "),t.xp6(3),t.Q6J("ngClass","img-"+e.logType+" "+e.giftCode)("src",e.giftIcon,t.LSH),t.xp6(3),t.Q6J("ngSwitch",e.logType),t.xp6(1),t.Q6J("ngSwitchCase",1),t.xp6(1),t.Q6J("ngSwitchCase",2),t.xp6(1),t.Q6J("ngSwitchCase",3),t.xp6(1),t.Q6J("ngSwitchCase",4),t.xp6(1),t.Q6J("ngSwitchCase",5)}}function _i(n,a){1&n&&(t.TgZ(0,"div",53),t._UZ(1,"span"),t.qZA())}function xi(n,a){1&n&&(t.TgZ(0,"div",54),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"no-data")," "))}const bi=function(){return["Word-1","Word-2","Word-3","Word-4"]},Ci=function(){return["Word-5","Word-6","Word-7","Word-8"]},wi=function(n){return{invisible:n}};function vi(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"button",5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.back.emit())}),t._UZ(4,"div",6),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"button",7),t.NdJ("click",function(){t.CHM(e),t.oxw();const o=t.MAs(1);return t.KtG(o.dismiss())}),t.O4$(),t.TgZ(9,"svg",8),t._UZ(10,"path",9),t.qZA()()(),t.kcU(),t.TgZ(11,"div",10)(12,"app-gift-merge-character",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickCharacter.emit())}),t.qZA(),t.TgZ(13,"app-gift-merge-character",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickCharacter.emit())}),t.qZA()(),t.TgZ(14,"div",13),t.YNc(15,ci,3,6,"div",14),t.qZA(),t._UZ(16,"div",15),t.TgZ(17,"div",16)(18,"div",17)(19,"div",18),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"div",19),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",20),t._uU(26),t.ALo(27,"translate"),t.qZA()(),t.TgZ(28,"ng-scrollbar",21),t.YNc(29,hi,14,12,"div",22),t.YNc(30,_i,2,0,"div",23),t.YNc(31,xi,3,3,"div",24),t.qZA()(),t.TgZ(32,"div",25),t._UZ(33,"div",26),t.TgZ(34,"div",27)(35,"button",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleBack())}),t._UZ(36,"span",29),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickSendGift.emit())}),t.ALo(40,"async"),t._UZ(41,"ion-icon",31),t._uU(42),t.ALo(43,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,15,"gift-history-title")),t.xp6(6),t.Q6J("showTotalLeft",!0)("giftIds",t.DdM(29,bi)),t.xp6(1),t.Q6J("showTotalRight",!0)("giftIds",t.DdM(30,Ci)),t.xp6(2),t.Q6J("ngForOf",e.filterLogType),t.xp6(5),t.hij(" ",t.lcZ(21,17,"gift-history-heading-date")," "),t.xp6(3),t.Oqu(t.lcZ(24,19,"gift-history-heading-prize")),t.xp6(3),t.hij(" ",t.lcZ(27,21,"gift-history-heading-qty")," "),t.xp6(3),t.Q6J("ngForOf",e.history),t.xp6(1),t.Q6J("ngIf",e.isLoading),t.xp6(1),t.Q6J("ngIf",!(e.isLoading||null!=e.history&&e.history.length)),t.xp6(6),t.hij(" ",t.lcZ(38,23,"game-go-back")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(31,wi,!t.lcZ(40,25,e.giftService.isTransferWord$))),t.xp6(3),t.hij(" ",t.lcZ(43,27,"send-gift")," ")}}let yi=(()=>{class n extends _.V{constructor(e,i){super(),this.giftService=e,this.cdr=i,this.isOpen=!1,this.isOpenChange=new t.vpe,this.back=new t.vpe,this.onClickCharacter=new t.vpe,this.onClickSendGift=new t.vpe,this.animated=!0,this.isLoading=!1,this.history=[],this.page=-1,this.total=0,this.rows=30,this.throttleScroll=new P.x,this.handleScroll=o=>{o.target.scrollHeight-(o.target.scrollTop+o.target.offsetHeight)<200&&this.throttleScroll.next(1)},this.filterLogType=[{text:"cny-24-all",value:0},{text:"cny-24-won",value:1},{text:"cny-24-received",value:3},{text:"cny-24-sent",value:4},{text:"cny-24-used",value:2},{text:"cny-24-claimed",value:5}],this.logType=0}ngOnInit(){this.throttleScroll.pipe((0,ht.p)(300),(0,g.R)(this.destroyStream$)).subscribe(()=>{this.getHistory()})}ngAfterViewInit(){}handlePresent(){this.scrollSubscription?.unsubscribe(),this.scrollSubscription=this.scrollBar.scrolled.pipe((0,g.R)(this.destroyStream$)).subscribe(this.handleScroll)}handleDismiss(){this.scrollSubscription?.unsubscribe(),this.isOpenChange.emit(!1)}ngOnChanges(e){!0===e.isOpen.currentValue&&(this.page=-1,this.total=0,this.history=[],this.getHistory())}getHistory(){var e=this;return(0,c.Z)(function*(){if(!e.isLoading&&(-1===e.page||e.history.length<e.total)){e.isLoading=!0,e.page++;const i={page:e.page,rows:e.rows,lotteryType:1};0!==e.logType&&(i.logType=e.logType),e.cdr.markForCheck();const o=yield(0,h.n)(e.giftService.getHistory(i));e.history=[...e.history,...o?.rows||[]],e.total=o?.total||0,e.isLoading=!1,e.cdr.markForCheck()}})()}handleBack(){var e=this;return(0,c.Z)(function*(){e.back.emit()})()}handleFilterClick(e){this.logType=e,this.page=-1,this.total=0,this.history=[],this.getHistory()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(B),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gift-history-modal"]],viewQuery:function(e,i){if(1&e&&(t.Gf(d.ki,5),t.Gf(z.KC,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.modal=o.first),t.iGM(o=t.CRH())&&(i.scrollBar=o.first)}},inputs:{isOpen:"isOpen",animated:"animated"},outputs:{isOpenChange:"isOpenChange",back:"back",onClickCharacter:"onClickCharacter",onClickSendGift:"onClickSendGift"},features:[t.qOj,t.TTD],decls:3,vars:2,consts:[[1,"normal-opacity",3,"animated","isOpen","didPresent","didDismiss"],["modal",""],[1,"rounded-2xl","bg-white","modal-wrapper-all"],[1,"flex","items-center","p-2","relative"],[1,"flex-1","font-bold","text-xl","xs:text-2xl","sm:text-3xl","flex","items-center"],[1,"-ml-2","p-2",3,"click"],[1,"left-caret","big","mx-1","cursor-pointer"],[1,"absolute","right-0","top-0","transform","translate-x-1/3","-translate-y-1/3","w-8","p-1","cursor-pointer","bg-[#ff2145]","text-white","rounded-md","border-2","border-[#9D152B]",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],[1,"flex","justify-between","relative","px-2","mb-2"],[1,"flex-1","mr-0.5","cursor-pointer",3,"showTotalLeft","giftIds","click"],[1,"flex-1","ml-0.5","cursor-pointer",3,"showTotalRight","giftIds","click"],[1,"flex","items-center","flex-wrap","gap-2","mb-2","px-2"],["class","filter",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"border-b","border-[#ddd]"],[1,"table"],[1,"tr","text-sm","flex","items-center",2,"background-color","#fafafa"],[1,"th","font-bold","opacity-70",2,"width","105px"],[1,"th","w-14","font-bold","opacity-70"],[1,"th","font-bold","opacity-70","!text-right","flex-1"],["scrollShadow","",1,"block",2,"height","350px"],["class","tr flex items-center",4,"ngFor","ngForOf"],["class","loader-container absolute inset-0",4,"ngIf"],["class","font-bold opacity-30 text-center mt-4",4,"ngIf"],[1,"px-2","pb-2"],[1,"border-b","border-[#dddddd]","-mx-2"],[1,"mt-2","flex","justify-between"],[1,"back-btn","font-bold","text-base","py-2","px-2","rounded",3,"click"],[1,"inline-block","left-caret"],[1,"send-gift","capitalize","text-base","flex","items-centers","font-bold","py-2","px-2","rounded","bg-blue-600/20",3,"ngClass","click"],["name","gift-outline",1,"mr-1","w-5","h-5"],[1,"filter",3,"ngClass","click"],[1,"tr","flex","items-center"],[1,"td","whitespace-nowrap",2,"width","105px"],[1,"td","w-12","flex","items-center","justify-center"],["alt","",1,"table-prize-logo","w-6",3,"ngClass","src"],[1,"td","capitalize","relative","flex-1"],[1,"absolute","inset-2","truncate","text-right",2,"line-height","20px"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","used",4,"ngSwitchCase"],["class","received",4,"ngSwitchCase"],["class","sent",4,"ngSwitchCase"],["class","claimed",4,"ngSwitchCase"],[1,"used"],[1,"used-tag"],[1,"received"],[1,"received-tag"],[1,"sent"],[1,"sent-tag"],[1,"claimed"],[1,"claimed-tag"],[1,"loader-container","absolute","inset-0"],[1,"font-bold","opacity-30","text-center","mt-4"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-modal",0,1),t.NdJ("didPresent",function(){return i.handlePresent()})("didDismiss",function(){return i.handleDismiss()}),t.YNc(2,vi,44,33,"ng-template"),t.qZA()),2&e&&t.Q6J("animated",i.animated)("isOpen",i.isOpen)},dependencies:[s.mk,s.sg,s.O5,s.RF,s.n9,d.gu,d.ki,Ct.E,z.KC,ot,s.Ov,s.uU,u.X$],styles:['ion-modal[_ngcontent-%COMP%]{--width: 470px}ion-modal[_ngcontent-%COMP%]     .ion-page{padding-left:1rem;padding-right:1rem;padding-top:1rem;overflow:unset!important}ion-modal[_ngcontent-%COMP%]::part(content){overflow:unset!important}.modal-body[_ngcontent-%COMP%]{height:350px}.back-btn[_ngcontent-%COMP%]{color:#2369ff}.back-btn[_ngcontent-%COMP%]:hover{background-color:#2369ff1a}.left-caret[_ngcontent-%COMP%]{width:10px;height:10px;border-top:2px solid #2369ff;border-right:2px solid #2369ff;transform:rotate(-135deg)}.left-caret.big[_ngcontent-%COMP%]{width:14px;height:14px;border-top:3px solid #c0bcbc;border-right:3px solid #c0bcbc}.table[_ngcontent-%COMP%]{color:#4e4e4e;padding:0;width:100%}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{background-color:#fafafa;position:sticky;top:0;z-index:1;opacity:1;color:#838383;padding-left:.5rem;padding-right:.5rem;text-align:left}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{height:35px;display:flex;align-items:center;padding-left:.5rem;padding-right:.5rem;text-align:left;font-size:.875rem;font-weight:700;line-height:1rem}.loader-container[_ngcontent-%COMP%]{height:80px;width:100%;position:relative}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;inset:0;margin:auto;height:32px;width:32px;border:3px solid transparent;border-top:3px solid rgba(0,0,0,.3);border-radius:50%;animation:loader-2-3 1.5s cubic-bezier(.77,0,.175,1) infinite}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;inset:0;margin:auto;height:32px;width:32px;border:3px solid rgba(0,0,0,.3);border-radius:50%}.filter[_ngcontent-%COMP%]{background-color:#7d7d7d1a;color:#7d7d7d;white-space:nowrap;border-radius:9999px;padding-left:.5rem;padding-right:.5rem;font-weight:500;cursor:pointer}.filter.active[_ngcontent-%COMP%], .filter[_ngcontent-%COMP%]:hover{background-color:#0087ff33;color:#0087ff}.used[_ngcontent-%COMP%]{color:#df1726}.used-tag[_ngcontent-%COMP%]{padding-left:.25rem;padding-right:.25rem;border-radius:4px;background-color:#df17261a}.received[_ngcontent-%COMP%]{color:#40cf84}.received-tag[_ngcontent-%COMP%]{padding-left:.25rem;padding-right:.25rem;border-radius:4px;background-color:#40cf841a}.claimed[_ngcontent-%COMP%]{color:#8101ff}.claimed-tag[_ngcontent-%COMP%]{padding-left:.25rem;padding-right:.25rem;border-radius:4px;background-color:#8101ff1a}.sent[_ngcontent-%COMP%]{color:#2979e4}.sent-tag[_ngcontent-%COMP%]{padding-left:.25rem;padding-right:.25rem;border-radius:4px;background-color:#2979e41a;color:#2979e4}img.img-2[_ngcontent-%COMP%], img.img-4[_ngcontent-%COMP%]{filter:grayscale(1);opacity:.3}.send-gift[_ngcontent-%COMP%]{background-color:#2369ff;color:#fff}.send-gift[_ngcontent-%COMP%]:hover{background-color:#5288fb}.modal-wrapper-all[_ngcontent-%COMP%]{box-shadow:0 2px 11px 3px #0000004d}']}),n})();var Mi=l(21863);function Oi(n,a){1&n&&(t.TgZ(0,"div",50),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"gift-cny-bonus-reedemed")," "))}function Zi(n,a){if(1&n&&(t.TgZ(0,"div",53),t._UZ(1,"img",54),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"number"),t.qZA()()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("src",null==e?null:e.icon,t.LSH),t.xp6(2),t.hij("+",t.lcZ(4,2,null==e?null:e.amount),"")}}function ki(n,a){if(1&n&&(t.TgZ(0,"div",51),t.YNc(1,Zi,5,4,"div",52),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",null==e.majorPrizeList[0]?null:e.majorPrizeList[0].GiftList)}}function Pi(n,a){if(1&n&&t.GkF(0,55),2&n){t.oxw(2);const e=t.MAs(4);t.Q6J("ngTemplateOutlet",e)}}function Ti(n,a){1&n&&(t.TgZ(0,"div",50),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"gift-cny-bonus-reedemed")," "))}function Ai(n,a){if(1&n&&(t.TgZ(0,"div",53),t._UZ(1,"img",54),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"number"),t.qZA()()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("src",null==e?null:e.icon,t.LSH),t.xp6(2),t.hij("+",t.lcZ(4,2,null==e?null:e.amount),"")}}function Si(n,a){if(1&n&&(t.TgZ(0,"div",51),t.YNc(1,Ai,5,4,"div",52),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",null==e.majorPrizeList[1]?null:e.majorPrizeList[1].GiftList)}}function Li(n,a){if(1&n&&t.GkF(0,55),2&n){t.oxw(2);const e=t.MAs(4);t.Q6J("ngTemplateOutlet",e)}}function Gi(n,a){1&n&&(t.TgZ(0,"div",50),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"gift-cny-bonus-reedemed")," "))}function Ii(n,a){if(1&n&&(t.TgZ(0,"div",53),t._UZ(1,"img",54),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"number"),t.qZA()()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("src",null==e?null:e.icon,t.LSH),t.xp6(2),t.hij("+",t.lcZ(4,2,null==e?null:e.amount),"")}}function qi(n,a){if(1&n&&(t.TgZ(0,"div",51),t.YNc(1,Ii,5,4,"div",52),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",null==e.majorPrizeList[2]?null:e.majorPrizeList[2].GiftList)}}function Ui(n,a){if(1&n&&t.GkF(0,55),2&n){t.oxw(2);const e=t.MAs(4);t.Q6J("ngTemplateOutlet",e)}}function Bi(n,a){1&n&&t._UZ(0,"app-confetti-animation",56)}const Hi=function(){return["Word-1","Word-2","Word-3","Word-4"]},zi=function(){return["Word-5","Word-6","Word-7","Word-8"]},at=function(n){return{active:n}},Ni=function(n){return{disabled:n}};function Ji(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"button",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.back.emit())}),t._UZ(4,"div",7),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"button",8),t.NdJ("click",function(){t.CHM(e),t.oxw();const o=t.MAs(1);return t.KtG(o.dismiss())}),t.O4$(),t.TgZ(9,"svg",9),t._UZ(10,"path",10),t.qZA()()(),t.kcU(),t.TgZ(11,"div",11)(12,"div",12)(13,"div",13),t._UZ(14,"app-gift-merge-character",14)(15,"app-gift-merge-character",15),t.qZA()(),t.TgZ(16,"div",16),t._UZ(17,"img",17)(18,"img",18),t.TgZ(19,"div",19),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"div",20)(23,"span",21)(24,"span",22),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"span"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"span",23),t._uU(31),t.qZA()()(),t.TgZ(32,"button",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.redeem("1"))}),t.TgZ(33,"div",25),t.YNc(34,Oi,3,3,"div",26),t.YNc(35,ki,2,1,"ng-template",null,27,t.W1O),t.YNc(37,Pi,1,1,"ng-container",28),t.qZA(),t.TgZ(38,"span",29),t._uU(39),t.ALo(40,"translate"),t.qZA()(),t.TgZ(41,"div",30)(42,"span",21)(43,"span",22),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"span"),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"span",23),t._uU(50),t.qZA()()(),t.TgZ(51,"button",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.redeem("2"))}),t.TgZ(52,"div",25),t.YNc(53,Ti,3,3,"div",26),t.YNc(54,Si,2,1,"ng-template",null,31,t.W1O),t.YNc(56,Li,1,1,"ng-container",28),t.qZA(),t.TgZ(57,"span",29),t._uU(58),t.ALo(59,"translate"),t.qZA()(),t.TgZ(60,"div",32),t._UZ(61,"div",33),t.TgZ(62,"div",34),t._uU(63),t.ALo(64,"translate"),t.qZA(),t._UZ(65,"div",33),t.qZA(),t.TgZ(66,"div",35)(67,"span",21)(68,"span",22),t._uU(69),t.ALo(70,"translate"),t.qZA(),t.TgZ(71,"span"),t._uU(72),t.ALo(73,"translate"),t.qZA(),t.TgZ(74,"span",23),t._uU(75),t.qZA()()(),t.TgZ(76,"div",36)(77,"button",37),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.redeem("3"))}),t.TgZ(78,"div",25),t.YNc(79,Gi,3,3,"div",26),t.YNc(80,qi,2,1,"ng-template",null,38,t.W1O),t.YNc(82,Ui,1,1,"ng-container",28),t.qZA(),t.TgZ(83,"span",29),t._uU(84),t.ALo(85,"translate"),t.qZA(),t._UZ(86,"span",39),t.qZA()(),t.TgZ(87,"div",40)(88,"div",41),t.YNc(89,Bi,1,0,"app-confetti-animation",42),t.qZA()()()(),t.TgZ(90,"div",43),t._UZ(91,"div",44),t.TgZ(92,"div",45)(93,"button",46),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.back.emit())}),t._UZ(94,"span",47),t._uU(95),t.ALo(96,"translate"),t.qZA(),t.TgZ(97,"button",48),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onOpenHistory.emit())}),t._uU(98),t.ALo(99,"translate"),t._UZ(100,"span",49),t.qZA()()()()}if(2&n){const e=t.MAs(36),i=t.MAs(55),o=t.MAs(81),r=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,40,"gift-cny-bonus-title")),t.xp6(8),t.Q6J("showCount",!0)("fanLeft",!0)("giftIds",t.DdM(68,Hi)),t.xp6(1),t.Q6J("showCount",!0)("fanRight",!0)("giftIds",t.DdM(69,zi)),t.xp6(5),t.hij(" ",t.lcZ(21,42,"gift-bidding-bonus-description-1")," "),t.xp6(5),t.hij("",t.lcZ(26,44,"collect"),": "),t.xp6(3),t.Oqu(t.lcZ(29,46,"cny-2024-Exchange-Gift-1")),t.xp6(2),t.Q6J("ngClass",t.VKq(70,at,null==r.ultimatePrizeCount[0]?null:r.ultimatePrizeCount[0].amount)),t.xp6(1),t.hij(" ",(null==r.ultimatePrizeCount[0]?null:r.ultimatePrizeCount[0].amount)||0," "),t.xp6(1),t.Q6J("disabled",r.isDisabled("1")||r.isSubmiting),t.xp6(2),t.Q6J("ngIf",r.showRedeemedStatus[1])("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",r.showLoading[1]),t.xp6(2),t.Oqu(t.lcZ(40,48,"cny-claim-badge")),t.xp6(5),t.hij("",t.lcZ(45,50,"collect"),": "),t.xp6(3),t.Oqu(t.lcZ(48,52,"cny-2024-Exchange-Gift-2")),t.xp6(2),t.Q6J("ngClass",t.VKq(72,at,null==r.ultimatePrizeCount[1]?null:r.ultimatePrizeCount[1].amount)),t.xp6(1),t.hij(" ",(null==r.ultimatePrizeCount[1]?null:r.ultimatePrizeCount[1].amount)||0," "),t.xp6(1),t.Q6J("disabled",r.isDisabled("2")||r.isSubmiting),t.xp6(2),t.Q6J("ngIf",r.showRedeemedStatus[2])("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",r.showLoading[2]),t.xp6(2),t.Oqu(t.lcZ(59,54,"cny-claim-badge")),t.xp6(5),t.hij(" ",t.lcZ(64,56,"gift-bidding-bonus-mega-prize")," "),t.xp6(6),t.hij("",t.lcZ(70,58,"collect"),": "),t.xp6(3),t.Oqu(t.lcZ(73,60,"cny-2024-Exchange-Gift-3")),t.xp6(2),t.Q6J("ngClass",t.VKq(74,at,null==r.ultimatePrizeCount[2]?null:r.ultimatePrizeCount[2].amount)),t.xp6(1),t.hij(" ",(null==r.ultimatePrizeCount[2]?null:r.ultimatePrizeCount[2].amount)||0," "),t.xp6(1),t.Q6J("ngClass",t.VKq(76,Ni,r.isDisabled("3")||r.isSubmiting)),t.xp6(1),t.Q6J("disabled",r.isDisabled("3")||r.isSubmiting),t.xp6(2),t.Q6J("ngIf",r.showRedeemedStatus[3])("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",r.showLoading[3]),t.xp6(2),t.Oqu(t.lcZ(85,62,"cny-claim-badge")),t.xp6(5),t.Q6J("ngIf",r.showExplosion),t.xp6(6),t.hij(" ",t.lcZ(96,64,"game-go-back")," "),t.xp6(3),t.hij(" ",t.lcZ(99,66,"gift-see-history-link")," ")}}function Qi(n,a){1&n&&(t.TgZ(0,"div",57),t._UZ(1,"span"),t.qZA())}const Fi={1:["Word-1","Word-2","Word-3","Word-4"],2:["Word-5","Word-6","Word-7","Word-8"],3:["Word-1","Word-2","Word-3","Word-4","Word-5","Word-6","Word-7","Word-8"]};let Ri=(()=>{class n extends _.V{constructor(e,i,o){super(),this.giftService=e,this.toast=i,this.userService=o,this.isOpen=!1,this.isOpenChange=new t.vpe,this.onOpenHistory=new t.vpe,this.onClickCharacter=new t.vpe,this.back=new t.vpe,this.animated=!0,this.showExplosion=!1,this.SpecialPrizeType=Fi,this.openedGift=null,this.isShowingEmptyScreen=!1,this.prizeHistory=[],this.prizeHistoryMap={},this.isSubmiting=!1,this.showRedeemedStatus={1:!1,2:!1,3:!1},this.showLoading={1:!1,2:!1,3:!1},this.majorPrizeList=[],this.ultimatePrizeCount=[]}ngOnChanges(e){var i=this;return(0,c.Z)(function*(){m.Z.isServer||!0===e.isOpen.currentValue&&i.getUltimatePrizeCount()})()}ngOnInit(){var e=this;return(0,c.Z)(function*(){e.giftService.getMajorPrizeList().subscribe(i=>e.majorPrizeList=i),e.giftService.prizeHistory$.pipe((0,g.R)(e.destroyStream$)).subscribe(i=>{e.prizeHistoryMap={},i.forEach(o=>{e.prizeHistoryMap[o?.wordId]=o})})})()}isDisabled(e){return!this.ultimatePrizeCount[parseInt(e)-1]?.amount}redeem(e){var i=this;return(0,c.Z)(function*(){if(!i.showRedeemedStatus[e]){i.isSubmiting=!0,i.showLoading[e]=!0;try{const o=yield(0,h.n)(i.giftService.redeemMajorPrize(e));i.isSubmiting=!1,i.showLoading[e]=!1,i.giftService.updatePrizeHistory(),i.userService.updateUserInfo(),0==o.code?(i.displayRedeemedStatus(e),i.playExplosion(),i.getUltimatePrizeCount()):i.toastError(o.message)}catch(o){i.showLoading[e]=!1,i.isSubmiting=!1,i.toastError(o?.message)}}})()}displayRedeemedStatus(e){this.showRedeemedStatus[e]=!0,setTimeout(()=>{this.showRedeemedStatus[e]=!1},2500)}toastError(e){var i=this;return(0,c.Z)(function*(){yield i.presentToast({position:"bottom",message:e,icon:"alert-circle-outline",duration:1e3,color:"danger"})})()}presentToast(e){var i=this;return(0,c.Z)(function*(){yield(yield i.toast.create(e)).present()})()}playExplosion(){this.showExplosion=!0,setTimeout(()=>{this.showExplosion=!1},2500)}getDelayJump(e){return{"--delay":.2*e+"s"}}getUltimatePrizeCount(){var e=this;return(0,c.Z)(function*(){const i=yield(0,h.n)(e.giftService.getUltimatePrizeCount());e.ultimatePrizeCount=i.data?.exchangeInfo||[]})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(B),t.Y36(d.yF),t.Y36(M.K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gift-bonus-modal"]],viewQuery:function(e,i){if(1&e&&t.Gf(d.ki,5),2&e){let o;t.iGM(o=t.CRH())&&(i.modal=o.first)}},inputs:{isOpen:"isOpen",animated:"animated"},outputs:{isOpenChange:"isOpenChange",onOpenHistory:"onOpenHistory",onClickCharacter:"onClickCharacter",back:"back"},features:[t.qOj,t.TTD],decls:5,vars:2,consts:[["closeModalBrowserBack","",1,"normal-opacity",3,"animated","isOpen","didDismiss"],["modal",""],["loader",""],[1,"rounded-2xl","modal-wrapper-all"],[1,"flex","items-center","p-2","relative"],[1,"flex-1","font-bold","text-xl","xs:text-2xl","sm:text-3xl","flex","items-center","text-white"],[1,"p-2","-ml-2",3,"click"],[1,"left-caret","big","mx-1","cursor-pointer"],[1,"absolute","right-0","top-0","transform","translate-x-1/3","-translate-y-1/3","w-8","p-1","cursor-pointer","bg-[#ff2145]","text-white","rounded-md","border-2","border-[#9D152B]",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],[1,"p-2","modal-body"],[1,"-mx-1"],[1,"flex","justify-between"],[1,"flex-1","mr-0.5",3,"showCount","fanLeft","giftIds"],[1,"flex-1","ml-0.5",3,"showCount","fanRight","giftIds"],[1,"mx-auto","px-2","pt-4","relative"],["src","assets/images/lantern.png","alt","",1,"lantern","absolute","top-0","left-0"],["src","assets/images/lantern.png","alt","",1,"lantern","absolute","top-0","right-0"],[1,"text-center","font-bold","mb-2","text-sm","sm:text-base","w-7/12","mx-auto","text-white"],[1,"text-center","font-bold","text-sm","sm:text-base","text-white","mt-2"],[1,"text-lg"],[1,"capitalize"],[1,"count","ml-2",3,"ngClass"],[1,"redeem-btn","w-full","rounded-lg","flex","items-center","border","border-solid","justify-around","mb-2","relative",3,"disabled","click"],[1,"glow-container","py-3","w-full","rounded-lg","relative","px-2"],["class","font-bold text-2xl sm:text-3xl text-center flex-1",4,"ngIf","ngIfElse"],["notRedeem1",""],[3,"ngTemplateOutlet",4,"ngIf"],[1,"claim-badge","glow-container"],[1,"text-center","font-bold","text-sm","sm:text-base","text-white","mt-4"],["notRedeem2",""],[1,"flex","items-center","mb-2","mt-4"],[1,"border-b-2","border-white","flex-1"],[1,"mx-2","uppercase","font-bold","text-2xl","text-white"],[1,"text-center","font-bold","text-sm","sm:text-base","text-white"],[1,"gradient-border","mb-2","p-0.5",3,"ngClass"],[1,"redeem-btn","w-full","rounded-lg","flex","items-center","border","border-solid","justify-around","relative",3,"disabled","click"],["notRedeem3",""],[1,"rainbow"],[1,"relative"],[1,"explosion-container","absolute","z-50"],["style","height: 500px","class","h-1 block",4,"ngIf"],[1,"px-2","py-2"],[1,"border-b","border-[#dddddd]","-mx-2"],[1,"flex","justify-between","mt-2"],[1,"back-btn","font-bold","text-base","py-2","px-2","bg-white/20","rounded","text-white","hover:bg-white/50",3,"click"],[1,"inline-block","left-caret","text-white"],[1,"see-my-gift","font-bold","text-base","py-2","px-2","rounded",3,"click"],[1,"inline-block","right-caret"],[1,"font-bold","text-2xl","sm:text-3xl","text-center","flex-1"],[1,"prize-grid-container","grid","grid-cols-3","w-full","font-bold","leading-8","sm:leading-9","text-sm","2xs:text-lg"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"flex","items-center"],["alt","",1,"w-6","mr-1",3,"src"],[3,"ngTemplateOutlet"],[1,"h-1","block",2,"height","500px"],[1,"loader-container","absolute","inset-0"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-modal",0,1),t.NdJ("didDismiss",function(){return i.isOpenChange.emit(!1)}),t.YNc(2,Ji,101,78,"ng-template"),t.qZA(),t.YNc(3,Qi,2,0,"ng-template",null,2,t.W1O)),2&e&&t.Q6J("animated",i.animated)("isOpen",i.isOpen)},dependencies:[s.mk,s.sg,s.O5,s.tP,d.ki,Mi.b,ot,bt,s.JJ,u.X$],styles:['ion-modal[_ngcontent-%COMP%]{--width: 400px}ion-modal[_ngcontent-%COMP%]     .ion-page{padding-left:1rem;padding-right:1rem;padding-top:1rem;overflow:unset!important}ion-modal[_ngcontent-%COMP%]::part(content){overflow:unset!important}.close-btn[_ngcontent-%COMP%]{background-color:#0000004d}@media (hover: hover){.close-btn[_ngcontent-%COMP%]:hover{background-color:#ffda44;--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}}.see-my-gift[_ngcontent-%COMP%]{color:#fff;background-color:#2369ff}.left-caret[_ngcontent-%COMP%]{width:10px;height:10px;border-top:2px solid currentColor;border-right:2px solid currentColor;transform:rotate(-135deg)}.left-caret.big[_ngcontent-%COMP%]{width:14px;height:14px;border-top:3px solid currentColor;border-right:3px solid currentColor}.right-caret[_ngcontent-%COMP%]{width:10px;height:10px;border-top:2px solid currentColor;border-right:2px solid currentColor;transform:rotate(45deg)}.lantern[_ngcontent-%COMP%]{width:12.5%}.redeem-btn[_ngcontent-%COMP%]{border-color:#f2dd23;background:#FEF0D7;position:relative}.redeem-btn[_ngcontent-%COMP%]:hover{background:#fbe5c3}.redeem-btn[_ngcontent-%COMP%]   .character[_ngcontent-%COMP%]{position:relative;z-index:1;color:#f72d49;-webkit-text-stroke:1px black;animation:jump 4s infinite;animation-timing-function:ease-in-out;animation-delay:var(--delay)}.redeem-btn[_ngcontent-%COMP%]   .claim-badge[_ngcontent-%COMP%]{border:1px solid #D9753C;position:absolute;left:50%;bottom:0;border-radius:.375rem;padding-left:.5rem;padding-right:.5rem;padding-top:1px;padding-bottom:1px;font-size:.875rem;line-height:1.25rem;font-weight:700;text-transform:uppercase;background:linear-gradient(to right,#f8f1c8,#FFE86C);transform:translate(-50%,50%)}.redeem-btn[_ngcontent-%COMP%]   .rainbow[_ngcontent-%COMP%]{position:absolute;inset:5px;filter:blur(15px);z-index:-2}.redeem-btn[_ngcontent-%COMP%]   .rainbow[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(315deg,#ff005e,#fbff00);animation:neon-block 1.5s linear infinite}.redeem-btn[disabled][_ngcontent-%COMP%]{background:linear-gradient(to right,#EEEEEE,#E5E5E5);border-color:#d3d3d3}.redeem-btn[disabled][_ngcontent-%COMP%]   .glow-container[_ngcontent-%COMP%]:after{content:none}.redeem-btn[disabled][_ngcontent-%COMP%]   .character[_ngcontent-%COMP%]{color:#dadada;-webkit-text-stroke:1px #c9c3c3;animation:none}.redeem-btn[disabled][_ngcontent-%COMP%]:after{content:none}.redeem-btn[disabled][_ngcontent-%COMP%]   .claim-badge[_ngcontent-%COMP%]{border-color:#d3d3d3;color:#a5a5a5;background:linear-gradient(to right,#DBDCEB,#C9C8D8)}.redeem-btn[disabled][_ngcontent-%COMP%]   .rainbow[_ngcontent-%COMP%]{display:none}.explosion-container[_ngcontent-%COMP%]{width:500px;left:50%;transform:translate(-50%);bottom:140px}app-cart-explosion[_ngcontent-%COMP%]{height:500px}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;inset:0;margin:auto;height:32px;width:32px;border:3px solid transparent;border-top:3px solid rgba(103,80,215,.3);border-radius:50%;animation:loader-2-3 1.5s cubic-bezier(.77,0,.175,1) infinite}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;inset:0;margin:auto;height:32px;width:32px;border:3px solid rgba(103,80,215,.3);border-radius:50%}.gradient-border[_ngcontent-%COMP%]{position:relative;z-index:1}.gradient-border[_ngcontent-%COMP%]:after{content:"";position:absolute;z-index:-1;inset:0;border-radius:.5rem;background:linear-gradient(45deg,#0014ff,#042fff,#044dff,#ff00f7,#fd8aff,#002bff,#7a00ff,#ff00c8,#e400ff);background:linear-gradient(45deg,#f80000,#f80000,#f80000,#ff9101,#faa92e,#f9b067,#d9dd05,#c1c41c,#bdb827);background-position:0 50%;background-size:200% 200%;animation:changeBg 2.5s linear infinite}.gradient-border.disabled[_ngcontent-%COMP%]:after{background:#dddddd}@keyframes changeBg{50%{background-position:100% 50%}}.modal-wrapper-all[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6750D7,#3F1C66);box-shadow:0 2px 11px 3px #0000004d}.count[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px;line-height:24px;text-align:center;background-color:#c0c3c1;box-shadow:0 3px 5px 2px #0003;vertical-align:top;border-radius:9999px;font-weight:700}.count.active[_ngcontent-%COMP%]{background-color:#5d01fd}@keyframes neon-block{0%{filter:hue-rotate(0deg)}to{filter:hue-rotate(360deg)}}.prize-grid-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{justify-content:flex-end}']}),n})();var wt=l(87457),Yi=l(69096),vt=l(71884),Ei=l(63900),yt=l(39646),ji=l(7228),tt=l(24006);function Di(n,a){1&n&&(t.TgZ(0,"ion-label",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"send-to")," "))}function $i(n,a){1&n&&t._UZ(0,"app-loading-animation",22)}function Wi(n,a){if(1&n&&t._UZ(0,"img",23),2&n){const e=t.oxw();t.Q6J("src",e.recipient.avatar,t.LSH)}}function Ki(n,a){1&n&&t._UZ(0,"div",24)}function Vi(n,a){1&n&&(t.TgZ(0,"ion-label",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"gift")," "))}function Xi(n,a){if(1&n&&(t.ynx(0),t._UZ(1,"img",26),t.TgZ(2,"span"),t._uU(3," x 1"),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("src","/assets/images/gift-bidding-game/"+e.recipient.wordId+"-min.png",t.LSH)}}function to(n,a){1&n&&(t.TgZ(0,"span",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"send-gift-input-placeholder")," "))}function eo(n,a){1&n&&(t.TgZ(0,"div",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"send-gift-input-placeholder")," "))}const no=function(n,a){return{active:n,selected:a}};function io(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",32),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.handleSelect(o))}),t._UZ(1,"img",33),t.TgZ(2,"div",34),t._uU(3),t.ALo(4,"maxNumber"),t.qZA()()}if(2&n){const e=a.ngLet,i=t.oxw().$implicit,o=t.oxw(2);t.Q6J("ngClass",t.WLB(7,no,e>0,o.recipient.wordId===i)),t.xp6(1),t.Q6J("src","/assets/images/gift-bidding-game/"+i+"-min.png",t.LSH),t.xp6(2),t.hij(" ",t.Dn7(4,3,e,99,!1)," ")}}function oo(n,a){if(1&n&&(t.ynx(0),t.YNc(1,io,5,10,"div",31),t.BQk()),2&n){const e=a.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngLet",(null==i.prizeHistoryMap[e]?null:i.prizeHistoryMap[e].amount)-(i.wordSelectedMap[e]||0)+(i.recipient.wordId===e?1:0))}}function ao(n,a){if(1&n&&(t.TgZ(0,"div",29),t.YNc(1,oo,2,1,"ng-container",30),t.ALo(2,"slice"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,e.wordsArr,0,8))}}const ro=function(n){return[n]};let so=(()=>{class n extends _.V{constructor(e,i){super(),this.userService=e,this.giftService=i,this.recipient={address:"",transferAmount:null,wordId:""},this.canRemove=!0,this.readonly=!1,this.showLabels=!0,this.minAmount=0,this.assetImage="assets/images/TYD-small.png",this.handleRemove=new t.vpe,this.onSelectWord=new t.vpe,this.wordSelectedMap={},this.validateUser=new P.x,this.validateAmount=new P.x,this.wordsArr=["Word-1","Word-2","Word-3","Word-4","Word-5","Word-6","Word-7","Word-8"],this.prizeHistory=[],this.prizeHistoryMap={},this.isOpenDropdown=!1}ngOnInit(){this.validateUser.pipe((0,I.b)(1e3),(0,vt.x)(),(0,Ei.w)(e=>e?(this.recipient.validStatus="validating",this.userService.isUserExists(e).pipe((0,g.R)(this.validateUser))):(0,yt.of)(null))).subscribe(e=>{e?(this.recipient.validStatus=e?.data?.exist?"valid":"invalid",this.recipient.avatar=e?.data?.avatar??"/assets/images/sign-up-user.svg",this.recipient.userId=e?.data?.userId,console.log(this.recipient.userId)):this.recipient.validStatus=""}),this.validateAmount.pipe((0,I.b)(1e3),(0,vt.x)()).subscribe(e=>{this.recipient.amountInvalid=parseFloat(`${this.recipient.transferAmount??0}`)<this.minAmount}),this.giftService.prizeHistory$.pipe((0,g.R)(this.destroyStream$)).subscribe(e=>{this.prizeHistoryMap={},e.forEach(i=>{this.prizeHistoryMap[i.wordId]=i})})}onClickRemoveBtn(){this.canRemove&&this.handleRemove.emit(!0)}openDropdown(e){this.popover.event=e,this.isOpenDropdown=!0}handleSelect(e){this.prizeHistoryMap[e]?.amount-(this.wordSelectedMap[e]||0)+(this.recipient.wordId===e?1:0)>0&&(this.popover.dismiss(),this.recipient.wordId=e,this.onSelectWord.emit(e))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.K),t.Y36(B))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gift-recipient-field"]],viewQuery:function(e,i){if(1&e&&t.Gf(d.d8,5),2&e){let o;t.iGM(o=t.CRH())&&(i.popover=o.first)}},inputs:{recipient:"recipient",canRemove:"canRemove",readonly:"readonly",showLabels:"showLabels",minAmount:"minAmount",assetImage:"assetImage",wordSelectedMap:"wordSelectedMap"},outputs:{handleRemove:"handleRemove",onSelectWord:"onSelectWord"},features:[t.qOj],decls:27,vars:22,consts:[[1,"flex","items-end","w-full"],[1,"flex-1","grid","grid-cols-11","gap-2"],[1,"fade-in-from-right","col-span-6",2,"--duration","300ms","--delay","100ms","--distance","50px"],["class","text-sm text-grey-1 font-medium ml-1",4,"ngIf"],[1,"wrap","relative","flex","items-center","rounded-lg","border","border-[#dddddd]","text-xl","overflow-hidden"],["class","ml-2 sm:ml-2.5 mr-px",4,"ngIf"],["alt","Transfer type","class","h-5 sm:h-7 ml-1.5 sm:ml-2 my-2 sm:my-0 rounded-full","slot","start",3,"src",4,"ngIf"],["class","h-5 w-5 sm:h-7 sm:w-7 ml-1.5 sm:ml-2 my-2 sm:my-0 rounded-full default-avatar",4,"ngIf"],[1,"recipient-form-field","text-xs","xs:text-base","sm:text-xl","h-9","font-medium",3,"placeholder","ngModel","ngModelChange"],[1,"error","text-xs","h-4","mt-px","invisible"],[1,"fade-in-from-left","col-span-5",2,"--duration","300ms","--delay","100ms","--distance","-50px"],["class","text-sm text-grey-1 font-medium ml-1 capitalize",4,"ngIf"],[1,"wrap","px-0.5","cursor-pointer","relative","flex","items-center","rounded-lg","border","border-[#dddddd]","text-xl","overflow-hidden",2,"height","38px",3,"click"],[1,"flex-1","pointer-events-none","flex","pl-1","whitespace-nowrap","overflow-hidden","text-base","font-medium",2,"color","var(--grey-1)"],[4,"ngIf","ngIfElse"],["notSelected",""],["name","caret-down-outline",1,"pointer-events-none","w-4","h-4"],[1,"flex","h-full","ml-1","sm:mr-1","mb-5",3,"ngClass"],[1,"remove-btn","flex","items-center","justify-center","rounded-full","w-5","h-5","sm:w-6","sm:h-6","cursor-pointer","mb-1",3,"click"],["name","close-outline",1,"rotate-180","cursor-pointer","w-5","h-5",3,"mousedown"],["alignment","center","side","bottom",1,"tab-popover",3,"arrow","isOpen","showBackdrop","didDismiss"],[1,"text-sm","text-grey-1","font-medium","ml-1"],[1,"ml-2","sm:ml-2.5","mr-px"],["alt","Transfer type","slot","start",1,"h-5","sm:h-7","ml-1.5","sm:ml-2","my-2","sm:my-0","rounded-full",3,"src"],[1,"h-5","w-5","sm:h-7","sm:w-7","ml-1.5","sm:ml-2","my-2","sm:my-0","rounded-full","default-avatar"],[1,"text-sm","text-grey-1","font-medium","ml-1","capitalize"],["alt","",1,"h-6","character","mr-1",3,"src"],[1,"opacity-50","pointer-events-none"],[1,"flex-1"],[1,"dropdown-wrapper","py-2"],[4,"ngFor","ngForOf"],["class","row-item flex items-center justify-between px-2 py-1",3,"ngClass","click",4,"ngLet"],[1,"row-item","flex","items-center","justify-between","px-2","py-1",3,"ngClass","click"],["alt","",1,"h-7","character",3,"src"],[1,"count"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,Di,3,3,"ion-label",3),t.TgZ(4,"div",4),t.YNc(5,$i,1,0,"app-loading-animation",5),t.YNc(6,Wi,1,1,"img",6),t.YNc(7,Ki,1,0,"div",7),t.TgZ(8,"ion-input",8),t.NdJ("ngModelChange",function(r){return i.recipient.address=r})("ngModelChange",function(r){return i.validateUser.next(r)}),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"div",9),t._uU(11),t.ALo(12,"translate"),t.qZA()(),t.TgZ(13,"div",10),t.YNc(14,Vi,3,3,"ion-label",11),t.TgZ(15,"div",12),t.NdJ("click",function(r){return i.openDropdown(r)}),t.TgZ(16,"div",13),t.YNc(17,Xi,4,1,"ng-container",14),t.YNc(18,to,3,3,"ng-template",null,15,t.W1O),t.qZA(),t.YNc(20,eo,3,3,"ng-template"),t._UZ(21,"ion-icon",16),t.qZA()()(),t.TgZ(22,"div",17)(23,"div",18),t.NdJ("click",function(){return i.onClickRemoveBtn()}),t.TgZ(24,"ion-icon",19),t.NdJ("mousedown",function(r){return r.preventDefault()}),t.qZA()()()(),t.TgZ(25,"ion-popover",20),t.NdJ("didDismiss",function(){return i.isOpenDropdown=!1}),t.YNc(26,ao,3,5,"ng-template"),t.qZA()),2&e){const o=t.MAs(19);t.xp6(3),t.Q6J("ngIf",i.showLabels),t.xp6(1),t.ekj("error-field","invalid"===i.recipient.validStatus),t.xp6(1),t.Q6J("ngIf","validating"===i.recipient.validStatus),t.xp6(1),t.Q6J("ngIf","valid"===i.recipient.validStatus),t.xp6(1),t.Q6J("ngIf","validating"!==i.recipient.validStatus&&"valid"!==i.recipient.validStatus),t.xp6(1),t.Q6J("placeholder",t.lcZ(9,16,"recipient-username"))("ngModel",i.recipient.address),t.xp6(3),t.hij(" ",t.lcZ(12,18,"account-does-not-exist")," "),t.xp6(3),t.Q6J("ngIf",i.showLabels),t.xp6(3),t.Q6J("ngIf",i.recipient.wordId)("ngIfElse",o),t.xp6(5),t.Q6J("ngClass",t.VKq(20,ro,i.canRemove?"visible":"invisible")),t.xp6(3),t.Q6J("arrow",!1)("isOpen",i.isOpenDropdown)("showBackdrop",!1)}},dependencies:[s.mk,s.sg,s.O5,d.gu,d.pK,d.Q$,d.d8,d.j9,H.h,ji.r,tt.JJ,tt.On,s.OU,u.X$,it],styles:["ion-input[_ngcontent-%COMP%]{--placeholder-color: var(--grey-1);--placeholder-font-weight: 500;--padding-top: 4px;--padding-bottom: 4px;--padding-left: 0;color:var(--text-strong)}@media (min-width: 640px){ion-input[_ngcontent-%COMP%]{--padding-left: 4px}}ion-input[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem;--padding-top: 4px;--padding-bottom: 4px;--placeholder-color: var(--grey-1);--placeholder-font-weight: 500}ion-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:500!important}@media (min-width: 640px){ion-input[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}}ion-input[_ngcontent-%COMP%]     input::-webkit-outer-spin-button, ion-input[_ngcontent-%COMP%]     input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}ion-input[_ngcontent-%COMP%]     input[type=number]{-moz-appearance:textfield}.remove-btn[_ngcontent-%COMP%]{background-color:#ee441126;color:#ff0024}.controls-wrapper[_ngcontent-%COMP%]{color:#ccc}.error-field[_ngcontent-%COMP%]{border-color:red}.default-avatar[_ngcontent-%COMP%]{background:#dcdcdc}app-loading-animation[_ngcontent-%COMP%]     .knight-rider-loader{font-size:9px;line-height:15px}@media (min-width: 640px){app-loading-animation[_ngcontent-%COMP%]     .knight-rider-loader{font-size:14px;line-height:20px}}.row-item[_ngcontent-%COMP%]{pointer-events:none}.row-item.active[_ngcontent-%COMP%]{pointer-events:auto;cursor:pointer}.row-item.active[_ngcontent-%COMP%]:hover{background-color:#0067fe4d}.row-item.selected[_ngcontent-%COMP%]{background-color:#0067fe99!important}.row-item[_ngcontent-%COMP%]   .character[_ngcontent-%COMP%]{filter:grayscale(1);opacity:.3}.row-item[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background-color:#a0a0a0;color:#fff;width:26px;height:26px;text-align:center;line-height:26px;font-weight:700;border-radius:9999px}.row-item.active[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background-color:#f72d49}.row-item.active[_ngcontent-%COMP%]   .character[_ngcontent-%COMP%]{filter:none;opacity:1}ion-popover[_ngcontent-%COMP%]{--width: 150px}ion-popover[_ngcontent-%COMP%]::part(content){border-radius:8px}"]}),n})();function lo(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",34)(1,"div",35),t._uU(2),t.qZA(),t.TgZ(3,"app-gift-recipient-field",36),t.NdJ("handleRemove",function(){const r=t.CHM(e).index,p=t.oxw(2);return t.KtG(p.onRemoveRecipient(r))})("onSelectWord",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.calculateWordMap())}),t.qZA()()}if(2&n){const e=a.$implicit,i=a.index,o=t.oxw(2);t.xp6(2),t.Oqu(i+1),t.xp6(1),t.Q6J("showLabels",0===i)("recipient",e)("minAmount",0)("canRemove",0!==i)("wordSelectedMap",o.wordSelectMap)}}function co(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"button",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.back.emit())}),t._UZ(4,"div",7),t.qZA(),t._UZ(5,"ion-icon",8),t.TgZ(6,"div",9),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"button",10),t.NdJ("click",function(){t.CHM(e),t.oxw();const o=t.MAs(1);return t.KtG(o.dismiss())}),t.O4$(),t.TgZ(10,"svg",11),t._UZ(11,"path",12),t.qZA()()(),t.kcU(),t.TgZ(12,"div",13),t._uU(13),t.ALo(14,"translate"),t.qZA(),t._UZ(15,"div",14),t.TgZ(16,"ng-scrollbar",15)(17,"div",16),t.YNc(18,lo,4,6,"div",17),t.qZA(),t.TgZ(19,"div",18)(20,"div",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onAddRecipient())}),t.TgZ(21,"div",20),t._UZ(22,"ion-icon",21),t.qZA(),t._uU(23),t.ALo(24,"translate"),t.qZA()()(),t.TgZ(25,"div",22),t._UZ(26,"div",23),t.TgZ(27,"div",24)(28,"div",25),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"div",26),t._uU(32),t.qZA()(),t.TgZ(33,"div",27)(34,"button",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleBack())}),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"div",29)(38,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSend())}),t.TgZ(39,"div",31),t._UZ(40,"app-send-icon",32),t.TgZ(41,"span",33),t._uU(42),t.ALo(43,"translate"),t.qZA()()()()()()()}if(2&n){const e=t.oxw();t.xp6(7),t.Oqu(t.lcZ(8,9,"send-gift")),t.xp6(6),t.Oqu(t.lcZ(14,11,"send-gift-desc")),t.xp6(5),t.Q6J("ngForOf",e.recipients),t.xp6(5),t.hij(" ",t.lcZ(24,13,"add-recipient")," "),t.xp6(6),t.hij(" ",t.lcZ(30,15,"recipients")," "),t.xp6(3),t.Oqu(e.recipients.length),t.xp6(3),t.hij(" ",t.lcZ(36,17,"go-back")," "),t.xp6(3),t.Q6J("disabled",e.isInvalidSendForm),t.xp6(4),t.Oqu(t.lcZ(43,19,"send"))}}let po=(()=>{class n extends _.V{constructor(e,i,o){super(),this.giftService=e,this.toast=i,this.i18n=o,this.isOpen=!1,this.isOpenChange=new t.vpe,this.back=new t.vpe,this.animated=!0,this.recipients=[{address:"",transferAmount:null}],this.wordSelectMap={},this.recipientsLength=0,this.isOpenSendSuccessModal=!1,this.jsongstring=JSON.stringify}ngOnInit(){}ngOnChanges(e){}handleBack(){var e=this;return(0,c.Z)(function*(){e.back.emit()})()}onRemoveRecipient(e){this.recipients.splice(e,1),this.calculateWordMap()}onAddRecipient(){this.recipients.push({address:"",transferAmount:null}),setTimeout(()=>{this.scrollBar?.scrollTo({bottom:0,duration:120})},100)}get isInvalidSendForm(){for(let e=0;e<this.recipients.length;e++)if(!this.recipients[e].address||!this.recipients[e].wordId||"valid"!==this.recipients[e].validStatus)return!0;return!1}onSend(){var e=this;return(0,c.Z)(function*(){const i=yield(0,h.n)(e.giftService.sendGift(e.recipients.map(o=>({wordId:o.wordId,userId:parseInt(o.userId||"0")}))));0==i.code?(e.giftService.updatePrizeHistory(),e.isOpenSendSuccessModal=!0,e.recipientsLength=e.recipients.length,e.recipients=[{address:"",transferAmount:null,wordId:""}],e.calculateWordMap()):e.presentError(i.message)})()}presentError(e){var i=this;return(0,c.Z)(function*(){yield i.presentToast({position:"bottom",message:i.i18n.instant(e),icon:"alert-circle-outline",duration:2500,color:"danger"})})()}presentToast(e){var i=this;return(0,c.Z)(function*(){yield(yield i.toast.create(e)).present()})()}calculateWordMap(){this.wordSelectMap={};for(let e=0;e<this.recipients.length;e++){const i=this.recipients[e].wordId||"";this.wordSelectMap[i]=this.wordSelectMap[i]?this.wordSelectMap[i]+1:1}}handleDismiss(){this.recipients=[{address:"",transferAmount:null}],this.isOpenChange.emit(!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(B),t.Y36(d.yF),t.Y36(u.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gift-send-modal"]],viewQuery:function(e,i){if(1&e&&(t.Gf(d.ki,5),t.Gf(z.KC,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.modal=o.first),t.iGM(o=t.CRH())&&(i.scrollBar=o.first)}},inputs:{isOpen:"isOpen",animated:"animated"},outputs:{isOpenChange:"isOpenChange",back:"back"},features:[t.qOj,t.TTD],decls:4,vars:7,consts:[[1,"normal-opacity",3,"animated","isOpen","didDismiss"],["modal",""],[3,"isSendGift","isOpen","amount","recipients","recipientName","isOpenChange","onSendMore"],[1,"rounded-2xl","bg-white","modal-wrapper-all"],[1,"flex","items-center","p-2","relative"],[1,"flex-1","font-bold","text-xl","xs:text-2xl","sm:text-3xl","flex","items-center"],[1,"-ml-2","p-2","pr-1",3,"click"],[1,"left-caret","big","mx-1","cursor-pointer"],["name","gift-outline",1,"text-[#2369FF]","mr-2"],[1,"capitalize"],[1,"absolute","right-0","top-0","transform","translate-x-1/3","-translate-y-1/3","w-8","p-1","cursor-pointer","bg-[#ff2145]","text-white","rounded-md","border-2","border-[#9D152B]",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],[1,"font-bold","px-2","text-xl"],[1,"border-b","border-[#ddd]"],["scrollShadow","",1,"block","modal-body"],[1,"py-2"],["class","flex items-end pl-1.5 mb-px",4,"ngFor","ngForOf"],[1,"fade-in-from-top","flex","items-center","w-full","px-2",2,"--duration","200ms","--delay","200ms","--distance","-50px"],[1,"animate-border","w-full","flex","items-center","justify-center","rounded-md","text-xl","py-2","select-none","cursor-pointer",3,"click"],[1,"add-button","flex","items-center","justify-center","w-5","h-5","rounded-full","mr-1"],["name","add-outline",1,"text-white"],[1,"px-2"],[1,"border-b","border-[#ddd]","mt-4","mb-2"],[1,"flex","justify-between","text-lg","sm:text-xl","mb-2"],[1,"fade-in-from-top",2,"--duration","200ms","--delay","250ms","--distance","-50px"],[1,"fade-in",2,"--duration","200ms","--delay","200ms"],[1,"flex","justify-between","flex-col-reverse","xs:flex-row","gap-2","xs:gap-0","mb-2"],["appRippleEffect","",1,"fade-in-from-right","btn-medium","w-full","xs:w-32","sm:w-44","close-button",2,"--duration","300ms","--delay","250ms",3,"click"],[1,"fade-in-from-left",2,"--duration","300ms","--delay","350ms"],["appRippleEffect","",1,"send-button","text-white","w-full","xs:w-32","sm:w-44","rounded-lg","font-medium","relative",3,"disabled","click"],[1,"flex","items-center","justify-center"],[1,"-ml-3"],[1,"-ml-1"],[1,"flex","items-end","pl-1.5","mb-px"],[1,"mb-5","mr-2"],["assetImage","assets/images/cny-inverted.png",1,"flex-1",3,"showLabels","recipient","minAmount","canRemove","wordSelectedMap","handleRemove","onSelectWord"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-modal",0,1),t.NdJ("didDismiss",function(){return i.handleDismiss()}),t.YNc(2,co,44,21,"ng-template"),t.qZA(),t.TgZ(3,"app-send-success-modal",2),t.NdJ("isOpenChange",function(r){return i.isOpenSendSuccessModal=r})("onSendMore",function(){return i.isOpenSendSuccessModal=!1,i.isOpenChange.emit(!0)}),t.qZA()),2&e&&(t.Q6J("animated",i.animated)("isOpen",i.isOpen),t.xp6(3),t.Q6J("isSendGift",!0)("isOpen",i.isOpenSendSuccessModal)("amount",1e3)("recipients",i.recipientsLength)("recipientName","recipientName"))},dependencies:[s.sg,d.gu,d.ki,Ct.E,z.KC,wt.C,Yi.e,so,u.X$],styles:['ion-modal[_ngcontent-%COMP%]{--width: 450px}ion-modal[_ngcontent-%COMP%]     .ion-page{padding-left:1rem;padding-right:1rem;padding-top:1rem;overflow:unset!important}ion-modal[_ngcontent-%COMP%]::part(content){overflow:unset!important}.modal-body[_ngcontent-%COMP%]{height:350px;overflow:auto}.back-btn[_ngcontent-%COMP%]{color:#2369ff}.left-caret[_ngcontent-%COMP%]{width:10px;height:10px;border-top:2px solid #2369FF;border-right:2px solid #2369FF;transform:rotate(-135deg)}.left-caret.big[_ngcontent-%COMP%]{width:14px;height:14px;border-top:3px solid #c0bcbc;border-right:3px solid #c0bcbc}.loader-container[_ngcontent-%COMP%]{height:80px;width:100%;position:relative}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;inset:0;margin:auto;height:32px;width:32px;border:3px solid transparent;border-top:3px solid rgba(0,0,0,.3);border-radius:50%;animation:loader-2-3 1.5s cubic-bezier(.77,0,.175,1) infinite}.loader-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;inset:0;margin:auto;height:32px;width:32px;border:3px solid rgba(0,0,0,.3);border-radius:50%}.animate-border[_ngcontent-%COMP%]{background-color:#e5f0fe;background:linear-gradient(90deg,#0067fe 50%,transparent 50%),linear-gradient(90deg,#0067fe 50%,transparent 50%),linear-gradient(0deg,#0067fe 50%,transparent 50%),linear-gradient(0deg,#0067fe 50%,transparent 50%);background-repeat:repeat-x,repeat-x,repeat-y,repeat-y;background-size:16px 2px,16px 2px,2px 16px,2px 16px;background-position:0px 0px,0 100%,0 0,100% 0px;padding:10px}.animate-border[_ngcontent-%COMP%]:hover{animation:border-dance .3s infinite linear}@keyframes border-dance{to{background-position:16px 0,-16px 100%,0 -16px,100% 16px}}.add-button[_ngcontent-%COMP%]{background-color:#0067fe}.send-button[_ngcontent-%COMP%]{border-color:#00deff;background-color:#0067fe}.send-button[_ngcontent-%COMP%]:not([disabled]):hover{background-color:#2f80f9}button[disabled][_ngcontent-%COMP%]{color:#8d8d8d;background:rgba(237,235,235,.5);border-color:#ddd}.close-button[_ngcontent-%COMP%]{background-color:#d6d6eb;border-color:#b1b1c9}.close-button[_ngcontent-%COMP%]:hover{background-color:#e5e5ed}.grey-border[_ngcontent-%COMP%]{border-color:#e0e0e0}.close-button[_ngcontent-%COMP%], .send-button[_ngcontent-%COMP%]{height:3rem;border-radius:.375rem;border-width:1px;border-style:solid;font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.close-button[_ngcontent-%COMP%], .send-button[_ngcontent-%COMP%]{height:3.5rem;font-size:1.5rem;line-height:2rem}}.modal-wrapper-all[_ngcontent-%COMP%]{box-shadow:0 2px 11px 3px #0000004d}']}),n})();function fo(n,a){if(1&n&&(t.TgZ(0,"span",37),t._uU(1),t.ALo(2,"maxNumber"),t.qZA()),2&n){const e=t.oxw().ngLet;t.xp6(1),t.hij(" ",t.Dn7(2,1,e,99,!0)," ")}}const go=function(n){return{active:n}},mo=function(n){return{"hide-popup":n}},uo=function(n){return{amount:n}};function ho(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleClick())}),t._UZ(1,"div",6),t.YNc(2,fo,3,5,"span",7),t.O4$(),t.TgZ(3,"svg",8)(4,"defs")(5,"linearGradient",9),t._UZ(6,"stop",10)(7,"stop",11),t.qZA()(),t.TgZ(8,"g",12),t._UZ(9,"circle",13),t.TgZ(10,"g",14)(11,"g",15),t._UZ(12,"image",16),t.qZA()()(),t.TgZ(13,"g",17),t._UZ(14,"path",18)(15,"path",19)(16,"path",20)(17,"path",21)(18,"path",22)(19,"path",23),t.qZA(),t._UZ(20,"g",24),t.qZA(),t.kcU(),t.TgZ(21,"div",25)(22,"div",26)(23,"div",27),t._UZ(24,"img",28),t.qZA(),t.TgZ(25,"div",29)(26,"div",30),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"div",31)(30,"div",32),t._uU(31),t.qZA()(),t.TgZ(32,"div",33)(33,"div",34),t._uU(34),t.ALo(35,"translate"),t.qZA()()(),t.TgZ(36,"div"),t._UZ(37,"img",35),t.qZA()(),t._UZ(38,"div",36),t.qZA()()}if(2&n){const e=a.ngLet,i=t.oxw();t.xp6(2),t.Q6J("ngIf",e),t.xp6(1),t.Q6J("ngClass",t.VKq(13,go,!!e)),t.xp6(18),t.Q6J("ngClass",t.VKq(15,mo,!i.showNotification)),t.xp6(3),t.Q6J("src",(null==i.notification?null:i.notification.avatar)||"/assets/images/sign-up-user.svg",t.LSH),t.xp6(3),t.hij(" ",t.lcZ(28,8,"gift-notification-title")," "),t.xp6(4),t.Oqu(null==i.notification?null:i.notification.username),t.xp6(3),t.hij(" ",t.xi3(35,10,"cny-2024-"+(null==i.notification?null:i.notification.giftCode),t.VKq(17,uo,null==i.notification?null:i.notification.giftReward))," "),t.xp6(3),t.Q6J("src",i.giftService.iconMap[(null==i.notification?null:i.notification.giftCode)||""],t.LSH)}}let _o=(()=>{class n extends _.V{constructor(e,i,o){super(),this.giftService=e,this.userService=i,this.router=o,this.displayNotification=!1,this.isOpenComingSoonModal=!1,this.isOpenHistoryModal=!1,this.isOpenBonusModal=!1,this.isOpenSendGiftModal=!1,this.isDisableAnimation=!1,this.amount=2,this.notification=null,this.showNotification=!1,this.enableAnimation=!0}ngOnInit(){m.Z.isServer||(this.giftService.updatePrizeHistory(),this.preloadImage(),this.displayNotification&&this.giftService.notificationWinnner$.pipe((0,g.R)(this.destroyStream$)).subscribe(e=>{this.setNoti(e)}),this.displayNotification&&this.giftService.initNotification())}setNoti(e){clearTimeout(this.timeout),this.notification=e,this.showNotification=!0,this.timeout=setTimeout(()=>{this.showNotification=!1},5e3)}handleClick(){this.userService.isLogin(!0)?(this.enableAnimation=!0,this.isOpenComingSoonModal=!0):this.router.navigate(["/auth/login"],{queryParams:{back:encodeURIComponent(this.router.url)}})}handleOpenHistory(e){this.enableAnimation=!1,this.from=e,this.isOpenHistoryModal=!0,this.isOpenComingSoonModal=!1,this.isOpenBonusModal=!1}handleBackFromHistory(){"bonus-modal"===this.from&&(this.isOpenBonusModal=!0),"open-gift-modal"===this.from&&(this.isOpenComingSoonModal=!0),this.isOpenHistoryModal=!1}handleClickCharacter(){this.isOpenBonusModal=!0,this.isOpenHistoryModal=!1}preloadImage(){var e=this;return(0,c.Z)(function*(){const i=yield(0,h.n)(e.giftService.getConfig());for(let o=0;o<i.length;o++)(new Image).src=i[o].icon})()}handleClickSendGift(){this.isOpenSendGiftModal=!0,this.isOpenHistoryModal=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(B),t.Y36(M.K),t.Y36(C.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gift-newyear-bidding-button"]],inputs:{displayNotification:"displayNotification"},features:[t.qOj],decls:6,vars:11,consts:[["class","prize-btn relative",3,"click",4,"ngLet"],[3,"animated","isOpen","onClickCharacter","onOpenHistory","isOpenChange"],[3,"animated","isOpen","back","onClickCharacter","onClickSendGift","isOpenChange"],[3,"animated","isOpen","onOpenHistory","back","isOpenChange"],[3,"animated","isOpen","back","isOpenChange"],[1,"prize-btn","relative",3,"click"],[1,"fake-button","absolute","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2","rounded-full"],["class","count",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 84.68 74.41",1,"prize-button",2,"overflow","visible",3,"ngClass"],["id","myGradient","gradientTransform","rotate(45)"],["offset","5%","stop-color","#858AD8"],["offset","95%","stop-color","#FCD1FD"],["id","button"],["id","button-body","cx","42.34","cy","38.72","r","32.14","fill","#fff","stroke","#dfdfdf","stroke-miterlimit","10","stroke-width","2"],["id","button-box-out"],["id","button-box-in"],["width","512","height","513","transform","translate(16.88 13.21) scale(0.1)",0,"xlink","href","assets/images/gift-bidding-game/gift-box-orange-cropped-250px-min.png"],["id","stars"],["opacity","0","id","star-1","d","M19.37,26.15l4.55,1.58a.13.13,0,0,1,0,.25l-4.55,1.57a.15.15,0,0,0-.08.08l-1.58,4.55a.13.13,0,0,1-.25,0l-1.57-4.55a.15.15,0,0,0-.08-.08L11.26,28a.13.13,0,0,1,0-.25l4.55-1.58a.11.11,0,0,0,.08-.08l1.57-4.55a.13.13,0,0,1,.25,0l1.58,4.55A.11.11,0,0,0,19.37,26.15Z","fill","#fffcca","stroke","#ffd195","stroke-miterlimit","10","stroke-width","0.21"],["opacity","0","id","star-2","d","M45.2,26.15l4.55,1.58a.13.13,0,0,1,0,.25L45.2,29.55l-.08.08-1.57,4.55a.13.13,0,0,1-.25,0l-1.58-4.55a.15.15,0,0,0-.08-.08L37.09,28a.13.13,0,0,1,0-.25l4.55-1.58a.11.11,0,0,0,.08-.08l1.58-4.55a.13.13,0,0,1,.25,0l1.57,4.55A.15.15,0,0,0,45.2,26.15Z","fill","#fffcca","stroke","#ffd195","stroke-miterlimit","10","stroke-width","0.21"],["opacity","0","id","star-3","d","M34.81,26.15l4.55,1.58a.13.13,0,0,1,0,.25l-4.55,1.57a.15.15,0,0,0-.08.08l-1.58,4.55a.13.13,0,0,1-.25,0l-1.57-4.55a.15.15,0,0,0-.08-.08L26.7,28a.13.13,0,0,1,0-.25l4.55-1.58a.11.11,0,0,0,.08-.08l1.57-4.55a.13.13,0,0,1,.25,0l1.58,4.55A.11.11,0,0,0,34.81,26.15Z","fill","#fffcca","stroke","#ffd195","stroke-miterlimit","10","stroke-width","0.21"],["opacity","0","id","star-4","d","M69.58,26.15l4.55,1.58a.13.13,0,0,1,0,.25l-4.55,1.57a.15.15,0,0,0-.08.08l-1.58,4.55a.13.13,0,0,1-.25,0L66.1,29.63a.3.3,0,0,0-.08-.08L61.47,28a.13.13,0,0,1,0-.25L66,26.15a.15.15,0,0,0,.08-.08l1.57-4.55a.13.13,0,0,1,.25,0l1.58,4.55A.11.11,0,0,0,69.58,26.15Z","fill","#fffcca","stroke","#ffd195","stroke-miterlimit","10","stroke-width","0.21"],["opacity","0","id","star-5","d","M56,26.15l4.55,1.58a.13.13,0,0,1,0,.25L56,29.55a.15.15,0,0,0-.08.08l-1.57,4.55a.13.13,0,0,1-.25,0l-1.58-4.55a.15.15,0,0,0-.08-.08L47.86,28a.13.13,0,0,1,0-.25l4.55-1.58a.11.11,0,0,0,.08-.08l1.58-4.55a.13.13,0,0,1,.25,0l1.57,4.55A.11.11,0,0,0,56,26.15Z","fill","#fffcca","stroke","#ffd195","stroke-miterlimit","10","stroke-width","0.21"],["opacity","0","id","star-6","d","M28.39,26.15l4.55,1.58a.13.13,0,0,1,0,.25l-4.55,1.57a.15.15,0,0,0-.08.08l-1.58,4.55a.13.13,0,0,1-.25,0l-1.57-4.55a.15.15,0,0,0-.08-.08L20.28,28a.13.13,0,0,1,0-.25l4.55-1.58a.11.11,0,0,0,.08-.08l1.57-4.55a.13.13,0,0,1,.25,0l1.58,4.55A.11.11,0,0,0,28.39,26.15Z","fill","#fffcca","stroke","#ffd195","stroke-miterlimit","10","stroke-width","0.21"],["id","badge","opacity","0"],[1,"notification-popup","absolute","left-2","bottom-full",3,"ngClass"],[1,"w-full","rounded-full","shadow-2xl","px-2","bg-white","flex","items-center","border","border-[#e4e2e2]","overflow-hidden"],[1,"avatar","rounded-full","overflow-hidden"],["alt","",1,"object-cover","object-center","w-full","h-full",3,"src"],[1,"prize-info","flex-1","text-center","p-1"],[1,"text-xs","font-bold","text-pink","leading-4"],[1,"font-bold","text-xl","leading-6","relative","h-6"],[1,"absolute","inset-0","truncate"],[1,"font-bold","text-xl","leading-4","relative","h-4"],[1,"font-medium","opacity-70","text-xs","leading-4","inset-0","absolute","whitespace-nowrap"],["alt","",1,"prize-icon","h-10",3,"src"],[1,"caret"],[1,"count"]],template:function(e,i){1&e&&(t.YNc(0,ho,39,19,"button",0),t.ALo(1,"async"),t.TgZ(2,"app-gift-open-modal",1),t.NdJ("onClickCharacter",function(){return i.enableAnimation=!0,i.isOpenComingSoonModal=!1,i.isOpenBonusModal=!0})("onOpenHistory",function(){return i.handleOpenHistory("open-gift-modal")})("isOpenChange",function(r){return i.isOpenComingSoonModal=r}),t.qZA(),t.TgZ(3,"app-gift-history-modal",2),t.NdJ("back",function(){return i.handleBackFromHistory()})("onClickCharacter",function(){return i.handleClickCharacter()})("onClickSendGift",function(){return i.handleClickSendGift()})("isOpenChange",function(r){return i.isOpenHistoryModal=r}),t.qZA(),t.TgZ(4,"app-gift-bonus-modal",3),t.NdJ("onOpenHistory",function(){return i.handleOpenHistory("bonus-modal")})("back",function(){return i.isOpenBonusModal=!1,i.isOpenComingSoonModal=!0})("isOpenChange",function(r){return i.isOpenBonusModal=r}),t.qZA(),t.TgZ(5,"app-gift-send-modal",4),t.NdJ("back",function(){return i.isOpenSendGiftModal=!1,i.isOpenHistoryModal=!0})("isOpenChange",function(r){return i.isOpenSendGiftModal=r}),t.qZA()),2&e&&(t.Q6J("ngLet",t.lcZ(1,9,i.giftService.count$)),t.xp6(2),t.Q6J("animated",i.enableAnimation)("isOpen",i.isOpenComingSoonModal),t.xp6(1),t.Q6J("animated",!1)("isOpen",i.isOpenHistoryModal),t.xp6(1),t.Q6J("animated",!1)("isOpen",i.isOpenBonusModal),t.xp6(1),t.Q6J("animated",!1)("isOpen",i.isOpenSendGiftModal))},dependencies:[s.mk,s.O5,H.h,si,yi,Ri,po,s.Ov,u.X$,it],styles:["[_nghost-%COMP%]{display:block;position:fixed;bottom:65px;left:0;cursor:pointer}@media (min-width: 768px){[_nghost-%COMP%]{left:10px;bottom:10px}}@media (min-width: 1024px){[_nghost-%COMP%]{left:10px;bottom:10px}}@media (min-width: 1280px){[_nghost-%COMP%]{left:calc(50vw - 645px)}}@media (min-width: 1360px){[_nghost-%COMP%]{left:calc(50vw - 650px)}}@media (min-width: 1440px){[_nghost-%COMP%]{left:calc(50vw - 725px)}}@media (min-width: 1480px){[_nghost-%COMP%]{left:calc(50vw - 750px)}}@keyframes button-star-fade{0%{opacity:0;transform:none}35%{opacity:1}60%{opacity:1}to{opacity:0;transform:translateY(-40px)}}.prize-btn[_ngcontent-%COMP%]   .fake-button[_ngcontent-%COMP%]{width:64.5px;height:64.5px;box-shadow:0 10px 16px #0006}.prize-button[_ngcontent-%COMP%]{width:85px;cursor:pointer}.prize-button.active[_ngcontent-%COMP%]   #star-1[_ngcontent-%COMP%]{transform-origin:17.5886px 27.8539px;animation:button-star-fade 2s ease-in-out both infinite}.prize-button.active[_ngcontent-%COMP%]   #star-2[_ngcontent-%COMP%]{transform-origin:43.4229px 27.8538px;animation:button-star-fade 2s -.6s ease-in-out both infinite}.prize-button.active[_ngcontent-%COMP%]   #star-3[_ngcontent-%COMP%]{transform-origin:33.028px 27.8538px;animation:button-star-fade 2s -1.2s ease-in-out both infinite}.prize-button.active[_ngcontent-%COMP%]   #star-4[_ngcontent-%COMP%]{transform-origin:67.7971px 27.8538px;animation:button-star-fade 2s -1.8s ease-in-out both infinite}.prize-button.active[_ngcontent-%COMP%]   #star-5[_ngcontent-%COMP%]{transform-origin:54.192px 27.8538px;animation:button-star-fade 2s -2.4s ease-in-out both infinite}.prize-button.active[_ngcontent-%COMP%]   #button-body[_ngcontent-%COMP%]{fill:url(#myGradient);stroke:#8101ff}.prize-button.active[_ngcontent-%COMP%]   #badge[_ngcontent-%COMP%]{opacity:1}@keyframes button-box-wiggle{0%,30%,35%,65%,to{transform:none}15%{transform:rotate(-5deg)}50%{transform:rotate(5deg)}}@keyframes button-box-scale{0%,15%,35%,50%,to{transform:none}7.5%{transform:scale(1.03,1.01)}42.5%{transform:scale(1.01,1.02)}}.prize-button.active[_ngcontent-%COMP%]   #button-box-out[_ngcontent-%COMP%]{transform-origin:42.3408px 64.2226px;animation:button-box-wiggle 2s ease-in-out infinite}.prize-button.active[_ngcontent-%COMP%]   #button-box-in[_ngcontent-%COMP%]{transform-origin:42.3408px 64.2226px;animation:button-box-scale 2s ease-in-out infinite}.notification-popup[_ngcontent-%COMP%]{width:250px}.notification-popup[_ngcontent-%COMP%]:not(.hide-popup){animation:shift .3s;opacity:100}.notification-popup[_ngcontent-%COMP%]:not(.hide-popup)   .prize-info[_ngcontent-%COMP%]{opacity:0;transform:translate(-30px);animation:infoshift .3s forwards;animation-delay:.3s}.notification-popup[_ngcontent-%COMP%]:not(.hide-popup)   .prize-icon[_ngcontent-%COMP%]{opacity:0;transform:translate(-30px);animation:iconshift .3s forwards;animation-delay:.3s}.notification-popup.hide-popup[_ngcontent-%COMP%]{opacity:0!important;visibility:hidden;transition:opacity .5s,visibility .1s ease .5s}.avatar[_ngcontent-%COMP%]{width:50px;height:50px}.text-pink[_ngcontent-%COMP%]{color:#ff0060}.caret[_ngcontent-%COMP%]{--a: 1em;border-bottom:calc(.866 * var(--a)) solid white;border-left:calc(var(--a) / 2) solid transparent;border-right:calc(var(--a) / 2) solid transparent;border-top:0;height:0;width:0;transform:rotate(-60deg);margin-left:24px;margin-top:-5px}@keyframes shift{0%{transform:translate(-30px)}to{transform:translate(0)}}@keyframes infoshift{0%{transform:translate(-30px);opacity:0}to{transform:translate(0);opacity:100}}@keyframes iconshift{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:100}}.count[_ngcontent-%COMP%]{background-color:#8101ff;min-width:28px;position:absolute;right:-.375rem;top:.5rem;display:inline-block;border-radius:9999px;padding-left:.25rem;padding-right:.25rem;font-size:.875rem;line-height:1.25rem;font-weight:700;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));line-height:18px}"]}),n})(),et=(()=>{class n{constructor(e,i,o){this.http=e,this.req=i,this.userService=o,this.haveCheckedIn$=new k.X(!1),this.spinCount$=new k.X(0),this.checkinCount$=new k.X(0),this.checkinArr$=new k.X([]),this.prizeHistory$=new k.X([]),this.userService.loginStateChange.subscribe(r=>{m.Z.isServer||(this.updateState(),this.updateCheckinCount(),this.updateSpinCount())})}updateState(){var e=this;return(0,c.Z)(function*(){return yield(0,h.n)(e.http.post(`${b.N.BASE_URL}/user/attendance/queryIsCheck`,{}).pipe((0,w.U)(i=>1==i.data),(0,L.b)(i=>e.haveCheckedIn$.next(i))))})()}updateSpinCount(e=!1){var i=this;return(0,c.Z)(function*(){return yield(0,h.n)(i.getSpinCount(e).pipe((0,L.b)(o=>{i.spinCount$.next(o)})))})()}updateCheckinCount(){var e=this;return(0,c.Z)(function*(){return yield(0,h.n)(e.http.post(`${b.N.BASE_URL}/user/attendance/queryNum`,{}).pipe((0,w.U)(i=>i?.data?.num||0),(0,L.b)(i=>{e.checkinCount$.next(i),e.checkinArr$.next([].constructor(i).fill(!0))})))})()}getSpinCount(e=!1){return this.http.get(`${b.N.BASE_URL}/user/lottery/getLotteryNum`,{params:{type:3}}).pipe((0,w.U)(i=>e?0:i?.data?.num||0))}spinWheel(){return this.http.post(`${b.N.BASE_URL}/user/lottery/lotteryGift`,{type:3})}getConfig(){return this.http.get(`${b.N.BASE_URL}/user/lottery/getNewYearGiftConfig`).pipe((0,w.U)(e=>e?.data?.rows||[]))}checkin(){return this.http.post(`${b.N.BASE_URL}/user/attendance/checkIn`,{})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(V.eN),t.LFG(nt.Z,8),t.LFG(M.K))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Mt=l(35482),Ot=l(23284);const xo=function(n,a){return{active:n,"none-animation":a}};let rt=(()=>{class n{constructor(e){this.router=e,this.isActive=!1,this.disabledAnimation=!1,this.forceDisabled=!1}ngOnChanges(e){e.isActive.isFirstChange()&&!0===e.isActive.currentValue&&(this.forceDisabled=!0)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-checkin-item"]],inputs:{isActive:"isActive",disabledAnimation:"disabledAnimation"},features:[t.TTD],decls:36,vars:4,consts:[["id","checkmark-an","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 273.78 185.73",3,"ngClass"],["id","checkmark-grad","x1","89.45","y1","94.93","x2","182.15","y2","94.93","gradientUnits","userSpaceOnUse"],["offset","0","stop-color","#ff7111"],["offset","1","stop-color","#ff9a22"],["id","star-1","points","21.14 63.35 20.12 68.15 24.38 70.6 19.5 71.12 18.48 75.92 16.48 71.44 11.6 71.96 15.24 68.67 13.24 64.19 17.5 66.64 21.14 63.35","fill","#ffe56a","opacity","0"],["id","star-2","points","244.74 17.28 244.11 20.27 246.75 21.79 243.72 22.11 243.08 25.1 241.84 22.31 238.8 22.64 241.07 20.59 239.82 17.8 242.47 19.33 244.74 17.28","fill","#ffe56a","opacity","0"],["id","star-3","points","208.21 81.31 207.19 86.11 211.44 88.56 206.56 89.08 205.54 93.88 203.54 89.4 198.66 89.91 202.31 86.63 200.31 82.14 204.56 84.59 208.21 81.31","fill","#ffe56a","opacity","0"],["id","star-4","points","177.35 149.69 176.33 154.5 180.59 156.95 175.71 157.47 174.69 162.27 172.69 157.78 167.81 158.3 171.45 155.01 169.45 150.53 173.71 152.98 177.35 149.69","fill","#ffe56a","opacity","0"],["id","star-5","points","36.29 156.06 35.27 160.86 39.52 163.31 34.64 163.83 33.63 168.63 31.63 164.15 26.74 164.66 30.39 161.38 28.39 156.89 32.64 159.34 36.29 156.06","fill","#ffe56a","opacity","0"],["id","triangle-1","points","49.36 23.1 40.38 22.11 44.01 30.38 49.36 23.1","fill","#029cff","opacity","0"],["id","triangle-2","points","213.49 41.17 203.83 46.75 213.49 52.33 213.49 41.17","fill","#029cff","opacity","0"],["id","triangle-3","points","133.49 165.82 132.91 174.64 140.84 170.73 133.49 165.82","fill","#029cff","opacity","0"],["id","heart-1","d","M140.57,17.91a45.5,45.5,0,0,1-3.33-3.25,2.3,2.3,0,0,1,.14-3.2,2.27,2.27,0,0,1,1.63-.59,2.3,2.3,0,0,1,1.57.73l.51.56.58-.51a2.23,2.23,0,0,1,1.63-.59,2.27,2.27,0,0,1,1.57.74,2.3,2.3,0,0,1-.14,3.19,45.43,45.43,0,0,1-3.62,2.94l-.28.22Z","fill","#f7294d","opacity","0"],["id","heart-2","d","M242.46,134a67.5,67.5,0,0,1,6.77-.71,3.36,3.36,0,0,1,3.46,3.15,3.32,3.32,0,0,1-3.14,3.46l-1.11.05,0,1.13a3.3,3.3,0,0,1-3.15,3.46,3.36,3.36,0,0,1-3.46-3.14,66.16,66.16,0,0,1,.07-6.81l0-.52Z","fill","#f7294d","opacity","0"],["id","heart-3","d","M37.43,116.29c-.41.95-1.63,3.82-2.31,4.95a2.71,2.71,0,0,1-3.6,1.08,2.66,2.66,0,0,1-1.07-3.6l.42-.78-.79-.44a2.67,2.67,0,0,1-1.29-1.58,2.63,2.63,0,0,1,.21-2,2.7,2.7,0,0,1,3.59-1.08,54.14,54.14,0,0,1,4.65,2.87l.35.22Z","fill","#f7294d","opacity","0"],["id","heart-4","d","M73.71,51.72c-.79.09-3.21.38-4.25.35a2.08,2.08,0,0,1-.1-4.15h.69V47.2a2,2,0,0,1,.57-1.48,2.06,2.06,0,0,1,1.45-.65,2.12,2.12,0,0,1,2.13,2c.06.92,0,2.87-.14,4.27l0,.32Z","fill","#f7294d","opacity","0"],["id","circle-1","cx","58.87","cy","92.62","r","5.03","fill","none","stroke","#65ff8a","stroke-miterlimit","10","opacity","0"],["id","circle-2","cx","256.11","cy","88.36","r","5.85","fill","none","stroke","#65ff8a","stroke-miterlimit","10","opacity","0"],["id","circle-3","cx","214.46","cy","121.55","r","3.06","fill","none","stroke","#65ff8a","stroke-miterlimit","10","opacity","0"],["id","circle-4","cx","94.01","cy","150.65","r","5.85","fill","none","stroke","#65ff8a","stroke-miterlimit","10","opacity","0"],["id","line-1","d","M112,50.57,90.74,19.12","fill","none","stroke","#892ef7","stroke-linecap","round","stroke-miterlimit","10","stroke-width","3","opacity","0"],["id","line-2","d","M171.29,43.4l26.59-27","fill","none","stroke","#892ef7","stroke-linecap","round","stroke-miterlimit","10","stroke-width","3","opacity","0"],["id","line-3","d","M188.94,133.75l27.87,25.74","fill","none","stroke","#892ef7","stroke-linecap","round","stroke-miterlimit","10","stroke-width","3","opacity","0"],["id","line-4","d","M82.32,120,47.74,135.6","fill","none","stroke","#892ef7","stroke-linecap","round","stroke-miterlimit","10","stroke-width","3","opacity","0"],["id","grey-checkmark"],["cx","135.8","cy","94.93","r","35.48","fill","none","stroke","#c6c6c6","stroke-miterlimit","10","stroke-width","8"],["points","115.22 95.77 128.38 108.93 156.38 80.92","fill","none","stroke","#c6c6c6","stroke-miterlimit","10","stroke-width","8"],["id","main-circle"],["cx","135.8","cy","94.93","r","46.35","fill","url(#checkmark-grad)"],["cx","135.8","cy","94.93","r","46.35","fill","none","stroke","#000","stroke-miterlimit","10","stroke-width","0.98"],["id","ch-circle","d","M135.8,59.44a35.49,35.49,0,1,1-35.48,35.49A35.49,35.49,0,0,1,135.8,59.44","fill","none","stroke","#fff","stroke-miterlimit","10","stroke-width","8"],["id","ch-body-2","d","M125.54,111.77l30.84-30.85","fill","none","stroke","#fff","stroke-miterlimit","10","stroke-width","8"],["id","ch-body-1","d","M115.22,95.77l16,16","fill","none","stroke","#fff","stroke-miterlimit","10","stroke-width","8"]],template:function(e,i){1&e&&(t.O4$(),t.TgZ(0,"svg",0),t._UZ(1,"style"),t.TgZ(2,"defs")(3,"linearGradient",1),t._UZ(4,"stop",2)(5,"stop",3),t.qZA()(),t._UZ(6,"polygon",4)(7,"polygon",5)(8,"polygon",6)(9,"polygon",7)(10,"polygon",8)(11,"polygon",9)(12,"polygon",10)(13,"polygon",11)(14,"path",12)(15,"path",13)(16,"path",14)(17,"path",15)(18,"circle",16)(19,"circle",17)(20,"circle",18)(21,"circle",19)(22,"path",20)(23,"path",21)(24,"path",22)(25,"path",23),t.TgZ(26,"g",24),t._UZ(27,"circle",25)(28,"polyline",26),t.qZA(),t.TgZ(29,"g",27),t._UZ(30,"circle",28)(31,"circle",29),t.TgZ(32,"g"),t._UZ(33,"path",30)(34,"path",31)(35,"path",32),t.qZA()()()),2&e&&t.Q6J("ngClass",t.WLB(1,xo,i.isActive,i.disabledAnimation||i.forceDisabled))},dependencies:[s.mk],styles:["[_nghost-%COMP%]{position:relative;display:block;padding-bottom:100%;background:white;border-radius:100%}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{width:310%;position:absolute;left:50%;top:50%;transform:translate(-49.7%,-51%)}#checkmark-an.active[_ngcontent-%COMP%]{z-index:10}#checkmark-an.active[_ngcontent-%COMP%]   #star-1[_ngcontent-%COMP%]{transform-origin:17.99px 69.63px;transform:translate(117px,25px) rotate(-720deg) scale(2);animation:ch-in-place .78s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small .78s 1.05s ease-in-out both}#checkmark-an.active[_ngcontent-%COMP%]   #star-2[_ngcontent-%COMP%]{transform-origin:242.78px 21.19px;transform:translate(-107px,74px) rotate(720deg) scale(2);animation:ch-in-place .81s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small .81s 1.05s ease-in-out both}#checkmark-an.active[_ngcontent-%COMP%]   #star-3[_ngcontent-%COMP%]{transform-origin:205.05px 87.59px;transform:translate(-68px,8px) rotate(-720deg) scale(2);animation:ch-in-place 1.07s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small 1.07s 1.05s ease-in-out both}#checkmark-an.active[_ngcontent-%COMP%]   #star-4[_ngcontent-%COMP%]{transform-origin:174.2px 155.98px;transform:translate(-37px,-60px) rotate(720deg) scale(2);animation:ch-in-place .83s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small .83s 1.05s ease-in-out both}#checkmark-an.active[_ngcontent-%COMP%]   #star-5[_ngcontent-%COMP%]{transform-origin:33.13px 162.35px;transform:translate(101px,-68px) rotate(-720deg) scale(2);animation:ch-in-place 1.09s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small 1.09s 1.05s ease-in-out both}#checkmark-an.active[_ngcontent-%COMP%]   #triangle-1[_ngcontent-%COMP%]{transform-origin:44.87px 26.24px;transform:translate(90px,70px) rotate(720deg) scale(2);animation:ch-in-place .99s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small .99s 1.05s ease-in-out both}#checkmark-an.active[_ngcontent-%COMP%]   #triangle-2[_ngcontent-%COMP%]{transform-origin:208.66px 46.75px;transform:translate(-73px,47px) rotate(-720deg) scale(2);animation:ch-in-place .72s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small .72s 1.05s ease-in-out both}#checkmark-an.active[_ngcontent-%COMP%]   #triangle-3[_ngcontent-%COMP%]{transform-origin:136.88px 170.23px;transform:translateY(-75px) rotate(720deg) scale(2);animation:ch-in-place .87s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small .87s 1.05s ease-in-out both}#checkmark-an.active[_ngcontent-%COMP%]   #heart-1[_ngcontent-%COMP%]{transform-origin:141.05px 14.51px;transform:translate(-6px,80px) scale(2);animation:ch-in-place .91s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small .91s 1.05s ease-in-out both}#checkmark-an.active[_ngcontent-%COMP%]   #heart-2[_ngcontent-%COMP%]{transform-origin:247.23px 138.92px;transform:translate(-112px,-43px) scale(2);animation:ch-in-place .74s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small .74s 1.05s ease-in-out both}#checkmark-an.active[_ngcontent-%COMP%]   #heart-3[_ngcontent-%COMP%]{transform-origin:33.14px 117.58px;transform:translate(103px,-20px) scale(2);animation:ch-in-place 1.01s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small 1.01s 1.05s ease-in-out both}#checkmark-an.active[_ngcontent-%COMP%]   #heart-4[_ngcontent-%COMP%]{transform-origin:70.84px 48.57px;transform:translate(65px,49px) scale(2);animation:ch-in-place .81s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small .81s 1.05s ease-in-out both}#checkmark-an.active[_ngcontent-%COMP%]   #circle-1[_ngcontent-%COMP%]{transform-origin:58.87px 92.62px;transform:translate(77px,5px) scale(2);animation:ch-in-place 1.02s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small 1.02s 1.05s ease-in-out both}#checkmark-an.active[_ngcontent-%COMP%]   #circle-2[_ngcontent-%COMP%]{transform-origin:256.11px 88.36px;transform:translate(-120px,10px) scale(2);animation:ch-in-place 1s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small 1s 1.05s ease-in-out both}#checkmark-an.active[_ngcontent-%COMP%]   #circle-3[_ngcontent-%COMP%]{transform-origin:214.46px 121.55px;transform:translate(-78px,-24px) scale(2);animation:ch-in-place .93s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small .93s 1.05s ease-in-out both}#checkmark-an.active[_ngcontent-%COMP%]   #circle-4[_ngcontent-%COMP%]{transform-origin:94.01px 150.65px;transform:translate(41px,-51px) scale(2);animation:ch-in-place 1.03s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small 1.03s 1.05s ease-in-out both}#checkmark-an.active[_ngcontent-%COMP%]   #line-1[_ngcontent-%COMP%], #checkmark-an.active[_ngcontent-%COMP%]   #line-2[_ngcontent-%COMP%], #checkmark-an.active[_ngcontent-%COMP%]   #line-3[_ngcontent-%COMP%], #checkmark-an.active[_ngcontent-%COMP%]   #line-4[_ngcontent-%COMP%]{stroke-dasharray:30 46;stroke-dashoffset:30}#checkmark-an.active[_ngcontent-%COMP%]   #line-1[_ngcontent-%COMP%]{transform:translate(6px,9px);animation:ch-in-place .99s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small .99s 1.05s ease-in-out both,ch-draw-in .99s 1.2s cubic-bezier(.33,1,.68,1) both}#checkmark-an.active[_ngcontent-%COMP%]   #line-2[_ngcontent-%COMP%]{transform:translate(-9px,9px);animation:ch-in-place .99s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small .99s 1.05s ease-in-out both,ch-draw-in .99s 1.2s cubic-bezier(.33,1,.68,1) both}#checkmark-an.active[_ngcontent-%COMP%]   #line-3[_ngcontent-%COMP%]{transform:translate(-9px,-9px);animation:ch-in-place 1.02s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small 1.02s 1.05s ease-in-out both,ch-draw-in 1.02s 1.2s cubic-bezier(.33,1,.68,1) both}#checkmark-an.active[_ngcontent-%COMP%]   #line-4[_ngcontent-%COMP%]{transform:translate(7px,-3px);animation:ch-in-place .75s 1.05s cubic-bezier(.33,1,.68,1) both,ch-fo-small .75s 1.05s ease-in-out both,ch-draw-in .75s 1.2s cubic-bezier(.33,1,.68,1) both}@keyframes ch-draw-in{to{stroke-dashoffset:-38}}@keyframes ch-in-place{to{transform:none}}@keyframes ch-fo-small{2%,80%{opacity:1}0%,1%,to{opacity:0}}#checkmark-an[_ngcontent-%COMP%]   #main-circle[_ngcontent-%COMP%]{transform-origin:135.8px 94.92px;transform:scale(0)}#checkmark-an.active[_ngcontent-%COMP%]   #main-circle[_ngcontent-%COMP%]{transform-origin:135.8px 94.92px;animation:ch-main .5s .1s cubic-bezier(.34,1.56,.64,1) both}#checkmark-an.active[_ngcontent-%COMP%]   #ch-circle[_ngcontent-%COMP%]{stroke-dasharray:224 224;stroke-dashoffset:224;animation:ch-draw .5s .3s ease-in-out both}#checkmark-an.active[_ngcontent-%COMP%]   #ch-body-1[_ngcontent-%COMP%]{stroke-dasharray:23 23;stroke-dashoffset:23;animation:ch-draw .2s .8s ease-in both}#checkmark-an.active[_ngcontent-%COMP%]   #ch-body-2[_ngcontent-%COMP%]{stroke-dasharray:44 44;stroke-dashoffset:44;animation:ch-draw .2s 1s ease-in both}#checkmark-an.active[_ngcontent-%COMP%]   #grey-checkmark[_ngcontent-%COMP%]{animation:ch-fo-grey .5s ease-in-out both}@keyframes ch-main{0%{transform:scale(0)}to{transform:none}}@keyframes ch-draw{to{stroke-dashoffset:0}}@keyframes ch-fo-grey{0%{opacity:1}to{opacity:0}}#checkmark-an.none-animation[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{animation-delay:0s!important;animation-duration:0s!important}"]}),n})();const bo=function(n,a){return{active:n,"none-animation":a}};let Zt=(()=>{class n{constructor(e){this.router=e,this.isActive=!1,this.disabledAnimation=!1,this.isFirstLoad=!0}ngOnChanges(e){e.isActive.isFirstChange()||e.isActive.currentValue!==e.isActive.previousValue&&(this.isFirstLoad=!0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-checkin-star"]],inputs:{isActive:"isActive",disabledAnimation:"disabledAnimation"},features:[t.TTD],decls:25,vars:4,consts:[["id","star-an","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 273.78 185.73",3,"ngClass"],["id","star-1","points","21.14 63.35 20.12 68.15 24.38 70.6 19.5 71.12 18.48 75.92 16.48 71.44 11.6 71.96 15.24 68.67 13.24 64.19 17.5 66.64 21.14 63.35","fill","#ffe56a","opacity","0"],["id","star-2","points","245.45 16.05 244.58 20.15 248.22 22.25 244.04 22.69 243.17 26.8 241.46 22.96 237.29 23.41 240.41 20.6 238.7 16.76 242.33 18.86 245.45 16.05","fill","#ffe56a","opacity","0"],["id","star-3","points","208.21 81.31 207.19 86.11 211.44 88.56 206.56 89.08 205.54 93.88 203.54 89.4 198.66 89.91 202.31 86.63 200.31 82.14 204.56 84.59 208.21 81.31","fill","#ffe56a","opacity","0"],["id","star-4","points","177.35 149.69 176.33 154.5 180.59 156.95 175.71 157.47 174.69 162.27 172.69 157.78 167.81 158.3 171.45 155.01 169.45 150.53 173.71 152.98 177.35 149.69","fill","#ffe56a","opacity","0"],["id","star-5","points","36.29 156.06 35.27 160.86 39.52 163.31 34.64 163.83 33.63 168.63 31.63 164.15 26.74 164.66 30.39 161.38 28.39 156.89 32.64 159.34 36.29 156.06","fill","#ffe56a","opacity","0"],["id","triangle-1","points","48.03 19.96 47.01 24.76 51.26 27.21 46.38 27.73 45.37 32.53 43.36 28.05 38.48 28.57 42.13 25.28 40.13 20.8 44.38 23.25 48.03 19.96","fill","#ffe56a","opacity","0"],["id","triangle-2","points","211.81 40.46 210.8 45.27 215.05 47.72 210.17 48.23 209.15 53.04 207.15 48.55 202.27 49.07 205.91 45.78 203.91 41.3 208.17 43.75 211.81 40.46","fill","#ffe56a","opacity","0"],["id","triangle-3","points","140.03 163.94 139.01 168.75 143.27 171.2 138.39 171.72 137.37 176.52 135.37 172.04 130.49 172.55 134.13 169.26 132.13 164.78 136.39 167.23 140.03 163.94","fill","#ffe56a","opacity","0"],["id","heart-1","points","144.21 8.22 143.19 13.02 147.44 15.47 142.56 15.99 141.54 20.8 139.54 16.31 134.66 16.83 138.31 13.54 136.31 9.06 140.56 11.51 144.21 8.22","fill","#ffe56a","opacity","0"],["id","heart-2","points","250.4 132.67 249.38 137.47 253.63 139.92 248.75 140.44 247.74 145.24 245.74 140.76 240.85 141.28 244.5 137.99 242.5 133.5 246.75 135.96 250.4 132.67","fill","#ffe56a","opacity","0"],["id","heart-3","points","36.29 111.29 35.27 116.1 39.52 118.55 34.64 119.06 33.63 123.87 31.63 119.38 26.74 119.9 30.39 116.61 28.39 112.13 32.64 114.58 36.29 111.29","fill","#ffe56a","opacity","0"],["id","heart-4","points","73.93 42.29 72.91 47.09 77.17 49.54 72.29 50.06 71.27 54.86 69.27 50.38 64.39 50.89 68.03 47.61 66.03 43.12 70.28 45.57 73.93 42.29","fill","#ffe56a","opacity","0"],["id","circle-1","points","62.03 86.33 61.01 91.13 65.27 93.58 60.38 94.1 59.37 98.91 57.37 94.42 52.48 94.94 56.13 91.65 54.13 87.17 58.38 89.62 62.03 86.33","fill","#ffe56a","opacity","0"],["id","circle-2","points","259.26 82.07 258.25 86.87 262.5 89.33 257.62 89.84 256.6 94.65 254.6 90.16 249.72 90.68 253.37 87.39 251.37 82.91 255.62 85.36 259.26 82.07","fill","#ffe56a","opacity","0"],["id","circle-3","points","217.61 115.26 216.59 120.07 220.85 122.52 215.97 123.03 214.95 127.84 212.95 123.35 208.07 123.87 211.71 120.58 209.71 116.1 213.97 118.55 217.61 115.26","fill","#ffe56a","opacity","0"],["id","circle-4","points","97.17 144.36 96.15 149.16 100.4 151.62 95.52 152.13 94.5 156.94 92.5 152.45 87.62 152.97 91.27 149.68 89.27 145.2 93.52 147.65 97.17 144.36","fill","#ffe56a","opacity","0"],["id","line-1","points","104.5 28.55 103.49 33.36 107.74 35.81 102.86 36.33 101.84 41.13 99.84 36.65 94.96 37.16 98.6 33.87 96.6 29.39 100.86 31.84 104.5 28.55","fill","#ffe56a","opacity","0"],["id","line-2","points","187.74 23.58 186.72 28.39 190.97 30.84 186.09 31.36 185.07 36.16 183.07 31.68 178.19 32.19 181.84 28.9 179.84 24.42 184.09 26.87 187.74 23.58","fill","#ffe56a","opacity","0"],["id","line-3","points","206.03 140.33 205.01 145.14 209.27 147.59 204.38 148.1 203.37 152.91 201.37 148.42 196.48 148.94 200.13 145.65 198.13 141.17 202.38 143.62 206.03 140.33","fill","#ffe56a","opacity","0"],["id","line-4","points","68.19 121.51 67.17 126.31 71.42 128.77 66.54 129.28 65.52 134.09 63.52 129.6 58.64 130.12 62.28 126.83 60.28 122.35 64.54 124.8 68.19 121.51","fill","#ffe56a","opacity","0"],["id","grey-star","d","M165.5,86.84h0l-15.62,13.24L154.73,120a.94.94,0,0,1-.18.81,1,1,0,0,1-1.31.27L135.8,110.28l-17.44,10.78a1.09,1.09,0,0,1-.54.17,1.05,1.05,0,0,1-.8-.41.91.91,0,0,1-.15-.83l4.86-19.91L106.1,86.83a.89.89,0,0,1-.31-1,1,1,0,0,1,.89-.74l20.48-1.52,7.7-18.91a1,1,0,0,1,1-.63.89.89,0,0,1,.89.58l7.72,19,20.48,1.52a1,1,0,0,1,.57,1.77M171.41,84a6.85,6.85,0,0,0-6-4.74L148.52,78l-6.34-15.58a6.91,6.91,0,0,0-12.74,0L123.09,78l-16.91,1.26a7,7,0,0,0-6,4.86,6.72,6.72,0,0,0,2.14,7.25l12.85,10.9-4,16.34a6.75,6.75,0,0,0,1.2,5.86,6.94,6.94,0,0,0,5.45,2.69,6.83,6.83,0,0,0,3.64-1.06l14.34-8.86,14.35,8.86a6.78,6.78,0,0,0,3.57,1,7,7,0,0,0,5.43-2.64,6.8,6.8,0,0,0,1.3-5.83l-4-16.38,12.84-10.88A6.84,6.84,0,0,0,171.41,84Z","fill","#c6c6c6"],["id","main-circle"],["cx","135.8","cy","94.93","r","46.35","fill","#ffd800","stroke","#000","stroke-miterlimit","10"],["id","star-icon","d","M165.5,86.84h0l-15.62,13.24L154.73,120a.94.94,0,0,1-.18.81,1,1,0,0,1-1.31.27L135.8,110.28l-17.44,10.78a1.09,1.09,0,0,1-.54.17,1.05,1.05,0,0,1-.8-.41.91.91,0,0,1-.15-.83l4.86-19.91L106.1,86.83a.89.89,0,0,1-.31-1,1,1,0,0,1,.89-.74l20.48-1.52,7.7-18.91a1,1,0,0,1,1-.63.89.89,0,0,1,.89.58l7.72,19,20.48,1.52a1,1,0,0,1,.57,1.77M171.41,84a6.85,6.85,0,0,0-6-4.74L148.52,78l-6.34-15.58a6.91,6.91,0,0,0-12.74,0L123.09,78l-16.91,1.26a7,7,0,0,0-6,4.86,6.72,6.72,0,0,0,2.14,7.25l12.85,10.9-4,16.34a6.75,6.75,0,0,0,1.2,5.86,6.94,6.94,0,0,0,5.45,2.69,6.83,6.83,0,0,0,3.64-1.06l14.34-8.86,14.35,8.86a6.78,6.78,0,0,0,3.57,1,7,7,0,0,0,5.43-2.64,6.8,6.8,0,0,0,1.3-5.83l-4-16.38,12.84-10.88A6.84,6.84,0,0,0,171.41,84Z","fill","#fff"]],template:function(e,i){1&e&&(t.O4$(),t.TgZ(0,"svg",0),t._UZ(1,"polygon",1)(2,"polygon",2)(3,"polygon",3)(4,"polygon",4)(5,"polygon",5)(6,"polygon",6)(7,"polygon",7)(8,"polygon",8)(9,"polygon",9)(10,"polygon",10)(11,"polygon",11)(12,"polygon",12)(13,"polygon",13)(14,"polygon",14)(15,"polygon",15)(16,"polygon",16)(17,"polygon",17)(18,"polygon",18)(19,"polygon",19)(20,"polygon",20)(21,"path",21),t.TgZ(22,"g",22),t._UZ(23,"circle",23)(24,"path",24),t.qZA()()),2&e&&t.Q6J("ngClass",t.WLB(1,bo,i.isActive,i.disabledAnimation||i.isFirstLoad))},dependencies:[s.mk],styles:["[_nghost-%COMP%]{position:relative;display:block;padding-bottom:100%;background:white;border-radius:100%}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{width:310%;position:absolute;left:50%;top:50%;transform:translate(-49.7%,-51%)}#star-an.active[_ngcontent-%COMP%]   #star-1[_ngcontent-%COMP%]{transform-origin:17.99px 69.63px;transform:translate(117px,25px) rotate(-720deg) scale(2);animation:st-in-place .78s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small .78s .5s ease-in-out both}#star-an.active[_ngcontent-%COMP%]   #star-2[_ngcontent-%COMP%]{transform-origin:242.78px 21.19px;transform:translate(-107px,74px) rotate(720deg) scale(2);animation:st-in-place .81s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small .81s .5s ease-in-out both}#star-an.active[_ngcontent-%COMP%]   #star-3[_ngcontent-%COMP%]{transform-origin:205.05px 87.59px;transform:translate(-68px,8px) rotate(-720deg) scale(2);animation:st-in-place 1.07s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small 1.07s .5s ease-in-out both}#star-an.active[_ngcontent-%COMP%]   #star-4[_ngcontent-%COMP%]{transform-origin:174.2px 155.98px;transform:translate(-37px,-60px) rotate(720deg) scale(2);animation:st-in-place .83s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small .83s .5s ease-in-out both}#star-an.active[_ngcontent-%COMP%]   #star-5[_ngcontent-%COMP%]{transform-origin:33.13px 162.35px;transform:translate(101px,-68px) rotate(-720deg) scale(2);animation:st-in-place 1.09s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small 1.09s .5s ease-in-out both}#star-an.active[_ngcontent-%COMP%]   #triangle-1[_ngcontent-%COMP%]{transform-origin:44.87px 26.24px;transform:translate(90px,70px) rotate(720deg) scale(2);animation:st-in-place .99s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small .99s .5s ease-in-out both}#star-an.active[_ngcontent-%COMP%]   #triangle-2[_ngcontent-%COMP%]{transform-origin:208.66px 46.75px;transform:translate(-73px,47px) rotate(-720deg) scale(2);animation:st-in-place .72s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small .72s .5s ease-in-out both}#star-an.active[_ngcontent-%COMP%]   #triangle-3[_ngcontent-%COMP%]{transform-origin:136.88px 170.23px;transform:translateY(-75px) rotate(720deg) scale(2);animation:st-in-place .87s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small .87s .5s ease-in-out both}#star-an.active[_ngcontent-%COMP%]   #heart-1[_ngcontent-%COMP%]{transform-origin:141.05px 14.51px;transform:translate(-6px,80px) scale(2) rotate(-720deg);animation:st-in-place .91s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small .91s .5s ease-in-out both}#star-an.active[_ngcontent-%COMP%]   #heart-2[_ngcontent-%COMP%]{transform-origin:247.23px 138.92px;transform:translate(-112px,-43px) scale(2) rotate(720deg);animation:st-in-place .74s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small .74s .5s ease-in-out both}#star-an.active[_ngcontent-%COMP%]   #heart-3[_ngcontent-%COMP%]{transform-origin:33.14px 117.58px;transform:translate(103px,-20px) scale(2) rotate(-720deg);animation:st-in-place 1.01s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small 1.01s .5s ease-in-out both}#star-an.active[_ngcontent-%COMP%]   #heart-4[_ngcontent-%COMP%]{transform-origin:70.84px 48.57px;transform:translate(65px,49px) scale(2) rotate(720deg);animation:st-in-place .81s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small .81s .5s ease-in-out both}#star-an.active[_ngcontent-%COMP%]   #circle-1[_ngcontent-%COMP%]{transform-origin:58.87px 92.62px;transform:translate(77px,5px) scale(2) rotate(-720deg);animation:st-in-place 1.02s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small 1.02s .5s ease-in-out both}#star-an.active[_ngcontent-%COMP%]   #circle-2[_ngcontent-%COMP%]{transform-origin:256.11px 88.36px;transform:translate(-120px,10px) scale(2) rotate(720deg);animation:st-in-place 1s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small 1s .5s ease-in-out both}#star-an.active[_ngcontent-%COMP%]   #circle-3[_ngcontent-%COMP%]{transform-origin:214.46px 121.55px;transform:translate(-78px,-24px) scale(2) rotate(-720deg);animation:st-in-place .93s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small .93s .5s ease-in-out both}#star-an.active[_ngcontent-%COMP%]   #circle-4[_ngcontent-%COMP%]{transform-origin:94.01px 150.65px;transform:translate(41px,-51px) scale(2) rotate(720deg);animation:st-in-place 1.03s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small 1.03s .5s ease-in-out both}#star-an.active[_ngcontent-%COMP%]   #line-1[_ngcontent-%COMP%]{transform-origin:101.35px 34.84px;transform:translate(36px,60px) scale(2) rotate(-720deg);animation:st-in-place .99s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small .99s .5s ease-in-out both}#star-an.active[_ngcontent-%COMP%]   #line-2[_ngcontent-%COMP%]{transform-origin:184.58px 29.87px;transform:translate(-50px,65px) scale(2) rotate(720deg);animation:st-in-place .99s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small .99s .5s ease-in-out both}#star-an.active[_ngcontent-%COMP%]   #line-3[_ngcontent-%COMP%]{transform-origin:202.875px 146.62px;transform:translate(-67px,-52px) scale(2) rotate(-720deg);animation:st-in-place 1.02s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small 1.02s .5s ease-in-out both}#star-an.active[_ngcontent-%COMP%]   #line-4[_ngcontent-%COMP%]{transform-origin:65.03px 127.8px;transform:translate(70px,-33px) scale(2) rotate(720deg);animation:st-in-place .75s .5s cubic-bezier(.33,1,.68,1) both,st-fo-small .75s .5s ease-in-out both}@keyframes st-in-place{to{transform:none;opacity:1}}@keyframes st-fo-small{2%,80%{opacity:1}0%,1%,to{opacity:0}}#star-an[_ngcontent-%COMP%]   #main-circle[_ngcontent-%COMP%]{transform-origin:135.8px 94.92px;transform:scale(0)}#star-an.active[_ngcontent-%COMP%]   #main-circle[_ngcontent-%COMP%]{transform-origin:135.8px 94.92px;animation:st-main .5s .1s cubic-bezier(.34,1.56,.64,1) both}#star-an.active[_ngcontent-%COMP%]   #star-icon[_ngcontent-%COMP%]{transform-origin:135.8px 94.92px;transform:scale(.1) rotate(-360deg);opacity:0;animation:st-in-place .4s .4s cubic-bezier(.33,1,.68,1) both}#star-an.active[_ngcontent-%COMP%]   #grey-star[_ngcontent-%COMP%]{animation:st-fo-grey .5s ease-in-out both}@keyframes st-main{0%{transform:scale(0)}to{transform:none}}@keyframes st-fo-grey{0%{opacity:1}to{opacity:0}}#star-an.none-animation[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{animation-delay:0s!important;animation-duration:0s!important}"]}),n})(),kt=(()=>{class n{ngOnInit(){m.Z.isServer||this.playConfetti()}getRndInteger(e,i){return Math.floor(Math.random()*(i-e+1))+e}randomFloatBetween(e,i,o){return typeof o>"u"&&(o=2),parseFloat(Math.min(e+Math.random()*(i-e),i).toFixed(o))}playConfetti(){(0,F.Z)({gsap:"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"}).gsap.onLoad(()=>{document.querySelectorAll("#gift-confetti path, svg g").forEach(function(f){f.removeAttribute("data-name")}),document.querySelectorAll('#gift-confetti [id*="_Group"], svg [id*="_Path"]').forEach(function(f){f.removeAttribute("id")});const{TweenLite:i,Sine:o,TimelineMax:p}=window;i.randomEase=o.easeInOut;var x=new p({repeat:0,repeatDelay:1.5});x.to("#gift-confetti #confetti-particles",.5,{opacity:1}),document.querySelectorAll("#gift-confetti #confetti-particles rect").forEach((f,It)=>{let G=new p({});var j=this.getRndInteger(-400,400),D=this.getRndInteger(200,800),v=this.randomFloatBetween(2,3),$=this.randomFloatBetween(.8,1.5);let W="-="+v/3;G.to(f,v,{x:j},0).fromTo(f,v/3,{y:100},{y:-D,ease:"power3.out"},0).to(f,v/2,{y:100,ease:"power1.in"},v/3).to(f,.5,{opacity:0},W).to(f,$,{transformOrigin:"50% 50%",rotation:Math.random()>.5?-360:360,repeat:1.5,ease:"linear"},0),x.add(G,0)})})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-checkin-confetti"]],decls:45,vars:0,consts:[["id","gift-confetti","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 800 800"],["confetti",""],["id","confetti-particles",2,"opacity","0"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#42bcec"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#ed1d63"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#fcb316"],["x","384.53","y","786.41","width","30.94","height","13.59","fill","#7452a2"]],template:function(e,i){1&e&&(t.O4$(),t.TgZ(0,"svg",0,1)(2,"g",2),t._UZ(3,"rect",3)(4,"rect",4)(5,"rect",5)(6,"rect",5)(7,"rect",6)(8,"rect",4)(9,"rect",6)(10,"rect",3)(11,"rect",3)(12,"rect",3)(13,"rect",4)(14,"rect",5)(15,"rect",6)(16,"rect",5)(17,"rect",6)(18,"rect",6)(19,"rect",6)(20,"rect",3)(21,"rect",3)(22,"rect",3)(23,"rect",6)(24,"rect",3)(25,"rect",3)(26,"rect",3)(27,"rect",4)(28,"rect",5)(29,"rect",6)(30,"rect",5)(31,"rect",6)(32,"rect",6)(33,"rect",6)(34,"rect",3)(35,"rect",3)(36,"rect",3)(37,"rect",6)(38,"rect",4)(39,"rect",6)(40,"rect",3)(41,"rect",4)(42,"rect",3)(43,"rect",5)(44,"rect",6),t.qZA()())},styles:["svg[_ngcontent-%COMP%]{width:100%}"]}),n})();function Co(n,a){1&n&&t._UZ(0,"app-checkin-item",17),2&n&&t.Q6J("disabledAnimation",!0)("isActive",!0)}function wo(n,a){1&n&&t._UZ(0,"app-checkin-star",17),2&n&&t.Q6J("disabledAnimation",!0)("isActive",!0)}function vo(n,a){1&n&&(t.TgZ(0,"div",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"thank-you-modal-desc"),": "))}function yo(n,a){1&n&&(t.TgZ(0,"div",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"earned-special-reward"),": "))}function Mo(n,a){if(1&n&&t._UZ(0,"app-product-card",22),2&n){const e=a.$implicit,i=t.oxw(2).ngLet;t.Q6J("product",e)("isLogin",!!i)}}function Oo(n,a){if(1&n&&(t.TgZ(0,"div",20),t.YNc(1,Mo,1,2,"app-product-card",21),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",null==e.featuredProducts?null:e.featuredProducts.rows)}}const Zo=function(n){return{quantity:n}};function ko(n,a){if(1&n&&(t.TgZ(0,"div",23),t._UZ(1,"img",24),t.TgZ(2,"div",25),t._UZ(3,"img",26),t.TgZ(4,"div",27),t._uU(5),t.ALo(6,"translate"),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("src",e.bigRewardMap[e.parseInt(e.gift.rewardType)],t.LSH),t.xp6(2),t.Q6J("src",e.iconMap[e.parseInt(e.gift.rewardType)],t.LSH),t.xp6(2),t.hij(" ",t.xi3(6,3,"card-game-reward-"+e.gift.rewardType,t.VKq(6,Zo,e.parseInt(e.gift.rewardNum)))," ")}}function Po(n,a){if(1&n&&(t.TgZ(0,"div",6)(1,"div",7),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",8)(5,"div",9)(6,"div",10),t.YNc(7,Co,1,2,"app-checkin-item",11),t.YNc(8,wo,1,2,"app-checkin-star",11),t.qZA(),t._UZ(9,"img",12),t.qZA(),t.YNc(10,vo,3,3,"div",13),t.YNc(11,yo,3,3,"div",14),t.YNc(12,Oo,2,1,"div",15),t.YNc(13,ko,7,8,"div",16),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,7,"thank-you-title")," "),t.xp6(5),t.Q6J("ngIf",!e.gift),t.xp6(1),t.Q6J("ngIf",e.gift),t.xp6(2),t.Q6J("ngIf",!e.gift),t.xp6(1),t.Q6J("ngIf",e.gift),t.xp6(1),t.Q6J("ngIf",!e.gift),t.xp6(1),t.Q6J("ngIf",e.gift)}}function To(n,a){1&n&&t._UZ(0,"app-checkin-confetti",28)}function Ao(n,a){if(1&n){const e=t.EpF();t.YNc(0,Po,14,9,"div",2),t.ALo(1,"async"),t.TgZ(2,"div",3),t.YNc(3,To,1,0,"app-checkin-confetti",4),t.TgZ(4,"button",5),t.NdJ("click",function(){t.CHM(e),t.oxw();const o=t.MAs(1);return t.KtG(o.dismiss())}),t._uU(5),t.ALo(6,"translate"),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("ngLet",t.lcZ(1,3,e.userService.userInfo$)),t.xp6(3),t.Q6J("ngIf",e.showConfetti),t.xp6(2),t.hij(" ",t.lcZ(6,5,"Close")," ")}}let So=(()=>{class n extends _.V{constructor(e,i,o,r){super(),this.productService=e,this.userService=i,this.themeService=o,this.router=r,this.isOpen=!1,this.isOpenChange=new t.vpe,this.parseInt=parseInt,this.showConfetti=!1,this.iconMap={1:"assets/images/circle-credit-small.png",2:"assets/images/gift-icon-2.png",3:"assets/images/TYQOON-DOLLAR-V2-Cropped.png"},this.bigRewardMap={1:"assets/images/tyqoon-credits-stack-gold.png",2:"/assets/images/gift-icon-2.png",3:"assets/images/tyqoon-dollars-cc-small.png"}}ngOnChanges(e){e.isOpen?.currentValue!==e.isOpen?.previousValue&&!0===e.isOpen?.currentValue&&(this.showConfetti=!0,setTimeout(()=>{this.showConfetti=!1},2500))}ngOnInit(){var e=this;return(0,c.Z)(function*(){const i=yield(0,h.n)(e.themeService.getDailyCheckInSetting()),r=JSON.parse(i.data.data).recommend?.reduce((p,x,f)=>(p[`productId[${f}]`]=x,p),{});e.featuredProducts=yield(0,h.n)(e.productService.getProductsByMetaParamsV2({traceId:e.userService.traceId||"",haStock:!0,...r,rows:4,page:0})),e.router.events.pipe((0,g.R)(e.destroyStream$)).subscribe(p=>{p instanceof C.OD&&e.isOpen&&e.modal.dismiss()})})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Mt.s),t.Y36(M.K),t.Y36(J.f),t.Y36(C.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-thanks-modal"]],viewQuery:function(e,i){if(1&e&&t.Gf(d.ki,5),2&e){let o;t.iGM(o=t.CRH())&&(i.modal=o.first)}},inputs:{isOpen:"isOpen",gift:"gift"},outputs:{isOpenChange:"isOpenChange"},features:[t.qOj,t.TTD],decls:3,vars:2,consts:[[1,"normal-opacity",3,"backdropDismiss","isOpen","didDismiss"],["modal",""],["class","modal-wrapper rounded-2xl overflow-hidden",4,"ngLet"],[1,"modal-action","mt-4","flex","justify-center","relative"],["class","block z-20 absolute left-1/2 bottom-12",4,"ngIf"],[1,"close-btn","uppercase","rounded-lg","py-2","xs:py-3","text-xl","xs:text-2xl","font-bold","border-solid","border-2","border-[#BDBDBD]",3,"click"],[1,"modal-wrapper","rounded-2xl","overflow-hidden"],[1,"modal-header","p-2","relative","h-12","text-3xl","font-bold","uppercase","text-center"],[1,"px-2","pb-2","modal-body","relative"],[1,"relative"],[1,"star-wrapper","py-2","m-auto"],[3,"disabledAnimation","isActive",4,"ngIf"],["src","/assets/images/mascot-thump-up.png","alt","",1,"mascot","absolute","top-0","right-4","h-full","w-auto"],["class","text-lg mb-3 mt-1 font-bold text-center",4,"ngIf"],["class","text-lg mb-4 mt-3 font-bold text-center",4,"ngIf"],["class","grid grid-cols-2 gap-2 list-product w-10/12 m-auto",4,"ngIf"],["class","",4,"ngIf"],[3,"disabledAnimation","isActive"],[1,"text-lg","mb-3","mt-1","font-bold","text-center"],[1,"text-lg","mb-4","mt-3","font-bold","text-center"],[1,"grid","grid-cols-2","gap-2","list-product","w-10/12","m-auto"],["class","mb-2 block",3,"product","isLogin",4,"ngFor","ngForOf"],[1,"mb-2","block",3,"product","isLogin"],[1,""],["alt","",1,"credit-stack","m-auto",3,"src"],[1,"flex","items-center","justify-center","mt-4","mb-20"],["alt","",1,"mr-2","h-10",3,"src"],[1,"text-3xl","font-bold"],[1,"block","z-20","absolute","left-1/2","bottom-12"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-modal",0,1),t.NdJ("didDismiss",function(){return i.isOpenChange.emit(!1)}),t.YNc(2,Ao,7,7,"ng-template"),t.qZA()),2&e&&t.Q6J("backdropDismiss",!1)("isOpen",i.isOpen)},dependencies:[s.sg,s.O5,d.ki,Ot.Y,H.h,rt,Zt,kt,s.Ov,u.X$],styles:["ion-modal[_ngcontent-%COMP%]{--width: 400px}ion-modal[_ngcontent-%COMP%]     .ion-page{padding-left:1rem;padding-right:1rem;padding-top:1rem;overflow:unset!important}ion-modal[_ngcontent-%COMP%]::part(content){overflow:unset!important}.modal-header[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]{background-color:#fff}.modal-wrapper[_ngcontent-%COMP%]{border:2px solid grey}.checkin-btn[_ngcontent-%COMP%]{border:2px solid #00d2ff;background:#007eff}.star-wrapper[_ngcontent-%COMP%]{width:70px}@media (min-width: 340px){.star-wrapper[_ngcontent-%COMP%]{width:90px}}.list-product[_ngcontent-%COMP%]{max-width:235px}.close-btn[_ngcontent-%COMP%]{background-color:#d3d3d3;width:200px}.credit-stack[_ngcontent-%COMP%]{width:225px;max-width:90%}app-checkin-confetti[_ngcontent-%COMP%]{width:200%;transform:translate(-50%)}"]}),n})();function Lo(n,a){if(1&n&&t._UZ(0,"app-checkin-item",2),2&n){const e=a.$implicit,i=t.oxw();t.Q6J("isActive",!!i.checkArr[e])}}const Go=function(){return[0,1,2,3,4,5]};let Io=(()=>{class n extends _.V{constructor(e){super(),this.router=e,this.checkArr=[],this.isOpenModal=!1}checkin(e){}isCheckedAll(){return[0,1,2,3,4,5,6].every(e=>!!this.checkArr[e])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-checkin-row"]],inputs:{checkArr:"checkArr"},features:[t.qOj],decls:3,vars:3,consts:[[1,"grid","grid-cols-7","gap-1.5"],[3,"isActive",4,"ngFor","ngForOf"],[3,"isActive"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Lo,1,1,"app-checkin-item",1),t._UZ(2,"app-checkin-star",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(2,Go)),t.xp6(1),t.Q6J("isActive",i.isCheckedAll()))},dependencies:[s.sg,rt,Zt]}),n})();function qo(n,a){if(1&n&&(t.ynx(0),t._UZ(1,"app-checkin-row",19),t.ALo(2,"slice"),t._UZ(3,"app-checkin-row",19),t.ALo(4,"slice"),t._UZ(5,"app-checkin-row",19),t.ALo(6,"slice"),t._UZ(7,"app-checkin-row",19),t.ALo(8,"slice"),t.BQk()),2&n){const e=a.ngIf;t.xp6(1),t.Q6J("checkArr",t.Dn7(2,4,e,0,7)),t.xp6(2),t.Q6J("checkArr",t.Dn7(4,8,e,7,14)),t.xp6(2),t.Q6J("checkArr",t.Dn7(6,12,e,14,21)),t.xp6(2),t.Q6J("checkArr",t.Dn7(8,16,e,21,28))}}function Uo(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"button",8),t.NdJ("click",function(){t.CHM(e),t.oxw();const o=t.MAs(1);return t.KtG(o.dismiss())}),t.O4$(),t.TgZ(7,"svg",9),t._UZ(8,"path",10),t.qZA()()(),t.kcU(),t.TgZ(9,"div",11)(10,"div",12),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.YNc(13,qo,9,20,"ng-container",13),t.ALo(14,"async"),t.TgZ(15,"div",14)(16,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleCheckin())}),t.ALo(17,"async"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._UZ(20,"img",16),t.qZA(),t.TgZ(21,"div",17)(22,"div",18),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",18),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"div",18),t._uU(29),t.ALo(30,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,8,"daily-checkin")),t.xp6(7),t.Oqu(t.lcZ(12,10,"daily-checkin-subtitle")),t.xp6(2),t.Q6J("ngIf",t.lcZ(14,12,e.checkinService.checkinArr$)),t.xp6(3),t.Q6J("disabled",e.isProcessing||t.lcZ(17,14,e.checkinService.haveCheckedIn$)),t.xp6(2),t.hij(" ",t.lcZ(19,16,"checkin-btn")," "),t.xp6(5),t.Oqu(t.lcZ(24,18,"checkin-desc-1")),t.xp6(3),t.Oqu(t.lcZ(27,20,"checkin-desc-2")),t.xp6(3),t.Oqu(t.lcZ(30,22,"checkin-desc-3"))}}function Bo(n,a){1&n&&(t.O4$(),t.TgZ(0,"svg",20)(1,"g")(2,"g",21),t._UZ(3,"path",22),t.qZA()()())}let Pt=(()=>{class n extends _.V{constructor(e,i,o){super(),this.checkinService=e,this.toast=i,this.router=o,this.isOpen=!1,this.isOpenChange=new t.vpe,this.openThanksModal=!1,this.isSpecial=!1,this.isProcessing=!1}ngOnInit(){this.router.events.pipe((0,g.R)(this.destroyStream$)).subscribe(e=>{e instanceof C.OD&&this.isOpen&&this.modal.dismiss()})}handleCheckin(){var e=this;return(0,c.Z)(function*(){e.isProcessing=!0;try{const i=yield(0,h.n)(e.checkinService.checkin());0==i.code?(yield e.checkinService.updateCheckinCount(),e.checkinService.updateState(),e.checkinService.updateSpinCount(),i.data?.gift&&(e.specialGift=i.data.gift),setTimeout(()=>{e.isProcessing=!1,e.openThanksModal=!0},1500)):(e.isProcessing=!1,e.toastError(i.message))}catch(i){e.isProcessing=!1,e.toastError(i?.message)}})()}toastError(e){var i=this;return(0,c.Z)(function*(){yield i.presentToast({position:"bottom",message:e,icon:"alert-circle-outline",duration:2e3,color:"danger"})})()}presentToast(e){var i=this;return(0,c.Z)(function*(){yield(yield i.toast.create(e)).present()})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(et),t.Y36(d.yF),t.Y36(C.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-checkin-modal"]],viewQuery:function(e,i){if(1&e&&t.Gf(d.ki,5),2&e){let o;t.iGM(o=t.CRH())&&(i.modal=o.first)}},inputs:{isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},features:[t.qOj],decls:6,vars:4,consts:[[1,"normal-opacity",3,"isOpen","backdropDismiss","didDismiss"],["modal",""],["arrow",""],[3,"gift","isOpen","isOpenChange"],[1,"rounded-2xl","modal-wrapper"],[1,"modal-header","flex","items-center","p-2","relative","h-12","rounded-t-xl"],[1,"flex","items-center","justify-center","flex-1"],[1,"text-xl","xs:text-3xl","font-bold","uppercase"],[1,"absolute","right-0","top-0","transform","translate-x-1/3","-translate-y-1/3","w-8","p-1","cursor-pointer","bg-[#ff2145]","text-white","rounded-md","border-2","border-[#9D152B]",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],[1,"px-2","pb-2","modal-body"],[1,"text-center","font-bold","text-lg","mb-4"],[4,"ngIf"],[1,"pt-10","relative"],[1,"w-40","relative","z-1","m-auto","checkin-btn","text-white","text-3xl","py-2","rounded-lg","uppercase","block","font-bold",3,"disabled","click"],["src","/assets/images/mascot-welcome.png","alt","",1,"absolute","left-0","xs:left-2","top-2","w-auto","opacity-20",2,"z-index","0","height","120%"],[1,"font-bold","mt-6"],[1,"text-center"],[1,"block","mb-4",3,"checkArr"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 31.143 31.143",0,"xml","space","preserve",1,"absolute","w-8","right-2","top-1/2","transform","-translate-y-1/2",2,"enable-background","new 0 0 31.143 31.143"],["id","c100_arrow"],["d","M0,15.571c0.001,1.702,1.383,3.081,3.085,3.083l17.528-0.002l-4.738,4.739c-1.283,1.284-1.349,3.301-0.145,4.507    c1.205,1.201,3.222,1.138,4.507-0.146l9.896-9.898c1.287-1.283,1.352-3.301,0.146-4.506c-0.033-0.029-0.068-0.051-0.1-0.08    c-0.041-0.043-0.07-0.094-0.113-0.139l-9.764-9.762c-1.268-1.266-3.27-1.316-4.474-0.111c-1.205,1.205-1.153,3.208,0.111,4.476    l4.755,4.754H3.085C1.381,12.485,0,13.865,0,15.571z"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-modal",0,1),t.NdJ("didDismiss",function(){return i.isOpenChange.emit(!1)}),t.YNc(2,Uo,31,24,"ng-template"),t.qZA(),t.YNc(3,Bo,4,0,"ng-template",null,2,t.W1O),t.TgZ(5,"app-thanks-modal",3),t.NdJ("isOpenChange",function(r){return i.openThanksModal=r}),t.qZA()),2&e&&(t.Q6J("isOpen",i.isOpen)("backdropDismiss",!i.isProcessing),t.xp6(5),t.Q6J("gift",i.specialGift)("isOpen",i.openThanksModal))},dependencies:[s.O5,d.ki,So,Io,s.Ov,s.OU,u.X$],styles:["ion-modal[_ngcontent-%COMP%]{--width: 400px}ion-modal[_ngcontent-%COMP%]     .ion-page{padding-left:1rem;padding-right:1rem;padding-top:1rem}.modal-wrapper[_ngcontent-%COMP%]{background:#FEF0DA;border:2px solid #FFC590}.close-btn[_ngcontent-%COMP%]{background-color:#0000004d}@media (hover: hover){.close-btn[_ngcontent-%COMP%]:hover{background-color:#ffda44;--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}}.checkin-btn[_ngcontent-%COMP%]{width:200px;max-width:100%;border:2px solid #00d2ff;background:#007eff}.checkin-btn[disabled][_ngcontent-%COMP%]{background:#A2A0AE;color:#83818f;border-color:#a2a0ae}"]}),n})();const Ho=function(n){return{"orange-bg":n}};function zo(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleClick())}),t.TgZ(1,"button",3)(2,"div",4),t._UZ(3,"app-checkin-item",5),t.qZA(),t.TgZ(4,"div",6),t._uU(5),t.ALo(6,"translate"),t.qZA()()()}if(2&n){const e=a.ngIf;t.Q6J("ngClass",t.VKq(6,Ho,!e.haveChecked)),t.xp6(3),t.Q6J("disabledAnimation",!0)("isActive",!!e.haveChecked),t.xp6(2),t.hij(" ",t.lcZ(6,4,e.haveChecked?"thank-you-title":"daily-checkin")," ")}}const No=function(n){return{haveChecked:n}};let Jo=(()=>{class n extends _.V{constructor(e,i,o){super(),this.router=e,this.checkinService=i,this.userService=o,this.isOpenModal=!1}handleClick(){this.userService.isLogin(!0)?this.isOpenModal=!0:this.router.navigate(["/auth/login"],{queryParams:{back:encodeURIComponent(this.router.url)}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.F0),t.Y36(et),t.Y36(M.K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-checkin-button"]],features:[t.qOj],decls:3,vars:6,consts:[["class","rounded-r-2xl py-3 md:px-0.5 bg-white shadow-xl absolute left-0 transform -translate-y-1/2","style","z-index: 999",3,"ngClass","click",4,"ngIf"],[3,"isOpen","isOpenChange"],[1,"rounded-r-2xl","py-3","md:px-0.5","bg-white","shadow-xl","absolute","left-0","transform","-translate-y-1/2",2,"z-index","999",3,"ngClass","click"],[1,"inline","w-full"],[1,"!w-7","md:!w-8","m-auto","mb-1"],[3,"disabledAnimation","isActive"],[1,"relative","z-10","text-xs","md:text-sm","font-bold","text-center"]],template:function(e,i){1&e&&(t.YNc(0,zo,7,8,"div",0),t.ALo(1,"async"),t.TgZ(2,"app-checkin-modal",1),t.NdJ("isOpenChange",function(r){return i.isOpenModal=r}),t.qZA()),2&e&&(t.Q6J("ngIf",t.VKq(4,No,t.lcZ(1,2,i.checkinService.haveCheckedIn$))),t.xp6(2),t.Q6J("isOpen",i.isOpenModal))},dependencies:[s.mk,s.O5,Pt,rt,s.Ov,u.X$],styles:["[_nghost-%COMP%]{position:sticky;top:58%;left:0;z-index:100;display:block}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:64px;background:white;--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity));border:1px solid #dddddd}@media (min-width: 768px){[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:74px}}[_nghost-%COMP%] > div.orange-bg[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));border:0;background:linear-gradient(to right,#FF7611,#FE9922)}@media (min-width: 768px){[_nghost-%COMP%]{top:50%}}"]}),n})();const Qo=["spinElem"],Fo=["innerWheel"],Ro=["sec"];function Yo(n,a){1&n&&t._UZ(0,"img",38)}const Eo=function(n){return{quantity:n}};function jo(n,a){if(1&n&&(t.TgZ(0,"div",39)(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.xi3(3,1,"spin-reward-"+(null==e.spinResponse?null:e.spinResponse.spinnerWheel),t.VKq(4,Eo,e.parseInt(null==e.spinResponse?null:e.spinResponse.rewardNum)))," ")}}function Do(n,a){1&n&&t._UZ(0,"app-checkin-confetti",40)}function $o(n,a){if(1&n&&t.GkF(0,41),2&n){t.oxw(2);const e=t.MAs(4);t.Q6J("ngTemplateOutlet",e)}}function Wo(n,a){if(1&n&&t.GkF(0,41),2&n){t.oxw(2);const e=t.MAs(6);t.Q6J("ngTemplateOutlet",e)}}function Ko(n,a){1&n&&(t.TgZ(0,"div",42)(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"checkin-desc-1")),t.xp6(3),t.Oqu(t.lcZ(6,4,"checkin-desc-2")))}const Vo=function(n){return{loading:n}},Xo=function(n){return{"loader-show":n}},ta=function(n){return{invisible:n}};function ea(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6),t._UZ(2,"img",7),t.TgZ(3,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),r=t.MAs(1);return t.KtG(o.handleClose(r))}),t.O4$(),t.TgZ(4,"svg",9),t._UZ(5,"path",10),t.qZA()()(),t.kcU(),t.TgZ(6,"div",11)(7,"div",12)(8,"div",13)(9,"div",14,15)(11,"div",16,17),t._UZ(13,"img",18),t.qZA(),t.TgZ(14,"div",16,17),t._UZ(16,"img",19),t.qZA(),t.TgZ(17,"div",16,17),t._UZ(19,"img",20),t.qZA(),t.TgZ(20,"div",16,17),t._UZ(22,"img",21),t.qZA(),t.TgZ(23,"div",16,17),t._UZ(25,"img",22),t.qZA(),t.TgZ(26,"div",16,17),t._UZ(28,"img",23),t.qZA()(),t.TgZ(29,"div",24,25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.spin())}),t.ALo(31,"translate"),t._UZ(32,"div",26),t.qZA(),t._UZ(33,"div",27),t.qZA(),t.YNc(34,Yo,1,0,"img",28),t.qZA(),t.TgZ(35,"div",29),t.YNc(36,jo,4,6,"div",30),t.TgZ(37,"div",31),t.YNc(38,Do,1,0,"app-checkin-confetti",32),t.TgZ(39,"div",33),t._UZ(40,"span"),t.qZA(),t.TgZ(41,"button",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.spin())}),t._uU(42),t.ALo(43,"translate"),t.YNc(44,$o,1,1,"ng-container",35),t.qZA(),t.YNc(45,Wo,1,1,"ng-container",35),t.qZA(),t.YNc(46,Ko,7,6,"div",36),t.qZA()(),t._UZ(47,"div",37),t.qZA()}if(2&n){const e=t.oxw();t.xp6(9),t.Q6J("ngClass",t.VKq(17,Vo,"loading"===e.state))("ngStyle",e.rotateStyle()),t.xp6(20),t.uIk("data-label",t.lcZ(31,13,"spin")),t.xp6(5),t.Q6J("ngIf","idle"===e.state),t.xp6(2),t.Q6J("ngIf","spin-stop"===e.state),t.xp6(2),t.Q6J("ngIf",e.isShowConfetti),t.xp6(1),t.Q6J("ngClass",t.VKq(19,Xo,e.isOpen&&e.isLoading)),t.xp6(2),t.Q6J("disabled","empty"===e.state||"spining"===e.state||"loading"===e.state)("ngClass",t.VKq(21,ta,e.isLoading)),t.xp6(1),t.hij(" ",t.lcZ(43,15,"spin-stop"===e.state?"gift-button-next":"spin")," "),t.xp6(2),t.Q6J("ngIf","spin-stop"===e.state),t.xp6(1),t.Q6J("ngIf","idle"===e.state&&!e.isLoading),t.xp6(1),t.Q6J("ngIf","idle"===e.state)}}function na(n,a){1&n&&(t.O4$(),t.TgZ(0,"svg",43)(1,"g")(2,"g",44),t._UZ(3,"path",45),t.qZA()()())}function ia(n,a){if(1&n&&(t.TgZ(0,"div",46),t.O4$(),t.TgZ(1,"svg",47)(2,"g",48),t._UZ(3,"polygon",49),t.qZA()(),t.kcU(),t.TgZ(4,"div",50),t._uU(5),t.ALo(6,"async"),t.qZA()()),2&n){const e=t.oxw();t.xp6(5),t.hij(" ",t.lcZ(6,1,e.checkinService.spinCount$)||0," ")}}function oa(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"app-checkin-modal",51),t.NdJ("isOpenChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.isOpenCheckinModal=o)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("isOpen",e.isOpenCheckinModal)}}let aa=(()=>{class n extends _.V{constructor(e,i,o){super(),this.cdr=e,this.toast=i,this.checkinService=o,this.isOpen=!1,this.isOpenChange=new t.vpe,this.animated=!0,this.isOpenCheckinModal=!1,this.isLoading=!1,this.degreeMap={6:[5,55],5:[65,115],4:[125,175],3:[185,235],2:[245,295],1:[305,355]},this.clicks=0,this.totalDegree=0,this.degree=1800,this.initDegree=-30,this.state="idle",this.isShowConfetti=!1,this.parseInt=parseInt}ngOnChanges(e){var i=this;return(0,c.Z)(function*(){if(!0===e.isOpen.currentValue){i.isLoading=!0,i.state="empty";const o=yield i.checkinService.updateSpinCount();i.isLoading=!1,i.state=o>0?"idle":"empty"}else i.isLoading=!1})()}ngOnInit(){return(0,c.Z)(function*(){})()}handleClose(e){"spining"!==this.state&&e.dismiss()}spinInterval(){let r;return this.clicks++,this.totalDegree=this.initDegree+this.degree*this.clicks+360,[setInterval(()=>{this.clicks++,this.totalDegree=this.initDegree+this.degree*this.clicks+360},700),setInterval(()=>{(this.getCurrentRotation(this.innerWheel.nativeElement)+30)%60>=52&&(clearTimeout(r),this.spinElem.nativeElement.classList.add("spin"),r=setTimeout(()=>{this.spinElem.nativeElement.classList.remove("spin")},100))},10)]}spinWheel(){let e;return new Promise(i=>{if(this.spinResponse?.spinnerWheel){this.clicks++;var o=this.degree*this.clicks,r=this.getRandomInt(this.degreeMap[this.spinResponse?.spinnerWheel][0],this.degreeMap[this.spinResponse?.spinnerWheel][1]);let p;this.totalDegree=this.initDegree+o+r,e=setInterval(()=>{(this.getCurrentRotation(this.innerWheel.nativeElement)+30)%60>=58&&(clearTimeout(p),this.spinElem.nativeElement.classList.add("spin"),p=setTimeout(()=>{this.spinElem.nativeElement.classList.remove("spin")},100))},10)}setTimeout(()=>{clearInterval(e),this.showConfetti(),i(!0)},6e3)})}getCurrentRotation(e){var i=window.getComputedStyle(e,null),o=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("-moz-transform")||i.getPropertyValue("-ms-transform")||i.getPropertyValue("-o-transform")||i.getPropertyValue("transform")||"none";if("none"!=o){let p=o.split("(")[1].split(")")[0].split(",");var r=Math.round(Math.atan2(p[1],p[0])*(180/Math.PI));return r<0?r+360:r}return 0}spin(){var e=this;return(0,c.Z)(function*(){if(e.isLoading)return;let i,o;switch(e.state){case"idle":try{e.state="loading",[i,o]=e.spinInterval();const p=yield(0,h.n)(e.checkinService.spinWheel());clearInterval(i),clearInterval(o),e.state="spining",e.cdr.markForCheck(),0==p.code?(e.spinResponse=p.data||null,yield e.spinWheel(),e.state="spin-stop",e.cdr.markForCheck()):(e.state="spin-stop",e.cdr.markForCheck(),e.toastError(p.message)),e.checkinService.updateSpinCount()}catch(p){clearInterval(i),clearInterval(o),e.state="spin-stop",e.toastError(p),e.cdr.markForCheck()}break;case"empty":case"spining":break;case"spin-stop":e.state=(yield e.checkinService.updateSpinCount())>0?"idle":"empty",e.spinResponse=null}})()}rotateStyle(){return{transform:`rotate(${this.totalDegree}deg)`}}toastError(e){var i=this;return(0,c.Z)(function*(){yield i.presentToast({position:"bottom",message:e,icon:"alert-circle-outline",duration:1e3,color:"danger"})})()}presentToast(e){var i=this;return(0,c.Z)(function*(){yield(yield i.toast.create(e)).present()})()}getRandomInt(e,i){return e=Math.ceil(e),i=Math.floor(i),Math.floor(Math.random()*(i-e+1))+e}showConfetti(){this.isShowConfetti=!0,setTimeout(()=>{this.isShowConfetti=!1},2500)}openCheckinModal(){var e=this;return(0,c.Z)(function*(){"loading"===e.state||"spining"===e.state||(yield e.modal.dismiss(),e.isOpenCheckinModal=!0)})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(d.yF),t.Y36(et))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-wheel-game-modal"]],viewQuery:function(e,i){if(1&e&&(t.Gf(d.ki,5),t.Gf(Qo,5),t.Gf(Fo,5),t.Gf(Ro,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.modal=o.first),t.iGM(o=t.CRH())&&(i.spinElem=o.first),t.iGM(o=t.CRH())&&(i.innerWheel=o.first),t.iGM(o=t.CRH())&&(i.sections=o)}},inputs:{isOpen:"isOpen",animated:"animated"},outputs:{isOpenChange:"isOpenChange"},features:[t.qOj,t.TTD],decls:8,vars:4,consts:[[1,"normal-opacity",3,"animated","isOpen","backdropDismiss","didDismiss"],["modal",""],["arrow",""],["badge",""],[3,"isOpen","isOpenChange",4,"ngIf"],[1,"rounded-2xl","modal-wrapper"],[1,"modal-header","flex","items-center","p-2","relative","h-12","rounded-t-xl"],["src","assets/images/wheel-game/wheel-game-logo.png","alt","",1,"absolute","left-1/2","-bottom-3","transform","-translate-x-1/2","-rotate-12","h-32"],[1,"absolute","right-0","top-0","transform","translate-x-1/3","-translate-y-1/3","w-8","p-1","cursor-pointer","bg-[#ff2145]","text-white","rounded-md","border-2","border-[#9D152B]",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],[1,"p-2","modal-body"],[1,"relative"],["id","wheel",1,"mx-auto","my-4"],["id","inner-wheel",3,"ngClass","ngStyle"],["innerWheel",""],[1,"sec"],["sec",""],["src","assets/images/TYQOON-DOLLAR-V2-Cropped.png","alt","",1,"wheel-icon"],["src","assets/images/cny-100px-min.png","alt","",1,"wheel-icon"],["src","/assets/images/gift-icon-2.png","alt","",1,"wheel-icon"],["src","assets/images/wheel-game/respin.png","alt","",1,"wheel-icon"],["src","assets/images/circle-credit-small.png","alt","",1,"wheel-icon"],["src","assets/images/tyqoon-credits-stack-gold.png","alt","",1,"wheel-icon"],["id","spin",3,"click"],["spinElem",""],["id","inner-spin"],["id","shine"],["class","absolute bottom-0 left-0 w-full pointer-events-none","src","assets/images/wheel-game/stars-filler.svg","alt","",4,"ngIf"],[1,"summary","flex","flex-col","justify-between"],["class","mt-4 text-center font-bold text-base sm:text-lg text-white flex justify-center items-center",4,"ngIf"],[1,"relative","px-4"],["class","block z-20 absolute left-1/2 bottom-12",4,"ngIf"],[1,"loader-container","absolute","inset-0",3,"ngClass"],[1,"relative","overflow-hidden","z-10","spin-btn","w-full","block","rounded-xl","text-2xl","xs:text-3xl","border","border-white","text-black","font-bold","uppercase","py-4",3,"disabled","ngClass","click"],[3,"ngTemplateOutlet",4,"ngIf"],["class","text-center font-bold text-sm sm:text-base text-white",4,"ngIf"],[1,"modal-action","p-2","text-white","rounded-b-xl","relative"],["src","assets/images/wheel-game/stars-filler.svg","alt","",1,"absolute","bottom-0","left-0","w-full","pointer-events-none"],[1,"mt-4","text-center","font-bold","text-base","sm:text-lg","text-white","flex","justify-center","items-center"],[1,"block","z-20","absolute","left-1/2","bottom-12"],[3,"ngTemplateOutlet"],[1,"text-center","font-bold","text-sm","sm:text-base","text-white"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 31.143 31.143",0,"xml","space","preserve",1,"absolute","w-8","right-2","top-1/2","transform","-translate-y-1/2",2,"enable-background","new 0 0 31.143 31.143"],["id","c100_arrow"],["d","M0,15.571c0.001,1.702,1.383,3.081,3.085,3.083l17.528-0.002l-4.738,4.739c-1.283,1.284-1.349,3.301-0.145,4.507    c1.205,1.201,3.222,1.138,4.507-0.146l9.896-9.898c1.287-1.283,1.352-3.301,0.146-4.506c-0.033-0.029-0.068-0.051-0.1-0.08    c-0.041-0.043-0.07-0.094-0.113-0.139l-9.764-9.762c-1.268-1.266-3.27-1.316-4.474-0.111c-1.205,1.205-1.153,3.208,0.111,4.476    l4.755,4.754H3.085C1.381,12.485,0,13.865,0,15.571z"],[1,"badge","absolute","w-10","right-0","top-0","transform","-translate-y-1/2","z-10"],["xmlns","http://www.w3.org/2000/svg","id","badge-an","viewBox","0 0 25 25",1,"w-full"],["id","badge"],["id","badge-bg","points","12.5 22.55 10.93 24.95 10.01 22.23 7.9 24.17 7.68 21.31 5.15 22.66 5.66 19.84 2.87 20.52 4.06 17.91 1.19 17.87 2.99 15.64 0.22 14.89 2.52 13.18 0.03 11.76 2.68 10.68 0.61 8.69 3.45 8.29 1.95 5.85 4.79 6.17 3.94 3.44 6.62 4.46 6.48 1.59 8.82 3.25 9.39 0.44 11.25 2.63 12.5 0.05 13.75 2.63 15.61 0.44 16.18 3.25 18.52 1.59 18.38 4.46 21.06 3.44 20.2 6.17 23.05 5.85 21.55 8.29 24.39 8.69 22.32 10.68 24.98 11.76 22.48 13.18 24.78 14.89 22.01 15.64 23.81 17.87 20.94 17.91 22.13 20.52 19.34 19.84 19.85 22.66 17.32 21.31 17.1 24.17 14.99 22.23 14.07 24.95 12.5 22.55","fill","#009cff"],[1,"text-white","absolute","top-1/2","left-1/2","transform","font-bold","text-xl","-translate-x-1/2","-translate-y-1/2"],[3,"isOpen","isOpenChange"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-modal",0,1),t.NdJ("didDismiss",function(){return i.isOpenChange.emit(!1)}),t.YNc(2,ea,48,23,"ng-template"),t.qZA(),t.YNc(3,na,4,0,"ng-template",null,2,t.W1O),t.YNc(5,ia,7,3,"ng-template",null,3,t.W1O),t.YNc(7,oa,1,1,"app-checkin-modal",4)),2&e&&(t.Q6J("animated",i.animated)("isOpen",i.isOpen)("backdropDismiss","spining"!==i.state),t.xp6(7),t.Q6J("ngIf",i.isOpenCheckinModal))},dependencies:[s.mk,s.O5,s.tP,s.PC,d.ki,Pt,kt,s.Ov,u.X$],styles:['ion-modal[_ngcontent-%COMP%]{--width: 400px}ion-modal[_ngcontent-%COMP%]     .ion-page{padding-left:1rem;padding-right:1rem;padding-top:1rem;overflow:unset!important}ion-modal[_ngcontent-%COMP%]::part(content){overflow:unset!important}.modal-wrapper[_ngcontent-%COMP%]{background:#10056a}.close-btn[_ngcontent-%COMP%]{background-color:#0000004d}@media (hover: hover){.close-btn[_ngcontent-%COMP%]:hover{background-color:#ffda44;--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}}.spin-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,#ffca10,#fee011)}.spin-btn[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:100%;height:100%;position:absolute;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.8) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%)}.spin-btn[disabled][_ngcontent-%COMP%]{background:#a2a0ae;color:#83818f}.spin-btn[disabled][_ngcontent-%COMP%]:after{content:none}#wheel[_ngcontent-%COMP%]{--wheel-size: 250px;width:var(--wheel-size);height:var(--wheel-size);border-radius:50%;position:relative;overflow:hidden;border:8px solid #892ef7;box-shadow:0 0 0 3px #000,0 0 15px 8px #ffffff4d;transform:rotate(0)}@media (min-width: 340px){#wheel[_ngcontent-%COMP%]{--wheel-size: 300px}}#wheel[_ngcontent-%COMP%]:before{content:"";position:absolute;border:calc(var(--wheel-size) * 6 / 250) solid rgba(0,0,0,.1);width:calc(var(--wheel-size) * 244 / 250);height:calc(var(--wheel-size) * 247 / 250);border-radius:50%;z-index:1000;top:calc(var(--wheel-size) * -9 / 250);left:calc(var(--wheel-size) * -7 / 250)}#inner-wheel[_ngcontent-%COMP%]{width:100%;height:100%;transition:all 6s cubic-bezier(0,.99,.44,.99)}#inner-wheel.loading[_ngcontent-%COMP%]{transition-duration:.7s;transition-timing-function:linear}@keyframes spin-forever{0%{transform:rotate(0)}to{transform:rotate(360deg)}}#wheel[_ngcontent-%COMP%]   div.sec[_ngcontent-%COMP%]{position:absolute;width:0;height:0;border-style:solid;border-width:calc(var(--wheel-size) * 130 / 250) calc(var(--wheel-size) * 75 / 250) 0;border-color:#19c transparent;transform-origin:calc(var(--wheel-size) * 75 / 250) calc(var(--wheel-size) * 130 / 250);left:18.5%;top:-5%;opacity:1}#wheel[_ngcontent-%COMP%]   div.sec[_ngcontent-%COMP%]:nth-child(1){transform:rotate(60deg);-webkit-transform:rotate(60deg);-moz-transform:rotate(60deg);-o-transform:rotate(60deg);-ms-transform:rotate(60deg);border-color:#65ff8a transparent}#wheel[_ngcontent-%COMP%]   div.sec[_ngcontent-%COMP%]:nth-child(2){transform:rotate(120deg);-webkit-transform:rotate(120deg);-moz-transform:rotate(120deg);-o-transform:rotate(120deg);-ms-transform:rotate(120deg);border-color:#00d2f7 transparent}#wheel[_ngcontent-%COMP%]   div.sec[_ngcontent-%COMP%]:nth-child(3){transform:rotate(180deg);-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-o-transform:rotate(180deg);-ms-transform:rotate(180deg);border-color:#305895 transparent}#wheel[_ngcontent-%COMP%]   div.sec[_ngcontent-%COMP%]:nth-child(4){transform:rotate(240deg);-webkit-transform:rotate(240deg);-moz-transform:rotate(240deg);-o-transform:rotate(240deg);-ms-transform:rotate(240deg);border-color:#f7294d transparent}#wheel[_ngcontent-%COMP%]   div.sec[_ngcontent-%COMP%]:nth-child(5){transform:rotate(300deg);-webkit-transform:rotate(300deg);-moz-transform:rotate(300deg);-o-transform:rotate(300deg);-ms-transform:rotate(300deg);border-color:#ffb04b transparent}#wheel[_ngcontent-%COMP%]   div.sec[_ngcontent-%COMP%]:nth-child(6){transform:rotate(360deg);-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);-ms-transform:rotate(360deg);border-color:#ffe56a transparent}#wheel[_ngcontent-%COMP%]   div.sec[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-top:-100px;color:#0003;position:relative;z-index:10000000;display:block;text-align:center;font-size:36px;margin-left:-15px;text-shadow:rgba(255,255,255,.1) 0px -1px 0px,rgba(0,0,0,.2) 0px 1px 0px}#wheel[_ngcontent-%COMP%]   div.sec[_ngcontent-%COMP%]   .wheel-icon[_ngcontent-%COMP%]{margin-top:calc(var(--wheel-size) * -100 / 250);max-width:none;width:calc(var(--wheel-size) * 55 / 250);position:absolute;top:50%;left:50%;transform:translate(-50%,-5%)}#spin[_ngcontent-%COMP%]{width:68px;height:68px;position:absolute;top:50%;left:50%;margin:-34px 0 0 -34px;border-radius:50%;box-shadow:#0000001a 0 3px;z-index:1000;background:#fff;cursor:pointer;-webkit-user-select:none;user-select:none;transition:transform .05s}#spin[_ngcontent-%COMP%]:after{content:attr(data-label);text-align:center;line-height:68px;color:#ccc;position:relative;z-index:100000;width:68px;height:68px;color:#000;font-weight:700;display:block}#spin[_ngcontent-%COMP%]:before{content:"";position:absolute;width:0;height:0;border-style:solid;border-width:0 20px 28px 20px;border-color:transparent transparent #ffffff transparent;top:-12px;left:14px}#inner-spin[_ngcontent-%COMP%]{width:54px;height:54px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:50%;background:red;z-index:999;box-shadow:#fff 0 -2px inset,#fff 0 2px inset,#0006 0 0 5px;background:rgb(255,255,255);background:radial-gradient(ellipse at center,rgb(255,255,255) 0%,rgb(234,234,234) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffffff",endColorstr="#eaeaea",GradientType=1)}#spin[_ngcontent-%COMP%]:active   #inner-spin[_ngcontent-%COMP%]{box-shadow:#0006 0 0 5px inset}#spin[_ngcontent-%COMP%]:active:after{font-size:15px}#shine[_ngcontent-%COMP%]{width:var(--wheel-size);height:var(--wheel-size);position:absolute;top:0;left:0;background:radial-gradient(ellipse at center,rgb(255,255,255) 0%,rgba(255,255,255,.99) 1%,rgba(255,255,255,.91) 9%,rgba(255,255,255,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffffff",endColorstr="#00ffffff",GradientType=1);opacity:.1}@keyframes hh{0%,to{transform:rotate(0);-webkit-transform:rotate(0deg)}50%{transform:rotate(7deg);-webkit-transform:rotate(7deg)}}.spin[_ngcontent-%COMP%]{transform:rotate(7deg)}.summary[_ngcontent-%COMP%]{height:130px}app-checkin-confetti[_ngcontent-%COMP%]{width:200%;transform:translate(-50%)}.checkin-btn[_ngcontent-%COMP%]{border:2px solid #ff8340;background:linear-gradient(to right,#ff6009,#ff8340);width:300px;max-width:100%}']}),n})();const ra=function(n){return{active:n}};function sa(n,a){if(1&n){const e=t.EpF();t.O4$(),t.TgZ(0,"svg",2),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleClick())}),t._UZ(1,"path",3)(2,"path",4)(3,"path",5)(4,"path",6),t.TgZ(5,"g",7),t._UZ(6,"circle",8)(7,"path",9)(8,"path",10)(9,"path",11)(10,"path",12)(11,"path",13)(12,"path",14),t.qZA(),t._UZ(13,"path",15)(14,"path",16),t.TgZ(15,"g",17),t._UZ(16,"rect",18),t.TgZ(17,"g"),t._UZ(18,"path",19)(19,"path",20)(20,"path",21)(21,"path",22)(22,"path",23),t.qZA()(),t.TgZ(23,"g")(24,"g",24),t._UZ(25,"path",25),t.qZA(),t.TgZ(26,"g",26),t._UZ(27,"path",27),t.qZA(),t.TgZ(28,"g",28),t._UZ(29,"path",29),t.qZA(),t.TgZ(30,"g",30),t._UZ(31,"path",31),t.qZA(),t.TgZ(32,"g",32),t._UZ(33,"path",33),t.qZA(),t.TgZ(34,"g",34),t._UZ(35,"path",35),t.qZA(),t.TgZ(36,"g",36),t._UZ(37,"path",37),t.qZA()(),t.TgZ(38,"g",38),t._UZ(39,"polygon",39),t.TgZ(40,"text",40),t._uU(41),t.qZA()()()}if(2&n){const e=a.ngIf;t.Q6J("ngClass",t.VKq(2,ra,e.spinCount)),t.xp6(41),t.Oqu(e.spinCount)}}const la=function(n){return{spinCount:n}};let ca=(()=>{class n extends _.V{constructor(e,i,o){super(),this.router=e,this.checkinService=i,this.userService=o,this.isOpenModal=!1}handleClick(){this.userService.isLogin(!0)?this.isOpenModal=!0:this.router.navigate(["/auth/login"],{queryParams:{back:encodeURIComponent(this.router.url)}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.F0),t.Y36(et),t.Y36(M.K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-wheel-button"]],features:[t.qOj],decls:3,vars:6,consts:[["id","wheel-spin","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 885.71 1042.92",3,"ngClass","click",4,"ngIf"],[3,"isOpen","isOpenChange"],["id","wheel-spin","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 885.71 1042.92",3,"ngClass","click"],["d","M284.36,704.36l14.9-37.23,293.16,14.21,33,78.68a19.61,19.61,0,0,1-18.09,27.18H280.18A19.6,19.6,0,0,1,262,760.31l22.38-55.95","fill","#e9e3d5"],["d","M625.37,760l-33-78.68-38.66-1.87L571.19,725a18.74,18.74,0,0,1-17.49,25.47H265.9L262,760.31a19.61,19.61,0,0,0,18.2,26.89h327.1A19.62,19.62,0,0,0,625.37,760Z","fill","#b6b0a2"],["d","M340.2,199.84a7.89,7.89,0,0,1-7.84-7L312.94,27.07a6.18,6.18,0,0,1,1.52-4.86,6.24,6.24,0,0,1,9.77.52l65.1,95.51L436.28,11.42a6.25,6.25,0,0,1,11.3,0l.1.22,46.07,106.65L555.19,30a6.24,6.24,0,0,1,11.33,4.3l-17.9,158.54a7.9,7.9,0,0,1-7.84,7Z","fill","#fece08","stroke","#000","stroke-miterlimit","10","stroke-width","16"],["d","M319.35,26.21,390,129.85a.47.47,0,0,0,.83-.08L441.71,14a.25.25,0,0,1,.45,0l50,115.79a.48.48,0,0,0,.83.08L560.13,33.4a.24.24,0,0,1,.44.17L542.66,192.16a1.89,1.89,0,0,1-1.88,1.68H340.2a1.89,1.89,0,0,1-1.88-1.67L318.9,26.37A.25.25,0,0,1,319.35,26.21Z","fill","#fece08"],["id","spin-circle"],["cx","442.86","cy","451.46","r","215.67"],["d","M535,275.66,442.87,435.18l-92.1-159.52a198.63,198.63,0,0,1,184.19,0Z","fill","#ffd857"],["d","M428.76,443.32H244.6A198.27,198.27,0,0,1,336.67,283.8Z","fill","#ff983b"],["d","M428.78,459.59l-92.1,159.52a198.27,198.27,0,0,1-92.07-159.52Z","fill","#ff4767"],["d","M535,627.25a198.63,198.63,0,0,1-184.19,0l92.1-159.52Z","fill","#4d79ba"],["d","M641.11,459.59a198.25,198.25,0,0,1-92.06,159.5L457,459.59Z","fill","#00f7f6"],["d","M641.11,443.32H457l92.09-159.5A198.27,198.27,0,0,1,641.11,443.32Z","fill","#49e965"],["d","M526.82,192.91a273.29,273.29,0,0,0-167.91,0c-109,35.37-187.82,137.77-187.82,258.56,0,150.09,121.68,271.77,271.77,271.77S714.63,601.55,714.63,451.46C714.63,330.67,635.82,228.28,526.82,192.91ZM462.1,308.58l31.39-57.94C583.65,273.3,650.35,355.12,649.9,452.42a206.59,206.59,0,0,1-207,206.09c-114.35,0-207-92.7-207-207,0-96.89,66.55-178.24,156.43-200.82l31.38,57.94A21.88,21.88,0,0,0,462.1,308.58Z","fill","#a760fe","stroke","#000","stroke-linejoin","round","stroke-width","16.6"],["d","M607.28,795.33H280.18a27.74,27.74,0,0,1-25.76-38.05l19.64-49.08a8.14,8.14,0,1,1,15.11,6l-19.64,49.08a11.47,11.47,0,0,0,10.65,15.73h327.1a11.47,11.47,0,0,0,10.58-15.9l-31-73.94,11.05-15.76,34.93,83.41a27.74,27.74,0,0,1-25.59,38.46Z"],["id","button"],["x","67.86","y","737.68","width","750","height","300","rx","90","fill","#fecb10","stroke","#fff4aa","stroke-miterlimit","10","stroke-width","5"],["d","M224.16,954.38a43.11,43.11,0,0,1-18.5-14.4,37.88,37.88,0,0,1-7-22.2h30q.6,8.61,6.1,13.6t15.1,5q9.79,0,15.4-4.7a15.29,15.29,0,0,0,5.6-12.3,14.24,14.24,0,0,0-3.8-10.2,26.77,26.77,0,0,0-9.5-6.3,158.68,158.68,0,0,0-15.7-5.1,167.18,167.18,0,0,1-22.1-7.9,38.68,38.68,0,0,1-14.6-11.8q-6.1-7.89-6.1-21.1a37.78,37.78,0,0,1,6.2-21.6,39.44,39.44,0,0,1,17.4-14.1,63.43,63.43,0,0,1,25.6-4.9q21.6,0,35.1,10.5t14.9,29.3h-30.8a16,16,0,0,0-6.1-11.9q-5.7-4.69-15.1-4.7-8.2,0-13.1,4.2t-4.9,12.2a12.58,12.58,0,0,0,3.7,9.3,28.11,28.11,0,0,0,9.2,6q5.51,2.31,15.5,5.3a163.86,163.86,0,0,1,22.2,8,39.93,39.93,0,0,1,14.8,12q6.19,8,6.2,21a39.46,39.46,0,0,1-5.8,20.8,41,41,0,0,1-17,15.3q-11.21,5.7-26.6,5.7A66.2,66.2,0,0,1,224.16,954.38Z"],["d","M420.56,882.58q-5.31,9.81-16.6,15.8t-28.5,6h-23.4V958h-28V818.38h51.4q16.2,0,27.6,5.6t17.1,15.4a45.18,45.18,0,0,1,.4,43.2Zm-29.1-6.1q5.6-5.29,5.6-14.9,0-20.4-22.8-20.4h-22.2v40.6h22.2Q385.86,881.78,391.46,876.48Z"],["d","M473.66,818.38V958h-28V818.38Z"],["d","M620.66,958h-28l-63.4-95.8V958h-28V818.18h28l63.4,96v-96h28Z"],["d","M657.55,954.68a16.42,16.42,0,0,1,0-23.4,17.33,17.33,0,0,1,12.5-4.7,16.74,16.74,0,0,1,12.2,4.7,16.66,16.66,0,0,1,0,23.4,16.7,16.7,0,0,1-12.2,4.7A17.29,17.29,0,0,1,657.55,954.68ZM684.45,816l-3.2,96.6h-23.6l-3.4-96.6Z"],["id","star-1-outer"],["id","star-1","d","M232.17,690.63l22,7.6a.64.64,0,0,1,0,1.21l-22,7.6a.61.61,0,0,0-.39.39l-7.6,22a.63.63,0,0,1-1.2,0l-7.6-22a.62.62,0,0,0-.4-.39L193,699.44a.64.64,0,0,1,0-1.21l21.95-7.6a.64.64,0,0,0,.4-.39l7.6-22a.63.63,0,0,1,1.2,0l7.6,22A.63.63,0,0,0,232.17,690.63Z","fill","#fffcca","stroke","#ffd195","stroke-miterlimit","10","stroke-width","0.21",2,"transform-origin","223.585px 698.835px"],["id","star-2-outer"],["id","star-2","d","M760.16,454.13l27.9,9.65a.81.81,0,0,1,0,1.53L760.16,475a.83.83,0,0,0-.5.5L750,503.37a.81.81,0,0,1-1.53,0l-9.66-27.9a.8.8,0,0,0-.5-.5l-27.9-9.66a.81.81,0,0,1,0-1.53l27.9-9.65a.8.8,0,0,0,.5-.5l9.66-27.9a.81.81,0,0,1,1.53,0l9.65,27.9A.83.83,0,0,0,760.16,454.13Z","fill","#fffcca","stroke","#ffd195","stroke-miterlimit","10","stroke-width","0.21",2,"transform-origin","749.235px 464.55px"],["id","star-3-outer"],["id","star-3","d","M667.38,262.54l25.78,8.93a.75.75,0,0,1,0,1.41l-25.78,8.93a.74.74,0,0,0-.47.46L658,308.05a.75.75,0,0,1-1.42,0l-8.92-25.78a.75.75,0,0,0-.46-.46l-25.79-8.93a.75.75,0,0,1,0-1.41l25.79-8.93a.75.75,0,0,0,.46-.46l8.92-25.79a.75.75,0,0,1,1.42,0l8.92,25.79A.74.74,0,0,0,667.38,262.54Z","fill","#fffcca","stroke","#ffd195","stroke-miterlimit","10","stroke-width","0.21",2,"transform-origin","657.285px 272.17px"],["id","star-4-outer"],["id","star-4","d","M143.56,453.63l29.24,10.12a.85.85,0,0,1,0,1.6l-29.24,10.12a.87.87,0,0,0-.53.53l-10.12,29.23a.85.85,0,0,1-1.6,0L121.19,476a.85.85,0,0,0-.52-.53L91.43,465.35a.85.85,0,0,1,0-1.6l29.24-10.12a.85.85,0,0,0,.52-.53l10.12-29.23a.84.84,0,0,1,1.6,0L143,453.1A.87.87,0,0,0,143.56,453.63Z","fill","#fffcca","stroke","#ffd195","stroke-miterlimit","10","stroke-width","0.21",2,"transform-origin","132.115px 464.539px"],["id","star-5-outer"],["id","star-5","d","M445.24,754.57l15.06,5.21a.44.44,0,0,1,0,.83l-15.06,5.21a.41.41,0,0,0-.27.27l-5.21,15.06a.44.44,0,0,1-.83,0l-5.21-15.06a.45.45,0,0,0-.27-.27l-15.07-5.21a.44.44,0,0,1,0-.83l15.07-5.21a.51.51,0,0,0,.27-.27l5.21-15.07a.44.44,0,0,1,.83,0L445,754.3A.45.45,0,0,0,445.24,754.57Z","fill","#fffcca","stroke","#ffd195","stroke-miterlimit","10","stroke-width","0.21",2,"transform-origin","439.34px 760.19px"],["id","star-6-outer"],["id","star-6","d","M224.9,256.18l17.92,6.2a.52.52,0,0,1,0,1l-17.92,6.2a.55.55,0,0,0-.32.33l-6.2,17.92a.52.52,0,0,1-1,0l-6.21-17.92a.55.55,0,0,0-.32-.33L193,263.36a.52.52,0,0,1,0-1l17.92-6.2a.52.52,0,0,0,.32-.33l6.21-17.92a.52.52,0,0,1,1,0l6.2,17.92A.52.52,0,0,0,224.9,256.18Z","fill","#fffcca","stroke","#ffd195","stroke-miterlimit","10","stroke-width","0.21",2,"transform-origin","217.91px 262.87px"],["id","star-7-outer"],["id","star-7","d","M646.6,687.63l30,10.38a.87.87,0,0,1,0,1.65L646.6,710a.86.86,0,0,0-.54.53l-10.38,30a.87.87,0,0,1-1.65,0l-10.38-30a.82.82,0,0,0-.53-.53l-30-10.38a.87.87,0,0,1,0-1.65l30-10.38a.84.84,0,0,0,.53-.54l10.38-30a.87.87,0,0,1,1.65,0l10.38,30A.88.88,0,0,0,646.6,687.63Z","fill","#fffcca","stroke","#ffd195","stroke-miterlimit","10","stroke-width","0.21",2,"transform-origin","634.86px 698.79px"],["id","badge"],["id","badge-bg","points","788.3 842.84 776.49 860.95 769.55 840.47 753.6 855.07 751.97 833.51 732.89 843.68 736.68 822.4 715.67 827.51 724.63 807.83 703.01 807.56 716.58 790.73 695.71 785.09 713.04 772.16 694.22 761.5 714.23 753.29 698.65 738.29 720.07 735.31 708.71 716.91 730.2 719.35 723.77 698.71 743.98 706.41 742.89 684.82 760.54 697.3 764.86 676.12 778.85 692.6 788.3 673.16 797.75 692.6 811.75 676.12 816.06 697.3 833.72 684.82 832.63 706.41 852.83 698.71 846.41 719.35 867.89 716.91 856.54 735.31 877.95 738.29 862.38 753.29 882.38 761.5 863.57 772.16 880.9 785.09 860.02 790.73 873.6 807.56 851.98 807.83 860.93 827.51 839.93 822.4 843.71 843.68 824.63 833.51 823 855.07 807.06 840.47 800.12 860.95 788.3 842.84","fill","#009dfe"],["id","badge-text","transform","translate(752.16 814.49)","font-size","120.66","fill","#fff","font-weight","600"]],template:function(e,i){1&e&&(t.YNc(0,sa,42,4,"svg",0),t.ALo(1,"async"),t.TgZ(2,"app-wheel-game-modal",1),t.NdJ("isOpenChange",function(r){return i.isOpenModal=r}),t.qZA()),2&e&&(t.Q6J("ngIf",t.VKq(4,la,t.lcZ(1,2,i.checkinService.spinCount$))),t.xp6(2),t.Q6J("isOpen",i.isOpenModal))},dependencies:[s.mk,s.O5,aa,s.Ov],styles:["[_nghost-%COMP%]{display:block;position:fixed;top:130px;left:0;cursor:pointer;z-index:2}@media (min-width: 768px){[_nghost-%COMP%]{left:0;top:130px}}@media (min-width: 1024px){[_nghost-%COMP%]{left:0;top:145px}}@media (min-width: 1280px){[_nghost-%COMP%]{left:calc(50vw - 645px)}}@media (min-width: 1360px){[_nghost-%COMP%]{left:calc(50vw - 650px)}}@media (min-width: 1440px){[_nghost-%COMP%]{left:calc(50vw - 720px)}}@media (min-width: 1480px){[_nghost-%COMP%]{left:calc(50vw - 750px)}}#wheel-spin[_ngcontent-%COMP%]{width:80px}@media (min-width: 768px){#wheel-spin[_ngcontent-%COMP%]{width:80px}}#wheel-spin[_ngcontent-%COMP%]   #star-1[_ngcontent-%COMP%], #wheel-spin[_ngcontent-%COMP%]   #star-2[_ngcontent-%COMP%], #wheel-spin[_ngcontent-%COMP%]   #star-3[_ngcontent-%COMP%], #wheel-spin[_ngcontent-%COMP%]   #star-4[_ngcontent-%COMP%], #wheel-spin[_ngcontent-%COMP%]   #star-5[_ngcontent-%COMP%], #wheel-spin[_ngcontent-%COMP%]   #star-6[_ngcontent-%COMP%], #wheel-spin[_ngcontent-%COMP%]   #star-7[_ngcontent-%COMP%], #wheel-spin[_ngcontent-%COMP%]   #button[_ngcontent-%COMP%], #wheel-spin[_ngcontent-%COMP%]   #badge[_ngcontent-%COMP%]{opacity:0}@keyframes sw-move-up{70%,to{transform:translateY(-200px)}}@keyframes sw-rotate{70%,to{transform:none}}@keyframes sw-fade{0%,70%,to{opacity:0}20%,50%{opacity:1}}#wheel-spin.active[_ngcontent-%COMP%]   #button[_ngcontent-%COMP%], #wheel-spin.active[_ngcontent-%COMP%]   #badge[_ngcontent-%COMP%]{opacity:1}#wheel-spin.active[_ngcontent-%COMP%]   #star-1[_ngcontent-%COMP%]{animation:sw-rotate 5s 0s ease-in-out both infinite,sw-fade 5s 0s ease-in-out both infinite;transform:rotate(-720deg)}#wheel-spin.active[_ngcontent-%COMP%]   #star-2[_ngcontent-%COMP%]{animation:sw-rotate 5s -.6s ease-in-out both infinite,sw-fade 5s -.6s ease-in-out both infinite;transform:rotate(720deg)}#wheel-spin.active[_ngcontent-%COMP%]   #star-3[_ngcontent-%COMP%]{animation:sw-rotate 5s -1.2s ease-in-out both infinite,sw-fade 5s -1.2s ease-in-out both infinite;transform:rotate(-720deg)}#wheel-spin.active[_ngcontent-%COMP%]   #star-4[_ngcontent-%COMP%]{animation:sw-rotate 5s -1.8s ease-in-out both infinite,sw-fade 5s -1.8s ease-in-out both infinite;transform:rotate(720deg)}#wheel-spin.active[_ngcontent-%COMP%]   #star-5[_ngcontent-%COMP%]{animation:sw-rotate 5s -2.4s ease-in-out both infinite,sw-fade 5s -2.4s ease-in-out both infinite;transform:rotate(-720deg)}#wheel-spin.active[_ngcontent-%COMP%]   #star-6[_ngcontent-%COMP%]{animation:sw-rotate 5s -3s ease-in-out both infinite,sw-fade 5s -3s ease-in-out both infinite;transform:rotate(720deg)}#wheel-spin.active[_ngcontent-%COMP%]   #star-7[_ngcontent-%COMP%]{animation:sw-rotate 5s -3.6s ease-in-out both infinite,sw-fade 5s -3.6s ease-in-out both infinite;transform:rotate(-720deg)}#wheel-spin.active[_ngcontent-%COMP%]   #star-1-outer[_ngcontent-%COMP%]{animation:sw-move-up 5s 0s ease-in-out both infinite}#wheel-spin.active[_ngcontent-%COMP%]   #star-2-outer[_ngcontent-%COMP%]{animation:sw-move-up 5s -.6s ease-in-out both infinite}#wheel-spin.active[_ngcontent-%COMP%]   #star-3-outer[_ngcontent-%COMP%]{animation:sw-move-up 5s -1.2s ease-in-out both infinite}#wheel-spin.active[_ngcontent-%COMP%]   #star-4-outer[_ngcontent-%COMP%]{animation:sw-move-up 5s -1.8s ease-in-out both infinite}#wheel-spin.active[_ngcontent-%COMP%]   #star-5-outer[_ngcontent-%COMP%]{animation:sw-move-up 5s -2.4s ease-in-out both infinite}#wheel-spin.active[_ngcontent-%COMP%]   #star-6-outer[_ngcontent-%COMP%]{animation:sw-move-up 5s -3s ease-in-out both infinite}#wheel-spin.active[_ngcontent-%COMP%]   #star-7-outer[_ngcontent-%COMP%]{animation:sw-move-up 5s -3.6s ease-in-out both infinite}@keyframes spin-wheel{0%{transform:none}70%,to{transform:rotate(-2520deg)}}#wheel-spin.active[_ngcontent-%COMP%]   #spin-circle[_ngcontent-%COMP%]{transform-origin:442.85px 451.46px;animation:spin-wheel 10s cubic-bezier(.1,0,0,1) both infinite}"]}),n})();var Tt=l(98667),pa=l(48767),At=l(95030),E=l(44466),da=l(98741);function fa(n,a){1&n&&t._UZ(0,"div",8)}function ga(n,a){1&n&&(t.TgZ(0,"div",9),t._UZ(1,"img",10),t.qZA())}function ma(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleClick())}),t.TgZ(1,"button",3)(2,"div",4),t.YNc(3,fa,1,0,"div",5),t.YNc(4,ga,2,0,"div",6),t.qZA(),t.TgZ(5,"div",7),t._uU(6),t.ALo(7,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.value<e.total),t.xp6(1),t.Q6J("ngIf",e.value>=e.total),t.xp6(2),t.hij(" ",t.lcZ(7,3,"bidding-checking-btn")," ")}}let St=(()=>{class n extends _.V{constructor(e,i,o,r){super(),this.router=e,this.biddingService=i,this.userService=o,this.cdr=r,this.isOpenModal=!1,this.value=0,this.total=3e3,this.maximum=5e3}ngOnInit(){this.biddingService.activityStatistic$.pipe((0,g.R)(this.destroyStream$)).subscribe(e=>{e&&(this.value=e.todayTicketsUsedNum||0,this.maximum=e.doubleActiveTicketsNum||5e3,this.total=e.activeTicketsNum||3e3,this.cdr.detectChanges())})}handleClick(){this.userService.isLogin(!0)?this.isOpenModal=!0:this.router.navigate(["/auth/login"],{queryParams:{back:encodeURIComponent(this.router.url)}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.F0),t.Y36(N.g),t.Y36(M.K),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bidding-checkin-button"]],standalone:!0,features:[t.qOj,t.jDz],decls:3,vars:4,consts:[["class","rounded-r-2xl py-3 md:px-0.5 bg-white shadow-xl absolute left-0 transform -translate-y-1/2","style","z-index: 999",3,"click",4,"ngIf"],[3,"isOpen","isOpenChange"],[1,"rounded-r-2xl","py-3","md:px-0.5","bg-white","shadow-xl","absolute","left-0","transform","-translate-y-1/2",2,"z-index","999",3,"click"],[1,"inline","w-full"],[1,"!w-7","md:!w-8","h-7","flex","justify-center","mx-auto","mb-1"],["class","red-dot h-5 w-5 rounded-full",4,"ngIf"],["class","check-icon w-6 h-6 flex-shrink-0 flex items-center justify-center rounded-full ml-1",4,"ngIf"],[1,"relative","z-10","text-xs","md:text-sm","font-bold","text-center"],[1,"red-dot","h-5","w-5","rounded-full"],[1,"check-icon","w-6","h-6","flex-shrink-0","flex","items-center","justify-center","rounded-full","ml-1"],["src","assets/images/golden-check.png","alt","",1,"w-8/12"]],template:function(e,i){1&e&&(t.YNc(0,ma,8,5,"div",0),t.ALo(1,"async"),t.TgZ(2,"app-bidding-checkin-modal",1),t.NdJ("isOpenChange",function(r){return i.isOpenModal=r}),t.qZA()),2&e&&(t.Q6J("ngIf",t.lcZ(1,2,i.userService.userInfo$)),t.xp6(2),t.Q6J("isOpen",i.isOpenModal))},dependencies:[d.Pc,s.ez,s.O5,s.Ov,u.aw,u.X$,E.m,da.e],styles:["[_nghost-%COMP%]{position:sticky;top:58%;left:0;z-index:100;display:block}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:64px;background:white;--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity));border:1px solid #dddddd}@media (min-width: 768px){[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:74px}}[_nghost-%COMP%] > div.orange-bg[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));border:0;background:#005FFF}@media (min-width: 768px){[_nghost-%COMP%]{top:50%}}@keyframes red-pulse{0%{box-shadow:0 0 #f30b1f}to{box-shadow:0 0 0 5px #fbb32f01}}.red-dot[_ngcontent-%COMP%]{background:#f30b1f;animation:red-pulse 1.5s infinite}.check-icon[_ngcontent-%COMP%]{background:linear-gradient(to right,#045EEF,#025DFC);box-shadow:0 0 0 2px #afc9f7}"]}),n})();var Lt=l(83661),ua=l(331),ha=l(93774),Gt=l(59809);const _a=["swiper"];function xa(n,a){if(1&n&&t._UZ(0,"app-product-card",7),2&n){const e=t.oxw().$implicit,i=t.oxw(2).ngLet,o=t.oxw();t.Q6J("product",e)("isBiddingMode",o.isBiddingMode)("identifierPrefix","home-featured-")("isLogin",!!i)}}function ba(n,a){1&n&&t.YNc(0,xa,1,4,"ng-template",6)}function Ca(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"swiper",3,4),t.NdJ("mouseenter",function(){t.CHM(e);const o=t.MAs(1);return t.KtG(null==o||null==o.swiperRef||null==o.swiperRef.autoplay?null:o.swiperRef.autoplay.stop())})("mouseleave",function(){t.CHM(e);const o=t.MAs(1);return t.KtG(null==o||null==o.swiperRef||null==o.swiperRef.autoplay?null:o.swiperRef.autoplay.start())}),t.YNc(2,ba,1,0,null,5),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("config",e.slideOpts),t.xp6(2),t.Q6J("ngForOf",e.featuredProducts.rows)("ngForTrackBy",e.trackByFn)}}function wa(n,a){1&n&&t._UZ(0,"app-product-card-skeleton",10)}function va(n,a){1&n&&t.YNc(0,wa,1,0,"ng-template",6)}const ya=function(){return[]};function Ma(n,a){if(1&n&&(t.TgZ(0,"swiper",8),t.YNc(1,va,1,0,null,9),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("config",e.slideOpts),t.xp6(1),t.Q6J("ngForOf",t.DdM(2,ya).constructor(7).fill(1))}}function Oa(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Ca,3,3,"swiper",1),t.YNc(2,Ma,2,3,"swiper",2),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.featuredProducts),t.xp6(1),t.Q6J("ngIf",!e.featuredProducts)}}let Za=(()=>{class n extends _.V{constructor(e,i,o,r,p,x){super(),this.ProductsService=e,this.userService=i,this.themeService=o,this.biddingService=r,this.cdr=p,this.ngZone=x,this.biddingProductsSortOrder=0,this.slideOpts={slidesPerView:"auto",loop:!0,autoplay:{delay:3e3,disableOnInteraction:!0},noSwiping:!0,noSwipingClass:"bidding-bar"},this.isBiddingMode=this.biddingService.isBiddingMode$.getValue()}trackByFn(e,i){return i.id}ngOnInit(){var e=this;return(0,c.Z)(function*(){e.isBiddingMode=e.biddingService.isBiddingMode$.getValue(),e.themeService.configTheme$.subscribe(function(){var i=(0,c.Z)(function*(o){if(!o)return;const r=o?.parsedData.recommend?.reduce((p,x,f)=>(p[`productId[${f}]`]=x,p),{});e.isBiddingMode?yield e.fetchBiddingProductData():e.featuredProducts=yield(0,h.n)(e.ProductsService.getProductsByMetaParamsV2({traceId:e.userService.traceId||"",...r,rows:o?.parsedData?.recommend?.length||0,page:0,haStock:!0})),e.slideOpts={...e.slideOpts,loopedSlides:e.featuredProducts.rows.length},m.Z.isBrowser&&e.ngZone.runOutsideAngular(()=>{setTimeout(()=>{e.featuredSwiper?.swiperRef?.autoplay?.start()},100)}),e.cdr.markForCheck()});return function(o){return i.apply(this,arguments)}}()),e.biddingService.isBiddingMode$.pipe((0,g.R)(e.destroyStream$)).subscribe(i=>{e.themeService.getIndexSetting(i).pipe((0,O.q)(1)).subscribe(),e.isBiddingMode=i,e.isBiddingMode?e.initPoll():e.stopPoll()})})()}ngOnDestroy(){super.ngOnDestroy(),this.stopPoll()}initPoll(){m.Z.isBrowser&&(this.stopPoll(),this.pollSubscription=(0,st.H)(1e4,1e4).pipe((0,g.R)(this.destroyStream$)).subscribe(()=>{this.biddingService.isBiddingInProgress||this.fetchBiddingProductData()}))}stopPoll(){this.pollSubscription&&this.pollSubscription.unsubscribe()}fetchBiddingProductData(){var e=this;return(0,c.Z)(function*(){console.log("Fetch featured products");const i=yield(0,h.n)(e.biddingService.getProductsWithPoolInfo({sortType:0,page:0,rows:10}));e.biddingService.isBiddingInProgress||(e.featuredProducts=i,e.cdr.detectChanges())})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Mt.s),t.Y36(M.K),t.Y36(J.f),t.Y36(N.g),t.Y36(t.sBO),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home-featured-products"]],viewQuery:function(e,i){if(1&e&&t.Gf(_a,5),2&e){let o;t.iGM(o=t.CRH())&&(i.featuredSwiper=o.first)}},inputs:{biddingProductsSortOrder:"biddingProductsSortOrder"},features:[t.qOj],decls:2,vars:3,consts:[[4,"ngLet"],["class","home-swiper",3,"config","mouseenter","mouseleave",4,"ngIf"],["class","home-swiper",3,"config",4,"ngIf"],[1,"home-swiper",3,"config","mouseenter","mouseleave"],["swiper",""],[4,"ngFor","ngForOf","ngForTrackBy"],["swiperSlide",""],[1,"w-full",3,"product","isBiddingMode","identifierPrefix","isLogin"],[1,"home-swiper",3,"config"],[4,"ngFor","ngForOf"],[1,"w-full"]],template:function(e,i){1&e&&(t.YNc(0,Oa,3,2,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngLet",t.lcZ(1,1,i.userService.userInfo$))},dependencies:[s.sg,s.O5,Ot.Y,H.h,A.nF,A.YC,Gt.I,s.Ov],styles:["@media (min-width: 768px){app-product-card[_ngcontent-%COMP%]     app-bid-button .bidding-bar .enter-now{margin-left:20px}}@media (min-width: 1280px){app-product-card[_ngcontent-%COMP%]     app-bid-button .bidding-bar .enter-now{margin-left:12px}}"],changeDetection:0}),n})();const ka=[{name:"shop-category-electronics",link:"/product/search?categoryId=2"},{name:"shop-category-homegoods",link:"/product/search?categoryId=27"},{name:"shop-category-baby",link:"/product/search?categoryId=4"},{name:"shop-category-fashion",link:"/product/search?categoryId=5"},{name:"shop-subcategory-link-fruits-tropical-fruits",link:"/product/search?categoryId=8"},{name:"shop-subcategory-link-face",link:"/product/search?categoryId=1"}],Pa=function(n,a){return{color:n,background:a}};function Ta(n,a){if(1&n&&(t.TgZ(0,"a",8),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw();t.Q6J("ngStyle",t.WLB(4,Pa,e.value.meta.labelFontCol,e.value.meta.labelBackgroundCol)),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.value.meta.labelTag)," ")}}function Aa(n,a){if(1&n&&(t.TgZ(0,"a",2),t._UZ(1,"img",12),t.qZA()),2&n){const e=t.oxw().index,i=t.oxw(2);t.Q6J("href",i.value.meta.productList[e].photoLink,t.LSH),t.xp6(1),t.Q6J("src",i.value.meta.productList[e].photo,t.LSH)("alt",i.value.meta.title)}}function Sa(n,a){if(1&n&&(t.TgZ(0,"div",10),t.YNc(1,Aa,2,3,"a",11),t.qZA()),2&n){const e=a.index,i=t.oxw(2),o=t.MAs(10);t.xp6(1),t.Q6J("ngIf",i.value.meta.productList[e])("ngIfElse",o)}}const La=function(){return[]};function Ga(n,a){1&n&&(t.ynx(0),t.YNc(1,Sa,2,2,"div",9),t.BQk()),2&n&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,La).constructor(2).fill(1)))}function Ia(n,a){1&n&&t._UZ(0,"img",13)}let qa=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-category-card"]],inputs:{value:"value"},decls:11,vars:6,consts:[[1,"flex","flex-col","w-full","rounded-lg","h-full"],[1,"font-bold","text-xs","mb-2","2md:mb-0","flex","items-center","justify-start",2,"max-width","95%"],[3,"href"],["class","cursor-pointer leading-4 px-1 ml-2 rounded",3,"ngStyle",4,"ngIf"],[1,"flex-1"],[1,"flex","flex-row","space-x-2"],[4,"ngIf"],["productPlaceholder",""],[1,"cursor-pointer","leading-4","px-1","ml-2","rounded",3,"ngStyle"],["class","w-full",4,"ngFor","ngForOf"],[1,"w-full"],[3,"href",4,"ngIf","ngIfElse"],[1,"category-img","h-full","w-full","rounded-lg",3,"src","alt"],["src","assets/images/square-product-placeholder.jpeg","alt","",1,"category-img","h-full","w-full","rounded-lg"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"p",1)(2,"a",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,Ta,3,7,"a",3),t.qZA(),t._UZ(6,"div",4),t.TgZ(7,"div",5),t.YNc(8,Ga,2,2,"ng-container",6),t.qZA()(),t.YNc(9,Ia,1,0,"ng-template",null,7,t.W1O)),2&e&&(t.xp6(2),t.Q6J("href",i.value.meta.titleLink,t.LSH),t.xp6(1),t.hij(" ",t.lcZ(4,4,i.value.meta.title)," "),t.xp6(2),t.Q6J("ngIf",i.value.meta.labelTag),t.xp6(3),t.Q6J("ngIf",i.value))},dependencies:[s.sg,s.O5,s.PC,u.X$],styles:["@media (min-width: 992px){.category-img[_ngcontent-%COMP%]{max-width:90%}}"]}),n})();function Ua(n,a){1&n&&t._UZ(0,"app-category-card",3),2&n&&t.Q6J("value",a.$implicit)}function Ba(n,a){if(1&n&&(t.TgZ(0,"div",1),t.YNc(1,Ua,1,1,"app-category-card",2),t.ALo(2,"slice"),t.qZA()),2&n){const e=a.ngIf,i=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,2,e,0,4))("ngForTrackBy",i.trackByFn)}}let Ha=(()=>{class n{constructor(e){this.themeService=e,this.channels=ka}trackByFn(e,i){return i.meta.title}ngOnInit(){this.featuredCategory$=this.themeService.configTheme$.pipe((0,w.U)(e=>e?.parsedData?.hitTemplate||[]))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(J.f))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home-featured-categories"]],decls:2,vars:3,consts:[["class","grid grid-flow-row gap-6 2md:gap-2 grid-cols-2 h-full",4,"ngIf"],[1,"grid","grid-flow-row","gap-6","2md:gap-2","grid-cols-2","h-full"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"]],template:function(e,i){1&e&&(t.YNc(0,Ba,3,6,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,i.featuredCategory$))},dependencies:[s.sg,s.O5,qa,s.Ov,s.OU]}),n})();function za(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){const r=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.onChangeSortOrder.emit(r.sort))}),t._UZ(1,"img",3),t.TgZ(2,"div",4),t._uU(3),t.ALo(4,"translate"),t.qZA()()}if(2&n){const e=a.$implicit;t.Q6J("ngClass",e.name),t.xp6(1),t.Q6J("src",e.image,t.LSH)("ngClass",e.class),t.xp6(2),t.hij(" ",t.lcZ(4,4,e.i18n)," ")}}let Na=(()=>{class n extends _.V{constructor(e){super(),this.userService=e,this.onChangeSortOrder=new t.vpe,this.filters=[{name:"ending-soonest",image:"assets/images/bidding/ending-soonest-icon.png",i18n:"ending-soonest",class:"shaking",sort:0},{name:"newest",image:"assets/images/bidding/newest-icon.png",i18n:"newest",class:"jumping",sort:1},{name:"highest-value",image:"assets/images/bidding/highest-value-icon.png",i18n:"highest-value",class:"shaking-2",sort:2},{name:"popular",image:"assets/images/bidding/popular-icon.png",i18n:"popular",class:"scaling",sort:3}]}ngOnInit(){this.userService.pointStatistic$.pipe((0,g.R)(this.destroyStream$)).subscribe(e=>{this.pointStatistic=e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home-bidding-filters"]],outputs:{onChangeSortOrder:"onChangeSortOrder"},features:[t.qOj],decls:2,vars:1,consts:[[1,"grid","grid-flow-row","gap-y-1.5","gap-x-2","xs:gap-x-1","2xs:gap-x-2","grid-cols-2","xs:grid-cols-4","2md:grid-cols-2","h-full"],["class","filter w-full flex flex-col items-center justify-center cursor-pointer rounded-lg 2xl:pb-px py-1",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"filter","w-full","flex","flex-col","items-center","justify-center","cursor-pointer","rounded-lg","2xl:pb-px","py-1",3,"ngClass","click"],[1,"filter-image",3,"src","ngClass"],[1,"text","mt-1","2xl:mt-px","font-bold","2xl:font-semibold","text-sm","xs:text-xs","2xs:text-sm","2xl:text-base","whitespace-nowrap","order-text"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,za,5,6,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",i.filters))},dependencies:[s.mk,s.sg,u.X$],styles:[".prizes-won[_ngcontent-%COMP%]{border-color:#310efe;background:linear-gradient(to right,rgb(95,69,255),rgb(87,37,232))}.amount[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem}@media (min-width: 640px){.amount[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem}}@media (min-width: 1280px){.amount[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem}}@media (min-width: 1440px){.amount[_ngcontent-%COMP%]{font-size:26px;line-height:26px}}.filter[_ngcontent-%COMP%]   .filter-image[_ngcontent-%COMP%]{height:3.5rem;transition:all .2s ease}@media (min-width: 1440px){.filter[_ngcontent-%COMP%]   .filter-image[_ngcontent-%COMP%]{height:70px}}.filter[_ngcontent-%COMP%]:hover   .filter-image[_ngcontent-%COMP%]{filter:drop-shadow(2.6px 5.1px 5.1px rgba(0,0,0,.23))}.filter.ending-soonest[_ngcontent-%COMP%]{box-shadow:0 0 10px #1697f180 inset;border:1px solid rgb(22,151,241);background-color:#eff6fe}.filter.newest[_ngcontent-%COMP%]{box-shadow:0 0 10px #c2102680 inset;border:1px solid rgb(194,16,38);background-color:#fef4f5}.filter.highest-value[_ngcontent-%COMP%]{box-shadow:0 0 10px #6b62fd80 inset;border:1px solid rgb(107,98,253);background-color:#f7f7ff}.filter.popular[_ngcontent-%COMP%]{box-shadow:0 0 10px #ffd660e6 inset;border:1px solid rgb(255,214,96);background-color:#fffdf6}.no-login[_ngcontent-%COMP%]{font-size:16px;height:26px}@media (min-width: 1024px){.no-login[_ngcontent-%COMP%]{font-size:18px}}@media (min-width: 340px) and (max-width: 370px){.order-text[_ngcontent-%COMP%]{font-size:11px;letter-spacing:-.5px}}@media (max-width: 380px){.order-text[_ngcontent-%COMP%]{letter-spacing:-.5px}}.shaking[_ngcontent-%COMP%]{animation:6s img-shaking 1s linear forwards infinite}.shaking-2[_ngcontent-%COMP%]{animation:7s img-shaking 3s linear forwards infinite}@keyframes img-shaking{0%{transform:rotate(0)}12.5%{transform:rotate(-10deg)}20%{transform:rotate(20deg)}30.5%{transform:rotate(-10deg)}50%{transform:rotate(0)}to{transform:rotate(0)}}.jumping[_ngcontent-%COMP%]{animation:3s img-jumping 2s linear forwards infinite}@keyframes img-jumping{0%{transform:translateY(0)}25%{transform:translateY(-10px)}50%{transform:translateY(0)}to{transform:translateY(0)}}.scaling[_ngcontent-%COMP%]{animation:4s img-scaling 4s linear forwards infinite}@keyframes img-scaling{0%{transform:scale(1)}25%{transform:scale(1.3) translateY(-3px)}50%{transform:scale(1)}to{transform:scale(1)}}"]}),n})();function Ja(n,a){1&n&&t._UZ(0,"app-checkin-button")}function Qa(n,a){1&n&&(t.ynx(0),t.YNc(1,Ja,1,0,"app-checkin-button",35),t.BQk())}function Fa(n,a){1&n&&t._UZ(0,"app-bidding-checkin-button")}function Ra(n,a){1&n&&(t.ynx(0),t.YNc(1,Fa,1,0,"app-bidding-checkin-button",35),t.BQk())}function Ya(n,a){1&n&&(t.TgZ(0,"div",36),t._UZ(1,"app-bidding-control-pane",37),t.qZA()),2&n&&(t.Q6J("@slideInOut",void 0),t.xp6(1),t.Q6J("isPopup",!0)("elementId","my-tickets-box"))}function Ea(n,a){if(1&n&&(t.TgZ(0,"div",38),t._UZ(1,"app-text-jumping",39),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(2);t.ekj("invisible",!e.themeService.isNewYearMode),t.xp6(1),t.Q6J("text",t.lcZ(2,3,"happy-new-year"))}}function ja(n,a){1&n&&t._UZ(0,"app-new-year-decorations",40)}function Da(n,a){1&n&&t._UZ(0,"app-profile-details-summary",41)}function $a(n,a){1&n&&(t.TgZ(0,"div",42),t._UZ(1,"app-home-country-banner"),t.qZA())}function Wa(n,a){1&n&&t._UZ(0,"app-home-featured-products",43)}function Ka(n,a){1&n&&t._UZ(0,"app-home-featured-categories",44)}function Va(n,a){if(1&n&&(t.TgZ(0,"div",45),t._UZ(1,"app-home-featured-products",46),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("biddingProductsSortOrder",e.biddingProductsSortOrder)}}const Xa=function(){return{isSpecialSale:!0}};function tr(n,a){if(1&n&&t._UZ(0,"app-products-infinite-scroll",47),2&n){t.oxw();const e=t.MAs(1),i=t.oxw();t.Q6J("additionalParams",t.DdM(3,Xa))("scrollContainer",e)("biddingProductsSortOrder",i.biddingProductsSortOrder)}}function er(n,a){if(1&n&&t._UZ(0,"app-bidding-products-list",48),2&n){const e=t.oxw(2);t.Q6J("biddingProductsSortOrder",e.biddingProductsSortOrder)}}function nr(n,a){1&n&&t._UZ(0,"app-cart-explosion",51)}const ir=function(n,a){return{"top.px":n,"left.px":a}};function or(n,a){if(1&n&&(t.TgZ(0,"div",49),t.YNc(1,nr,1,0,"app-cart-explosion",50),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("ngStyle",t.WLB(1,ir,e.top,e.left))}}const ar=function(n){return{isBidding:n}};function rr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"ion-content",6,7),t.NdJ("ionScroll",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.onContentScroll(o))}),t._UZ(2,"app-global-customer-service"),t.YNc(3,Qa,2,0,"ng-container",2),t.YNc(4,Ra,2,0,"ng-container",2),t.TgZ(5,"ion-toolbar",8,9)(7,"div",10),t._UZ(8,"app-top-navbar",11)(9,"app-top-menu"),t.qZA(),t.YNc(10,Ya,2,3,"div",12),t.qZA(),t.TgZ(11,"div",13)(12,"div",14),t._UZ(13,"app-bidding-switch"),t.YNc(14,Ea,3,5,"div",15),t.YNc(15,ja,1,0,"app-new-year-decorations",16),t.qZA(),t.TgZ(16,"div",17)(17,"div",18)(18,"div",19)(19,"div",20),t._UZ(20,"app-ads-carousel",21),t.qZA()()(),t.TgZ(21,"div",22),t.YNc(22,Da,1,0,"app-profile-details-summary",23),t.qZA(),t.TgZ(23,"div",24),t.YNc(24,$a,2,0,"div",25),t.YNc(25,Wa,1,0,"app-home-featured-products",26),t.qZA(),t.TgZ(26,"div",27),t.YNc(27,Ka,1,0,"app-home-featured-categories",28),t.qZA(),t.YNc(28,Va,2,1,"div",29),t.TgZ(29,"div",30)(30,"div",31),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.YNc(33,tr,1,4,"app-products-infinite-scroll",32),t.YNc(34,er,1,1,"ng-template",null,33,t.W1O),t.qZA()()(),t._UZ(36,"app-footer"),t.YNc(37,or,2,4,"div",34),t._UZ(38,"app-new-year-dragons"),t.qZA()}if(2&n){const e=a.ngLet,i=t.MAs(35),o=t.oxw(),r=t.MAs(13),p=t.MAs(9),x=t.MAs(11);t.xp6(3),t.Q6J("ngIf",e),t.xp6(1),t.Q6J("ngIf",!e),t.xp6(4),t.Q6J("hideBackButton",!0)("hideMenu",!1),t.xp6(2),t.Q6J("ngIf",!e&&(o.isMobile&&o.splashBiddingPopup||o.showBiddingPaneAsPopup)),t.xp6(1),t.Q6J("ngClass",t.VKq(28,ar,!e)),t.xp6(3),t.Q6J("ngIf",!o.biddingService.canSwitchMode),t.xp6(1),t.Q6J("ngIf",o.themeService.isNewYearMode),t.xp6(2),t.Q6J("ngClass",e?"w-9/12 sm:w-9/12":"w-full md:w-8/12"),t.xp6(3),t.Q6J("duration",2200)("positionName",o.featuredAdsName),t.xp6(1),t.Q6J("ngClass",e?"w-3/12 sm:w-3/12":"w-4/12 hidden md:block"),t.xp6(1),t.Q6J("ngIf",e)("ngIfElse",r),t.xp6(1),t.Q6J("ngClass",e?"order-1 2md:order-4":"order-2 2md:order-4"),t.xp6(1),t.Q6J("ngIf",e)("ngIfElse",p),t.xp6(1),t.Q6J("ngIf",e),t.xp6(1),t.Q6J("ngClass",e?"order-1 2md:order-2":"order-3 2md:order-2"),t.xp6(1),t.Q6J("ngIf",e)("ngIfElse",x),t.xp6(1),t.Q6J("ngIf",!e),t.xp6(3),t.hij(" ",t.lcZ(32,26,"home-recommended-title")," "),t.xp6(2),t.Q6J("ngIf",e)("ngIfElse",i),t.xp6(4),t.Q6J("ngIf",!e&&o.showExplosion)}}function sr(n,a){1&n&&t._UZ(0,"app-wheel-button")}function lr(n,a){1&n&&t._UZ(0,"app-gift-new-button",53),2&n&&t.Q6J("displayNotification",!0)}function cr(n,a){1&n&&(t.ynx(0),t.YNc(1,sr,1,0,"app-wheel-button",35),t.YNc(2,lr,1,1,"app-gift-new-button",52),t.BQk())}function pr(n,a){1&n&&t._UZ(0,"app-gift-newyear-bidding-button",53),2&n&&t.Q6J("displayNotification",!0)}function dr(n,a){1&n&&(t.ynx(0),t.YNc(1,pr,1,1,"app-gift-newyear-bidding-button",52),t.BQk())}function fr(n,a){1&n&&t._UZ(0,"app-bidding-recent-winners",54)}function gr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",55)(1,"app-home-bidding-filters",56),t.NdJ("onChangeSortOrder",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.handleChangeSortOrder(o))}),t.qZA()()}}function mr(n,a){if(1&n&&t._UZ(0,"app-bidding-control-pane",57),2&n){const e=t.oxw();t.Q6J("elementId",e.showBiddingPaneAsPopup?"":"my-tickets-box")}}function ur(n,a){1&n&&t._UZ(0,"div",61)}function hr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"app-bidding-initial-launch-modal",62),t.NdJ("isOpenChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.showBiddingInitialLaunchModal=o)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("isOpen",e.showBiddingInitialLaunchModal)("product",e.selectedProduct)}}function _r(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"app-missed-pool-modal",63),t.NdJ("isOpenChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.isOpenMissedPoolModal=o)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("isOpen",e.isOpenMissedPoolModal)("poolId",e.missedPool.newPoolId)("productId",e.missedPool.productId)}}function xr(n,a){if(1&n&&(t.ynx(0),t.YNc(1,ur,1,0,"div",58),t.YNc(2,hr,1,2,"app-bidding-initial-launch-modal",59),t.YNc(3,_r,1,3,"app-missed-pool-modal",60),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.showBiddingInitialLaunchModal),t.xp6(1),t.Q6J("ngIf",e.isOpenMissedPoolModal&&e.missedPool)}}const br=[{path:"",component:(()=>{class n extends q.c{constructor(e,i,o,r,p,x,f){super(e,i),this.biddingService=o,this.cdr=r,this.route=p,this.router=x,this.themeService=f,this.featuredAdsName=Z.HOME_MAIN_SWIPER_AD,this.showExplosion=!1,this.left=0,this.top=0,this.showBiddingPaneAsPopup=!1,this.showBiddingInitialLaunchModal=!1,this.biddingProductsSortOrder=2,this.isMobile=!!m.Z.isBrowser&&window.innerWidth<768,this.splashBiddingPopup=!1,this.isOpenMissedPoolModal=!1,this.isLeavedOnce=!1}ngOnInit(){this.biddingProductsSortOrder=parseInt(this.route.snapshot.queryParams.sortType||2),this.biddingService.isBiddingMode$.pipe((0,g.R)(this.destroyStream$)).subscribe(e=>{e?(this.destroyBiddingStream$=new P.x,this.initBiddingMode()):(this.destroyBiddingStream$?.next(),this.destroyBiddingStream$?.complete())}),m.Z.isBrowser&&(0,T.R)(window,"resize").pipe((0,g.R)(this.destroyStream$),(0,I.b)(100)).subscribe(e=>{this.isMobile=e.target.innerWidth<768})}ngOnDestroy(){super.ngOnDestroy(),this.splashBiddingPopupSubscription?.unsubscribe(),this.destroyBiddingStream$?.next(),this.destroyBiddingStream$?.complete()}initBiddingMode(){this.biddingService.onLaunchInitialPool$.pipe((0,g.R)(this.destroyBiddingStream$)).subscribe(e=>{this.showBiddingInitialLaunchModal=!0,this.selectedProduct=e}),m.Z.isBrowser&&(this.biddingService.biddingClicked$.pipe((0,g.R)(this.destroyBiddingStream$),(0,I.b)(1e3)).subscribe(e=>{if(this.biddingService.noOfClicks>=3&&this.biddingService.animationTarget){const o=document.querySelectorAll(this.biddingService.animationTarget);if(!o?.length)return;for(let r=0;r<o.length&&(this.top=o[r].getBoundingClientRect().top,this.left=o[r].getBoundingClientRect().left,!(this.left>=0));r++);this.cdr.detectChanges(),this.showExplosion=!0,setTimeout(()=>{this.showExplosion=!1},2500)}this.biddingService.noOfClicks=0}),this.biddingService.onBeforeBid$.pipe((0,g.R)(this.destroyBiddingStream$)).subscribe(()=>{this.splashBiddingPopupSubscription&&this.splashBiddingPopupSubscription.unsubscribe(),this.splashBiddingPopup=!0,this.splashBiddingPopupSubscription=(0,y.F)(1500).pipe((0,O.q)(1)).subscribe(()=>{this.splashBiddingPopup=!1})})),this.biddingService.onPoolMissed$.pipe((0,g.R)(this.destroyBiddingStream$)).subscribe(e=>{this.biddingService.onLaunchFinished$.next(!0),this.missedPool=e,this.isOpenMissedPoolModal=!0}),this.biddingService.onFindProducts$.pipe((0,g.R)(this.destroyBiddingStream$)).subscribe(e=>{this.scrollToRecomendedProducts()}),this.biddingService.cancelBiddingInProgressTimer()}onContentScroll(e){super.onContentScroll(e),this.showBiddingPaneAsPopup=e.detail.scrollTop>(this.isMobile?50:100)}handleChangeSortOrder(e){this.router.navigate(["/product/search"],{queryParams:{orderBy:e},queryParamsHandling:"merge"})}scrollToRecomendedProducts(){const e=document.getElementById("recomended-products").offsetTop;this.content.scrollToPoint(0,e-80,1e3)}ionViewDidEnter(){this.isLeavedOnce&&(this.recentWinnerComp?.initPollRecentWinners(),this.recentWinnerComp?.resumeSlide(),this.countryBanner?.resumeSlide())}ionViewWillLeave(){this.isLeavedOnce=!0,this.recentWinnerComp?.stopPoll()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(N.g),t.Y36(t.sBO),t.Y36(C.gz),t.Y36(C.F0),t.Y36(J.f))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],viewQuery:function(e,i){if(1&e&&(t.Gf(d.W2,5),t.Gf(ct,5),t.Gf(pt,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.content=o.first),t.iGM(o=t.CRH())&&(i.recentWinnerComp=o.first),t.iGM(o=t.CRH())&&(i.countryBanner=o.first)}},features:[t.qOj],decls:16,vars:12,consts:[["id","app-home","scrollTop","","fullscreen","true","scrollEvents","true","overflow-scroll","true","backToTopBtn","",3,"ionScroll",4,"ngLet"],[1,"mt-4","md:hidden"],[4,"ngIf"],["recentWinners",""],["biddingFilters",""],["biddingControls",""],["id","app-home","scrollTop","","fullscreen","true","scrollEvents","true","overflow-scroll","true","backToTopBtn","",3,"ionScroll"],["ionContent",""],["appOverflowVisible","",1,"sticky","top-0","shadow-lg","z-50"],["header",""],[1,"z-1","relative"],[3,"hideBackButton","hideMenu"],["class","relative z-0",4,"ngIf"],[1,"tyqoon-container",3,"ngClass"],[1,"flex","justify-center","w-full","mt-2","mb-0.5","md:hidden"],["class","happy-new-year font-black flex items-center justify-center",3,"invisible",4,"ngIf"],["class","md:hidden absolute w-full -mt-2",4,"ngIf"],[1,"flex","flex-wrap","-mx-1"],[1,"big-slide-wrapper","order-1","2md:w-5/12","px-1","py-1","md:py-3",3,"ngClass"],[1,"container-ratio"],[1,"absolute","inset-0"],[1,"w-full","h-full","flex","rounded-lg",3,"duration","positionName"],[1,"hide-extra-small","order-1","2md:order-3","2md:w-2/12","px-1","py-1","md:py-3",3,"ngClass"],["class","flex justify-end h-full -ml-1 2md:ml-0",4,"ngIf","ngIfElse"],[1,"top-middle-featured-pane","w-full","pl-1","md:pr-1","py-1","md:py-3","flex","flex-col",3,"ngClass"],["class","mb-2 md:mb-6",4,"ngIf","ngIfElse"],["class","block",4,"ngIf"],[1,"top-middle-pane","px-1","py-1","md:py-3",3,"ngClass"],["class","block h-full",4,"ngIf","ngIfElse"],["class","py-1 md:py-3 w-full order-4 px-1",4,"ngIf"],["id","recomended-products",1,"w-full","px-1","py-1","md:py-3","order-5"],[1,"text-2xl","font-bold","mb-4","mt-4","md:mt-0","text-center"],[3,"additionalParams","scrollContainer","biddingProductsSortOrder",4,"ngIf","ngIfElse"],["biddingProductsList",""],["class","explosion-container fixed z-50 pointer-events-none select-none",3,"ngStyle",4,"ngIf"],[4,"isBrowser"],[1,"relative","z-0"],[1,"filter-popup","top-2.5","md:top-5","lg:top-3","left-0","right-0","absolute","mx-auto",3,"isPopup","elementId"],[1,"happy-new-year","font-black","flex","items-center","justify-center"],[3,"text"],[1,"md:hidden","absolute","w-full","-mt-2"],[1,"flex","justify-end","h-full","-ml-1","2md:ml-0"],[1,"mb-2","md:mb-6"],[1,"block"],[1,"block","h-full"],[1,"py-1","md:py-3","w-full","order-4","px-1"],[1,"block",3,"biddingProductsSortOrder"],[3,"additionalParams","scrollContainer","biddingProductsSortOrder"],[3,"biddingProductsSortOrder"],[1,"explosion-container","fixed","z-50","pointer-events-none","select-none",3,"ngStyle"],["url","assets/images/ticket.png","class","h-1 block pointer-events-none",4,"isBrowser"],["url","assets/images/ticket.png",1,"h-1","block","pointer-events-none"],[3,"displayNotification",4,"isBrowser"],[3,"displayNotification"],[1,"block","pr-1","md:pr-0"],[1,"flex","flex-col","w-full","h-full","2md:pr-10","2xl:pr-6"],[1,"block","flex-1",3,"onChangeSortOrder"],[1,"not-popup","hidden","md:block","-ml-1",3,"elementId"],["biddingAnimations","",4,"isBrowser"],[3,"isOpen","product","isOpenChange",4,"ngIf"],[3,"isOpen","poolId","productId","isOpenChange",4,"ngIf"],["biddingAnimations",""],[3,"isOpen","product","isOpenChange"],[3,"isOpen","poolId","productId","isOpenChange"]],template:function(e,i){1&e&&(t.YNc(0,rr,39,30,"ion-content",0),t.ALo(1,"async"),t.TgZ(2,"ion-footer",1),t._UZ(3,"app-bottom-navbar"),t.qZA(),t.YNc(4,cr,3,0,"ng-container",2),t.ALo(5,"async"),t.YNc(6,dr,2,0,"ng-container",2),t.ALo(7,"async"),t.YNc(8,fr,1,0,"ng-template",null,3,t.W1O),t.YNc(10,gr,2,0,"ng-template",null,4,t.W1O),t.YNc(12,mr,1,1,"ng-template",null,5,t.W1O),t.YNc(14,xr,4,2,"ng-container",2),t.ALo(15,"async")),2&e&&(t.Q6J("ngLet",!t.lcZ(1,4,i.biddingService.isBiddingMode$)),t.xp6(4),t.Q6J("ngIf",!t.lcZ(5,6,i.biddingService.isBiddingMode$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(7,8,i.biddingService.isBiddingMode$)),t.xp6(8),t.Q6J("ngIf",t.lcZ(15,10,i.biddingService.isBiddingMode$)))},dependencies:[s.mk,s.O5,s.PC,ne.K,ie.c,le,_e,xe.E,be.V,Ce.H,we.B,ve.Z,H.h,ye.M,Me.t,Oe.a,Ze.Y,d.W2,d.fr,d.sr,dt.b,vn,_o,Jo,ca,Tt.z,R.O,pa.z,At.h,St,Lt.g,X.P,ua.p,ha.z,Za,Ha,pt,Na,ct,s.Ov,u.X$],styles:[".container-ratio[_ngcontent-%COMP%]{position:relative;width:100%;height:unset;padding-top:53.5%}.top-right-pane[_ngcontent-%COMP%]{width:25%}@media (min-width: 640px){.top-right-pane[_ngcontent-%COMP%]{width:25%}}@media (min-width: 992px){.top-right-pane[_ngcontent-%COMP%]{width:16.666667%}}.top-middle-pane[_ngcontent-%COMP%]{width:100%}@media (min-width: 992px){.top-middle-pane[_ngcontent-%COMP%]{width:41.666667%}}@media only screen and (max-width: 344.9px){.top-right-pane[_ngcontent-%COMP%]{display:none!important}.big-slide-wrapper[_ngcontent-%COMP%]{width:100%}.container-ratio[_ngcontent-%COMP%]{min-height:100%}.hide-extra-small[_ngcontent-%COMP%]{display:none!important}}  .bidding-mode-global .home-swiper{margin-top:-4px}[_nghost-%COMP%]     .home-swiper{margin-left:-.25rem;margin-right:-.25rem}[_nghost-%COMP%]     .home-swiper   .swiper-slide{width:50%;flex-shrink:0;padding-left:.25rem;padding-right:.25rem}@media only screen and (min-width: 260px){[_nghost-%COMP%]     .home-swiper   .swiper-slide{padding-left:.25rem;padding-right:.25rem}}@media (min-width: 340px){[_nghost-%COMP%]     .home-swiper   .swiper-slide{width:33.3333333333%}}@media (min-width: 640px){[_nghost-%COMP%]     .home-swiper   .swiper-slide{width:25%}}@media (min-width: 768px){[_nghost-%COMP%]     .home-swiper   .swiper-slide{width:20%}}@media (min-width: 1024px){[_nghost-%COMP%]     .home-swiper   .swiper-slide{width:14.2857142857%}}@media (min-width: 1280px){[_nghost-%COMP%]     .home-swiper   .swiper-slide{width:14.2857142857%}}  .text-extra-small{font-size:10px}ion-toolbar[appOverflowVisible][_ngcontent-%COMP%]{contain:none}.explosion-container[_ngcontent-%COMP%]{width:700px;transform:translate(-250px) translateY(-300px)}.filter-popup[_ngcontent-%COMP%]{width:215px;background:transparent}@media (min-width: 768px){.filter-popup[_ngcontent-%COMP%]{width:250px}.filter-popup[_ngcontent-%COMP%]     .popup-content{width:247px}}@media (min-width: 992px){app-bidding-control-pane[_ngcontent-%COMP%]     .content-wrapper.non-popup{margin-left:-2rem}}@media (min-width: 1440px){app-bidding-control-pane[_ngcontent-%COMP%]     .content-wrapper.non-popup{margin-left:-1.25rem}}app-bidding-control-pane.not-popup[_ngcontent-%COMP%]{height:100%}app-bidding-control-pane.not-popup[_ngcontent-%COMP%]    >div{height:100%}app-bidding-control-pane.not-popup[_ngcontent-%COMP%]     .origin-top{flex:1}@media (min-width: 992px){app-bidding-control-pane.not-popup[_ngcontent-%COMP%]     app-launch-pool{display:none}}app-bidding-control-pane.not-popup[_ngcontent-%COMP%]     .popup-container{justify-content:space-between;gap:.25rem}@media (max-width: 991.9px){app-bidding-control-pane.not-popup[_ngcontent-%COMP%]     .popup-container .launch-pool .content{padding-top:.75rem;padding-bottom:.75rem}app-bidding-control-pane.not-popup[_ngcontent-%COMP%]     .popup-container app-get-tickets .tickets-wrapper{height:55px}app-bidding-control-pane.not-popup[_ngcontent-%COMP%]     .popup-container app-my-tickets .tickets-wrapper{min-height:60px}app-bidding-control-pane.not-popup[_ngcontent-%COMP%]     .popup-container .share-btn{height:36px}}@media (min-width: 1030px){app-bidding-control-pane.not-popup[_ngcontent-%COMP%]     app-launch-pool{display:block}}@media (min-width: 1030px) and (max-width: 1150px){app-bidding-control-pane.not-popup[_ngcontent-%COMP%]     .popup-container .launch-pool .content{padding-top:.375rem;padding-bottom:.375rem}app-bidding-control-pane.not-popup[_ngcontent-%COMP%]     .popup-container app-get-tickets .tickets-wrapper{height:44px}app-bidding-control-pane.not-popup[_ngcontent-%COMP%]     app-my-tickets .tickets-wrapper{height:46px;min-height:46px}app-bidding-control-pane.not-popup[_ngcontent-%COMP%]     .share-btn{height:32px}}@media (min-width: 1280px) and (max-width: 1439.9px){app-bidding-control-pane.not-popup[_ngcontent-%COMP%]     .popup-container .launch-pool .content{padding-top:.375rem;padding-bottom:.375rem}app-bidding-control-pane.not-popup[_ngcontent-%COMP%]     .popup-container app-get-tickets .tickets-wrapper{height:47px}app-bidding-control-pane.not-popup[_ngcontent-%COMP%]     app-my-tickets .tickets-wrapper{height:53px;min-height:53px}app-bidding-control-pane.not-popup[_ngcontent-%COMP%]     .share-btn{height:31px}}.happy-new-year[_ngcontent-%COMP%]{min-height:56px;color:red;font-size:23px}@media (min-width: 340px){.happy-new-year[_ngcontent-%COMP%]{font-size:26px}}@media (min-width: 450px){.happy-new-year[_ngcontent-%COMP%]{font-size:1.875rem;line-height:2.25rem}}"],data:{animation:[(0,S.X$)("slideInOut",[(0,S.eR)(":enter",[(0,S.oB)({transform:"translateY(-60px)",opacity:0}),(0,S.jt)("200ms ease-out",(0,S.oB)({transform:"translateY(0)",opacity:1}))]),(0,S.eR)(":leave",[(0,S.jt)("200ms ease-out",(0,S.oB)({transform:"translateY(-60px)",opacity:0}))])])]},changeDetection:0}),n})(),resolve:{preloader:(()=>{class n{constructor(e,i){this.themeService=e,this.biddingService=i}resolve(e,i){return(0,yt.of)(!0).pipe((0,L.b)(()=>this.themeService.getIndexSetting(this.biddingService.isBiddingMode$.getValue()).subscribe()))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(J.f),t.LFG(N.g))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}];let Cr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[C.Bz.forChild(br),C.Bz]}),n})();var wr=l(7858),vr=l(1927);let yr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.ez,d.Pc,u.aw,E.m]}),n})(),Mr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.ez,d.Pc,u.aw,E.m,R.O]}),n})();var Or=l(16424);let Zr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.ez,d.Pc,u.aw,E.m,R.O,z.kb,tt.u5,tt.UX,wt.C,Or.g,X.P]}),n})();var kr=l(1241);let Pr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.ez,Cr,E.m,d.Pc,u.aw,A.kz,Gt.I,dt.b,wr.j,Mr,Zr,vr.n,yr,Tt.z,R.O,At.h,St,Lt.g,X.P,kr.x]}),n})()},10556:(qt,K,l)=>{l.d(K,{p:()=>P});var s=l(15861),d=l(94650),C=l(54463),g=l(95133);let P=(()=>{class T{constructor(y,O){this.i18n=y,this.toast=O,this.payload="",this.showToast=!1,this.copied=new d.vpe,this.elementClass="app-copying-directive"}onClick(y){if(y.preventDefault(),y.stopPropagation(),!this.payload)return;let O=Z=>{(Z.clipboardData||window.clipboardData).setData("text",this.payload.toString()),Z.preventDefault(),this.showToast&&this.toastSuccess(this.i18n.instant("order-button-copied")),this.copied.emit(this.payload)};document.addEventListener("copy",O,!1),document.execCommand("copy"),document.removeEventListener("copy",O,!1);const q=y?.target?.closest(".app-copying-directive");q&&(q.classList.add("copied"),setTimeout(()=>{q.classList.remove("copied")},1e3))}toastSuccess(y){var O=this;return(0,s.Z)(function*(){yield O.presentToast({position:"bottom",message:y,duration:1e3,icon:"checkmark-circle-outline",color:"success"})})()}presentToast(y){var O=this;return(0,s.Z)(function*(){yield(yield O.toast.create(y)).present()})()}}return T.\u0275fac=function(y){return new(y||T)(d.Y36(C.sK),d.Y36(g.yF))},T.\u0275dir=d.lG2({type:T,selectors:[["","appCopying",""]],hostVars:2,hostBindings:function(y,O){1&y&&d.NdJ("click",function(Z){return O.onClick(Z)}),2&y&&d.Tol(O.elementClass)},inputs:{payload:["appCopying","payload"],showToast:"showToast"},outputs:{copied:"copied"}}),T})()}}]);