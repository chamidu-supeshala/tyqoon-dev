"use strict";(self.webpackChunkangular_tyqoon_client=self.webpackChunkangular_tyqoon_client||[]).push([[2535],{79445:(f,u,o)=>{o.d(u,{QT:()=>i});const i=[{name:"tiktok",accountType:0,logo:"assets/images/tiktok-logo.png",profileUrlBase:"https://douyin.com/user/"},{name:"wechat-channels",accountType:1,logo:"assets/images/wechat-logo.png",profileUrlBase:"https://web.wechat.com/u/"}]},53246:(f,u,o)=>{o.d(u,{y:()=>s});var r=o(92340),e=o(94650),i=o(80529);let s=(()=>{class n{constructor(d){this.http=d}uploadScreenshots(d){const _=new FormData;return _.append("file",d),this.http.post(`${r.N.BASE_URL}/user/oss/fileUpload`,_,{reportProgress:!0,observe:"events"})}addAccount(d){return this.http.post(`${r.N.BASE_URL}/user/video/addAccount`,d)}queryAccounts(){return this.http.get(`${r.N.BASE_URL}/user/video/queryUserAccount`)}}return n.\u0275fac=function(d){return new(d||n)(e.LFG(i.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},93883:(f,u,o)=>{o.d(u,{t:()=>e});var r=o(94650);let e=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=r.Xpm({type:i,selectors:[["app-upload-anim-icon"]],standalone:!0,features:[r.jDz],decls:13,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 50 50","width","50","height","50"],["id","line","transform","matrix(-1,0,0,-1,50,64)"],["transform","matrix(1,0,0,1,0,0)"],["d"," M25,26 C25,26 25,42 25,42"],["id","arrow","transform","matrix(-1,0,0,-1,50,64)"],["id","right-arrow","transform","matrix(1,0,0,1,22.5,41)"],["d"," M2.5,2.5 C2.5,2.5 -2.5,-2.5 -2.5,-2.5"],["id","left-arrow","transform","matrix(1,0,0,1,27.5,41)"],["d"," M2.5,-2.5 C2.5,-2.5 -2.5,2.5 -2.5,2.5"],["id","cloud","transform","matrix(1,0,0,1,0,0)"],["transform","matrix(1,0,0,1,25,20)"],["d"," M7,15 C7,15 14.01200008392334,15 14.01200008392334,15 C18.635000228881836,15 21.972999572753906,11.4399995803833 21.999000549316406,7 C22.025999069213867,2.431999921798706 18.16699981689453,-0.43799999356269836 15.734000205993652,-0.8069999814033508 C15.734000205993652,-0.8069999814033508 15.907999992370605,-1.4769999980926514 15.932999610900879,-1.5820000171661377 C15.958000183105469,-1.687000036239624 16.003000259399414,-2.496999979019165 16.003000259399414,-2.496999979019165 C15.875,-6.458000183105469 12.666999816894531,-8 10.50100040435791,-8 C8.145000457763672,-8 6.395999908447266,-6.354000091552734 6.290999889373779,-6.035999774932861 C5.541999816894531,-8.729000091552734 1.687000036239624,-14.038000106811523 -4.994999885559082,-14.001999855041504 C-13.229000091552734,-13.958000183105469 -17.375,-6.540999889373779 -16.964000701904297,-1.25600004196167 C-20.25,0.16699999570846558 -21.958999633789062,3.3340001106262207 -21.999000549316406,6.504000186920166 C-22.05900001525879,11.208000183105469 -18.25200080871582,14.987000465393066 -13.50100040435791,15 C-13.50100040435791,15 -7,15 -7,15"]],template:function(n,c){1&n&&(r.O4$(),r.TgZ(0,"svg",0)(1,"g")(2,"g",1)(3,"g",2),r._UZ(4,"path",3),r.qZA()(),r.TgZ(5,"g",4)(6,"g",5),r._UZ(7,"path",6),r.qZA(),r.TgZ(8,"g",7),r._UZ(9,"path",8),r.qZA()(),r.TgZ(10,"g",9)(11,"g",10),r._UZ(12,"path",11),r.qZA()()()())},styles:["path[_ngcontent-%COMP%]{stroke-width:2px;stroke-linejoin:round;stroke-linecap:round;fill-opacity:0;stroke:#000}#arrow[_ngcontent-%COMP%]{animation:upload-bounce 1s infinite alternate ease}#line[_ngcontent-%COMP%]{animation:upload-grow 1s infinite alternate ease}@keyframes upload-grow{0%{transform:matrix(-1,0,0,-1,50,69)}to{transform:matrix(-1,0,0,-1,50,64)}}@keyframes upload-bounce{0%{transform:matrix(-1,0,0,-1,50,69)}to{transform:matrix(-1,0,0,-1,50,64)}}"]}),i})()},75073:(f,u,o)=>{o.d(u,{z:()=>e});var r=o(94650);let e=(()=>{class i{constructor(){this.fileOver=!1,this.fileDropped=new r.vpe}onDragOver(n){n.preventDefault(),n.stopPropagation(),this.fileOver=!0}onDragLeave(n){n.preventDefault(),n.stopPropagation(),this.fileOver=!1}onDrop(n){n.preventDefault(),n.stopPropagation(),this.fileOver=!1,n.dataTransfer&&this.fileDropped.emit(n.dataTransfer.files)}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275dir=r.lG2({type:i,selectors:[["","appDragAndDrop",""]],hostVars:2,hostBindings:function(n,c){1&n&&r.NdJ("dragover",function(_){return c.onDragOver(_)})("dragleave",function(_){return c.onDragLeave(_)})("drop",function(_){return c.onDrop(_)}),2&n&&r.ekj("fileover",c.fileOver)},outputs:{fileDropped:"fileDropped"}}),i})()},23021:(f,u,o)=>{o.d(u,{a:()=>U});var r=o(36895),e=o(94650),i=o(24006),s=o(95133),n=o(54463),c=o(65433),d=o(18505),_=o(78372),h=o(82722),C=o(5565),x=o(24837),v=o(81212),M=o(56889),b=o(53246);const O=["profileUrlInput"];function D(p,m){if(1&p){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",14),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"img",15),e.TgZ(5,"div",16),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",17)(9,"div",18),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",19)(13,"ion-input",20),e.NdJ("ngModelChange",function(a){e.CHM(t);const g=e.oxw(2);return e.KtG(g.username=a)}),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",21),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",22)(19,"ion-input",20,23),e.NdJ("ngModelChange",function(a){e.CHM(t);const g=e.oxw(2);return e.KtG(g.profileUrl=a)}),e.qZA()(),e.TgZ(21,"a",24),e._uU(22),e.ALo(23,"translate"),e.O4$(),e.TgZ(24,"svg",25)(25,"g"),e._UZ(26,"path",26),e.qZA()()()()()}if(2&p){const t=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,13,"connect-social-account-desc")," "),e.xp6(2),e.Q6J("src",t.socialAccount.logo,e.LSH),e.xp6(2),e.hij(" ",e.lcZ(7,15,t.socialAccount.name)," "),e.xp6(4),e.Oqu(e.lcZ(11,17,"social-account-username")),e.xp6(3),e.s9C("placeholder","@"+e.lcZ(14,19,"social-account-username")),e.Q6J("ngModel",t.username),e.xp6(3),e.Oqu(e.lcZ(17,21,"profile-url")),e.xp6(3),e.s9C("placeholder",t.socialAccount.profileUrlBase+"..."),e.Q6J("ngModel",t.profileUrl),e.xp6(2),e.ekj("invisible",!t.isValidProfileUrl||!(null!=t.profileUrl&&t.profileUrl.length)),e.Q6J("href",t.profileUrl,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(23,23,"see-profile")," ")}}function A(p,m){if(1&p){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(t),e.oxw();const a=e.MAs(1);return e.KtG(a.dismiss())}),e.O4$(),e.TgZ(5,"svg",5),e._UZ(6,"path",6),e.qZA()()(),e.kcU(),e.TgZ(7,"ng-scrollbar",7),e.YNc(8,D,27,25,"div",8),e.TgZ(9,"div",9)(10,"button",10),e.NdJ("click",function(){e.CHM(t),e.oxw();const a=e.MAs(1);return e.KtG(a.dismiss())}),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",11)(14,"button",12),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),g=e.MAs(1);return e.KtG(a.onConnect(g))}),e._uU(15),e.ALo(16,"translate"),e.qZA()()()()}if(2&p){const t=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,6,"connect-social-account")," "),e.xp6(5),e.Q6J("autoHeightDisabled",!1),e.xp6(1),e.Q6J("ngIf",t.socialAccount),e.xp6(3),e.hij(" ",e.lcZ(12,8,"close")," "),e.xp6(3),e.Q6J("disabled",!(null!=t.username&&t.username.length&&null!=t.profileUrl&&t.profileUrl.length)),e.xp6(1),e.hij(" ",e.lcZ(16,10,"connect-account")," ")}}let U=(()=>{class p extends C.V{constructor(t,l,a){super(),this.router=t,this.biddingService=l,this.shortVideoChallengeService=a,this.isOpenChange=new e.vpe,this.isValidProfileUrl=!1}ngOnInit(){this.username=this.socialAccount?.username,this.profileUrl=this.socialAccount?.profileUrl,this.isValidProfileUrl=this.isValidUrl(this.profileUrl)}ngAfterViewInit(){x.Z.isBrowser&&setTimeout(()=>{this.profileUrlInput.ionChange.pipe((0,d.b)(()=>{this.isValidProfileUrl=!1}),(0,_.b)(700)).subscribe(()=>{this.isValidProfileUrl=this.isValidUrl(this.profileUrl)})},200)}onConnect(t){this.shortVideoChallengeService.addAccount({userName:this.username,imageUrl:null,accountType:this.socialAccount.accountType,accountLink:this.profileUrl}).pipe((0,h.R)(this.destroyStream$)).subscribe(l=>{console.log(l),t.dismiss()})}isValidUrl(t){if(!t)return!1;try{return Boolean(new URL(t))}catch{return!1}}}return p.\u0275fac=function(t){return new(t||p)(e.Y36(v.F0),e.Y36(M.g),e.Y36(b.y))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-connect-social-modal"]],viewQuery:function(t,l){if(1&t&&e.Gf(O,5),2&t){let a;e.iGM(a=e.CRH())&&(l.profileUrlInput=a.first)}},inputs:{isOpen:"isOpen",socialAccount:"socialAccount"},outputs:{isOpenChange:"isOpenChange"},standalone:!0,features:[e.qOj,e.jDz],decls:3,vars:1,consts:[[3,"isOpen","didDismiss"],["modal",""],[1,"flex","bg-[#f4f4f4]","items-center","p-2"],[1,"fade-in-from-right","flex-1","font-bold","text-xl","xs:text-2xl","md:text-3xl","flex","items-center","gap-2","sm:gap-4","pl-1",2,"--duration","200ms"],[1,"w-8","p-1","rounded","cursor-pointer","bg-[#ff2145]","text-white",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],["visibility","hover",2,"max-height","85vh",3,"autoHeightDisabled"],["class","px-3 py-2 flex flex-col items-center justify-center",4,"ngIf"],[1,"flex","justify-between","gap-4","p-3","pt-2","bg-white","md:mt-4"],[1,"fade-in-from-right","border","close-btn","bg-slate-100","hover:bg-slate-200","rounded-lg","font-bold","px-6","md:px-10","py-2.5s","capitalize",2,"--duration","200ms","--delay","250ms",3,"click"],[1,"fade-in-from-left",2,"--duration","300ms","--delay","300ms"],[1,"connect-btn","px-4","xs:px-6","md:px-8","py-2.5","font-bold","text-white","capitalize","rounded-lg","border",3,"disabled","click"],[1,"px-3","py-2","flex","flex-col","items-center","justify-center"],[1,"fade-in-from-left","description","text-left","text-black","font-bold","text-base","w-full",2,"--duration","200ms","--delay","100ms","--distance","-50px"],[1,"social-img","w-24","h-24","fade-in-from-top","mt-7",2,"--duration","200ms","--delay","150ms","--distance","-50px",3,"src"],[1,"account-name","font-bold","text-xl","text-black","mt-2","fade-in",2,"--duration","200ms","--delay","250ms"],[1,"username","mb-8","mt-1",2,"--duration","200ms","--delay","300ms"],[1,"fade-in","text-black","text-base","font-bold","username-label",2,"--duration","200ms","--delay","300ms"],[1,"fade-in-from-top","input-wrapper","wrap","relative","flex","items-center","rounded-lg","border","border-gray-400","text-xl","overflow-hidden",2,"--duration","300ms","--delay","200ms","--distance","-20px"],["type","text",1,"text-xl","h-11","font-bold","lowercase","sm:w-72",3,"ngModel","placeholder","ngModelChange"],[1,"fade-in","text-black","text-base","font-bold","username-label","mt-2",2,"--duration","200ms","--delay","450ms"],[1,"fade-in-from-top","input-wrapper","wrap","relative","flex","items-center","rounded-lg","border","border-gray-400","text-xl","overflow-hidden",2,"--duration","300ms","--delay","350ms","--distance","-20px"],["profileUrlInput",""],["target","_blank",1,"view-btn","flex","items-center","gap-1","cursor-pointer","px-1.5","py-0.5","font-black","text-primary","capitalize","rounded-md","w-fit","ml-auto","mt-1","-mr-2",3,"href"],["viewBox","0 0 24 24","fill","none",1,"h-5"],["d","M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11","stroke","#349fff","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(t,l){1&t&&(e.TgZ(0,"ion-modal",0,1),e.NdJ("didDismiss",function(){return l.isOpenChange.emit(!1)}),e.YNc(2,A,17,12,"ng-template"),e.qZA()),2&t&&e.Q6J("isOpen",l.isOpen)},dependencies:[r.ez,r.O5,s.Pc,s.pK,s.ki,s.j9,n.aw,n.X$,i.u5,i.JJ,i.On,c.kb,c.KC],styles:["ion-modal[_ngcontent-%COMP%]{--background: white;--border-radius: 8px;--width: 570px}.description[_ngcontent-%COMP%], .username-label[_ngcontent-%COMP%], .view-btn[_ngcontent-%COMP%]{font-size:15.5px}.connect-btn[_ngcontent-%COMP%]{border:1px solid #115bff;background:#0086ff}.connect-btn[_ngcontent-%COMP%]:hover{background:#007be8}.connect-btn[_ngcontent-%COMP%]:disabled{background:rgba(237,235,235,.5);color:#8d8d8d;border-color:#ddd}.close-btn[_ngcontent-%COMP%]{border-color:#b5b5b5}.view-btn[_ngcontent-%COMP%]{color:#349fff}.view-btn[_ngcontent-%COMP%]:hover{background:#e5f0fe}.connect-btn[_ngcontent-%COMP%], .close-btn[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}@media (min-width: 340px){.connect-btn[_ngcontent-%COMP%], .close-btn[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem}}@media (min-width: 640px){.connect-btn[_ngcontent-%COMP%], .close-btn[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem}}@media (min-width: 768px){.connect-btn[_ngcontent-%COMP%], .close-btn[_ngcontent-%COMP%]{font-size:25px}}.input-wrapper[_ngcontent-%COMP%]{border-color:#8d8d8d}ion-input[_ngcontent-%COMP%]{--placeholder-color: #8d8d8d}"]}),p})()}}]);