"use strict";(self.webpackChunkangular_tyqoon_client=self.webpackChunkangular_tyqoon_client||[]).push([[5617],{65617:(k,D,r)=>{r.d(D,{e:()=>ce});var p=r(15861),T=r(36895),e=r(94650),u=r(7507),s=r(95133),O=r(54463),o=r(82722),w=r(49808),_=r(5963),x=r(5565),d=r(44466),f=r(8174),M=r(35198),h=r(65433),y=r(24006),l=r(16424),g=r(10898),C=r(39841),b=r(94830),P=r(56889);let I=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-icon"]],decls:2,vars:0,consts:[["viewBox","0 0 896 896","focusable","false","fill","currentColor","width","100%","height","100%","data-icon","user","aria-hidden","true"],["d","M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"]],template:function(t,n){1&t&&(e.O4$(),e.TgZ(0,"svg",0),e._UZ(1,"path",1),e.qZA())},encapsulation:2}),i})();var E=r(7228),L=r(37978),A=r(92974);const U=function(i){return{requiredInvites:i}};function B(i,c){if(1&i&&(e.TgZ(0,"div",18),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,"challenge-not-started",e.VKq(4,U,t.requiredCount))," ")}}const S=function(i,c){return{currentDays:i,requiredDays:c}};function q(i,c){if(1&i&&(e.TgZ(0,"div",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.Q6J("ngClass","level-"+t.level),e.xp6(1),e.hij(" ",e.xi3(2,2,"challenge-days",e.WLB(5,S,t.currentDays,t.requiredDay))," ")}}function N(i,c){1&i&&e._UZ(0,"div",33)}function j(i,c){1&i&&(e.TgZ(0,"div",34),e._UZ(1,"img",35),e.qZA())}const J=function(i){return{count:i}};function R(i,c){if(1&i&&(e.TgZ(0,"div",21),e._UZ(1,"img",22),e.YNc(2,q,3,8,"div",23),e.TgZ(3,"div",24)(4,"div",25),e._uU(5),e._UZ(6,"app-user-icon",26),e.qZA(),e.YNc(7,N,1,0,"div",27),e.YNc(8,j,2,0,"ng-template",null,28,e.W1O),e.TgZ(10,"app-tooltip",29),e._UZ(11,"ion-icon",30),e.TgZ(12,"div",31),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()),2&i){const t=e.MAs(9),n=e.oxw().$implicit,a=e.oxw(3);e.xp6(1),e.Q6J("src",a.medalMap[n.level],e.LSH),e.xp6(1),e.Q6J("ngIf",n.requiredDay>0),e.xp6(1),e.ekj("pending-requirement",n.currentActiveInvites<n.requiredNumber),e.xp6(2),e.AsE(" ",n.currentActiveInvites,"/",n.requiredNumber," "),e.xp6(2),e.Q6J("ngIf",n.currentActiveInvites<n.requiredNumber)("ngIfElse",t),e.xp6(3),e.Q6J("hoverBg",!1),e.xp6(3),e.hij(" ",e.xi3(14,10,"challenge-desc",e.VKq(13,J,n.requiredNumber))," ")}}function H(i,c){if(1&i&&(e.ynx(0),e.YNc(1,R,15,15,"div",20),e.BQk()),2&i){const t=c.$implicit;e.xp6(1),e.Q6J("ngIf",t.isRunning)}}function Q(i,c){if(1&i&&e.YNc(0,H,2,1,"ng-container",19),2&i){const t=e.oxw(2);e.Q6J("ngForOf",t.progressLevels)}}const Y=function(i){return{left:i}};function K(i,c){if(1&i&&(e.TgZ(0,"div",36)(1,"div",37),e._UZ(2,"img",38),e.qZA()()),2&i){const t=e.oxw(2);e.Q6J("ngStyle",e.VKq(3,Y,t.percentage+"%")),e.xp6(1),e.Udp("margin-left",t.percentage>88?88-t.percentage:0,"px")}}function F(i,c){1&i&&(e.TgZ(0,"app-tooltip",29)(1,"div",48),e._UZ(2,"img",49),e.qZA(),e.TgZ(3,"div",50),e._uU(4),e.ALo(5,"translate"),e.qZA()()),2&i&&(e.Q6J("hoverBg",!1),e.xp6(4),e.Oqu(e.lcZ(5,2,"challenge-completed")))}function z(i,c){if(1&i&&(e.TgZ(0,"app-tooltip",51)(1,"div",52),e._UZ(2,"app-loading-animation",51),e.qZA(),e.TgZ(3,"div",50),e._uU(4),e.ALo(5,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.ekj("invisible",!t.isRunning),e.xp6(4),e.Oqu(e.lcZ(5,3,"challenge-inprogress"))}}function W(i,c){if(1&i&&(e.TgZ(0,"div",53)(1,"h2",54),e._uU(2,"Debug Info"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"p",55),e._uU(5),e.qZA(),e.TgZ(6,"p",55),e._uU(7),e.qZA(),e.TgZ(8,"p",56),e._uU(9,"Success"),e.qZA()()),2&i){const t=e.oxw(),a=t.last,v=t.$implicit;e.ekj("ml-4",t.first)("mr-4",a),e.xp6(5),e.hij("Days: ",v.holdDays,""),e.xp6(2),e.hij("Required: ",v.requiredDay,""),e.xp6(1),e.ekj("invisible",!v.success)}}function $(i,c){if(1&i&&(e.TgZ(0,"div",39),e._UZ(1,"div",40)(2,"img",41),e.YNc(3,F,6,4,"app-tooltip",42),e.YNc(4,z,6,5,"ng-template",null,43,e.W1O),e.TgZ(6,"div",44)(7,"div",45),e._uU(8),e.qZA(),e._UZ(9,"app-user-icon",46),e.qZA(),e.YNc(10,W,10,8,"div",47),e.qZA()),2&i){const t=c.$implicit,n=e.MAs(5),a=e.oxw(2);e.xp6(2),e.Q6J("src",a.medalMap[t.level],e.LSH),e.xp6(1),e.Q6J("ngIf",t.isCompleted)("ngIfElse",n),e.xp6(3),e.ekj("pending-requirement",!t.isCompleted&&!t.isRunning),e.xp6(2),e.AsE("",t.yesterdayInvites,"/",t.requiredNumber,""),e.xp6(2),e.Q6J("ngIf",a.showHiddenOption)}}const G=function(i){return{width:i}};function V(i,c){if(1&i&&(e.TgZ(0,"div",5),e._UZ(1,"app-invite-current-rank",6),e.TgZ(2,"div",7),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",8),e.YNc(6,B,3,6,"div",9),e.YNc(7,Q,1,1,"ng-template",null,10,e.W1O),e.qZA(),e.TgZ(9,"div",11)(10,"div",12)(11,"div",13),e._UZ(12,"div",14),e.qZA(),e.YNc(13,K,3,5,"div",15),e.qZA()(),e.TgZ(14,"div",16),e.YNc(15,$,11,8,"div",17),e.qZA()()),2&i){const t=e.MAs(8),n=e.oxw();e.xp6(1),e.Q6J("commissionDetails",n.commissionDetails)("showOdometer",!0),e.xp6(2),e.hij(" ",e.lcZ(4,10,"tyqoon-challenge")," "),e.xp6(3),e.Q6J("ngIf",!n.hasStarted)("ngIfElse",t),e.xp6(5),e.ekj("filled",n.percentage>=100),e.xp6(1),e.Q6J("ngStyle",e.VKq(12,G,n.percentage+"%")),e.xp6(1),e.Q6J("ngIf",n.percentage<100),e.xp6(2),e.Q6J("ngForOf",n.progressLevels)}}function X(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"ion-input",57),e.NdJ("ngModelChange",function(a){e.CHM(t);const v=e.oxw();return e.KtG(v.commissionDetails.numberOfSub=a)})("ngModelChange",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onChangeSub())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("min",0)("ngModel",t.commissionDetails.numberOfSub)}}function ee(i,c){if(1&i&&(e.TgZ(0,"div",58)(1,"h2",54),e._uU(2,"Debug Info"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"p",55),e._uU(5),e.qZA(),e.TgZ(6,"p",55),e._uU(7),e.qZA(),e.TgZ(8,"p",55),e._uU(9),e.qZA()()),2&i){const t=e.oxw();e.xp6(5),e.hij("Active: ",t.commissionDetails.numberOfSub,""),e.xp6(2),e.hij("Direct: ",t.commissionDetails.numberOfDirectSub,""),e.xp6(2),e.hij("YesterdayActive: ",t.commissionDetails.yesterdayNumberOfSub,"")}}function te(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",59)(1,"div",60),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",61)(5,"button",62),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.isOpenInviteModal=!0)}),e._uU(6),e.ALo(7,"translate"),e.qZA()()()}2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,2,"get-first-invite")," "),e.xp6(4),e.hij(" ",e.lcZ(7,4,"game-invite-title")," "))}let ne=(()=>{class i extends x.V{constructor(t,n){super(),this.userService=t,this.biddingService=n,this.challengeMap={1:"get-first-invite",2:"bronze-challenge",3:"silver-challenge",4:"gold-challenge",5:"rainbow-challenge"},this.medalMap={1:"assets/images/invite.svg",2:"assets/images/bidding/rank-bronze.png",3:"assets/images/bidding/rank-silver.png",4:"assets/images/bidding/rank-gold.png",5:"assets/images/bidding/rank-rainbow.png"},this.hasStarted=!1,this.requiredCount=0,this.percentage=0,this.isOpenInviteModal=!1,this.showHiddenOption=!1,this.shareLink=""}ngOnInit(){(0,C.a)([this.userService.userInfo$,this.biddingService.isBiddingMode$]).pipe((0,o.R)(this.destroyStream$)).subscribe(([t,n])=>{const a=t?.id.toString()||"",v=location.origin;this.shareLink=`${v}/invite?recommenderId=${a}`,n&&(this.shareLink=this.shareLink+"&bid=true")})}onShiftDown(t){this.showHiddenOption=!0}onShiftUp(t){this.showHiddenOption=!1}onLevelUp(t){this.commissionDetails.yesterdayNumberOfSub+=1,this.onLevelChange(),this.commissionDetails.levelProgress.forEach((n,a)=>{n.success=n.success||n.requiredNumber<=n.yesterdayInvites&&n.requiredDay<=n.currentDays}),this.commissionDetails.level=this.commissionDetails.levelProgress.filter(n=>n.success).length,this.commissionDetails={...this.commissionDetails}}onLevelDown(t){this.commissionDetails.yesterdayNumberOfSub=Math.max(0,this.commissionDetails.yesterdayNumberOfSub-1),this.onLevelChange(),this.commissionDetails.levelProgress.forEach(n=>{!n.isRunning&&!n.isCompleted&&(n.holdDays=0)})}onDaysIncrease(t){this.commissionDetails.levelProgress.forEach(n=>{(n.isRunning||n.isCompleted)&&(n.holdDays=Math.min(30,n.holdDays+1))}),this.onLevelChange(),this.commissionDetails.levelProgress.forEach((n,a)=>{n.success=n.success||n.requiredNumber<=n.yesterdayInvites&&n.requiredDay<=n.currentDays}),this.commissionDetails.level=this.commissionDetails.levelProgress.filter(n=>n.success).length,this.commissionDetails={...this.commissionDetails}}onDaysDecrease(t){this.commissionDetails.levelProgress.forEach(n=>{(n.isRunning||n.isCompleted)&&(n.holdDays=Math.max(0,n.holdDays-1))}),this.onLevelChange()}ngOnChanges(t){this.onLevelChange()}onLevelChange(){if(this.commissionDetails?.levelProgress){this.commissionDetails.levelProgress.forEach((m,pe)=>{m.currentActiveInvites=Math.min(this.commissionDetails.numberOfSub,m.requiredNumber),m.yesterdayInvites=Math.min(this.commissionDetails.yesterdayNumberOfSub,m.requiredNumber),m.currentDays=Math.min(m.holdDays,m.requiredDay),m.isRunning=m.requiredNumber<=m.yesterdayInvites&&m.requiredDay>m.currentDays,m.isCompleted=m.requiredNumber<=m.yesterdayInvites&&m.requiredDay<=m.currentDays});const t=this.commissionDetails.levelProgress.filter(m=>m.isCompleted).length;if(t<5){const m=this.commissionDetails.levelProgress[t];this.hasStarted=0==m.requiredDay||m.yesterdayInvites>=m.requiredNumber,this.requiredCount=m.requiredNumber}else this.hasStarted=!0;this.levelsToShow=this.commissionDetails.levelProgress.filter(m=>this.commissionDetails.yesterdayNumberOfSub>=m.requiredNumber).length,this.progressLevels=this.commissionDetails.levelProgress.slice(0,Math.min(5,this.levelsToShow+1)),console.log(this.levelsToShow,this.progressLevels,t);const n=this.commissionDetails.levelProgress.find(m=>m.isRunning),a=this.progressLevels[this.progressLevels.length-1].level;let v=0;if(n&&n.requiredDay>0)v=100*n.currentDays/n.requiredDay;else{const m=this.commissionDetails.levelProgress[t];0==m?.requiredDay&&(v=m.yesterdayInvites>0?100*m.yesterdayInvites/m.requiredNumber:0)}const Z=100/(a-1);t>0?(console.log(v,Z,t,this.progressLevels[this.progressLevels.length-1].level),this.percentage=100*(t-1)/(a-1)+Z*v/100):this.percentage=v}}onChangeSub(){this.onLevelChange()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(b.K),e.Y36(P.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-invite-challenge"]],hostBindings:function(t,n){1&t&&e.NdJ("keydown.shift",function(){return n.onShiftDown()},!1,e.evT)("keyup.shift",function(){return n.onShiftUp()},!1,e.evT)("keydown.shift.ArrowUp",function(){return n.onLevelUp()},!1,e.evT)("keydown.shift.ArrowDown",function(){return n.onLevelDown()},!1,e.evT)("keydown.shift.ArrowRight",function(){return n.onDaysIncrease()},!1,e.evT)("keydown.shift.ArrowLeft",function(){return n.onDaysDecrease()},!1,e.evT)},inputs:{commissionDetails:"commissionDetails"},standalone:!0,features:[e.qOj,e.TTD,e.jDz],decls:6,vars:5,consts:[["class","flex relative flex-col w-full justify-center items-center p-3",4,"ngIf","ngIfElse"],[4,"ngIf"],["class","stats bg-white fixed border border-red-600 text-red-900 rounded-lg p-1",4,"ngIf"],["inviteUsers",""],[3,"isOpen","isOpenChange"],[1,"flex","relative","flex-col","w-full","justify-center","items-center","p-3"],[3,"commissionDetails","showOdometer"],[1,"title","font-bold","text-black","text-2xl","md:text-3xl","mt-1.5"],[1,"flex","flex-col","level-badges","justify-center","items-center","gap-2","md:gap-3","mt-3"],["class","text-lg font-medium text-center",4,"ngIf","ngIfElse"],["challengeStarted",""],[1,"px-3","w-full"],[1,"level-progress","w-full","mt-5","z-1","relative"],[1,"progress-bar","border","border-solid","w-full","bg-white","rounded-full","h-6","overflow-hidden"],[1,"progress","h-full","rounded-full","rounded-r-none",3,"ngStyle"],["class","mascot absolute top-0 bottom-0",3,"ngStyle",4,"ngIf"],[1,"medals","justify-between","flex","items-start","w-full"],["class","medal flex flex-col justify-center items-center w-9",4,"ngFor","ngForOf"],[1,"text-lg","font-medium","text-center"],[4,"ngFor","ngForOf"],["class","flex items-center gap-2",4,"ngIf"],[1,"flex","items-center","gap-2"],[1,"h-8",3,"src"],["class","level text-center rounded-lg px-3.5 py-1 text-base font-bold",3,"ngClass",4,"ngIf"],[1,"flex","items-center","justify-center","text-black"],[1,"font-black","text-base","md:text-xl","italic","flex","items-center","justify-center"],[1,"-mt-1","mx-px"],["class","text-grey-2 leading-none w-3 h-3 rounded-full not-active-indicator mx-2",4,"ngIf","ngIfElse"],["completedRequirement",""],[1,"flex",3,"hoverBg"],["tooltipBtn","","name","help-circle-outline",1,"w-7","h-7","text-gray-400","cursor-pointer","pointer-events-none"],[1,"tooltip-content-wrapper","p-2","text-left","text-base",2,"width","300px"],[1,"level","text-center","rounded-lg","px-3.5","py-1","text-base","font-bold",3,"ngClass"],[1,"text-grey-2","leading-none","w-3","h-3","rounded-full","not-active-indicator","mx-2"],[1,"check-icon","ml-2","mr-1.5","w-4","h-4","flex-shrink-0","flex","items-center","justify-center","rounded-full"],["src","assets/images/golden-check.png",1,"w-8/12"],[1,"mascot","absolute","top-0","bottom-0",3,"ngStyle"],[1,"relative","h-full","w-32"],["src","assets/images/mascot-stop.png",1,"h-8","-top-2","absolute","transform","-translate-x-1/2"],[1,"medal","flex","flex-col","justify-center","items-center","w-9"],[1,"handle"],[1,"h-14",3,"src"],["class","flex",3,"hoverBg",4,"ngIf","ngIfElse"],["notCompleted",""],[1,"requirement","flex","items-center","justify-center","mt-1.5"],[1,"font-bold","text-xs","md:text-lg"],[1,"-mt-1.5","ml-px"],["class","bg-white mt-1 w-24 border border-red-600 text-red-900 rounded-lg p-1",3,"ml-4","mr-4",4,"ngIf"],["tooltipBtn","",1,"checkmark","flex","justify-center","items-center","rounded-full","p-1","mt-1"],["src","assets/images/bidding/check-icon.png",1,"h-4"],[1,"p-2","font-medium","capitalize"],[1,"flex"],["tooltipBtn","",1,"loader","flex","justify-center","items-center","rounded-full","p-1","mt-1"],[1,"bg-white","mt-1","w-24","border","border-red-600","text-red-900","rounded-lg","p-1"],[1,"text-base","font-bold","m-0"],[1,"text-sm","font-bold"],[1,"text-sm","font-bold","p-1","bg-green-400","text-green-900","rounded-lg"],["type","number",1,"text-xl","h-11","font-bold","w-44","ml-auto","border","border-solid",3,"min","ngModel","ngModelChange"],[1,"stats","bg-white","fixed","border","border-red-600","text-red-900","rounded-lg","p-1"],[1,"flex","flex-col","w-full","justify-center","items-center","p-3"],[1,"font-bold","text-black","text-xl","md:text-2xl","md:leading-9"],[1,"invite","flex","justify-center","my-3"],[1,"invite-btn","bg-gradient-primary-1","text-white","flex","text-3xl","rounded-xl","px-4","py-3","font-bold","md:pr-5","relative","overflow-hidden",3,"click"]],template:function(t,n){if(1&t&&(e.YNc(0,V,16,14,"div",0),e.YNc(1,X,2,2,"div",1),e.YNc(2,ee,10,3,"div",2),e.YNc(3,te,8,6,"ng-template",null,3,e.W1O),e.TgZ(5,"app-product-share-modal",4),e.NdJ("isOpenChange",function(v){return n.isOpenInviteModal=v}),e.qZA()),2&t){const a=e.MAs(4);e.Q6J("ngIf",n.commissionDetails&&n.levelsToShow>0)("ngIfElse",a),e.xp6(1),e.Q6J("ngIf",n.showHiddenOption),e.xp6(1),e.Q6J("ngIf",n.showHiddenOption),e.xp6(3),e.Q6J("isOpen",n.isOpenInviteModal)}},dependencies:[T.ez,T.mk,T.sg,T.O5,T.PC,O.aw,O.X$,s.Pc,s.gu,s.pK,s.as,d.m,I,E.r,L.u,A.a,y.u5,y.JJ,y.On,l.g,g._],styles:['.level-badges[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{min-width:110px}.level-badges[_ngcontent-%COMP%]   .level-1[_ngcontent-%COMP%]{background:rgb(197,197,197)}.level-badges[_ngcontent-%COMP%]   .level-2[_ngcontent-%COMP%]{background:rgb(227,190,174)}.level-badges[_ngcontent-%COMP%]   .level-3[_ngcontent-%COMP%]{background:rgb(216,214,225)}.level-badges[_ngcontent-%COMP%]   .level-4[_ngcontent-%COMP%]{background:rgb(253,204,3)}.level-badges[_ngcontent-%COMP%]   .level-5[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(77,6,138),rgb(1,77,137),rgb(130,23,139),rgb(137,91,55));color:#fff}.progress-bar[_ngcontent-%COMP%]{background-color:#f0f0f0;border-color:#d4d4d4}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{position:relative;background:linear-gradient(to right,rgb(128,7,250) 10%,rgb(254,153,255) 100%);box-shadow:0 0 .1em #b758fb inset,0 0 .1em #ad3ffb inset;transition:width .4s ease}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:100%;height:100%;position:absolute;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.3) 50%,rgba(255,255,255,0) 100%);animation:progress 3s infinite}.progress-bar.filled[_ngcontent-%COMP%]{border-color:#c45afc}.progress-bar.filled[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(251,218,90),rgb(255,168,77));box-shadow:0 0 .1em #ffa84d inset,0 0 .1em #ffa84d inset}@keyframes progress{0%{transform:translate(-100%)}to{transform:translate(100%)}}.medals[_ngcontent-%COMP%]   .medal[_ngcontent-%COMP%]   .handle[_ngcontent-%COMP%]{height:20px;margin-top:-7px;width:6px;background:rgb(213,213,213)}.medals[_ngcontent-%COMP%]   .medal[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{background:rgb(0,116,255);border:3px solid rgb(92,166,253)}.medals[_ngcontent-%COMP%]   .medal[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{background:rgb(244,244,244);width:29px;height:29px}app-loading-animation[_ngcontent-%COMP%]     .knight-rider-bar{height:.3em;width:.3em;background-color:#8e8e8e}.mascot[_ngcontent-%COMP%]{transition:left .4s ease}.requirement[_ngcontent-%COMP%]{color:#c5c5c5}app-user-icon[_ngcontent-%COMP%]     svg{width:13px}@media (min-width: 768px){app-user-icon[_ngcontent-%COMP%]     svg{width:20px}}.pending-requirement[_ngcontent-%COMP%]{color:#000}.check-icon[_ngcontent-%COMP%]{background:linear-gradient(to right,#045EEF,#025DFC);box-shadow:0 0 0 2px #afc9f7}.not-active-indicator[_ngcontent-%COMP%]{background:red;animation:red-pulse 1.5s infinite}@keyframes red-pulse{0%{box-shadow:0 0 #f30b1f}to{box-shadow:0 0 0 5px #fbb32f01}}.invite-btn[_ngcontent-%COMP%]{filter:drop-shadow(2.6px 5.1px 5.1px rgba(0,0,0,.3));border:1px solid rgb(255,192,0)}.invite-btn[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:100%;height:100%;position:absolute;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.8) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);animation:shinebg 3s infinite}@keyframes shinebg{0%{transform:translate(-100%)}to{transform:translate(100%)}}.stats[_ngcontent-%COMP%]{right:7px;top:126px}']}),i})();var ie=r(63225);function oe(i,c){if(1&i&&(e.TgZ(0,"div",20)(1,"div",21)(2,"div",22),e._uU(3),e.qZA(),e.TgZ(4,"div",23),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",24),e._uU(8,":"),e.qZA(),e.TgZ(9,"div",21)(10,"div",22),e._uU(11),e.qZA(),e.TgZ(12,"div",23),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",24),e._uU(16,":"),e.qZA(),e.TgZ(17,"div",21)(18,"div",22),e._uU(19),e.qZA(),e.TgZ(20,"div",23),e._uU(21),e.ALo(22,"translate"),e.qZA()()()),2&i){const t=c.$implicit;e.xp6(3),e.hij(" ",t.hours," "),e.xp6(2),e.Oqu(e.lcZ(6,6,"hours")),e.xp6(6),e.hij(" ",t.minutes," "),e.xp6(2),e.Oqu(e.lcZ(14,8,"minutes")),e.xp6(6),e.hij(" ",t.seconds," "),e.xp6(2),e.Oqu(e.lcZ(22,10,"seconds"))}}function se(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"app-countdown",19),e.NdJ("onTimeEnd",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.handleTimeEnd())}),e.YNc(1,oe,23,12,"ng-template"),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("time",t.endTime)}}function re(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.goToDashboard())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"dashboard")," "))}function ae(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openShareModal=!0)}),e._uU(1),e.ALo(2,"translate"),e.O4$(),e.TgZ(3,"svg",27)(4,"g",28),e._UZ(5,"path",29)(6,"path",30),e.qZA()()()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"share-btn")," "))}function le(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",5),e.NdJ("click",function(){e.CHM(t),e.oxw();const a=e.MAs(1);return e.KtG(a.dismiss())}),e.O4$(),e.TgZ(5,"svg",6),e._UZ(6,"path",7),e.qZA()()(),e.kcU(),e.TgZ(7,"ng-scrollbar",8)(8,"div",9)(9,"div")(10,"div",10),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,se,2,1,"app-countdown",11),e.qZA(),e._UZ(14,"div",12),e.TgZ(15,"div"),e._UZ(16,"app-daily-active-progress",13),e.qZA(),e._UZ(17,"div",12)(18,"app-invite-challenge",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){e.CHM(t),e.oxw();const a=e.MAs(1);return e.KtG(a.dismiss())}),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.YNc(23,re,3,3,"button",17),e.YNc(24,ae,7,3,"ng-template",null,18,e.W1O),e.qZA()()()}if(2&i){const t=e.MAs(25),n=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,8,"bidding-checking-btn")," "),e.xp6(5),e.Q6J("autoHeightDisabled",!1),e.xp6(4),e.hij(" ",e.lcZ(12,10,"time-left-notify")," "),e.xp6(2),e.Q6J("ngIf",n.endTime),e.xp6(5),e.Q6J("commissionDetails",n.commissionDetails),e.xp6(3),e.hij(" ",e.lcZ(22,12,"close")," "),e.xp6(2),e.Q6J("ngIf",!n.isOnDashBoard)("ngIfElse",t)}}function de(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"app-product-share-modal",31),e.NdJ("isOpenChange",function(a){e.CHM(t);const v=e.oxw();return e.KtG(v.openShareModal=a)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("shareLinkInput",t.shareLink)("isOpen",t.openShareModal)}}let ce=(()=>{class i extends x.V{constructor(t,n,a,v,Z){super(),this.toast=t,this.router=n,this.biddingService=a,this.cdr=v,this.userService=Z,this.isOpen=!1,this.isOpenChange=new e.vpe,this.openThanksModal=!1,this.isSpecial=!1,this.isProcessing=!1,this.shareLink="",this.openShareModal=!1}ngOnInit(){this.endTime=this.serverTime(),console.log(121212,this.endTime),this.router.events.pipe((0,o.R)(this.destroyStream$)).subscribe(t=>{t instanceof u.OD&&this.isOpen&&this.modal.dismiss()}),this.biddingService.queryCommissionDetails().pipe((0,o.R)(this.destroyStream$)).subscribe(t=>{this.commissionDetails=t})}get isOnDashBoard(){return this.router.isActive("/dashboard",{paths:"exact",queryParams:"ignored",fragment:"ignored",matrixParams:"ignored"})}toastError(t){var n=this;return(0,p.Z)(function*(){yield n.presentToast({position:"bottom",message:t,icon:"alert-circle-outline",duration:2e3,color:"danger"})})()}presentToast(t){var n=this;return(0,p.Z)(function*(){yield(yield n.toast.create(t)).present()})()}serverTime(){const t=(new Date).toLocaleDateString("en-US",{timeZone:"Asia/Macau"});let[n,a,v]=t.split("/");return n.length<2&&(n="0"+n),a.length<2&&(a="0"+a),new Date(`${v}-${n}-${a}T00:00:00.000+08:00`).getTime()+864e5}handleTimeEnd(){var t=this;return(0,p.Z)(function*(){yield(0,w.n)((0,_.H)(2e3)),yield(0,w.n)(t.biddingService.queryActivityStatistic()),t.endTime=t.serverTime(),t.cdr.detectChanges()})()}goToDashboard(){this.router.navigate(["/dashboard"])}handlePresent(){this.biddingService.queryActivityStatistic().subscribe(),this.shareLink=window.location.origin+"/invite?recommenderId="+this.userService.userInfo$.getValue()?.id}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(s.yF),e.Y36(u.F0),e.Y36(P.g),e.Y36(e.sBO),e.Y36(b.K))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-bidding-checkin-modal"]],viewQuery:function(t,n){if(1&t&&(e.Gf(M.M,5),e.Gf(s.ki,5)),2&t){let a;e.iGM(a=e.CRH())&&(n.countdownComp=a.first),e.iGM(a=e.CRH())&&(n.modal=a.first)}},inputs:{isOpen:"isOpen",commissionDetails:"commissionDetails"},outputs:{isOpenChange:"isOpenChange"},standalone:!0,features:[e.qOj,e.jDz],decls:4,vars:2,consts:[[1,"normal-opacity",3,"isOpen","keepContentsMounted","didDismiss","willPresent"],["modal",""],[3,"shareLinkInput","isOpen","isOpenChange",4,"isBrowser"],[1,"flex","bg-[#f4f4f4]","items-center","p-2"],[1,"flex-1","font-bold","text-3xl","capitalize",2,"--duration","200ms"],[1,"w-8","p-1","rounded","cursor-pointer","bg-[#ff2145]","text-white",3,"click"],["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"],["visibility","hover",2,"max-height","85vh",3,"autoHeightDisabled"],[1,"px-3","mt-3"],[1,"text-center","text-sm","font-bold","mb-2","mt-5"],[3,"time","onTimeEnd",4,"ngIf"],[1,"border-b","border-[#dddddd]","my-2"],[1,"mx-auto","block",2,"max-width","210px"],[1,"w-full",3,"commissionDetails"],[1,"flex","items-center","justify-between","flex-wrap","mt-1","mb-4"],[1,"border","border-[#dddddd]","bg-slate-100","rounded-lg","font-bold","px-6","py-2.5","text-xl","capitalize",3,"click"],["style","background-color: #4e48fe","class","text-white rounded-lg font-bold px-6 py-2.5 text-xl capitalize",3,"click",4,"ngIf","ngIfElse"],["share",""],[3,"time","onTimeEnd"],[1,"flex","justify-center","font-bold","capitalize"],[1,"text-center","w-16"],[1,"text-4xl","font-bold","leading-7","text-[#0087ff]"],[1,"text-sm"],[1,"font-bold","text-4xl","leading-6","text-[#0087ff]"],[1,"text-white","rounded-lg","font-bold","px-6","py-2.5","text-xl","capitalize",2,"background-color","#4e48fe",3,"click"],[1,"share-btn","items-center","justify-center","font-medium","text-xl","flex","text-white","py-2.5","px-6","rounded-lg",3,"click"],["fill","#ffffff","viewBox","0 0 495.003 495.003",0,"xml","space","preserve",1,"h-5","ml-2"],["id","XMLID_51_"],["id","XMLID_53_","d","M164.711,456.687c0,2.966,1.647,5.686,4.266,7.072c2.617,1.385,5.799,1.207,8.245-0.468l55.09-37.616\n                  l-67.6-32.22V456.687z"],["id","XMLID_52_","d","M492.431,32.443c-1.513-1.395-3.466-2.125-5.44-2.125c-1.19,0-2.377,0.264-3.5,0.816L7.905,264.422\n                  c-4.861,2.389-7.937,7.353-7.904,12.783c0.033,5.423,3.161,10.353,8.057,12.689l125.342,59.724l250.62-205.99L164.455,364.414\n                  l156.145,74.4c1.918,0.919,4.012,1.376,6.084,1.376c1.768,0,3.519-0.322,5.186-0.977c3.637-1.438,6.527-4.318,7.97-7.956\n                  L494.436,41.257C495.66,38.188,494.862,34.679,492.431,32.443z"],[3,"shareLinkInput","isOpen","isOpenChange"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-modal",0,1),e.NdJ("didDismiss",function(){return n.isOpenChange.emit(!1)})("willPresent",function(){return n.handlePresent()}),e.YNc(2,le,26,14,"ng-template"),e.qZA(),e.YNc(3,de,1,2,"app-product-share-modal",2)),2&t&&e.Q6J("isOpen",n.isOpen)("keepContentsMounted",!0)},dependencies:[s.Pc,s.ki,T.ez,T.O5,O.aw,O.X$,d.m,M.M,ie.E,A.a,f.f,h.kb,h.KC,ne],styles:["ion-modal[_ngcontent-%COMP%]{--background: white;--border-radius: 8px;--width: 580px}app-daily-active-progress[_ngcontent-%COMP%]     .title{font-size:1.5rem;line-height:2rem}.share-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(7,121,255),rgb(9,35,255))}"]}),i})()},8174:(k,D,r)=>{r.d(D,{f:()=>M});var p=r(36895),T=r(95133),e=r(54463),u=r(82722),s=r(5565),O=r(44466),o=r(94650),w=r(56889),_=r(37978);function x(h,y){1&h&&(o.TgZ(0,"app-tooltip",11)(1,"div",12),o._UZ(2,"div",13),o.qZA(),o.TgZ(3,"div",14),o._uU(4),o.ALo(5,"translate"),o.qZA()()),2&h&&(o.xp6(4),o.Oqu(o.lcZ(5,1,"not-active")))}function d(h,y){1&h&&(o.TgZ(0,"app-tooltip",11)(1,"div",15),o._UZ(2,"img",16),o.qZA(),o.TgZ(3,"div",14),o._uU(4),o.ALo(5,"translate"),o.qZA()()),2&h&&(o.xp6(4),o.Oqu(o.lcZ(5,1,"active")))}const f=function(h){return{"reach-max":h}};let M=(()=>{class h extends s.V{constructor(l){super(),this.biddingService=l,this.disabledTooltip=!1,this.value=0,this.total=3e3,this.maximum=5e3}get percentage(){return this.value?Math.min(100,this.value/this.total*100):0}ngOnInit(){this.biddingService.activityStatistic$.pipe((0,u.R)(this.destroyStream$)).subscribe(l=>{l&&(this.value=l.todayTicketsUsedNum,this.maximum=l.doubleActiveTicketsNum,this.total=l.activeTicketsNum)})}}return h.\u0275fac=function(l){return new(l||h)(o.Y36(w.g))},h.\u0275cmp=o.Xpm({type:h,selectors:[["app-daily-active-progress"]],inputs:{disabledTooltip:"disabledTooltip"},standalone:!0,features:[o.qOj,o.jDz],decls:19,vars:20,consts:[[1,"flex","items-start","font-bold","text-lg"],[1,"flex-1","text-center"],[1,"title","capitalize","text-[#353535]","text-xl","2xl:text-2xl","font-bold","mb-4","flex","items-center","justify-center"],["class","ml-1 flex",4,"ngIf"],[1,"progress-bar","border","border-solid","w-full","bg-white","rounded-full","h-6","overflow-hidden","mb-1",3,"ngClass"],[1,"progress","h-full","rounded-full","rounded-r-none"],[1,"block","w-full",3,"disabled"],["tooltipBtn","",1,"text-center","pointer-events-none","flex-1","relative","flex","items-center","justify-center","py-1","px-2"],["src","assets/images/ticket.png","alt","",1,"h-5","mr-1"],[1,"whitespace-nowrap"],[1,"tooltip-content-wrapper","p-2","text-left","text-base","capitalize"],[1,"ml-1","flex"],["tooltipBtn","",1,"p-1","cursor-pointer"],[1,"red-dot","h-3","w-3","flex-shrink-0","rounded-full"],[1,"p-2","font-medium","capitalize"],["tooltipBtn","",1,"check-icon","w-4","h-4","flex-shrink-0","flex","items-center","justify-center","rounded-full"],["src","assets/images/golden-check.png","alt","",1,"w-8/12"]],template:function(l,g){1&l&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o._uU(3),o.ALo(4,"translate"),o.YNc(5,x,6,3,"app-tooltip",3),o.YNc(6,d,6,3,"app-tooltip",3),o.qZA(),o.TgZ(7,"div",4),o._UZ(8,"div",5),o.qZA(),o.TgZ(9,"app-tooltip",6)(10,"div",7),o._UZ(11,"img",8),o.TgZ(12,"div",9),o._uU(13),o.ALo(14,"number"),o.ALo(15,"number"),o.qZA()(),o.TgZ(16,"div",10),o._uU(17),o.ALo(18,"translate"),o.qZA()()()()),2&l&&(o.xp6(3),o.hij(" ",o.lcZ(4,10,"my-daily-activity")," "),o.xp6(2),o.Q6J("ngIf",g.value<g.total),o.xp6(1),o.Q6J("ngIf",g.value>=g.total),o.xp6(1),o.Q6J("ngClass",o.VKq(18,f,g.value>=g.maximum)),o.xp6(1),o.Udp("width",g.percentage,"%"),o.xp6(1),o.Q6J("disabled",g.disabledTooltip),o.xp6(4),o.AsE(" ",o.lcZ(14,12,g.value)," / ",o.lcZ(15,14,g.total)," "),o.xp6(4),o.hij(" ",o.lcZ(18,16,"tickets-spent-today")," "))},dependencies:[T.Pc,p.ez,p.mk,p.O5,p.JJ,e.aw,e.X$,O.m,_.u],styles:['.progress-bar[_ngcontent-%COMP%]{border-color:#49a4fd;background-color:#f0f0f0}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{position:relative;transition:width .4s ease}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:100%;height:100%;position:absolute;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.3) 50%,rgba(255,255,255,0) 100%);animation:progress 3s infinite}.progress-bar[_ngcontent-%COMP%]{border-color:#dddd}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{background:linear-gradient(to right,#9804FE,#028BFF);box-shadow:0 0 .1em #b758fb inset,0 0 .1em #ad3ffb inset}.progress-bar.reach-max[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{background:linear-gradient(to right,#FFB71B,#F4DF8A);box-shadow:0 0 .1em #ffb71b inset,0 0 .1em #ffb71b inset}@keyframes progress{0%{transform:translate(-100%)}to{transform:translate(100%)}}@keyframes red-pulse{0%{box-shadow:0 0 #f30b1f}to{box-shadow:0 0 0 5px #fbb32f01}}.red-dot[_ngcontent-%COMP%]{background:#f30b1f;animation:red-pulse 1.5s infinite}.check-icon[_ngcontent-%COMP%]{background:linear-gradient(to right,#045EEF,#025DFC);box-shadow:0 0 0 2px #afc9f7}img.img-disabled[_ngcontent-%COMP%]{opacity:.5;filter:grayscale(1)}']}),h})()},35198:(k,D,r)=>{r.d(D,{M:()=>w});var p=r(94650),T=r(17445),e=r(24837),u=r(36895);function s(_,x){}const O=function(_,x,d,f){return{seconds:_,minutes:x,hours:d,days:f}},o=function(_){return{$implicit:_}};let w=(()=>{class _{constructor(d,f,M){this.platformId=d,this.ngZone=f,this.cdr=M,this.onTimeEnd=new p.vpe}getTimeDifference(){this.difference=new Date(this.time).getTime()-(new Date).getTime(),this.allocateTimeUnits(this.difference)}ngOnChanges(d){const f=d.time;f&&!f.isFirstChange()&&f.currentValue!==f.previousValue&&(console.log(1313134444),this.restart())}allocateTimeUnits(d){d<=0&&(d=0),this.seconds=Math.floor(d/1e3),this.minutes=Math.floor(this.seconds/60),this.hours=Math.floor(this.minutes/60),this.days=Math.floor(this.hours/24),this.hours%=24,this.minutes%=60,this.seconds%=60,0==this.hours&&0==this.minutes&&0==this.seconds&&(this.onTimeEnd.emit(),this.subscription?.unsubscribe()),this.hours=this.hours<10?"0"+this.hours:this.hours,this.minutes=this.minutes<10?"0"+this.minutes:this.minutes,this.seconds=this.seconds<10?"0"+this.seconds:this.seconds}ngOnInit(){this.restart()}restart(){this.subscription?.unsubscribe(),this.getTimeDifference(),this.cdr.detectChanges(),e.Z.isServer||this.ngZone.runOutsideAngular(()=>{this.subscription=(0,T.F)(1e3).subscribe(d=>{this.getTimeDifference(),this.cdr.detectChanges()})})}ngOnDestroy(){this.subscription?.unsubscribe()}}return _.\u0275fac=function(d){return new(d||_)(p.Y36(p.Lbi),p.Y36(p.R0b),p.Y36(p.sBO))},_.\u0275cmp=p.Xpm({type:_,selectors:[["app-countdown"]],contentQueries:function(d,f,M){if(1&d&&p.Suo(M,p.Rgc,5),2&d){let h;p.iGM(h=p.CRH())&&(f.templateRef=h.first)}},inputs:{time:"time"},outputs:{onTimeEnd:"onTimeEnd"},features:[p.TTD],decls:2,vars:9,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(d,f){1&d&&(p.ynx(0),p.YNc(1,s,0,0,"ng-template",0),p.BQk()),2&d&&(p.xp6(1),p.Q6J("ngTemplateOutlet",f.templateRef)("ngTemplateOutletContext",p.VKq(7,o,p.l5B(2,O,f.seconds,f.minutes,f.hours,f.days))))},dependencies:[u.tP],encapsulation:2}),_})()},10898:(k,D,r)=>{r.d(D,{_:()=>w});var p=r(36895);const T={0:"assets/images/bidding/rank-zero.png",1:"assets/images/bidding/rank-zero.png",2:"assets/images/bidding/rank-bronze.png",3:"assets/images/bidding/rank-silver.png",4:"assets/images/bidding/rank-gold.png",5:"assets/images/bidding/rank-rainbow.png"};var e=r(76821),u=r(94650);function s(_,x){if(1&_&&u._UZ(0,"app-odometer",7),2&_){const d=u.oxw(2);u.Q6J("input",d.commissionDetails.yesterdayNumberOfSub>20?"20":d.commissionDetails.yesterdayNumberOfSub)("disableInitialAnimation",!0)("duration",200)}}function O(_,x){if(1&_&&u._uU(0),2&_){const d=u.oxw(2);u.hij(" ",d.commissionDetails.yesterdayNumberOfSub>20?"20":d.commissionDetails.yesterdayNumberOfSub," ")}}function o(_,x){if(1&_&&(u.TgZ(0,"div",1)(1,"div",2),u._UZ(2,"img",3),u.TgZ(3,"div",4),u.YNc(4,s,1,3,"app-odometer",5),u.YNc(5,O,1,1,"ng-template",null,6,u.W1O),u.qZA()()()),2&_){const d=u.MAs(6),f=u.oxw();u.xp6(2),u.Q6J("src",f.rankBadges[f.currentLevel],u.LSH),u.xp6(2),u.Q6J("ngIf",f.showOdometer)("ngIfElse",d)}}let w=(()=>{class _{constructor(){this.rankBadges=T,this.currentLevel=1}ngOnChanges(d){this.detectCurrentLevel()}detectCurrentLevel(){this.currentLevel=1,this.commissionDetails?.levelProgress?.forEach(d=>{d.success&&(this.currentLevel=d.level)})}}return _.\u0275fac=function(d){return new(d||_)},_.\u0275cmp=u.Xpm({type:_,selectors:[["app-invite-current-rank"]],inputs:{commissionDetails:"commissionDetails",showOdometer:"showOdometer"},standalone:!0,features:[u.TTD,u.jDz],decls:1,vars:1,consts:[["class","current-rank cursor-pointer shadowed-element",4,"ngIf"],[1,"current-rank","cursor-pointer","shadowed-element"],[1,"relative","select-none"],[1,"badge","fadeout",3,"src"],[1,"level","text-center","text-white","w-full","font-bold"],[3,"input","disableInitialAnimation","duration",4,"ngIf","ngIfElse"],["showCurrentLevel",""],[3,"input","disableInitialAnimation","duration"]],template:function(d,f){1&d&&u.YNc(0,o,7,3,"div",0),2&d&&u.Q6J("ngIf",f.currentLevel>=0)},dependencies:[p.ez,p.O5,e.D],styles:[".current-rank[_ngcontent-%COMP%]{z-index:5;width:59px;height:95px}.current-rank[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{font-size:26px;text-shadow:1px 1px 2px #000000,0 0 1em #000000,0 0 .2em #000000;position:absolute;top:45px}.current-rank[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]   app-odometer[_ngcontent-%COMP%]     .odometer-ribbon-inner{transition:transform .6s!important}.current-rank[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:59px;transition:all ease .6s;position:absolute;top:0}.current-rank[_ngcontent-%COMP%]   .badge.invisible[_ngcontent-%COMP%]{visibility:hidden;opacity:0}.fadeout[_ngcontent-%COMP%]{opacity:1;transition:all ease var(--fade-out-duration, .6s)}.fadeout.invisible[_ngcontent-%COMP%]{opacity:0}"]}),_})()},37978:(k,D,r)=>{r.d(D,{u:()=>M});var p=r(15861),T=r(95133),e=r(5565),u=r(24837),s=r(94650),O=r(36895);const o=["container"];function w(h,y){1&h&&(s.TgZ(0,"div",6),s.Hsn(1,1),s.qZA())}function _(h,y){if(1&h){const l=s.EpF();s.TgZ(0,"ion-popover",4,5),s.NdJ("didPresent",function(){s.CHM(l);const C=s.oxw();return s.KtG(C.handlePresent())})("didDismiss",function(){s.CHM(l);const C=s.oxw();return s.KtG(C.handleDismiss())}),s.YNc(2,w,2,0,"ng-template"),s.qZA()}if(2&h){const l=s.oxw();s.ekj("white",l.isWhite),s.Q6J("ngStyle",l.popoverStyle)("isOpen",l.isPopoverOpen)("side",l.side)("showBackdrop",!1)("backdropDismiss",!1)("arrow",!0)}}const x=[[["","tooltipBtn",""]],"*"],d=function(h,y){return{"cursor-pointer":h,hoverBg:y}},f=["[tooltipBtn]","*"];let M=(()=>{class h extends e.V{constructor(l,g){var C;super(),C=this,this.cdr=l,this.ngZone=g,this.popoverStyle={},this.delayShow=0,this.isWhite=!1,this.side="bottom",this.disabled=!1,this.disableTouchDevice=!1,this.hoverBg=!0,this.preventEvent=!0,this.isPopoverOpen=!1,this.isPresented=!1,this.isHoveringTooltipMobile=!1,this.handlePresent=()=>{this.isPresented=!0,document.body.classList.add("has-tooltip-open"),this.ngZone.runOutsideAngular(()=>{window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mousewheel",this.handleMouseWheel),window.addEventListener("touchstart",this.handleTouchStart),window.addEventListener("touchmove",this.handleTouchMove),window.addEventListener("touchend",this.handleTouchEnd)})},this.handleTouchStart=b=>{console.log("touchstart"),this.isHoveringTooltipMobile=this.isHoveringTooltip(b.target),this.handleMouseMove(b)},this.handleTouchMove=b=>{this.isHoveringTooltipMobile||!this.isPresented||this.closeTooltip()},this.handleTouchEnd=b=>{this.isHoveringTooltipMobile=!1},this.handleMouseWheel=b=>{console.log("mousewheel"),this.isPresented&&this.closeTooltip()},this.handleMouseMove=function(){var b=(0,p.Z)(function*(P){console.log("mousemove"),!C.isHoveringTooltip(P.target)&&C.closeTooltip()});return function(P){return b.apply(this,arguments)}}()}ngOnInit(){}ngOnChanges(l){const g=l.disabled;if(g&&!g.isFirstChange()&&!1===g.currentValue){if(!this.isPresented)return;this.closeTooltip()}}isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}handleOpenPopover(l){this.disabled||this.disableTouchDevice&&this.isTouchDevice()||this.isPopoverOpen||(this.popover.event=l,this.delayTooltipTimeOut=setTimeout(()=>{this.isPopoverOpen=!0},this.delayShow))}handleClick(l){this.disabled||this.disableTouchDevice&&this.isTouchDevice()||this.preventEvent&&(l.preventDefault(),l.stopPropagation())}handleMouseLeave(l){clearTimeout(this.delayTooltipTimeOut)}closeTooltip(){var l=this;return(0,p.Z)(function*(){l.isPopoverOpen=!1,yield l.popover.dismiss(),document.body.classList.remove("has-tooltip-open")})()}isHoveringTooltip(l){if(this.container.nativeElement.contains(l))return!0;const g=this.popover.el;return!(!g?.contains(l)&&g!==l)}handleDismiss(){this.isPopoverOpen=!1,this.isPresented=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mousewheel",this.handleMouseWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd)}ngOnDestroy(){var l=this;return(0,p.Z)(function*(){u.Z.isServer||(l.isPopoverOpen=!1,window.removeEventListener("mousemove",l.handleMouseMove),window.removeEventListener("mousewheel",l.handleMouseWheel),window.removeEventListener("touchstart",l.handleTouchStart),window.removeEventListener("touchmove",l.handleTouchMove),window.removeEventListener("touchend",l.handleTouchEnd),yield l.popover?.dismiss())})()}}return h.\u0275fac=function(l){return new(l||h)(s.Y36(s.sBO),s.Y36(s.R0b))},h.\u0275cmp=s.Xpm({type:h,selectors:[["app-tooltip"]],viewQuery:function(l,g){if(1&l&&(s.Gf(o,5),s.Gf(T.d8,5)),2&l){let C;s.iGM(C=s.CRH())&&(g.container=C.first),s.iGM(C=s.CRH())&&(g.popover=C.first)}},inputs:{popoverStyle:"popoverStyle",delayShow:"delayShow",isWhite:"isWhite",side:"side",disabled:"disabled",disableTouchDevice:"disableTouchDevice",hoverBg:"hoverBg",preventEvent:"preventEvent"},features:[s.qOj,s.TTD],ngContentSelectors:f,decls:5,vars:5,consts:[[1,"app-tooltip","w-full",3,"click"],["container",""],[1,"tooltipBtn","flex","items-center",3,"ngClass","click","mouseover","mouseleave","touchstart"],["class","popover-tooltip","alignment","center","mode","ios",3,"ngStyle","white","isOpen","side","showBackdrop","backdropDismiss","arrow","didPresent","didDismiss",4,"ngIf"],["alignment","center","mode","ios",1,"popover-tooltip",3,"ngStyle","isOpen","side","showBackdrop","backdropDismiss","arrow","didPresent","didDismiss"],["popover",""],[1,"app-tooltip-body","pointer-events-auto"]],template:function(l,g){1&l&&(s.F$t(x),s.TgZ(0,"div",0,1),s.NdJ("click",function(b){return g.handleClick(b)}),s.TgZ(2,"div",2),s.NdJ("click",function(b){return g.handleClick(b)})("mouseover",function(b){return g.handleOpenPopover(b)})("mouseleave",function(b){return g.handleMouseLeave(b)})("touchstart",function(b){return g.handleOpenPopover(b)}),s.Hsn(3),s.qZA()(),s.YNc(4,_,3,8,"ion-popover",3)),2&l&&(s.xp6(2),s.Q6J("ngClass",s.WLB(2,d,!g.disabled,g.hoverBg)),s.xp6(2),s.Q6J("ngIf",!g.disabled))},dependencies:[O.mk,O.O5,O.PC,T.d8],styles:["[_nghost-%COMP%]{position:relative;z-index:1}.app-tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block;z-index:1}ion-popover[_ngcontent-%COMP%]{pointer-events:none;--width: auto;--max-width: 50vw;--offset-y: -5px;--background: black}@media (min-width: 768px){ion-popover[_ngcontent-%COMP%]{--max-width: 80vw}}ion-popover[_ngcontent-%COMP%]::part(backdrop){pointer-events:none}ion-popover[_ngcontent-%COMP%]::part(arrow){width:23px;height:18px;transform:translateY(1px);z-index:11;pointer-events:auto}ion-popover[_ngcontent-%COMP%]::part(arrow):after{background:black;left:3px;top:9px;width:15px;height:15px;border:1px solid black;border-radius:6px 0;transform:rotate(67.5deg) skew(45deg) scaleY(.70711)}ion-popover[_ngcontent-%COMP%]::part(content){overflow:inherit;margin-top:-13px;padding-top:13px;border:0;pointer-events:auto;background-color:transparent;box-shadow:none}ion-popover.white[_ngcontent-%COMP%]::part(arrow):after{background-color:#f1f5f9;border:1px solid #dddddd}ion-popover.white[_ngcontent-%COMP%]   .app-tooltip-body[_ngcontent-%COMP%]{background-color:#f1f5f9;--tw-border-opacity: 1;border-color:rgb(221 221 221 / var(--tw-border-opacity));--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}ion-popover.popover-bottom[_ngcontent-%COMP%], ion-popover.popover-side-top[_ngcontent-%COMP%]{--offset-y: 3px}ion-popover.popover-bottom[_ngcontent-%COMP%]::part(arrow), ion-popover.popover-side-top[_ngcontent-%COMP%]::part(arrow){transform:translateY(-1px)}ion-popover.popover-bottom[_ngcontent-%COMP%]::part(arrow):after, ion-popover.popover-side-top[_ngcontent-%COMP%]::part(arrow):after{top:-9px}ion-popover.popover-bottom[_ngcontent-%COMP%]::part(content), ion-popover.popover-side-top[_ngcontent-%COMP%]::part(content){margin-top:14px;padding-top:0;padding-bottom:14px}  body.has-tooltip-open app-base-chart{pointer-events:none}.app-tooltip-body[_ngcontent-%COMP%]{max-width:100%;position:relative;border-radius:.75rem;border-width:1px;border-style:solid;--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));box-shadow:0 4px 16px #0000001f}.app-tooltip-body[_ngcontent-%COMP%]    >*{max-width:100%}.tooltipBtn.hoverBg[_ngcontent-%COMP%]{border-radius:.5rem}.tooltipBtn.hoverBg[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}"]}),h})()}}]);